var _7=Object.defineProperty;var w7=(t,e,n)=>e in t?_7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pt=(t,e,n)=>(w7(t,typeof e!="symbol"?e+"":e,n),n);function b7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const My="/",mc="/shop",FT="/featured",Fy="/recommended",Ly="/account",E7="/account/edit",Vy="/admin/dashboard",mh="/admin/products",T7="/admin/get_user",LT="/admin/add",UD="/admin/edit",jD="/search/:searchKey",zi="/signin",Yl="/signup",VT="/forgot_password",gc="/checkout/step1",Uy="/checkout/step2",UT="/checkout/step3",S7="/product/:id",jT="/success",Kw="/about",I7="/dasboard/orders",BT="/assets/logo-full-19758d39.png";var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var zD={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=Symbol.for("react.element"),C7=Symbol.for("react.portal"),A7=Symbol.for("react.fragment"),P7=Symbol.for("react.strict_mode"),R7=Symbol.for("react.profiler"),k7=Symbol.for("react.provider"),O7=Symbol.for("react.context"),x7=Symbol.for("react.forward_ref"),N7=Symbol.for("react.suspense"),D7=Symbol.for("react.memo"),$7=Symbol.for("react.lazy"),HP=Symbol.iterator;function M7(t){return t===null||typeof t!="object"?null:(t=HP&&t[HP]||t["@@iterator"],typeof t=="function"?t:null)}var qD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HD=Object.assign,WD={};function Hc(t,e,n){this.props=t,this.context=e,this.refs=WD,this.updater=n||qD}Hc.prototype.isReactComponent={};Hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GD(){}GD.prototype=Hc.prototype;function zT(t,e,n){this.props=t,this.context=e,this.refs=WD,this.updater=n||qD}var qT=zT.prototype=new GD;qT.constructor=zT;HD(qT,Hc.prototype);qT.isPureReactComponent=!0;var WP=Array.isArray,KD=Object.prototype.hasOwnProperty,HT={current:null},QD={key:!0,ref:!0,__self:!0,__source:!0};function YD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KD.call(e,r)&&!QD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rp,type:t,key:s,ref:o,props:i,_owner:HT.current}}function F7(t,e){return{$$typeof:rp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WT(t){return typeof t=="object"&&t!==null&&t.$$typeof===rp}function L7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GP=/\/+/g;function o1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L7(""+t.key):e.toString(36)}function yg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rp:case C7:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+o1(o,0):r,WP(i)?(n="",t!=null&&(n=t.replace(GP,"$&/")+"/"),yg(i,e,n,"",function(l){return l})):i!=null&&(WT(i)&&(i=F7(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(GP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",WP(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+o1(s,a);o+=yg(s,e,n,u,i)}else if(u=M7(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+o1(s,a++),o+=yg(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Em(t,e,n){if(t==null)return t;var r=[],i=0;return yg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function V7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},_g={transition:null},U7={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:_g,ReactCurrentOwner:HT};tt.Children={map:Em,forEach:function(t,e,n){Em(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Em(t,function(){e++}),e},toArray:function(t){return Em(t,function(e){return e})||[]},only:function(t){if(!WT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=Hc;tt.Fragment=A7;tt.Profiler=R7;tt.PureComponent=zT;tt.StrictMode=P7;tt.Suspense=N7;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U7;tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=HT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)KD.call(e,u)&&!QD.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:rp,type:t.type,key:i,ref:s,props:r,_owner:o}};tt.createContext=function(t){return t={$$typeof:O7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k7,_context:t},t.Consumer=t};tt.createElement=YD;tt.createFactory=function(t){var e=YD.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:x7,render:t}};tt.isValidElement=WT;tt.lazy=function(t){return{$$typeof:$7,_payload:{_status:-1,_result:t},_init:V7}};tt.memo=function(t,e){return{$$typeof:D7,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};tt.useCallback=function(t,e){return Pr.current.useCallback(t,e)};tt.useContext=function(t){return Pr.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};tt.useEffect=function(t,e){return Pr.current.useEffect(t,e)};tt.useId=function(){return Pr.current.useId()};tt.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};tt.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return Pr.current.useMemo(t,e)};tt.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};tt.useRef=function(t){return Pr.current.useRef(t)};tt.useState=function(t){return Pr.current.useState(t)};tt.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};tt.useTransition=function(){return Pr.current.useTransition()};tt.version="18.2.0";zD.exports=tt;var S=zD.exports;const Be=Rn(S),KP=b7({__proto__:null,default:Be},[S]);var XD={exports:{}},j7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",B7=j7,z7=B7;function JD(){}function ZD(){}ZD.resetWarningCache=JD;var q7=function(){function t(r,i,s,o,a,u){if(u!==z7){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZD,resetWarningCache:JD};return n.PropTypes=n,n};XD.exports=q7();var jy=XD.exports;const I=Rn(jy);var eo=Be.createContext(null);function H7(t){t()}var e$=H7,W7=function(e){return e$=e},G7=function(){return e$};function K7(){var t=G7(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var QP={notify:function(){},get:function(){return[]}};function GT(t,e){var n,r=QP;function i(d){return u(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=K7())}function l(){n&&(n(),n=void 0,r.clear(),r=QP)}var c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:function(){return r}};return c}var lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,t$={exports:{}},By={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q7=S,Y7=Symbol.for("react.element"),X7=Symbol.for("react.fragment"),J7=Object.prototype.hasOwnProperty,Z7=Q7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eB={key:!0,ref:!0,__self:!0,__source:!0};function n$(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J7.call(e,r)&&!eB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Y7,type:t,key:s,ref:o,props:i,_owner:Z7.current}}By.Fragment=X7;By.jsx=n$;By.jsxs=n$;t$.exports=By;var KT=t$.exports;const _n=KT.Fragment,f=KT.jsx,k=KT.jsxs;function tB(t){var e=t.store,n=t.context,r=t.children,i=S.useMemo(function(){var a=GT(e);return{store:e,subscription:a}},[e]),s=S.useMemo(function(){return e.getState()},[e]);lv(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||eo;return f(o.Provider,{value:i,children:r})}function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}function Gi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var r$={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kn=typeof Symbol=="function"&&Symbol.for,QT=kn?Symbol.for("react.element"):60103,YT=kn?Symbol.for("react.portal"):60106,zy=kn?Symbol.for("react.fragment"):60107,qy=kn?Symbol.for("react.strict_mode"):60108,Hy=kn?Symbol.for("react.profiler"):60114,Wy=kn?Symbol.for("react.provider"):60109,Gy=kn?Symbol.for("react.context"):60110,XT=kn?Symbol.for("react.async_mode"):60111,Ky=kn?Symbol.for("react.concurrent_mode"):60111,Qy=kn?Symbol.for("react.forward_ref"):60112,Yy=kn?Symbol.for("react.suspense"):60113,nB=kn?Symbol.for("react.suspense_list"):60120,Xy=kn?Symbol.for("react.memo"):60115,Jy=kn?Symbol.for("react.lazy"):60116,rB=kn?Symbol.for("react.block"):60121,iB=kn?Symbol.for("react.fundamental"):60117,sB=kn?Symbol.for("react.responder"):60118,oB=kn?Symbol.for("react.scope"):60119;function ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QT:switch(t=t.type,t){case XT:case Ky:case zy:case Hy:case qy:case Yy:return t;default:switch(t=t&&t.$$typeof,t){case Gy:case Qy:case Jy:case Xy:case Wy:return t;default:return e}}case YT:return e}}}function i$(t){return ai(t)===Ky}_t.AsyncMode=XT;_t.ConcurrentMode=Ky;_t.ContextConsumer=Gy;_t.ContextProvider=Wy;_t.Element=QT;_t.ForwardRef=Qy;_t.Fragment=zy;_t.Lazy=Jy;_t.Memo=Xy;_t.Portal=YT;_t.Profiler=Hy;_t.StrictMode=qy;_t.Suspense=Yy;_t.isAsyncMode=function(t){return i$(t)||ai(t)===XT};_t.isConcurrentMode=i$;_t.isContextConsumer=function(t){return ai(t)===Gy};_t.isContextProvider=function(t){return ai(t)===Wy};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QT};_t.isForwardRef=function(t){return ai(t)===Qy};_t.isFragment=function(t){return ai(t)===zy};_t.isLazy=function(t){return ai(t)===Jy};_t.isMemo=function(t){return ai(t)===Xy};_t.isPortal=function(t){return ai(t)===YT};_t.isProfiler=function(t){return ai(t)===Hy};_t.isStrictMode=function(t){return ai(t)===qy};_t.isSuspense=function(t){return ai(t)===Yy};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zy||t===Ky||t===Hy||t===qy||t===Yy||t===nB||typeof t=="object"&&t!==null&&(t.$$typeof===Jy||t.$$typeof===Xy||t.$$typeof===Wy||t.$$typeof===Gy||t.$$typeof===Qy||t.$$typeof===iB||t.$$typeof===sB||t.$$typeof===oB||t.$$typeof===rB)};_t.typeOf=ai;r$.exports=_t;var aB=r$.exports,JT=aB,uB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZT={};ZT[JT.ForwardRef]=cB;ZT[JT.Memo]=s$;function YP(t){return JT.isMemo(t)?s$:ZT[t.$$typeof]||uB}var dB=Object.defineProperty,hB=Object.getOwnPropertyNames,XP=Object.getOwnPropertySymbols,fB=Object.getOwnPropertyDescriptor,pB=Object.getPrototypeOf,JP=Object.prototype;function o$(t,e,n){if(typeof e!="string"){if(JP){var r=pB(e);r&&r!==JP&&o$(t,r,n)}var i=hB(e);XP&&(i=i.concat(XP(e)));for(var s=YP(t),o=YP(e),a=0;a<i.length;++a){var u=i[a];if(!lB[u]&&!(n&&n[u])&&!(o&&o[u])&&!(s&&s[u])){var l=fB(e,u);try{dB(t,u,l)}catch{}}}}return t}var mB=o$;const cv=Rn(mB);var a$={exports:{}},St={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=60103,e0=60106,ip=60107,sp=60108,op=60114,ap=60109,up=60110,lp=60112,cp=60113,eS=60120,dp=60115,hp=60116,u$=60121,l$=60122,c$=60117,d$=60129,h$=60131;if(typeof Symbol=="function"&&Symbol.for){var Mn=Symbol.for;Zy=Mn("react.element"),e0=Mn("react.portal"),ip=Mn("react.fragment"),sp=Mn("react.strict_mode"),op=Mn("react.profiler"),ap=Mn("react.provider"),up=Mn("react.context"),lp=Mn("react.forward_ref"),cp=Mn("react.suspense"),eS=Mn("react.suspense_list"),dp=Mn("react.memo"),hp=Mn("react.lazy"),u$=Mn("react.block"),l$=Mn("react.server.block"),c$=Mn("react.fundamental"),d$=Mn("react.debug_trace_mode"),h$=Mn("react.legacy_hidden")}function es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zy:switch(t=t.type,t){case ip:case op:case sp:case cp:case eS:return t;default:switch(t=t&&t.$$typeof,t){case up:case lp:case hp:case dp:case ap:return t;default:return e}}case e0:return e}}}var gB=ap,vB=Zy,yB=lp,_B=ip,wB=hp,bB=dp,EB=e0,TB=op,SB=sp,IB=cp;St.ContextConsumer=up;St.ContextProvider=gB;St.Element=vB;St.ForwardRef=yB;St.Fragment=_B;St.Lazy=wB;St.Memo=bB;St.Portal=EB;St.Profiler=TB;St.StrictMode=SB;St.Suspense=IB;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return es(t)===up};St.isContextProvider=function(t){return es(t)===ap};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zy};St.isForwardRef=function(t){return es(t)===lp};St.isFragment=function(t){return es(t)===ip};St.isLazy=function(t){return es(t)===hp};St.isMemo=function(t){return es(t)===dp};St.isPortal=function(t){return es(t)===e0};St.isProfiler=function(t){return es(t)===op};St.isStrictMode=function(t){return es(t)===sp};St.isSuspense=function(t){return es(t)===cp};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ip||t===op||t===d$||t===sp||t===cp||t===eS||t===h$||typeof t=="object"&&t!==null&&(t.$$typeof===hp||t.$$typeof===dp||t.$$typeof===ap||t.$$typeof===up||t.$$typeof===lp||t.$$typeof===c$||t.$$typeof===u$||t[0]===l$)};St.typeOf=es;a$.exports=St;var CB=a$.exports,AB=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],PB=["reactReduxForwardedRef"],RB=[],kB=[null,null];function OB(t,e){var n=t[1];return[e.payload,n+1]}function ZP(t,e,n){lv(function(){return t.apply(void 0,e)},n)}function xB(t,e,n,r,i,s,o){t.current=r,e.current=i,n.current=!1,s.current&&(s.current=null,o())}function NB(t,e,n,r,i,s,o,a,u,l){if(t){var c=!1,d=null,h=function(){if(!c){var y=e.getState(),g,m;try{g=r(y,i.current)}catch(_){m=_,d=_}m||(d=null),g===s.current?o.current||u():(s.current=g,a.current=g,o.current=!0,l({type:"STORE_UPDATED",payload:{error:m}}))}};n.onStateChange=h,n.trySubscribe(),h();var p=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return p}}var DB=function(){return[null,0]};function $B(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(b){return"ConnectAdvanced("+b+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,u=a===void 0?void 0:a,l=n.shouldHandleStateChanges,c=l===void 0?!0:l,d=n.storeKey,h=d===void 0?"store":d;n.withRef;var p=n.forwardRef,v=p===void 0?!1:p,y=n.context,g=y===void 0?eo:y,m=Gi(n,AB),_=g;return function(w){var E=w.displayName||w.name||"Component",A=i(E),R=je({},m,{getDisplayName:i,methodName:o,renderCountProp:u,shouldHandleStateChanges:c,storeKey:h,displayName:A,wrappedComponentName:E,WrappedComponent:w}),x=m.pure;function G(L){return t(L.dispatch,R)}var J=x?S.useMemo:function(L){return L()};function oe(L){var q=S.useMemo(function(){var Ae=L.reactReduxForwardedRef,N=Gi(L,PB);return[L.context,Ae,N]},[L]),K=q[0],O=q[1],V=q[2],Y=S.useMemo(function(){return K&&K.Consumer&&CB.isContextConsumer(Be.createElement(K.Consumer,null))?K:_},[K,_]),F=S.useContext(Y),j=!!L.store&&!!L.store.getState&&!!L.store.dispatch;F&&F.store;var $=j?L.store:F.store,H=S.useMemo(function(){return G($)},[$]),B=S.useMemo(function(){if(!c)return kB;var Ae=GT($,j?null:F.subscription),N=Ae.notifyNestedSubs.bind(Ae);return[Ae,N]},[$,j,F]),T=B[0],D=B[1],de=S.useMemo(function(){return j?F:je({},F,{subscription:T})},[j,F,T]),Z=S.useReducer(OB,RB,DB),xe=Z[0],Re=xe[0],Me=Z[1];if(Re&&Re.error)throw Re.error;var Se=S.useRef(),We=S.useRef(V),ze=S.useRef(),U=S.useRef(!1),ne=J(function(){return ze.current&&V===We.current?ze.current:H($.getState(),V)},[$,Re,V]);ZP(xB,[We,Se,U,V,ne,ze,D]),ZP(NB,[c,$,T,H,We,Se,U,ze,D,Me],[$,T,H]);var ue=S.useMemo(function(){return f(w,{...ne,ref:O})},[O,w,ne]),Ie=S.useMemo(function(){return c?f(Y.Provider,{value:de,children:ue}):ue},[Y,ue,de]);return Ie}var se=x?Be.memo(oe):oe;if(se.WrappedComponent=w,se.displayName=oe.displayName=A,v){var _e=Be.forwardRef(function(q,K){return f(se,{...q,reactReduxForwardedRef:K})});return _e.displayName=A,_e.WrappedComponent=w,cv(_e,w)}return cv(se,w)}}function eR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function gh(t,e){if(eR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!eR(t[n[i]],e[n[i]]))return!1;return!0}function MB(t,e){var n={},r=function(o){var a=t[o];typeof a=="function"&&(n[o]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function tS(t){return function(n,r){var i=t(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function tR(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function f$(t,e){return function(r,i){i.displayName;var s=function(a,u){return s.dependsOnOwnProps?s.mapToProps(a,u):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,u){s.mapToProps=t,s.dependsOnOwnProps=tR(t);var l=s(a,u);return typeof l=="function"&&(s.mapToProps=l,s.dependsOnOwnProps=tR(l),l=s(a,u)),l},s}}function FB(t){return typeof t=="function"?f$(t):void 0}function LB(t){return t?void 0:tS(function(e){return{dispatch:e}})}function VB(t){return t&&typeof t=="object"?tS(function(e){return MB(t,e)}):void 0}const UB=[FB,LB,VB];function jB(t){return typeof t=="function"?f$(t):void 0}function BB(t){return t?void 0:tS(function(){return{}})}const zB=[jB,BB];function qB(t,e,n){return je({},n,t,e)}function HB(t){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,a;return function(l,c,d){var h=t(l,c,d);return o?(!i||!s(h,a))&&(a=h):(o=!0,a=h),a}}}function WB(t){return typeof t=="function"?HB(t):void 0}function GB(t){return t?void 0:function(){return qB}}const KB=[WB,GB];var QB=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function YB(t,e,n,r){return function(s,o){return n(t(s,o),e(r,o),o)}}function XB(t,e,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,a=i.areStatePropsEqual,u=!1,l,c,d,h,p;function v(b,w){return l=b,c=w,d=t(l,c),h=e(r,c),p=n(d,h,c),u=!0,p}function y(){return d=t(l,c),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function g(){return t.dependsOnOwnProps&&(d=t(l,c)),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function m(){var b=t(l,c),w=!a(b,d);return d=b,w&&(p=n(d,h,c)),p}function _(b,w){var E=!o(w,c),A=!s(b,l);return l=b,c=w,E&&A?y():E?g():A?m():p}return function(w,E){return u?_(w,E):v(w,E)}}function JB(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=Gi(e,QB),o=n(t,s),a=r(t,s),u=i(t,s),l=s.pure?XB:YB;return l(o,a,u,t,s)}var ZB=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function a1(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function ez(t,e){return t===e}function tz(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?$B:n,i=e.mapStateToPropsFactories,s=i===void 0?zB:i,o=e.mapDispatchToPropsFactories,a=o===void 0?UB:o,u=e.mergePropsFactories,l=u===void 0?KB:u,c=e.selectorFactory,d=c===void 0?JB:c;return function(p,v,y,g){g===void 0&&(g={});var m=g,_=m.pure,b=_===void 0?!0:_,w=m.areStatesEqual,E=w===void 0?ez:w,A=m.areOwnPropsEqual,R=A===void 0?gh:A,x=m.areStatePropsEqual,G=x===void 0?gh:x,J=m.areMergedPropsEqual,oe=J===void 0?gh:J,se=Gi(m,ZB),_e=a1(p,s,"mapStateToProps"),L=a1(v,a,"mapDispatchToProps"),q=a1(y,l,"mergeProps");return r(d,je({methodName:"connect",getDisplayName:function(O){return"Connect("+O+")"},shouldHandleStateChanges:!!p,initMapStateToProps:_e,initMapDispatchToProps:L,initMergeProps:q,pure:b,areStatesEqual:E,areOwnPropsEqual:R,areStatePropsEqual:G,areMergedPropsEqual:oe},se))}}const nS=tz();function p$(){var t=S.useContext(eo);return t}function m$(t){t===void 0&&(t=eo);var e=t===eo?p$:function(){return S.useContext(t)};return function(){var r=e(),i=r.store;return i}}var nz=m$();function rz(t){t===void 0&&(t=eo);var e=t===eo?nz:m$(t);return function(){var r=e();return r.dispatch}}var zt=rz(),iz=function(e,n){return e===n};function sz(t,e,n,r){var i=S.useReducer(function(v){return v+1},0),s=i[1],o=S.useMemo(function(){return GT(n,r)},[n,r]),a=S.useRef(),u=S.useRef(),l=S.useRef(),c=S.useRef(),d=n.getState(),h;try{if(t!==u.current||d!==l.current||a.current){var p=t(d);c.current===void 0||!e(p,c.current)?h=p:h=c.current}else h=c.current}catch(v){throw a.current&&(v.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),v}return lv(function(){u.current=t,l.current=d,c.current=h,a.current=void 0}),lv(function(){function v(){try{var y=n.getState();if(y===l.current)return;var g=u.current(y);if(e(g,c.current))return;c.current=g,l.current=y}catch(m){a.current=m}s()}return o.onStateChange=v,o.trySubscribe(),v(),function(){return o.tryUnsubscribe()}},[n,o]),h}function oz(t){t===void 0&&(t=eo);var e=t===eo?p$:function(){return S.useContext(t)};return function(r,i){i===void 0&&(i=iz);var s=e(),o=s.store,a=s.subscription,u=sz(r,i,o,a);return S.useDebugValue(u),u}}var Xe=oz(),g$={exports:{}},ui={},v$={exports:{}},y$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var F=V.length;V.push(Y);e:for(;0<F;){var j=F-1>>>1,$=V[j];if(0<i($,Y))V[j]=Y,V[F]=$,F=j;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],F=V.pop();if(F!==Y){V[0]=F;e:for(var j=0,$=V.length,H=$>>>1;j<H;){var B=2*(j+1)-1,T=V[B],D=B+1,de=V[D];if(0>i(T,F))D<$&&0>i(de,T)?(V[j]=de,V[D]=F,j=D):(V[j]=T,V[B]=F,j=B);else if(D<$&&0>i(de,F))V[j]=de,V[D]=F,j=D;else break e}}return Y}function i(V,Y){var F=V.sortIndex-Y.sortIndex;return F!==0?F:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,p=!1,v=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=V)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function w(V){if(y=!1,b(V),!v)if(n(u)!==null)v=!0,K(E);else{var Y=n(l);Y!==null&&O(w,Y.startTime-V)}}function E(V,Y){v=!1,y&&(y=!1,m(x),x=-1),p=!0;var F=h;try{for(b(Y),d=n(u);d!==null&&(!(d.expirationTime>Y)||V&&!oe());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var $=j(d.expirationTime<=Y);Y=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(u)&&r(u),b(Y)}else r(u);d=n(u)}if(d!==null)var H=!0;else{var B=n(l);B!==null&&O(w,B.startTime-Y),H=!1}return H}finally{d=null,h=F,p=!1}}var A=!1,R=null,x=-1,G=5,J=-1;function oe(){return!(t.unstable_now()-J<G)}function se(){if(R!==null){var V=t.unstable_now();J=V;var Y=!0;try{Y=R(!0,V)}finally{Y?_e():(A=!1,R=null)}}else A=!1}var _e;if(typeof _=="function")_e=function(){_(se)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=se,_e=function(){q.postMessage(null)}}else _e=function(){g(se,0)};function K(V){R=V,A||(A=!0,_e())}function O(V,Y){x=g(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,K(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var F=h;h=Y;try{return V()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=h;h=V;try{return Y()}finally{h=F}},t.unstable_scheduleCallback=function(V,Y,F){var j=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=F+$,V={id:c++,callback:Y,priorityLevel:V,startTime:F,expirationTime:$,sortIndex:-1},F>j?(V.sortIndex=F,e(l,V),n(u)===null&&V===n(l)&&(y?(m(x),x=-1):y=!0,O(w,F-j))):(V.sortIndex=$,e(u,V),v||p||(v=!0,K(E))),V},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(V){var Y=h;return function(){var F=h;h=Y;try{return V.apply(this,arguments)}finally{h=F}}}})(y$);v$.exports=y$;var az=v$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _$=S,ii=az;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w$=new Set,Yh={};function Ku(t,e){vc(t,e),vc(t+"Capture",e)}function vc(t,e){for(Yh[t]=e,t=0;t<e.length;t++)w$.add(e[t])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qw=Object.prototype.hasOwnProperty,uz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nR={},rR={};function lz(t){return Qw.call(rR,t)?!0:Qw.call(nR,t)?!1:uz.test(t)?rR[t]=!0:(nR[t]=!0,!1)}function cz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dz(t,e,n,r){if(e===null||typeof e>"u"||cz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rS=/[\-:]([a-z])/g;function iS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rS,iS);Kn[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rS,iS);Kn[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rS,iS);Kn[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function sS(t,e,n,r){var i=Kn.hasOwnProperty(e)?Kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dz(e,n,i,r)&&(n=null),r||i===null?lz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fo=_$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tm=Symbol.for("react.element"),Nl=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),b$=Symbol.for("react.provider"),E$=Symbol.for("react.context"),aS=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Jw=Symbol.for("react.suspense_list"),uS=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),T$=Symbol.for("react.offscreen"),iR=Symbol.iterator;function Cd(t){return t===null||typeof t!="object"?null:(t=iR&&t[iR]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,u1;function th(t){if(u1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);u1=e&&e[1]||""}return`
`+u1+t}var l1=!1;function c1(t,e){if(!t||l1)return"";l1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{l1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?th(t):""}function hz(t){switch(t.tag){case 5:return th(t.type);case 16:return th("Lazy");case 13:return th("Suspense");case 19:return th("SuspenseList");case 0:case 2:case 15:return t=c1(t.type,!1),t;case 11:return t=c1(t.type.render,!1),t;case 1:return t=c1(t.type,!0),t;default:return""}}function Zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dl:return"Fragment";case Nl:return"Portal";case Yw:return"Profiler";case oS:return"StrictMode";case Xw:return"Suspense";case Jw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E$:return(t.displayName||"Context")+".Consumer";case b$:return(t._context.displayName||"Context")+".Provider";case aS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uS:return e=t.displayName||null,e!==null?e:Zw(t.type)||"Memo";case $o:e=t._payload,t=t._init;try{return Zw(t(e))}catch{}}return null}function fz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zw(e);case 8:return e===oS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pz(t){var e=S$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sm(t){t._valueTracker||(t._valueTracker=pz(t))}function I$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eb(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=aa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C$(t,e){e=e.checked,e!=null&&sS(t,"checked",e,!1)}function tb(t,e){C$(t,e);var n=aa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nb(t,e.type,n):e.hasOwnProperty("defaultValue")&&nb(t,e.type,aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nb(t,e,n){(e!=="number"||dv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nh=Array.isArray;function Xl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+aa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(nh(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:aa(n)}}function A$(t,e){var n=aa(e.value),r=aa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ib(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Im,R$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Im=Im||document.createElement("div"),Im.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Im.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mz=["Webkit","ms","Moz","O"];Object.keys(vh).forEach(function(t){mz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vh[e]=vh[t]})});function k$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vh.hasOwnProperty(t)&&vh[t]?(""+e).trim():e+"px"}function O$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gz=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sb(t,e){if(e){if(gz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function ob(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ab=null;function lS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ub=null,Jl=null,Zl=null;function lR(t){if(t=mp(t)){if(typeof ub!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=s0(e),ub(t.stateNode,t.type,e))}}function x$(t){Jl?Zl?Zl.push(t):Zl=[t]:Jl=t}function N$(){if(Jl){var t=Jl,e=Zl;if(Zl=Jl=null,lR(t),e)for(t=0;t<e.length;t++)lR(e[t])}}function D$(t,e){return t(e)}function $$(){}var d1=!1;function M$(t,e,n){if(d1)return t(e,n);d1=!0;try{return D$(t,e,n)}finally{d1=!1,(Jl!==null||Zl!==null)&&($$(),N$())}}function Jh(t,e){var n=t.stateNode;if(n===null)return null;var r=s0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var lb=!1;if(to)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){lb=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{lb=!1}function vz(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var yh=!1,hv=null,fv=!1,cb=null,yz={onError:function(t){yh=!0,hv=t}};function _z(t,e,n,r,i,s,o,a,u){yh=!1,hv=null,vz.apply(yz,arguments)}function wz(t,e,n,r,i,s,o,a,u){if(_z.apply(this,arguments),yh){if(yh){var l=hv;yh=!1,hv=null}else throw Error(fe(198));fv||(fv=!0,cb=l)}}function Qu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cR(t){if(Qu(t)!==t)throw Error(fe(188))}function bz(t){var e=t.alternate;if(!e){if(e=Qu(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cR(i),t;if(s===r)return cR(i),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function L$(t){return t=bz(t),t!==null?V$(t):null}function V$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V$(t);if(e!==null)return e;t=t.sibling}return null}var U$=ii.unstable_scheduleCallback,dR=ii.unstable_cancelCallback,Ez=ii.unstable_shouldYield,Tz=ii.unstable_requestPaint,sn=ii.unstable_now,Sz=ii.unstable_getCurrentPriorityLevel,cS=ii.unstable_ImmediatePriority,j$=ii.unstable_UserBlockingPriority,pv=ii.unstable_NormalPriority,Iz=ii.unstable_LowPriority,B$=ii.unstable_IdlePriority,t0=null,Is=null;function Cz(t){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(t0,t,void 0,(t.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:Rz,Az=Math.log,Pz=Math.LN2;function Rz(t){return t>>>=0,t===0?32:31-(Az(t)/Pz|0)|0}var Cm=64,Am=4194304;function rh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rh(a):(s&=o,s!==0&&(r=rh(s)))}else o=n&~i,o!==0?r=rh(o):s!==0&&(r=rh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qi(e),i=1<<n,r|=t[n],e&=~i;return r}function kz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qi(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=kz(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function db(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z$(){var t=Cm;return Cm<<=1,!(Cm&4194240)&&(Cm=64),t}function h1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qi(e),t[e]=n}function xz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function q$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H$,hS,W$,G$,K$,hb=!1,Pm=[],Yo=null,Xo=null,Jo=null,Zh=new Map,ef=new Map,Lo=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hR(t,e){switch(t){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Zh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(e.pointerId)}}function Pd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mp(e),e!==null&&hS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dz(t,e,n,r,i){switch(e){case"focusin":return Yo=Pd(Yo,t,e,n,r,i),!0;case"dragenter":return Xo=Pd(Xo,t,e,n,r,i),!0;case"mouseover":return Jo=Pd(Jo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zh.set(s,Pd(Zh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ef.set(s,Pd(ef.get(s)||null,t,e,n,r,i)),!0}return!1}function Q$(t){var e=uu(t.target);if(e!==null){var n=Qu(e);if(n!==null){if(e=n.tag,e===13){if(e=F$(n),e!==null){t.blockedOn=e,K$(t.priority,function(){W$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ab=r,n.target.dispatchEvent(r),ab=null}else return e=mp(n),e!==null&&hS(e),t.blockedOn=n,!1;e.shift()}return!0}function fR(t,e,n){wg(t)&&n.delete(e)}function $z(){hb=!1,Yo!==null&&wg(Yo)&&(Yo=null),Xo!==null&&wg(Xo)&&(Xo=null),Jo!==null&&wg(Jo)&&(Jo=null),Zh.forEach(fR),ef.forEach(fR)}function Rd(t,e){t.blockedOn===e&&(t.blockedOn=null,hb||(hb=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,$z)))}function tf(t){function e(i){return Rd(i,t)}if(0<Pm.length){Rd(Pm[0],t);for(var n=1;n<Pm.length;n++){var r=Pm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yo!==null&&Rd(Yo,t),Xo!==null&&Rd(Xo,t),Jo!==null&&Rd(Jo,t),Zh.forEach(e),ef.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)Q$(n),n.blockedOn===null&&Lo.shift()}var ec=fo.ReactCurrentBatchConfig,gv=!0;function Mz(t,e,n,r){var i=vt,s=ec.transition;ec.transition=null;try{vt=1,fS(t,e,n,r)}finally{vt=i,ec.transition=s}}function Fz(t,e,n,r){var i=vt,s=ec.transition;ec.transition=null;try{vt=4,fS(t,e,n,r)}finally{vt=i,ec.transition=s}}function fS(t,e,n,r){if(gv){var i=fb(t,e,n,r);if(i===null)E1(t,e,r,vv,n),hR(t,r);else if(Dz(i,t,e,n,r))r.stopPropagation();else if(hR(t,r),e&4&&-1<Nz.indexOf(t)){for(;i!==null;){var s=mp(i);if(s!==null&&H$(s),s=fb(t,e,n,r),s===null&&E1(t,e,r,vv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else E1(t,e,r,null,n)}}var vv=null;function fb(t,e,n,r){if(vv=null,t=lS(r),t=uu(t),t!==null)if(e=Qu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vv=t,null}function Y$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sz()){case cS:return 1;case j$:return 4;case pv:case Iz:return 16;case B$:return 536870912;default:return 16}default:return 16}}var Bo=null,pS=null,bg=null;function X$(){if(bg)return bg;var t,e=pS,n=e.length,r,i="value"in Bo?Bo.value:Bo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bg=i.slice(t,1<r?1-r:void 0)}function Eg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rm(){return!0}function pR(){return!1}function li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rm:pR,this.isPropagationStopped=pR,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),e}var Wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mS=li(Wc),pp=Qt({},Wc,{view:0,detail:0}),Lz=li(pp),f1,p1,kd,n0=Qt({},pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kd&&(kd&&t.type==="mousemove"?(f1=t.screenX-kd.screenX,p1=t.screenY-kd.screenY):p1=f1=0,kd=t),f1)},movementY:function(t){return"movementY"in t?t.movementY:p1}}),mR=li(n0),Vz=Qt({},n0,{dataTransfer:0}),Uz=li(Vz),jz=Qt({},pp,{relatedTarget:0}),m1=li(jz),Bz=Qt({},Wc,{animationName:0,elapsedTime:0,pseudoElement:0}),zz=li(Bz),qz=Qt({},Wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hz=li(qz),Wz=Qt({},Wc,{data:0}),gR=li(Wz),Gz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qz[t])?!!e[t]:!1}function gS(){return Yz}var Xz=Qt({},pp,{key:function(t){if(t.key){var e=Gz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gS,charCode:function(t){return t.type==="keypress"?Eg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jz=li(Xz),Zz=Qt({},n0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vR=li(Zz),eq=Qt({},pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gS}),tq=li(eq),nq=Qt({},Wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),rq=li(nq),iq=Qt({},n0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sq=li(iq),oq=[9,13,27,32],vS=to&&"CompositionEvent"in window,_h=null;to&&"documentMode"in document&&(_h=document.documentMode);var aq=to&&"TextEvent"in window&&!_h,J$=to&&(!vS||_h&&8<_h&&11>=_h),yR=String.fromCharCode(32),_R=!1;function Z$(t,e){switch(t){case"keyup":return oq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $l=!1;function uq(t,e){switch(t){case"compositionend":return eM(e);case"keypress":return e.which!==32?null:(_R=!0,yR);case"textInput":return t=e.data,t===yR&&_R?null:t;default:return null}}function lq(t,e){if($l)return t==="compositionend"||!vS&&Z$(t,e)?(t=X$(),bg=pS=Bo=null,$l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J$&&e.locale!=="ko"?null:e.data;default:return null}}var cq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cq[t.type]:e==="textarea"}function tM(t,e,n,r){x$(r),e=yv(e,"onChange"),0<e.length&&(n=new mS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wh=null,nf=null;function dq(t){hM(t,0)}function r0(t){var e=Ll(t);if(I$(e))return t}function hq(t,e){if(t==="change")return e}var nM=!1;if(to){var g1;if(to){var v1="oninput"in document;if(!v1){var bR=document.createElement("div");bR.setAttribute("oninput","return;"),v1=typeof bR.oninput=="function"}g1=v1}else g1=!1;nM=g1&&(!document.documentMode||9<document.documentMode)}function ER(){wh&&(wh.detachEvent("onpropertychange",rM),nf=wh=null)}function rM(t){if(t.propertyName==="value"&&r0(nf)){var e=[];tM(e,nf,t,lS(t)),M$(dq,e)}}function fq(t,e,n){t==="focusin"?(ER(),wh=e,nf=n,wh.attachEvent("onpropertychange",rM)):t==="focusout"&&ER()}function pq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r0(nf)}function mq(t,e){if(t==="click")return r0(e)}function gq(t,e){if(t==="input"||t==="change")return r0(e)}function vq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ki=typeof Object.is=="function"?Object.is:vq;function rf(t,e){if(Ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qw.call(e,i)||!Ki(t[i],e[i]))return!1}return!0}function TR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SR(t,e){var n=TR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TR(n)}}function iM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sM(){for(var t=window,e=dv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dv(t.document)}return e}function yS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yq(t){var e=sM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iM(n.ownerDocument.documentElement,n)){if(r!==null&&yS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=SR(n,s);var o=SR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _q=to&&"documentMode"in document&&11>=document.documentMode,Ml=null,pb=null,bh=null,mb=!1;function IR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mb||Ml==null||Ml!==dv(r)||(r=Ml,"selectionStart"in r&&yS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bh&&rf(bh,r)||(bh=r,r=yv(pb,"onSelect"),0<r.length&&(e=new mS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ml)))}function km(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fl={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},y1={},oM={};to&&(oM=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function i0(t){if(y1[t])return y1[t];if(!Fl[t])return t;var e=Fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oM)return y1[t]=e[n];return t}var aM=i0("animationend"),uM=i0("animationiteration"),lM=i0("animationstart"),cM=i0("transitionend"),dM=new Map,CR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(t,e){dM.set(t,e),Ku(e,[t])}for(var _1=0;_1<CR.length;_1++){var w1=CR[_1],wq=w1.toLowerCase(),bq=w1[0].toUpperCase()+w1.slice(1);Ea(wq,"on"+bq)}Ea(aM,"onAnimationEnd");Ea(uM,"onAnimationIteration");Ea(lM,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(cM,"onTransitionEnd");vc("onMouseEnter",["mouseout","mouseover"]);vc("onMouseLeave",["mouseout","mouseover"]);vc("onPointerEnter",["pointerout","pointerover"]);vc("onPointerLeave",["pointerout","pointerover"]);Ku("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ku("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ku("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ku("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ku("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ku("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eq=new Set("cancel close invalid load scroll toggle".split(" ").concat(ih));function AR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wz(r,e,void 0,t),t.currentTarget=null}function hM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;AR(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;AR(i,a,l),s=u}}}if(fv)throw t=cb,fv=!1,cb=null,t}function Ot(t,e){var n=e[wb];n===void 0&&(n=e[wb]=new Set);var r=t+"__bubble";n.has(r)||(fM(e,t,2,!1),n.add(r))}function b1(t,e,n){var r=0;e&&(r|=4),fM(n,t,r,e)}var Om="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[Om]){t[Om]=!0,w$.forEach(function(n){n!=="selectionchange"&&(Eq.has(n)||b1(n,!1,t),b1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Om]||(e[Om]=!0,b1("selectionchange",!1,e))}}function fM(t,e,n,r){switch(Y$(e)){case 1:var i=Mz;break;case 4:i=Fz;break;default:i=fS}n=i.bind(null,e,n,t),i=void 0,!lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=uu(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}M$(function(){var l=s,c=lS(n),d=[];e:{var h=dM.get(t);if(h!==void 0){var p=mS,v=t;switch(t){case"keypress":if(Eg(n)===0)break e;case"keydown":case"keyup":p=Jz;break;case"focusin":v="focus",p=m1;break;case"focusout":v="blur",p=m1;break;case"beforeblur":case"afterblur":p=m1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Uz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tq;break;case aM:case uM:case lM:p=zz;break;case cM:p=rq;break;case"scroll":p=Lz;break;case"wheel":p=sq;break;case"copy":case"cut":case"paste":p=Hz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vR}var y=(e&4)!==0,g=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var _=l,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,m!==null&&(w=Jh(_,m),w!=null&&y.push(of(_,w,b)))),g)break;_=_.return}0<y.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ab&&(v=n.relatedTarget||n.fromElement)&&(uu(v)||v[no]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=l,v=v?uu(v):null,v!==null&&(g=Qu(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=l),p!==v)){if(y=mR,w="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=vR,w="onPointerLeave",m="onPointerEnter",_="pointer"),g=p==null?h:Ll(p),b=v==null?h:Ll(v),h=new y(w,_+"leave",p,n,c),h.target=g,h.relatedTarget=b,w=null,uu(c)===l&&(y=new y(m,_+"enter",v,n,c),y.target=b,y.relatedTarget=g,w=y),g=w,p&&v)t:{for(y=p,m=v,_=0,b=y;b;b=ml(b))_++;for(b=0,w=m;w;w=ml(w))b++;for(;0<_-b;)y=ml(y),_--;for(;0<b-_;)m=ml(m),b--;for(;_--;){if(y===m||m!==null&&y===m.alternate)break t;y=ml(y),m=ml(m)}y=null}else y=null;p!==null&&PR(d,h,p,y,!1),v!==null&&g!==null&&PR(d,g,v,y,!0)}}e:{if(h=l?Ll(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=hq;else if(wR(h))if(nM)E=gq;else{E=pq;var A=fq}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=mq);if(E&&(E=E(t,l))){tM(d,E,n,c);break e}A&&A(t,h,l),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&nb(h,"number",h.value)}switch(A=l?Ll(l):window,t){case"focusin":(wR(A)||A.contentEditable==="true")&&(Ml=A,pb=l,bh=null);break;case"focusout":bh=pb=Ml=null;break;case"mousedown":mb=!0;break;case"contextmenu":case"mouseup":case"dragend":mb=!1,IR(d,n,c);break;case"selectionchange":if(_q)break;case"keydown":case"keyup":IR(d,n,c)}var R;if(vS)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $l?Z$(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(J$&&n.locale!=="ko"&&($l||x!=="onCompositionStart"?x==="onCompositionEnd"&&$l&&(R=X$()):(Bo=c,pS="value"in Bo?Bo.value:Bo.textContent,$l=!0)),A=yv(l,x),0<A.length&&(x=new gR(x,t,null,n,c),d.push({event:x,listeners:A}),R?x.data=R:(R=eM(n),R!==null&&(x.data=R)))),(R=aq?uq(t,n):lq(t,n))&&(l=yv(l,"onBeforeInput"),0<l.length&&(c=new gR("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=R))}hM(d,e)})}function of(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jh(t,n),s!=null&&r.unshift(of(t,s,i)),s=Jh(t,e),s!=null&&r.push(of(t,s,i))),t=t.return}return r}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Jh(n,s),u!=null&&o.unshift(of(n,u,a))):i||(u=Jh(n,s),u!=null&&o.push(of(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Tq=/\r\n?/g,Sq=/\u0000|\uFFFD/g;function RR(t){return(typeof t=="string"?t:""+t).replace(Tq,`
`).replace(Sq,"")}function xm(t,e,n){if(e=RR(e),RR(t)!==e&&n)throw Error(fe(425))}function _v(){}var gb=null,vb=null;function yb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _b=typeof setTimeout=="function"?setTimeout:void 0,Iq=typeof clearTimeout=="function"?clearTimeout:void 0,kR=typeof Promise=="function"?Promise:void 0,Cq=typeof queueMicrotask=="function"?queueMicrotask:typeof kR<"u"?function(t){return kR.resolve(null).then(t).catch(Aq)}:_b;function Aq(t){setTimeout(function(){throw t})}function T1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tf(e)}function Zo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gc=Math.random().toString(36).slice(2),ds="__reactFiber$"+Gc,af="__reactProps$"+Gc,no="__reactContainer$"+Gc,wb="__reactEvents$"+Gc,Pq="__reactListeners$"+Gc,Rq="__reactHandles$"+Gc;function uu(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[no]||n[ds]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OR(t);t!==null;){if(n=t[ds])return n;t=OR(t)}return e}t=n,n=t.parentNode}return null}function mp(t){return t=t[ds]||t[no],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function s0(t){return t[af]||null}var bb=[],Vl=-1;function Ta(t){return{current:t}}function Mt(t){0>Vl||(t.current=bb[Vl],bb[Vl]=null,Vl--)}function Ct(t,e){Vl++,bb[Vl]=t.current,t.current=e}var ua={},dr=Ta(ua),Br=Ta(!1),Au=ua;function yc(t,e){var n=t.type.contextTypes;if(!n)return ua;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function wv(){Mt(Br),Mt(dr)}function xR(t,e,n){if(dr.current!==ua)throw Error(fe(168));Ct(dr,e),Ct(Br,n)}function pM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,fz(t)||"Unknown",i));return Qt({},n,r)}function bv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,Au=dr.current,Ct(dr,t),Ct(Br,Br.current),!0}function NR(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=pM(t,e,Au),r.__reactInternalMemoizedMergedChildContext=t,Mt(Br),Mt(dr),Ct(dr,t)):Mt(Br),Ct(Br,n)}var Us=null,o0=!1,S1=!1;function mM(t){Us===null?Us=[t]:Us.push(t)}function kq(t){o0=!0,mM(t)}function Sa(){if(!S1&&Us!==null){S1=!0;var t=0,e=vt;try{var n=Us;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,o0=!1}catch(i){throw Us!==null&&(Us=Us.slice(t+1)),U$(cS,Sa),i}finally{vt=e,S1=!1}}return null}var Ul=[],jl=0,Ev=null,Tv=0,yi=[],_i=0,Pu=null,qs=1,Hs="";function Ga(t,e){Ul[jl++]=Tv,Ul[jl++]=Ev,Ev=t,Tv=e}function gM(t,e,n){yi[_i++]=qs,yi[_i++]=Hs,yi[_i++]=Pu,Pu=t;var r=qs;t=Hs;var i=32-qi(r)-1;r&=~(1<<i),n+=1;var s=32-qi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qs=1<<32-qi(e)+i|n<<i|r,Hs=s+t}else qs=1<<s|n<<i|r,Hs=t}function _S(t){t.return!==null&&(Ga(t,1),gM(t,1,0))}function wS(t){for(;t===Ev;)Ev=Ul[--jl],Ul[jl]=null,Tv=Ul[--jl],Ul[jl]=null;for(;t===Pu;)Pu=yi[--_i],yi[_i]=null,Hs=yi[--_i],yi[_i]=null,qs=yi[--_i],yi[_i]=null}var ni=null,Zr=null,Ut=!1,Ui=null;function vM(t,e){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,Zr=Zo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,Zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pu!==null?{id:qs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,Zr=null,!0):!1;default:return!1}}function Eb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tb(t){if(Ut){var e=Zr;if(e){var n=e;if(!DR(t,e)){if(Eb(t))throw Error(fe(418));e=Zo(n.nextSibling);var r=ni;e&&DR(t,e)?vM(r,n):(t.flags=t.flags&-4097|2,Ut=!1,ni=t)}}else{if(Eb(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Ut=!1,ni=t}}}function $R(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function Nm(t){if(t!==ni)return!1;if(!Ut)return $R(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yb(t.type,t.memoizedProps)),e&&(e=Zr)){if(Eb(t))throw yM(),Error(fe(418));for(;e;)vM(t,e),e=Zo(e.nextSibling)}if($R(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=Zo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=ni?Zo(t.stateNode.nextSibling):null;return!0}function yM(){for(var t=Zr;t;)t=Zo(t.nextSibling)}function _c(){Zr=ni=null,Ut=!1}function bS(t){Ui===null?Ui=[t]:Ui.push(t)}var Oq=fo.ReactCurrentBatchConfig;function Fi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sv=Ta(null),Iv=null,Bl=null,ES=null;function TS(){ES=Bl=Iv=null}function SS(t){var e=Sv.current;Mt(Sv),t._currentValue=e}function Sb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tc(t,e){Iv=t,ES=Bl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fr=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(ES!==t)if(t={context:t,memoizedValue:e,next:null},Bl===null){if(Iv===null)throw Error(fe(308));Bl=t,Iv.dependencies={lanes:0,firstContext:t}}else Bl=Bl.next=t;return e}var lu=null;function IS(t){lu===null?lu=[t]:lu.push(t)}function _M(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,IS(e)):(n.next=i.next,i.next=n),e.interleaved=n,ro(t,r)}function ro(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mo=!1;function CS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ea(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ro(t,n)}return i=r.interleaved,i===null?(e.next=e,IS(r)):(e.next=i.next,i.next=e),r.interleaved=e,ro(t,n)}function Tg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dS(t,n)}}function MR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cv(t,e,n,r){var i=t.updateQueue;Mo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(h=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=Qt({},d,h);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ku|=o,t.lanes=o,t.memoizedState=d}}function FR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var bM=new _$.Component().refs;function Ib(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var a0={isMounted:function(t){return(t=t._reactInternals)?Qu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tr(),i=na(t),s=Qs(r,i);s.payload=e,n!=null&&(s.callback=n),e=ea(t,s,i),e!==null&&(Hi(e,t,i,r),Tg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tr(),i=na(t),s=Qs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ea(t,s,i),e!==null&&(Hi(e,t,i,r),Tg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tr(),r=na(t),i=Qs(n,r);i.tag=2,e!=null&&(i.callback=e),e=ea(t,i,r),e!==null&&(Hi(e,t,r,n),Tg(e,t,r))}};function LR(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rf(n,r)||!rf(i,s):!0}function EM(t,e,n){var r=!1,i=ua,s=e.contextType;return typeof s=="object"&&s!==null?s=Ri(s):(i=zr(e)?Au:dr.current,r=e.contextTypes,s=(r=r!=null)?yc(t,i):ua),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=a0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function VR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&a0.enqueueReplaceState(e,e.state,null)}function Cb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=bM,CS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ri(s):(s=zr(e)?Au:dr.current,i.context=yc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ib(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&a0.enqueueReplaceState(i,i.state,null),Cv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===bM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Dm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UR(t){var e=t._init;return e(t._payload)}function TM(t){function e(m,_){if(t){var b=m.deletions;b===null?(m.deletions=[_],m.flags|=16):b.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=ra(m,_),m.index=0,m.sibling=null,m}function s(m,_,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<_?(m.flags|=2,_):b):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,b,w){return _===null||_.tag!==6?(_=O1(b,m.mode,w),_.return=m,_):(_=i(_,b),_.return=m,_)}function u(m,_,b,w){var E=b.type;return E===Dl?c(m,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$o&&UR(E)===_.type)?(w=i(_,b.props),w.ref=Od(m,_,b),w.return=m,w):(w=Rg(b.type,b.key,b.props,null,m.mode,w),w.ref=Od(m,_,b),w.return=m,w)}function l(m,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=x1(b,m.mode,w),_.return=m,_):(_=i(_,b.children||[]),_.return=m,_)}function c(m,_,b,w,E){return _===null||_.tag!==7?(_=_u(b,m.mode,w,E),_.return=m,_):(_=i(_,b),_.return=m,_)}function d(m,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=O1(""+_,m.mode,b),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tm:return b=Rg(_.type,_.key,_.props,null,m.mode,b),b.ref=Od(m,null,_),b.return=m,b;case Nl:return _=x1(_,m.mode,b),_.return=m,_;case $o:var w=_._init;return d(m,w(_._payload),b)}if(nh(_)||Cd(_))return _=_u(_,m.mode,b,null),_.return=m,_;Dm(m,_)}return null}function h(m,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(m,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tm:return b.key===E?u(m,_,b,w):null;case Nl:return b.key===E?l(m,_,b,w):null;case $o:return E=b._init,h(m,_,E(b._payload),w)}if(nh(b)||Cd(b))return E!==null?null:c(m,_,b,w,null);Dm(m,b)}return null}function p(m,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(b)||null,a(_,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tm:return m=m.get(w.key===null?b:w.key)||null,u(_,m,w,E);case Nl:return m=m.get(w.key===null?b:w.key)||null,l(_,m,w,E);case $o:var A=w._init;return p(m,_,b,A(w._payload),E)}if(nh(w)||Cd(w))return m=m.get(b)||null,c(_,m,w,E,null);Dm(_,w)}return null}function v(m,_,b,w){for(var E=null,A=null,R=_,x=_=0,G=null;R!==null&&x<b.length;x++){R.index>x?(G=R,R=null):G=R.sibling;var J=h(m,R,b[x],w);if(J===null){R===null&&(R=G);break}t&&R&&J.alternate===null&&e(m,R),_=s(J,_,x),A===null?E=J:A.sibling=J,A=J,R=G}if(x===b.length)return n(m,R),Ut&&Ga(m,x),E;if(R===null){for(;x<b.length;x++)R=d(m,b[x],w),R!==null&&(_=s(R,_,x),A===null?E=R:A.sibling=R,A=R);return Ut&&Ga(m,x),E}for(R=r(m,R);x<b.length;x++)G=p(R,m,x,b[x],w),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?x:G.key),_=s(G,_,x),A===null?E=G:A.sibling=G,A=G);return t&&R.forEach(function(oe){return e(m,oe)}),Ut&&Ga(m,x),E}function y(m,_,b,w){var E=Cd(b);if(typeof E!="function")throw Error(fe(150));if(b=E.call(b),b==null)throw Error(fe(151));for(var A=E=null,R=_,x=_=0,G=null,J=b.next();R!==null&&!J.done;x++,J=b.next()){R.index>x?(G=R,R=null):G=R.sibling;var oe=h(m,R,J.value,w);if(oe===null){R===null&&(R=G);break}t&&R&&oe.alternate===null&&e(m,R),_=s(oe,_,x),A===null?E=oe:A.sibling=oe,A=oe,R=G}if(J.done)return n(m,R),Ut&&Ga(m,x),E;if(R===null){for(;!J.done;x++,J=b.next())J=d(m,J.value,w),J!==null&&(_=s(J,_,x),A===null?E=J:A.sibling=J,A=J);return Ut&&Ga(m,x),E}for(R=r(m,R);!J.done;x++,J=b.next())J=p(R,m,x,J.value,w),J!==null&&(t&&J.alternate!==null&&R.delete(J.key===null?x:J.key),_=s(J,_,x),A===null?E=J:A.sibling=J,A=J);return t&&R.forEach(function(se){return e(m,se)}),Ut&&Ga(m,x),E}function g(m,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Dl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tm:e:{for(var E=b.key,A=_;A!==null;){if(A.key===E){if(E=b.type,E===Dl){if(A.tag===7){n(m,A.sibling),_=i(A,b.props.children),_.return=m,m=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$o&&UR(E)===A.type){n(m,A.sibling),_=i(A,b.props),_.ref=Od(m,A,b),_.return=m,m=_;break e}n(m,A);break}else e(m,A);A=A.sibling}b.type===Dl?(_=_u(b.props.children,m.mode,w,b.key),_.return=m,m=_):(w=Rg(b.type,b.key,b.props,null,m.mode,w),w.ref=Od(m,_,b),w.return=m,m=w)}return o(m);case Nl:e:{for(A=b.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(m,_.sibling),_=i(_,b.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=x1(b,m.mode,w),_.return=m,m=_}return o(m);case $o:return A=b._init,g(m,_,A(b._payload),w)}if(nh(b))return v(m,_,b,w);if(Cd(b))return y(m,_,b,w);Dm(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,b),_.return=m,m=_):(n(m,_),_=O1(b,m.mode,w),_.return=m,m=_),o(m)):n(m,_)}return g}var wc=TM(!0),SM=TM(!1),gp={},Cs=Ta(gp),uf=Ta(gp),lf=Ta(gp);function cu(t){if(t===gp)throw Error(fe(174));return t}function AS(t,e){switch(Ct(lf,e),Ct(uf,t),Ct(Cs,gp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ib(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ib(e,t)}Mt(Cs),Ct(Cs,e)}function bc(){Mt(Cs),Mt(uf),Mt(lf)}function IM(t){cu(lf.current);var e=cu(Cs.current),n=ib(e,t.type);e!==n&&(Ct(uf,t),Ct(Cs,n))}function PS(t){uf.current===t&&(Mt(Cs),Mt(uf))}var Ht=Ta(0);function Av(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I1=[];function RS(){for(var t=0;t<I1.length;t++)I1[t]._workInProgressVersionPrimary=null;I1.length=0}var Sg=fo.ReactCurrentDispatcher,C1=fo.ReactCurrentBatchConfig,Ru=0,Gt=null,vn=null,Tn=null,Pv=!1,Eh=!1,cf=0,xq=0;function Zn(){throw Error(fe(321))}function kS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ki(t[n],e[n]))return!1;return!0}function OS(t,e,n,r,i,s){if(Ru=s,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sg.current=t===null||t.memoizedState===null?Mq:Fq,t=n(r,i),Eh){s=0;do{if(Eh=!1,cf=0,25<=s)throw Error(fe(301));s+=1,Tn=vn=null,e.updateQueue=null,Sg.current=Lq,t=n(r,i)}while(Eh)}if(Sg.current=Rv,e=vn!==null&&vn.next!==null,Ru=0,Tn=vn=Gt=null,Pv=!1,e)throw Error(fe(300));return t}function xS(){var t=cf!==0;return cf=0,t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Gt.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function ki(){if(vn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=Tn===null?Gt.memoizedState:Tn.next;if(e!==null)Tn=e,vn=t;else{if(t===null)throw Error(fe(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Tn===null?Gt.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function df(t,e){return typeof e=="function"?e(t):e}function A1(t){var e=ki(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Ru&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,Gt.lanes|=c,ku|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ki(r,e.memoizedState)||(Fr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gt.lanes|=s,ku|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P1(t){var e=ki(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ki(s,e.memoizedState)||(Fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CM(){}function AM(t,e){var n=Gt,r=ki(),i=e(),s=!Ki(r.memoizedState,i);if(s&&(r.memoizedState=i,Fr=!0),r=r.queue,NS(kM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,hf(9,RM.bind(null,n,r,i,e),void 0,null),Cn===null)throw Error(fe(349));Ru&30||PM(n,e,i)}return i}function PM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RM(t,e,n,r){e.value=n,e.getSnapshot=r,OM(e)&&xM(t)}function kM(t,e,n){return n(function(){OM(e)&&xM(t)})}function OM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ki(t,n)}catch{return!0}}function xM(t){var e=ro(t,1);e!==null&&Hi(e,t,1,-1)}function jR(t){var e=os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:t},e.queue=t,t=t.dispatch=$q.bind(null,Gt,t),[e.memoizedState,t]}function hf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NM(){return ki().memoizedState}function Ig(t,e,n,r){var i=os();Gt.flags|=t,i.memoizedState=hf(1|e,n,void 0,r===void 0?null:r)}function u0(t,e,n,r){var i=ki();r=r===void 0?null:r;var s=void 0;if(vn!==null){var o=vn.memoizedState;if(s=o.destroy,r!==null&&kS(r,o.deps)){i.memoizedState=hf(e,n,s,r);return}}Gt.flags|=t,i.memoizedState=hf(1|e,n,s,r)}function BR(t,e){return Ig(8390656,8,t,e)}function NS(t,e){return u0(2048,8,t,e)}function DM(t,e){return u0(4,2,t,e)}function $M(t,e){return u0(4,4,t,e)}function MM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FM(t,e,n){return n=n!=null?n.concat([t]):null,u0(4,4,MM.bind(null,e,t),n)}function DS(){}function LM(t,e){var n=ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VM(t,e){var n=ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UM(t,e,n){return Ru&21?(Ki(n,e)||(n=z$(),Gt.lanes|=n,ku|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fr=!0),t.memoizedState=n)}function Nq(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=C1.transition;C1.transition={};try{t(!1),e()}finally{vt=n,C1.transition=r}}function jM(){return ki().memoizedState}function Dq(t,e,n){var r=na(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BM(t))zM(e,n);else if(n=_M(t,e,n,r),n!==null){var i=Tr();Hi(n,t,r,i),qM(n,e,r)}}function $q(t,e,n){var r=na(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BM(t))zM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ki(a,o)){var u=e.interleaved;u===null?(i.next=i,IS(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=_M(t,e,i,r),n!==null&&(i=Tr(),Hi(n,t,r,i),qM(n,e,r))}}function BM(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function zM(t,e){Eh=Pv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dS(t,n)}}var Rv={readContext:Ri,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},Mq={readContext:Ri,useCallback:function(t,e){return os().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:BR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ig(4194308,4,MM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ig(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ig(4,2,t,e)},useMemo:function(t,e){var n=os();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=os();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dq.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=os();return t={current:t},e.memoizedState=t},useState:jR,useDebugValue:DS,useDeferredValue:function(t){return os().memoizedState=t},useTransition:function(){var t=jR(!1),e=t[0];return t=Nq.bind(null,t[1]),os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,i=os();if(Ut){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Cn===null)throw Error(fe(349));Ru&30||PM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,BR(kM.bind(null,r,s,t),[t]),r.flags|=2048,hf(9,RM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=os(),e=Cn.identifierPrefix;if(Ut){var n=Hs,r=qs;n=(r&~(1<<32-qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fq={readContext:Ri,useCallback:LM,useContext:Ri,useEffect:NS,useImperativeHandle:FM,useInsertionEffect:DM,useLayoutEffect:$M,useMemo:VM,useReducer:A1,useRef:NM,useState:function(){return A1(df)},useDebugValue:DS,useDeferredValue:function(t){var e=ki();return UM(e,vn.memoizedState,t)},useTransition:function(){var t=A1(df)[0],e=ki().memoizedState;return[t,e]},useMutableSource:CM,useSyncExternalStore:AM,useId:jM,unstable_isNewReconciler:!1},Lq={readContext:Ri,useCallback:LM,useContext:Ri,useEffect:NS,useImperativeHandle:FM,useInsertionEffect:DM,useLayoutEffect:$M,useMemo:VM,useReducer:P1,useRef:NM,useState:function(){return P1(df)},useDebugValue:DS,useDeferredValue:function(t){var e=ki();return vn===null?e.memoizedState=t:UM(e,vn.memoizedState,t)},useTransition:function(){var t=P1(df)[0],e=ki().memoizedState;return[t,e]},useMutableSource:CM,useSyncExternalStore:AM,useId:jM,unstable_isNewReconciler:!1};function Ec(t,e){try{var n="",r=e;do n+=hz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function R1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ab(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vq=typeof WeakMap=="function"?WeakMap:Map;function HM(t,e,n){n=Qs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ov||(Ov=!0,Fb=r),Ab(t,e)},n}function WM(t,e,n){n=Qs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ab(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ab(t,e),typeof r!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zq.bind(null,t,e,n),e.then(t,t))}function qR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qs(-1,1),e.tag=2,ea(n,e,1))),n.lanes|=1),t)}var Uq=fo.ReactCurrentOwner,Fr=!1;function pr(t,e,n,r){e.child=t===null?SM(e,null,n,r):wc(e,t.child,n,r)}function WR(t,e,n,r,i){n=n.render;var s=e.ref;return tc(e,i),r=OS(t,e,n,r,s,i),n=xS(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,io(t,e,i)):(Ut&&n&&_S(e),e.flags|=1,pr(t,e,r,i),e.child)}function GR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!BS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GM(t,e,s,r,i)):(t=Rg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rf,n(o,r)&&t.ref===e.ref)return io(t,e,i)}return e.flags|=1,t=ra(s,r),t.ref=e.ref,t.return=e,e.child=t}function GM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rf(s,r)&&t.ref===e.ref)if(Fr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Fr=!0);else return e.lanes=t.lanes,io(t,e,i)}return Pb(t,e,n,r,i)}function KM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ql,Xr),Xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(ql,Xr),Xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ct(ql,Xr),Xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ct(ql,Xr),Xr|=r;return pr(t,e,i,n),e.child}function QM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pb(t,e,n,r,i){var s=zr(n)?Au:dr.current;return s=yc(e,s),tc(e,i),n=OS(t,e,n,r,s,i),r=xS(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,io(t,e,i)):(Ut&&r&&_S(e),e.flags|=1,pr(t,e,n,i),e.child)}function KR(t,e,n,r,i){if(zr(n)){var s=!0;bv(e)}else s=!1;if(tc(e,i),e.stateNode===null)Cg(t,e),EM(e,n,r),Cb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ri(l):(l=zr(n)?Au:dr.current,l=yc(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&VR(e,o,r,l),Mo=!1;var h=e.memoizedState;o.state=h,Cv(e,r,o,i),u=e.memoizedState,a!==r||h!==u||Br.current||Mo?(typeof c=="function"&&(Ib(e,n,c,r),u=e.memoizedState),(a=Mo||LR(e,n,a,r,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wM(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Fi(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ri(u):(u=zr(n)?Au:dr.current,u=yc(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&VR(e,o,r,u),Mo=!1,h=e.memoizedState,o.state=h,Cv(e,r,o,i);var v=e.memoizedState;a!==d||h!==v||Br.current||Mo?(typeof p=="function"&&(Ib(e,n,p,r),v=e.memoizedState),(l=Mo||LR(e,n,l,r,h,v,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Rb(t,e,n,r,s,i)}function Rb(t,e,n,r,i,s){QM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NR(e,n,!1),io(t,e,s);r=e.stateNode,Uq.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wc(e,t.child,null,s),e.child=wc(e,null,a,s)):pr(t,e,a,s),e.memoizedState=r.state,i&&NR(e,n,!0),e.child}function YM(t){var e=t.stateNode;e.pendingContext?xR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xR(t,e.context,!1),AS(t,e.containerInfo)}function QR(t,e,n,r,i){return _c(),bS(i),e.flags|=256,pr(t,e,n,r),e.child}var kb={dehydrated:null,treeContext:null,retryLane:0};function Ob(t){return{baseLanes:t,cachePool:null,transitions:null}}function XM(t,e,n){var r=e.pendingProps,i=Ht.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ct(Ht,i&1),t===null)return Tb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=d0(o,r,0,null),t=_u(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ob(n),e.memoizedState=kb,t):$S(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jq(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ra(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ra(a,s):(s=_u(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ob(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kb,r}return s=t.child,t=s.sibling,r=ra(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $S(t,e){return e=d0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $m(t,e,n,r){return r!==null&&bS(r),wc(e,t.child,null,n),t=$S(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=R1(Error(fe(422))),$m(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=d0({mode:"visible",children:r.children},i,0,null),s=_u(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wc(e,t.child,null,o),e.child.memoizedState=Ob(o),e.memoizedState=kb,s);if(!(e.mode&1))return $m(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(fe(419)),r=R1(s,r,void 0),$m(t,e,o,r)}if(a=(o&t.childLanes)!==0,Fr||a){if(r=Cn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ro(t,i),Hi(r,t,i,-1))}return jS(),r=R1(Error(fe(421))),$m(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eH.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zr=Zo(i.nextSibling),ni=e,Ut=!0,Ui=null,t!==null&&(yi[_i++]=qs,yi[_i++]=Hs,yi[_i++]=Pu,qs=t.id,Hs=t.overflow,Pu=e),e=$S(e,r.children),e.flags|=4096,e)}function YR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sb(t.return,e,n)}function k1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YR(t,n,e);else if(t.tag===19)YR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Av(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),k1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Av(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}k1(e,!0,n,null,s);break;case"together":k1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function io(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ku|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=ra(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ra(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bq(t,e,n){switch(e.tag){case 3:YM(e),_c();break;case 5:IM(e);break;case 1:zr(e.type)&&bv(e);break;case 4:AS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ct(Sv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?XM(t,e,n):(Ct(Ht,Ht.current&1),t=io(t,e,n),t!==null?t.sibling:null);Ct(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,KM(t,e,n)}return io(t,e,n)}var ZM,xb,eF,tF;ZM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xb=function(){};eF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cu(Cs.current);var s=null;switch(n){case"input":i=eb(t,i),r=eb(t,r),s=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),s=[];break;case"textarea":i=rb(t,i),r=rb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_v)}sb(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yh.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Yh.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};tF=function(t,e,n,r){n!==r&&(e.flags|=4)};function xd(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zq(t,e,n){var r=e.pendingProps;switch(wS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return zr(e.type)&&wv(),er(e),null;case 3:return r=e.stateNode,bc(),Mt(Br),Mt(dr),RS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(Ub(Ui),Ui=null))),xb(t,e),er(e),null;case 5:PS(e);var i=cu(lf.current);if(n=e.type,t!==null&&e.stateNode!=null)eF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return er(e),null}if(t=cu(Cs.current),Nm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ds]=e,r[af]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<ih.length;i++)Ot(ih[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":sR(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":aR(r,s),Ot("invalid",r)}sb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xm(r.textContent,a,t),i=["children",""+a]):Yh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Sm(r),oR(r,s,!0);break;case"textarea":Sm(r),uR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_v)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ds]=e,t[af]=r,ZM(t,e,!1,!1),e.stateNode=t;e:{switch(o=ob(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<ih.length;i++)Ot(ih[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":sR(t,r),i=eb(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":aR(t,r),i=rb(t,r),Ot("invalid",t);break;default:i=r}sb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?O$(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&R$(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xh(t,u):typeof u=="number"&&Xh(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yh.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&sS(t,s,u,o))}switch(n){case"input":Sm(t),oR(t,r,!1);break;case"textarea":Sm(t),uR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+aa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_v)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)tF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=cu(lf.current),cu(Cs.current),Nm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ds]=e,(s=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:xm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ds]=e,e.stateNode=r}return er(e),null;case 13:if(Mt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Zr!==null&&e.mode&1&&!(e.flags&128))yM(),_c(),e.flags|=98560,s=!1;else if(s=Nm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[ds]=e}else _c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else Ui!==null&&(Ub(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?yn===0&&(yn=3):jS())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return bc(),xb(t,e),t===null&&sf(e.stateNode.containerInfo),er(e),null;case 10:return SS(e.type._context),er(e),null;case 17:return zr(e.type)&&wv(),er(e),null;case 19:if(Mt(Ht),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xd(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Av(t),o!==null){for(e.flags|=128,xd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(Ht,Ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&sn()>Tc&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Av(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ut)return er(e),null}else 2*sn()-s.renderingStartTime>Tc&&n!==1073741824&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=sn(),e.sibling=null,n=Ht.current,Ct(Ht,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return US(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function qq(t,e){switch(wS(e),e.tag){case 1:return zr(e.type)&&wv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bc(),Mt(Br),Mt(dr),RS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PS(e),null;case 13:if(Mt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));_c()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(Ht),null;case 4:return bc(),null;case 10:return SS(e.type._context),null;case 22:case 23:return US(),null;case 24:return null;default:return null}}var Mm=!1,sr=!1,Hq=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function zl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function Nb(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var XR=!1;function Wq(t,e){if(gb=gv,t=sM(),yS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++c===r&&(u=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vb={focusedElem:t,selectionRange:n},gv=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,g=v.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fi(e.type,y),g);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Jt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return v=XR,XR=!1,v}function Th(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nb(e,n,s)}i=i.next}while(i!==r)}}function l0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Db(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nF(t){var e=t.alternate;e!==null&&(t.alternate=null,nF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ds],delete e[af],delete e[wb],delete e[Pq],delete e[Rq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rF(t){return t.tag===5||t.tag===3||t.tag===4}function JR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $b(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_v));else if(r!==4&&(t=t.child,t!==null))for($b(t,e,n),t=t.sibling;t!==null;)$b(t,e,n),t=t.sibling}function Mb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mb(t,e,n),t=t.sibling;t!==null;)Mb(t,e,n),t=t.sibling}var Vn=null,Vi=!1;function Ro(t,e,n){for(n=n.child;n!==null;)iF(t,e,n),n=n.sibling}function iF(t,e,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(t0,n)}catch{}switch(n.tag){case 5:sr||zl(n,e);case 6:var r=Vn,i=Vi;Vn=null,Ro(t,e,n),Vn=r,Vi=i,Vn!==null&&(Vi?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Vi?(t=Vn,n=n.stateNode,t.nodeType===8?T1(t.parentNode,n):t.nodeType===1&&T1(t,n),tf(t)):T1(Vn,n.stateNode));break;case 4:r=Vn,i=Vi,Vn=n.stateNode.containerInfo,Vi=!0,Ro(t,e,n),Vn=r,Vi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nb(n,e,o),i=i.next}while(i!==r)}Ro(t,e,n);break;case 1:if(!sr&&(zl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Jt(n,e,a)}Ro(t,e,n);break;case 21:Ro(t,e,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Ro(t,e,n),sr=r):Ro(t,e,n);break;default:Ro(t,e,n)}}function ZR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hq),e.forEach(function(r){var i=tH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,Vi=!1;break e;case 3:Vn=a.stateNode.containerInfo,Vi=!0;break e;case 4:Vn=a.stateNode.containerInfo,Vi=!0;break e}a=a.return}if(Vn===null)throw Error(fe(160));iF(s,o,i),Vn=null,Vi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Jt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sF(e,t),e=e.sibling}function sF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Di(e,t),ss(t),r&4){try{Th(3,t,t.return),l0(3,t)}catch(y){Jt(t,t.return,y)}try{Th(5,t,t.return)}catch(y){Jt(t,t.return,y)}}break;case 1:Di(e,t),ss(t),r&512&&n!==null&&zl(n,n.return);break;case 5:if(Di(e,t),ss(t),r&512&&n!==null&&zl(n,n.return),t.flags&32){var i=t.stateNode;try{Xh(i,"")}catch(y){Jt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&C$(i,s),ob(a,o);var l=ob(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?O$(i,d):c==="dangerouslySetInnerHTML"?R$(i,d):c==="children"?Xh(i,d):sS(i,c,d,l)}switch(a){case"input":tb(i,s);break;case"textarea":A$(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Xl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Xl(i,!!s.multiple,s.defaultValue,!0):Xl(i,!!s.multiple,s.multiple?[]:"",!1))}i[af]=s}catch(y){Jt(t,t.return,y)}}break;case 6:if(Di(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Jt(t,t.return,y)}}break;case 3:if(Di(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tf(e.containerInfo)}catch(y){Jt(t,t.return,y)}break;case 4:Di(e,t),ss(t);break;case 13:Di(e,t),ss(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(LS=sn())),r&4&&ZR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sr=(l=sr)||c,Di(e,t),sr=l):Di(e,t),ss(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Pe=t,c=t.child;c!==null;){for(d=Pe=c;Pe!==null;){switch(h=Pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Th(4,h,h.return);break;case 1:zl(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Jt(r,n,y)}}break;case 5:zl(h,h.return);break;case 22:if(h.memoizedState!==null){tk(d);continue}}p!==null?(p.return=h,Pe=p):tk(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=k$("display",o))}catch(y){Jt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){Jt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Di(e,t),ss(t),r&4&&ZR(t);break;case 21:break;default:Di(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rF(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xh(i,""),r.flags&=-33);var s=JR(t);Mb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=JR(t);$b(t,a,o);break;default:throw Error(fe(161))}}catch(u){Jt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gq(t,e,n){Pe=t,oF(t)}function oF(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mm;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||sr;a=Mm;var l=sr;if(Mm=o,(sr=u)&&!l)for(Pe=i;Pe!==null;)o=Pe,u=o.child,o.tag===22&&o.memoizedState!==null?nk(i):u!==null?(u.return=o,Pe=u):nk(i);for(;s!==null;)Pe=s,oF(s),s=s.sibling;Pe=i,Mm=a,sr=l}ek(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):ek(t)}}function ek(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||l0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FR(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&tf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}sr||e.flags&512&&Db(e)}catch(h){Jt(e,e.return,h)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function tk(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function nk(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{l0(4,e)}catch(u){Jt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Jt(e,i,u)}}var s=e.return;try{Db(e)}catch(u){Jt(e,s,u)}break;case 5:var o=e.return;try{Db(e)}catch(u){Jt(e,o,u)}}}catch(u){Jt(e,e.return,u)}if(e===t){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var Kq=Math.ceil,kv=fo.ReactCurrentDispatcher,MS=fo.ReactCurrentOwner,Ci=fo.ReactCurrentBatchConfig,ot=0,Cn=null,fn=null,qn=0,Xr=0,ql=Ta(0),yn=0,ff=null,ku=0,c0=0,FS=0,Sh=null,$r=null,LS=0,Tc=1/0,Vs=null,Ov=!1,Fb=null,ta=null,Fm=!1,zo=null,xv=0,Ih=0,Lb=null,Ag=-1,Pg=0;function Tr(){return ot&6?sn():Ag!==-1?Ag:Ag=sn()}function na(t){return t.mode&1?ot&2&&qn!==0?qn&-qn:Oq.transition!==null?(Pg===0&&(Pg=z$()),Pg):(t=vt,t!==0||(t=window.event,t=t===void 0?16:Y$(t.type)),t):1}function Hi(t,e,n,r){if(50<Ih)throw Ih=0,Lb=null,Error(fe(185));fp(t,n,r),(!(ot&2)||t!==Cn)&&(t===Cn&&(!(ot&2)&&(c0|=n),yn===4&&Vo(t,qn)),qr(t,r),n===1&&ot===0&&!(e.mode&1)&&(Tc=sn()+500,o0&&Sa()))}function qr(t,e){var n=t.callbackNode;Oz(t,e);var r=mv(t,t===Cn?qn:0);if(r===0)n!==null&&dR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dR(n),e===1)t.tag===0?kq(rk.bind(null,t)):mM(rk.bind(null,t)),Cq(function(){!(ot&6)&&Sa()}),n=null;else{switch(q$(r)){case 1:n=cS;break;case 4:n=j$;break;case 16:n=pv;break;case 536870912:n=B$;break;default:n=pv}n=pF(n,aF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aF(t,e){if(Ag=-1,Pg=0,ot&6)throw Error(fe(327));var n=t.callbackNode;if(nc()&&t.callbackNode!==n)return null;var r=mv(t,t===Cn?qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nv(t,r);else{e=r;var i=ot;ot|=2;var s=lF();(Cn!==t||qn!==e)&&(Vs=null,Tc=sn()+500,yu(t,e));do try{Xq();break}catch(a){uF(t,a)}while(1);TS(),kv.current=s,ot=i,fn!==null?e=0:(Cn=null,qn=0,e=yn)}if(e!==0){if(e===2&&(i=db(t),i!==0&&(r=i,e=Vb(t,i))),e===1)throw n=ff,yu(t,0),Vo(t,r),qr(t,sn()),n;if(e===6)Vo(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qq(i)&&(e=Nv(t,r),e===2&&(s=db(t),s!==0&&(r=s,e=Vb(t,s))),e===1))throw n=ff,yu(t,0),Vo(t,r),qr(t,sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Ka(t,$r,Vs);break;case 3:if(Vo(t,r),(r&130023424)===r&&(e=LS+500-sn(),10<e)){if(mv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_b(Ka.bind(null,t,$r,Vs),e);break}Ka(t,$r,Vs);break;case 4:if(Vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kq(r/1960))-r,10<r){t.timeoutHandle=_b(Ka.bind(null,t,$r,Vs),r);break}Ka(t,$r,Vs);break;case 5:Ka(t,$r,Vs);break;default:throw Error(fe(329))}}}return qr(t,sn()),t.callbackNode===n?aF.bind(null,t):null}function Vb(t,e){var n=Sh;return t.current.memoizedState.isDehydrated&&(yu(t,e).flags|=256),t=Nv(t,e),t!==2&&(e=$r,$r=n,e!==null&&Ub(e)),t}function Ub(t){$r===null?$r=t:$r.push.apply($r,t)}function Qq(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ki(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vo(t,e){for(e&=~FS,e&=~c0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qi(e),r=1<<n;t[n]=-1,e&=~r}}function rk(t){if(ot&6)throw Error(fe(327));nc();var e=mv(t,0);if(!(e&1))return qr(t,sn()),null;var n=Nv(t,e);if(t.tag!==0&&n===2){var r=db(t);r!==0&&(e=r,n=Vb(t,r))}if(n===1)throw n=ff,yu(t,0),Vo(t,e),qr(t,sn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ka(t,$r,Vs),qr(t,sn()),null}function VS(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(Tc=sn()+500,o0&&Sa())}}function Ou(t){zo!==null&&zo.tag===0&&!(ot&6)&&nc();var e=ot;ot|=1;var n=Ci.transition,r=vt;try{if(Ci.transition=null,vt=1,t)return t()}finally{vt=r,Ci.transition=n,ot=e,!(ot&6)&&Sa()}}function US(){Xr=ql.current,Mt(ql)}function yu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Iq(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(wS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wv();break;case 3:bc(),Mt(Br),Mt(dr),RS();break;case 5:PS(r);break;case 4:bc();break;case 13:Mt(Ht);break;case 19:Mt(Ht);break;case 10:SS(r.type._context);break;case 22:case 23:US()}n=n.return}if(Cn=t,fn=t=ra(t.current,null),qn=Xr=e,yn=0,ff=null,FS=c0=ku=0,$r=Sh=null,lu!==null){for(e=0;e<lu.length;e++)if(n=lu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}lu=null}return t}function uF(t,e){do{var n=fn;try{if(TS(),Sg.current=Rv,Pv){for(var r=Gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pv=!1}if(Ru=0,Tn=vn=Gt=null,Eh=!1,cf=0,MS.current=null,n===null||n.return===null){yn=1,ff=e,fn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=qn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=qR(o);if(p!==null){p.flags&=-257,HR(p,o,a,s,e),p.mode&1&&zR(s,l,e),e=p,u=l;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){zR(s,l,e),jS();break e}u=Error(fe(426))}}else if(Ut&&a.mode&1){var g=qR(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),HR(g,o,a,s,e),bS(Ec(u,a));break e}}s=u=Ec(u,a),yn!==4&&(yn=2),Sh===null?Sh=[s]:Sh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=HM(s,u,e);MR(s,m);break e;case 1:a=u;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ta===null||!ta.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=WM(s,a,e);MR(s,w);break e}}s=s.return}while(s!==null)}dF(n)}catch(E){e=E,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(1)}function lF(){var t=kv.current;return kv.current=Rv,t===null?Rv:t}function jS(){(yn===0||yn===3||yn===2)&&(yn=4),Cn===null||!(ku&268435455)&&!(c0&268435455)||Vo(Cn,qn)}function Nv(t,e){var n=ot;ot|=2;var r=lF();(Cn!==t||qn!==e)&&(Vs=null,yu(t,e));do try{Yq();break}catch(i){uF(t,i)}while(1);if(TS(),ot=n,kv.current=r,fn!==null)throw Error(fe(261));return Cn=null,qn=0,yn}function Yq(){for(;fn!==null;)cF(fn)}function Xq(){for(;fn!==null&&!Ez();)cF(fn)}function cF(t){var e=fF(t.alternate,t,Xr);t.memoizedProps=t.pendingProps,e===null?dF(t):fn=e,MS.current=null}function dF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qq(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,fn=null;return}}else if(n=zq(n,e,Xr),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);yn===0&&(yn=5)}function Ka(t,e,n){var r=vt,i=Ci.transition;try{Ci.transition=null,vt=1,Jq(t,e,n,r)}finally{Ci.transition=i,vt=r}return null}function Jq(t,e,n,r){do nc();while(zo!==null);if(ot&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xz(t,s),t===Cn&&(fn=Cn=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fm||(Fm=!0,pF(pv,function(){return nc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ci.transition,Ci.transition=null;var o=vt;vt=1;var a=ot;ot|=4,MS.current=null,Wq(t,n),sF(n,t),yq(vb),gv=!!gb,vb=gb=null,t.current=n,Gq(n),Tz(),ot=a,vt=o,Ci.transition=s}else t.current=n;if(Fm&&(Fm=!1,zo=t,xv=i),s=t.pendingLanes,s===0&&(ta=null),Cz(n.stateNode),qr(t,sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ov)throw Ov=!1,t=Fb,Fb=null,t;return xv&1&&t.tag!==0&&nc(),s=t.pendingLanes,s&1?t===Lb?Ih++:(Ih=0,Lb=t):Ih=0,Sa(),null}function nc(){if(zo!==null){var t=q$(xv),e=Ci.transition,n=vt;try{if(Ci.transition=null,vt=16>t?16:t,zo===null)var r=!1;else{if(t=zo,zo=null,xv=0,ot&6)throw Error(fe(331));var i=ot;for(ot|=4,Pe=t.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Pe=l;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:Th(8,c,s)}var d=c.child;if(d!==null)d.return=c,Pe=d;else for(;Pe!==null;){c=Pe;var h=c.sibling,p=c.return;if(nF(c),c===l){Pe=null;break}if(h!==null){h.return=p,Pe=h;break}Pe=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Th(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Pe=m;break e}Pe=s.return}}var _=t.current;for(Pe=_;Pe!==null;){o=Pe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Pe=b;else e:for(o=_;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:l0(9,a)}}catch(E){Jt(a,a.return,E)}if(a===o){Pe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Pe=w;break e}Pe=a.return}}if(ot=i,Sa(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(t0,t)}catch{}r=!0}return r}finally{vt=n,Ci.transition=e}}return!1}function ik(t,e,n){e=Ec(n,e),e=HM(t,e,1),t=ea(t,e,1),e=Tr(),t!==null&&(fp(t,1,e),qr(t,e))}function Jt(t,e,n){if(t.tag===3)ik(t,t,n);else for(;e!==null;){if(e.tag===3){ik(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ta===null||!ta.has(r))){t=Ec(n,t),t=WM(e,t,1),e=ea(e,t,1),t=Tr(),e!==null&&(fp(e,1,t),qr(e,t));break}}e=e.return}}function Zq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(qn&n)===n&&(yn===4||yn===3&&(qn&130023424)===qn&&500>sn()-LS?yu(t,0):FS|=n),qr(t,e)}function hF(t,e){e===0&&(t.mode&1?(e=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):e=1);var n=Tr();t=ro(t,e),t!==null&&(fp(t,e,n),qr(t,n))}function eH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hF(t,n)}function tH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),hF(t,n)}var fF;fF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fr=!1,Bq(t,e,n);Fr=!!(t.flags&131072)}else Fr=!1,Ut&&e.flags&1048576&&gM(e,Tv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cg(t,e),t=e.pendingProps;var i=yc(e,dr.current);tc(e,n),i=OS(null,e,r,t,i,n);var s=xS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(s=!0,bv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CS(e),i.updater=a0,e.stateNode=i,i._reactInternals=e,Cb(e,r,t,n),e=Rb(null,e,r,!0,s,n)):(e.tag=0,Ut&&s&&_S(e),pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rH(r),t=Fi(r,t),i){case 0:e=Pb(null,e,r,t,n);break e;case 1:e=KR(null,e,r,t,n);break e;case 11:e=WR(null,e,r,t,n);break e;case 14:e=GR(null,e,r,Fi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Pb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),KR(t,e,r,i,n);case 3:e:{if(YM(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wM(t,e),Cv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ec(Error(fe(423)),e),e=QR(t,e,r,n,i);break e}else if(r!==i){i=Ec(Error(fe(424)),e),e=QR(t,e,r,n,i);break e}else for(Zr=Zo(e.stateNode.containerInfo.firstChild),ni=e,Ut=!0,Ui=null,n=SM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_c(),r===i){e=io(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return IM(e),t===null&&Tb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yb(r,i)?o=null:s!==null&&yb(r,s)&&(e.flags|=32),QM(t,e),pr(t,e,o,n),e.child;case 6:return t===null&&Tb(e),null;case 13:return XM(t,e,n);case 4:return AS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wc(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),WR(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ct(Sv,r._currentValue),r._currentValue=o,s!==null)if(Ki(s.value,o)){if(s.children===i.children&&!Br.current){e=io(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Qs(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Sb(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sb(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tc(e,n),i=Ri(i),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,i=Fi(r,e.pendingProps),i=Fi(r.type,i),GR(t,e,r,i,n);case 15:return GM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Cg(t,e),e.tag=1,zr(r)?(t=!0,bv(e)):t=!1,tc(e,n),EM(e,r,i),Cb(e,r,i,n),Rb(null,e,r,!0,t,n);case 19:return JM(t,e,n);case 22:return KM(t,e,n)}throw Error(fe(156,e.tag))};function pF(t,e){return U$(t,e)}function nH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(t,e,n,r){return new nH(t,e,n,r)}function BS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rH(t){if(typeof t=="function")return BS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aS)return 11;if(t===uS)return 14}return 2}function ra(t,e){var n=t.alternate;return n===null?(n=bi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")BS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dl:return _u(n.children,i,s,e);case oS:o=8,i|=8;break;case Yw:return t=bi(12,n,e,i|2),t.elementType=Yw,t.lanes=s,t;case Xw:return t=bi(13,n,e,i),t.elementType=Xw,t.lanes=s,t;case Jw:return t=bi(19,n,e,i),t.elementType=Jw,t.lanes=s,t;case T$:return d0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b$:o=10;break e;case E$:o=9;break e;case aS:o=11;break e;case uS:o=14;break e;case $o:o=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=bi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _u(t,e,n,r){return t=bi(7,t,r,e),t.lanes=n,t}function d0(t,e,n,r){return t=bi(22,t,r,e),t.elementType=T$,t.lanes=n,t.stateNode={isHidden:!1},t}function O1(t,e,n){return t=bi(6,t,null,e),t.lanes=n,t}function x1(t,e,n){return e=bi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h1(0),this.expirationTimes=h1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zS(t,e,n,r,i,s,o,a,u){return t=new iH(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},CS(s),t}function sH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mF(t){if(!t)return ua;t=t._reactInternals;e:{if(Qu(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(zr(n))return pM(t,n,e)}return e}function gF(t,e,n,r,i,s,o,a,u){return t=zS(n,r,!0,t,i,s,o,a,u),t.context=mF(null),n=t.current,r=Tr(),i=na(n),s=Qs(r,i),s.callback=e??null,ea(n,s,i),t.current.lanes=i,fp(t,i,r),qr(t,r),t}function h0(t,e,n,r){var i=e.current,s=Tr(),o=na(i);return n=mF(n),e.context===null?e.context=n:e.pendingContext=n,e=Qs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ea(i,e,o),t!==null&&(Hi(t,i,o,s),Tg(t,i,o)),o}function Dv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qS(t,e){sk(t,e),(t=t.alternate)&&sk(t,e)}function oH(){return null}var vF=typeof reportError=="function"?reportError:function(t){console.error(t)};function HS(t){this._internalRoot=t}f0.prototype.render=HS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));h0(t,e,null,null)};f0.prototype.unmount=HS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ou(function(){h0(null,t,null,null)}),e[no]=null}};function f0(t){this._internalRoot=t}f0.prototype.unstable_scheduleHydration=function(t){if(t){var e=G$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&Q$(t)}};function WS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ok(){}function aH(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Dv(o);s.call(l)}}var o=gF(e,r,t,0,null,!1,!1,"",ok);return t._reactRootContainer=o,t[no]=o.current,sf(t.nodeType===8?t.parentNode:t),Ou(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Dv(u);a.call(l)}}var u=zS(t,0,!1,null,null,!1,!1,"",ok);return t._reactRootContainer=u,t[no]=u.current,sf(t.nodeType===8?t.parentNode:t),Ou(function(){h0(e,u,n,r)}),u}function m0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Dv(o);a.call(u)}}h0(e,o,t,i)}else o=aH(n,e,t,i,r);return Dv(o)}H$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rh(e.pendingLanes);n!==0&&(dS(e,n|1),qr(e,sn()),!(ot&6)&&(Tc=sn()+500,Sa()))}break;case 13:Ou(function(){var r=ro(t,1);if(r!==null){var i=Tr();Hi(r,t,1,i)}}),qS(t,1)}};hS=function(t){if(t.tag===13){var e=ro(t,134217728);if(e!==null){var n=Tr();Hi(e,t,134217728,n)}qS(t,134217728)}};W$=function(t){if(t.tag===13){var e=na(t),n=ro(t,e);if(n!==null){var r=Tr();Hi(n,t,e,r)}qS(t,e)}};G$=function(){return vt};K$=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};ub=function(t,e,n){switch(e){case"input":if(tb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=s0(r);if(!i)throw Error(fe(90));I$(r),tb(r,i)}}}break;case"textarea":A$(t,n);break;case"select":e=n.value,e!=null&&Xl(t,!!n.multiple,e,!1)}};D$=VS;$$=Ou;var uH={usingClientEntryPoint:!1,Events:[mp,Ll,s0,x$,N$,VS]},Nd={findFiberByHostInstance:uu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lH={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L$(t),t===null?null:t.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||oH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{t0=Lm.inject(lH),Is=Lm}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uH;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WS(e))throw Error(fe(200));return sH(t,e,null,n)};ui.createRoot=function(t,e){if(!WS(t))throw Error(fe(299));var n=!1,r="",i=vF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zS(t,1,!1,null,null,n,!1,r,i),t[no]=e.current,sf(t.nodeType===8?t.parentNode:t),new HS(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=L$(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Ou(t)};ui.hydrate=function(t,e,n){if(!p0(e))throw Error(fe(200));return m0(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!WS(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gF(e,null,t,1,n??null,i,!1,s,o),t[no]=e.current,sf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new f0(e)};ui.render=function(t,e,n){if(!p0(e))throw Error(fe(200));return m0(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!p0(t))throw Error(fe(40));return t._reactRootContainer?(Ou(function(){m0(null,null,t,!1,function(){t._reactRootContainer=null,t[no]=null})}),!0):!1};ui.unstable_batchedUpdates=VS;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!p0(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return m0(t,e,n,!1,r)};ui.version="18.2.0-next-9e3b772b8-20220608";function yF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yF)}catch(t){console.error(t)}}yF(),g$.exports=ui;var Kc=g$.exports;const cH=Rn(Kc);W7(Kc.unstable_batchedUpdates);function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function Qi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$v(t,e)}function Vm(t){return t.charAt(0)==="/"}function N1(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function dH(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Vm(t),s=e&&Vm(e),o=i||s;if(t&&Vm(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,c=r.length;c>=0;c--){var d=r[c];d==="."?N1(r,c):d===".."?(N1(r,c),l++):l&&(N1(r,c),l--)}if(!o)for(;l--;l)r.unshift("..");o&&r[0]!==""&&(!r[0]||!Vm(r[0]))&&r.unshift("");var h=r.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function ak(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function kg(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,s){return kg(i,e[s])});if(typeof t=="object"||typeof e=="object"){var n=ak(t),r=ak(e);return n!==t||r!==e?kg(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return kg(t[i],e[i])})}return!1}var hH=!0;function GS(t,e){if(!hH){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var fH=!0,D1="Invariant failed";function po(t,e){if(!t){if(fH)throw new Error(D1);var n=typeof e=="function"?e():e,r=n?D1+": "+n:D1;throw new Error(r)}}function Ch(t){return t.charAt(0)==="/"?t:"/"+t}function uk(t){return t.charAt(0)==="/"?t.substr(1):t}function pH(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function _F(t,e){return pH(t,e)?t.substr(e.length):t}function wF(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function mH(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Or(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function wr(t,e,n,r){var i;typeof t=="string"?(i=mH(t),i.state=e):(i=je({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=dH(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function gH(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&kg(t.state,e.state)}function KS(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,u,l){if(t!=null){var c=typeof t=="function"?t(o,a):t;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(o){var a=!0;function u(){a&&o.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var bF=!!(typeof window<"u"&&window.document&&window.document.createElement);function EF(t,e){e(window.confirm(t))}function vH(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function yH(){return window.navigator.userAgent.indexOf("Trident")===-1}function _H(){return window.navigator.userAgent.indexOf("Firefox")===-1}function wH(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var lk="popstate",ck="hashchange";function dk(){try{return window.history.state||{}}catch{return{}}}function TF(t){t===void 0&&(t={}),bF||po(!1);var e=window.history,n=vH(),r=!yH(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,u=a===void 0?EF:a,l=i.keyLength,c=l===void 0?6:l,d=t.basename?wF(Ch(t.basename)):"";function h(Y){var F=Y||{},j=F.key,$=F.state,H=window.location,B=H.pathname,T=H.search,D=H.hash,de=B+T+D;return d&&(de=_F(de,d)),wr(de,$,j)}function p(){return Math.random().toString(36).substr(2,c)}var v=KS();function y(Y){je(V,Y),V.length=e.length,v.notifyListeners(V.location,V.action)}function g(Y){wH(Y)||b(h(Y.state))}function m(){b(h(dk()))}var _=!1;function b(Y){if(_)_=!1,y();else{var F="POP";v.confirmTransitionTo(Y,F,u,function(j){j?y({action:F,location:Y}):w(Y)})}}function w(Y){var F=V.location,j=A.indexOf(F.key);j===-1&&(j=0);var $=A.indexOf(Y.key);$===-1&&($=0);var H=j-$;H&&(_=!0,J(H))}var E=h(dk()),A=[E.key];function R(Y){return d+Or(Y)}function x(Y,F){var j="PUSH",$=wr(Y,F,p(),V.location);v.confirmTransitionTo($,j,u,function(H){if(H){var B=R($),T=$.key,D=$.state;if(n)if(e.pushState({key:T,state:D},null,B),o)window.location.href=B;else{var de=A.indexOf(V.location.key),Z=A.slice(0,de+1);Z.push($.key),A=Z,y({action:j,location:$})}else window.location.href=B}})}function G(Y,F){var j="REPLACE",$=wr(Y,F,p(),V.location);v.confirmTransitionTo($,j,u,function(H){if(H){var B=R($),T=$.key,D=$.state;if(n)if(e.replaceState({key:T,state:D},null,B),o)window.location.replace(B);else{var de=A.indexOf(V.location.key);de!==-1&&(A[de]=$.key),y({action:j,location:$})}else window.location.replace(B)}})}function J(Y){e.go(Y)}function oe(){J(-1)}function se(){J(1)}var _e=0;function L(Y){_e+=Y,_e===1&&Y===1?(window.addEventListener(lk,g),r&&window.addEventListener(ck,m)):_e===0&&(window.removeEventListener(lk,g),r&&window.removeEventListener(ck,m))}var q=!1;function K(Y){Y===void 0&&(Y=!1);var F=v.setPrompt(Y);return q||(L(1),q=!0),function(){return q&&(q=!1,L(-1)),F()}}function O(Y){var F=v.appendListener(Y);return L(1),function(){L(-1),F()}}var V={length:e.length,action:"POP",location:E,createHref:R,push:x,replace:G,go:J,goBack:oe,goForward:se,block:K,listen:O};return V}var hk="hashchange",bH={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+uk(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:uk,decodePath:Ch},slash:{encodePath:Ch,decodePath:Ch}};function SF(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Dd(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function EH(t){window.location.hash=t}function $1(t){window.location.replace(SF(window.location.href)+"#"+t)}function TH(t){t===void 0&&(t={}),bF||po(!1);var e=window.history;_H();var n=t,r=n.getUserConfirmation,i=r===void 0?EF:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?wF(Ch(t.basename)):"",u=bH[o],l=u.encodePath,c=u.decodePath;function d(){var F=c(Dd());return a&&(F=_F(F,a)),wr(F)}var h=KS();function p(F){je(Y,F),Y.length=e.length,h.notifyListeners(Y.location,Y.action)}var v=!1,y=null;function g(F,j){return F.pathname===j.pathname&&F.search===j.search&&F.hash===j.hash}function m(){var F=Dd(),j=l(F);if(F!==j)$1(j);else{var $=d(),H=Y.location;if(!v&&g(H,$)||y===Or($))return;y=null,_($)}}function _(F){if(v)v=!1,p();else{var j="POP";h.confirmTransitionTo(F,j,i,function($){$?p({action:j,location:F}):b(F)})}}function b(F){var j=Y.location,$=R.lastIndexOf(Or(j));$===-1&&($=0);var H=R.lastIndexOf(Or(F));H===-1&&(H=0);var B=$-H;B&&(v=!0,oe(B))}var w=Dd(),E=l(w);w!==E&&$1(E);var A=d(),R=[Or(A)];function x(F){var j=document.querySelector("base"),$="";return j&&j.getAttribute("href")&&($=SF(window.location.href)),$+"#"+l(a+Or(F))}function G(F,j){var $="PUSH",H=wr(F,void 0,void 0,Y.location);h.confirmTransitionTo(H,$,i,function(B){if(B){var T=Or(H),D=l(a+T),de=Dd()!==D;if(de){y=T,EH(D);var Z=R.lastIndexOf(Or(Y.location)),xe=R.slice(0,Z+1);xe.push(T),R=xe,p({action:$,location:H})}else p()}})}function J(F,j){var $="REPLACE",H=wr(F,void 0,void 0,Y.location);h.confirmTransitionTo(H,$,i,function(B){if(B){var T=Or(H),D=l(a+T),de=Dd()!==D;de&&(y=T,$1(D));var Z=R.indexOf(Or(Y.location));Z!==-1&&(R[Z]=T),p({action:$,location:H})}})}function oe(F){e.go(F)}function se(){oe(-1)}function _e(){oe(1)}var L=0;function q(F){L+=F,L===1&&F===1?window.addEventListener(hk,m):L===0&&window.removeEventListener(hk,m)}var K=!1;function O(F){F===void 0&&(F=!1);var j=h.setPrompt(F);return K||(q(1),K=!0),function(){return K&&(K=!1,q(-1)),j()}}function V(F){var j=h.appendListener(F);return q(1),function(){q(-1),j()}}var Y={length:e.length,action:"POP",location:A,createHref:x,push:G,replace:J,go:oe,goBack:se,goForward:_e,block:O,listen:V};return Y}function fk(t,e,n){return Math.min(Math.max(t,e),n)}function SH(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,u=a===void 0?6:a,l=KS();function c(x){je(R,x),R.length=R.entries.length,l.notifyListeners(R.location,R.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=fk(o,0,i.length-1),p=i.map(function(x){return typeof x=="string"?wr(x,void 0,d()):wr(x,void 0,x.key||d())}),v=Or;function y(x,G){var J="PUSH",oe=wr(x,G,d(),R.location);l.confirmTransitionTo(oe,J,n,function(se){if(se){var _e=R.index,L=_e+1,q=R.entries.slice(0);q.length>L?q.splice(L,q.length-L,oe):q.push(oe),c({action:J,location:oe,index:L,entries:q})}})}function g(x,G){var J="REPLACE",oe=wr(x,G,d(),R.location);l.confirmTransitionTo(oe,J,n,function(se){se&&(R.entries[R.index]=oe,c({action:J,location:oe}))})}function m(x){var G=fk(R.index+x,0,R.entries.length-1),J="POP",oe=R.entries[G];l.confirmTransitionTo(oe,J,n,function(se){se?c({action:J,location:oe,index:G}):c()})}function _(){m(-1)}function b(){m(1)}function w(x){var G=R.index+x;return G>=0&&G<R.entries.length}function E(x){return x===void 0&&(x=!1),l.setPrompt(x)}function A(x){return l.appendListener(x)}var R={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:v,push:y,replace:g,go:m,goBack:_,goForward:b,canGo:w,block:E,listen:A};return R}var M1=1073741823,pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function IH(){var t="__global_unique_id__";return pk[t]=(pk[t]||0)+1}function CH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function AH(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function PH(t){return Array.isArray(t)?t[0]:t}function RH(t,e){var n,r,i="__create-react-context-"+IH()+"__",s=function(a){Qi(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.emitter=AH(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},l.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,v;CH(h,p)?v=0:(v=typeof e=="function"?e(h,p):M1,v|=0,v!==0&&this.emitter.set(d.value,v))}},l.render=function(){return this.props.children},u}(S.Component);s.childContextTypes=(n={},n[i]=I.object.isRequired,n);var o=function(a){Qi(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(d,h){var p=c.observedBits|0;p&h&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h??M1},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??M1},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return PH(this.props.children)(this.state.value)},u}(S.Component);return o.contextTypes=(r={},r[i]=I.object,r),{Provider:s,Consumer:o}}var kH=Be.createContext||RH,Qc={exports:{}},OH=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Mv=OH;Qc.exports=AF;Qc.exports.parse=QS;Qc.exports.compile=NH;Qc.exports.tokensToFunction=IF;Qc.exports.tokensToRegExp=CF;var xH=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function QS(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=xH.exec(t))!=null;){var u=a[0],l=a[1],c=a.index;if(s+=t.slice(i,c),i=c+u.length,l){s+=l[1];continue}var d=t[i],h=a[2],p=a[3],v=a[4],y=a[5],g=a[6],m=a[7];s&&(n.push(s),s="");var _=h!=null&&d!=null&&d!==h,b=g==="+"||g==="*",w=g==="?"||g==="*",E=a[2]||o,A=v||y;n.push({name:p||r++,prefix:h||"",delimiter:E,optional:w,repeat:b,partial:_,asterisk:!!m,pattern:A?MH(A):m?".*":"[^"+Og(E)+"]+?"})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function NH(t,e){return IF(QS(t,e),e)}function DH(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function $H(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function IF(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",XS(e)));return function(i,s){for(var o="",a=i||{},u=s||{},l=u.pretty?DH:encodeURIComponent,c=0;c<t.length;c++){var d=t[c];if(typeof d=="string"){o+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Mv(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var v=0;v<h.length;v++){if(p=l(h[v]),!n[c].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(v===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?$H(h):l(h),!n[c].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}return o}}function Og(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function MH(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function YS(t,e){return t.keys=e,t}function XS(t){return t&&t.sensitive?"":"i"}function FH(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return YS(t,e)}function LH(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(AF(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",XS(n));return YS(s,e)}function VH(t,e,n){return CF(QS(t,n),e,n)}function CF(t,e,n){Mv(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Og(a);else{var u=Og(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",s+=l}}var c=Og(n.delimiter||"/"),d=s.slice(-c.length)===c;return r||(s=(d?s.slice(0,-c.length):s)+"(?:"+c+"(?=$))?"),i?s+="$":s+=r&&d?"":"(?="+c+"|$)",YS(new RegExp("^"+s,XS(n)),e)}function AF(t,e,n){return Mv(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?FH(t,e):Mv(t)?LH(t,e,n):VH(t,e,n)}var UH=Qc.exports;const PF=Rn(UH);var RF=function(e){var n=kH();return n.displayName=e,n},kF=RF("Router-History"),Os=RF("Router"),vp=function(t){Qi(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Be.createElement(Os.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Be.createElement(kF.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Be.Component);Be.Component;var jH=function(t){Qi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(Be.Component),F1={},BH=1e4,mk=0;function zH(t){if(F1[t])return F1[t];var e=PF.compile(t);return mk<BH&&(F1[t]=e,mk++),e}function gk(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:zH(t)(e,{pretty:!0})}function so(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return Be.createElement(Os.Consumer,null,function(s){s||po(!1);var o=s.history,a=s.staticContext,u=i?o.push:o.replace,l=wr(e?typeof n=="string"?gk(n,e.params):je({},n,{pathname:gk(n.pathname,e.params)}):n);return a?(u(l),null):f(jH,{onMount:function(){u(l)},onUpdate:function(d,h){var p=wr(h.to);gH(p,je({},l,{key:p.key}))||u(l)},to:n})})}var vk={},qH=1e4,yk=0;function HH(t,e){var n=""+e.end+e.strict+e.sensitive,r=vk[n]||(vk[n]={});if(r[t])return r[t];var i=[],s=PF(t,i,e),o={regexp:s,keys:i};return yk<qH&&(r[t]=o,yk++),o}function JS(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=HH(h,{end:s,strict:a,sensitive:l}),v=p.regexp,y=p.keys,g=v.exec(t);if(!g)return null;var m=g[0],_=g.slice(1),b=t===m;return s&&!b?null:{path:h,url:h==="/"&&m===""?"/":m,isExact:b,params:y.reduce(function(w,E,A){return w[E.name]=_[A],w},{})}},null)}function WH(t){return Be.Children.count(t)===0}var as=function(t){Qi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Be.createElement(Os.Consumer,null,function(s){s||po(!1);var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?JS(o.pathname,i.props):s.match,u=je({},s,{location:o,match:a}),l=i.props,c=l.children,d=l.component,h=l.render;return Array.isArray(c)&&WH(c)&&(c=null),Be.createElement(Os.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:d?Be.createElement(d,u):h?h(u):null:typeof c=="function"?c(u):null)})},e}(Be.Component);function ZS(t){return t.charAt(0)==="/"?t:"/"+t}function GH(t,e){return t?je({},e,{pathname:ZS(t)+e.pathname}):e}function KH(t,e){if(!t)return e;var n=ZS(t);return e.pathname.indexOf(n)!==0?e:je({},e,{pathname:e.pathname.substr(n.length)})}function _k(t){return typeof t=="string"?t:Or(t)}function L1(t){return function(){po(!1)}}function wk(){}Be.Component;var QH=function(t){Qi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Be.createElement(Os.Consumer,null,function(s){s||po(!1);var o=i.props.location||s.location,a,u;return Be.Children.forEach(i.props.children,function(l){if(u==null&&Be.isValidElement(l)){a=l;var c=l.props.path||l.props.from;u=c?JS(o.pathname,je({},l.props,{path:c})):s.match}}),u?Be.cloneElement(a,{location:o,computedMatch:u}):null})},e}(Be.Component);function Ia(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var s=i.wrappedComponentRef,o=Gi(i,["wrappedComponentRef"]);return Be.createElement(Os.Consumer,null,function(a){return a||po(!1),f(t,{...o,...a,ref:s})})};return n.displayName=e,n.WrappedComponent=t,cv(n,t)}var eI=Be.useContext;function ci(){return eI(kF)}function g0(){return eI(Os).location}function YH(){var t=eI(Os).match;return t?t.params:{}}Be.Component;Be.Component;var jb=function(e,n){return typeof e=="function"?e(n):e},Bb=function(e,n){return typeof e=="string"?wr(e,null,null,n):e},tI=function(e){return e},Sc=Be.forwardRef;typeof Sc>"u"&&(Sc=tI);function XH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var JH=Sc(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=Gi(t,["innerRef","navigate","onClick"]),o=s.target,a=je({},s,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!o||o==="_self")&&!XH(l)&&(l.preventDefault(),r())}});return tI!==Sc?a.ref=e||n:a.ref=n,f("a",{...a})}),Sr=Sc(function(t,e){var n=t.component,r=n===void 0?JH:n,i=t.replace,s=t.to,o=t.innerRef,a=Gi(t,["component","replace","to","innerRef"]);return Be.createElement(Os.Consumer,null,function(u){u||po(!1);var l=u.history,c=Bb(jb(s,u.location),u.location),d=c?l.createHref(c):"",h=je({},a,{href:d,navigate:function(){var v=jb(s,u.location),y=Or(u.location)===Or(Bb(v)),g=i||y?l.replace:l.push;g(v)}});return tI!==Sc?h.ref=e||o:h.innerRef=o,Be.createElement(r,h)})}),OF=function(e){return e},Fv=Be.forwardRef;typeof Fv>"u"&&(Fv=OF);function ZH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}var js=Fv(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,u=t.exact,l=t.isActive,c=t.location,d=t.sensitive,h=t.strict,p=t.style,v=t.to,y=t.innerRef,g=Gi(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Be.createElement(Os.Consumer,null,function(m){m||po(!1);var _=c||m.location,b=Bb(jb(v,_),_),w=b.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=E?JS(_.pathname,{path:E,exact:u,sensitive:d,strict:h}):null,R=!!(l?l(A,_):A),x=typeof a=="function"?a(R):a,G=typeof p=="function"?p(R):p;R&&(x=ZH(x,s),G=je({},G,o));var J=je({"aria-current":R&&r||null,className:x,style:G,to:b},g);return OF!==Fv?J.ref=e||y:J.innerRef=y,f(Sr,{...J})})}),eW=S.createContext({});const xF=eW;function tW(t){if(Array.isArray(t))return t}function nW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NF(t,e){if(t){if(typeof t=="string")return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(t,e)}}function rW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){return tW(t)||nW(t,e)||NF(t,e)||rW()}function mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ca(t,e){if(t==null)return{};var n=Gi(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var $F={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var u in s)e.call(s,u)&&s[u]&&r.push(u);else r.push(s.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($F);var iW=$F.exports;const sW=Rn(iW);function Ai(t,e){oW(t)&&(t="100%");var n=aW(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function oW(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function aW(t){return typeof t=="string"&&t.indexOf("%")!==-1}function uW(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Um(t){return t<=1?"".concat(Number(t)*100,"%"):t}function V1(t){return t.length===1?"0"+t:String(t)}function lW(t,e,n){return{r:Ai(t,255)*255,g:Ai(e,255)*255,b:Ai(n,255)*255}}function U1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cW(t,e,n){var r,i,s;if(t=Ai(t,360),e=Ai(e,100),n=Ai(n,100),e===0)i=n,s=n,r=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=U1(a,o,t+1/3),i=U1(a,o,t),s=U1(a,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function dW(t,e,n){t=Ai(t,255),e=Ai(e,255),n=Ai(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=r,a=r-i,u=r===0?0:a/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:u,v:o}}function hW(t,e,n){t=Ai(t,360)*6,e=Ai(e,100),n=Ai(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6,l=[n,o,s,s,a,n][u],c=[a,n,n,o,s,s][u],d=[s,s,a,n,n,o][u];return{r:l*255,g:c*255,b:d*255}}function fW(t,e,n,r){var i=[V1(Math.round(t).toString(16)),V1(Math.round(e).toString(16)),V1(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function bk(t){return Yr(t)/255}function Yr(t){return parseInt(t,16)}var Ek={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $d(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=gW(t)),typeof t=="object"&&(Fs(t.r)&&Fs(t.g)&&Fs(t.b)?(e=lW(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fs(t.h)&&Fs(t.s)&&Fs(t.v)?(r=Um(t.s),i=Um(t.v),e=hW(t.h,r,i),o=!0,a="hsv"):Fs(t.h)&&Fs(t.s)&&Fs(t.l)&&(r=Um(t.s),s=Um(t.l),e=cW(t.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=uW(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var pW="[-\\+]?\\d+%?",mW="[-\\+]?\\d*\\.\\d+%?",qo="(?:".concat(mW,")|(?:").concat(pW,")"),j1="[\\s|\\(]+(".concat(qo,")[,|\\s]+(").concat(qo,")[,|\\s]+(").concat(qo,")\\s*\\)?"),B1="[\\s|\\(]+(".concat(qo,")[,|\\s]+(").concat(qo,")[,|\\s]+(").concat(qo,")[,|\\s]+(").concat(qo,")\\s*\\)?"),$i={CSS_UNIT:new RegExp(qo),rgb:new RegExp("rgb"+j1),rgba:new RegExp("rgba"+B1),hsl:new RegExp("hsl"+j1),hsla:new RegExp("hsla"+B1),hsv:new RegExp("hsv"+j1),hsva:new RegExp("hsva"+B1),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function gW(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Ek[t])t=Ek[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=$i.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=$i.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$i.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=$i.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$i.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=$i.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$i.hex8.exec(t),n?{r:Yr(n[1]),g:Yr(n[2]),b:Yr(n[3]),a:bk(n[4]),format:e?"name":"hex8"}:(n=$i.hex6.exec(t),n?{r:Yr(n[1]),g:Yr(n[2]),b:Yr(n[3]),format:e?"name":"hex"}:(n=$i.hex4.exec(t),n?{r:Yr(n[1]+n[1]),g:Yr(n[2]+n[2]),b:Yr(n[3]+n[3]),a:bk(n[4]+n[4]),format:e?"name":"hex8"}:(n=$i.hex3.exec(t),n?{r:Yr(n[1]+n[1]),g:Yr(n[2]+n[2]),b:Yr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Fs(t){return!!$i.CSS_UNIT.exec(String(t))}var jm=2,Tk=.16,vW=.05,yW=.05,_W=.15,MF=5,FF=4,wW=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Sk(t){var e=t.r,n=t.g,r=t.b,i=dW(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Bm(t){var e=t.r,n=t.g,r=t.b;return"#".concat(fW(e,n,r,!1))}function bW(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function Ik(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-jm*e:Math.round(t.h)+jm*e:r=n?Math.round(t.h)+jm*e:Math.round(t.h)-jm*e,r<0?r+=360:r>=360&&(r-=360),r}function Ck(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Tk*e:e===FF?r=t.s+Tk:r=t.s+vW*e,r>1&&(r=1),n&&e===MF&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Ak(t,e,n){var r;return n?r=t.v+yW*e:r=t.v-_W*e,r>1&&(r=1),Number(r.toFixed(2))}function qb(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=$d(t),i=MF;i>0;i-=1){var s=Sk(r),o=Bm($d({h:Ik(s,i,!0),s:Ck(s,i,!0),v:Ak(s,i,!0)}));n.push(o)}n.push(Bm(r));for(var a=1;a<=FF;a+=1){var u=Sk(r),l=Bm($d({h:Ik(u,a),s:Ck(u,a),v:Ak(u,a)}));n.push(l)}return e.theme==="dark"?wW.map(function(c){var d=c.index,h=c.opacity,p=Bm(bW($d(e.backgroundColor||"#141414"),$d(n[d]),h*100));return p}):n}var z1={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xg={},q1={};Object.keys(z1).forEach(function(t){xg[t]=qb(z1[t]),xg[t].primary=xg[t][5],q1[t]=qb(z1[t],{theme:"dark",backgroundColor:"#141414"}),q1[t].primary=q1[t][5]});var EW=xg.blue;function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function TW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function SW(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var Rk="data-rc-order",kk="data-rc-priority",IW="rc-util-key",Hb=new Map;function LF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):IW}function nI(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function CW(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function VF(t){return Array.from((Hb.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function UF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!TW())return null;var n=e.csp,r=e.prepend,i=e.priority,s=i===void 0?0:i,o=CW(r),a=o==="prependQueue",u=document.createElement("style");u.setAttribute(Rk,o),a&&s&&u.setAttribute(kk,"".concat(s)),n!=null&&n.nonce&&(u.nonce=n==null?void 0:n.nonce),u.innerHTML=t;var l=nI(e),c=l.firstChild;if(r){if(a){var d=VF(l).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(Rk)))return!1;var p=Number(h.getAttribute(kk)||0);return s>=p});if(d.length)return l.insertBefore(u,d[d.length-1].nextSibling),u}l.insertBefore(u,c)}else l.appendChild(u);return u}function AW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=nI(e);return VF(n).find(function(r){return r.getAttribute(LF(e))===t})}function PW(t,e){var n=Hb.get(t);if(!n||!SW(document,n)){var r=UF("",e),i=r.parentNode;Hb.set(t,i),t.removeChild(r)}}function RW(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=nI(n);PW(r,n);var i=AW(e,n);if(i){var s,o;if((s=n.csp)!==null&&s!==void 0&&s.nonce&&i.nonce!==((o=n.csp)===null||o===void 0?void 0:o.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var u=UF(t,n);return u.setAttribute(LF(n),e),u}function jF(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function kW(t){return jF(t)instanceof ShadowRoot}function OW(t){return kW(t)?jF(t):null}var Wb={},xW=function(e){};function NW(t,e){}function DW(t,e){}function $W(){Wb={}}function BF(t,e,n){!e&&!Wb[n]&&(t(!1,n),Wb[n]=!0)}function v0(t,e){BF(NW,t,e)}function MW(t,e){BF(DW,t,e)}v0.preMessage=xW;v0.resetWarned=$W;v0.noteOnce=MW;function FW(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function LW(t,e){v0(t,"[@ant-design/icons] ".concat(e))}function Ok(t){return pf(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(pf(t.icon)==="object"||typeof t.icon=="function")}function xk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[FW(n)]=r}return e},{})}function Gb(t,e,n){return n?Be.createElement(t.tag,ys(ys({key:e},xk(t.attrs)),n),(t.children||[]).map(function(r,i){return Gb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Be.createElement(t.tag,ys({key:e},xk(t.attrs)),(t.children||[]).map(function(r,i){return Gb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function zF(t){return qb(t)[0]}function qF(t){return t?Array.isArray(t)?t:[t]:[]}var VW=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,UW=function(e){var n=S.useContext(xF),r=n.csp,i=n.prefixCls,s=VW;i&&(s=s.replace(/anticon/g,i)),S.useEffect(function(){var o=e.current,a=OW(o);RW(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},jW=["icon","className","onClick","style","primaryColor","secondaryColor"],Ah={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function BW(t){var e=t.primaryColor,n=t.secondaryColor;Ah.primaryColor=e,Ah.secondaryColor=n||zF(e),Ah.calculated=!!n}function zW(){return ys({},Ah)}var y0=function(e){var n=e.icon,r=e.className,i=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,u=Ca(e,jW),l=S.useRef(),c=Ah;if(o&&(c={primaryColor:o,secondaryColor:a||zF(o)}),UW(l),LW(Ok(n),"icon should be icon definiton, but got ".concat(n)),!Ok(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=ys(ys({},d),{},{icon:d.icon(c.primaryColor,c.secondaryColor)})),Gb(d.icon,"svg-".concat(d.name),ys(ys({className:r,onClick:i,style:s,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:l}))};y0.displayName="IconReact";y0.getTwoToneColors=zW;y0.setTwoToneColors=BW;const rI=y0;function HF(t){var e=qF(t),n=DF(e,2),r=n[0],i=n[1];return rI.setTwoToneColors({primaryColor:r,secondaryColor:i})}function qW(){var t=rI.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var HW=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];HF(EW.primary);var _0=S.forwardRef(function(t,e){var n,r=t.className,i=t.icon,s=t.spin,o=t.rotate,a=t.tabIndex,u=t.onClick,l=t.twoToneColor,c=Ca(t,HW),d=S.useContext(xF),h=d.prefixCls,p=h===void 0?"anticon":h,v=d.rootClassName,y=sW(v,p,(n={},mi(n,"".concat(p,"-").concat(i.name),!!i.name),mi(n,"".concat(p,"-spin"),!!s||i.name==="loading"),n),r),g=a;g===void 0&&u&&(g=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,_=qF(l),b=DF(_,2),w=b[0],E=b[1];return f("span",{role:"img","aria-label":i.name,...c,ref:e,tabIndex:g,onClick:u,className:y,children:f(rI,{icon:i,primaryColor:w,secondaryColor:E,style:m})})});_0.displayName="AntdIcon";_0.getTwoToneColor=qW;_0.setTwoToneColor=HF;const On=_0;var WW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const GW=WW;var KW=function(e,n){return f(On,{...e,ref:n,icon:GW})};const w0=S.forwardRef(KW);var QW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const YW=QW;var XW=function(e,n){return f(On,{...e,ref:n,icon:YW})};const yp=S.forwardRef(XW);var JW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const ZW=JW;var eG=function(e,n){return f(On,{...e,ref:n,icon:ZW})};const _p=S.forwardRef(eG);var tG={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const nG=tG;var rG=function(e,n){return f(On,{...e,ref:n,icon:nG})};const zm=S.forwardRef(rG);var iG={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const sG=iG;var oG=function(e,n){return f(On,{...e,ref:n,icon:sG})};const WF=S.forwardRef(oG);var aG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const uG=aG;var lG=function(e,n){return f(On,{...e,ref:n,icon:uG})};const cG=S.forwardRef(lG);var dG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const hG=dG;var fG=function(e,n){return f(On,{...e,ref:n,icon:hG})};const Nk=S.forwardRef(fG);var pG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"};const mG=pG;var gG=function(e,n){return f(On,{...e,ref:n,icon:mG})};const vG=S.forwardRef(gG);var yG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const _G=yG;var wG=function(e,n){return f(On,{...e,ref:n,icon:_G})};const GF=S.forwardRef(wG);var bG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"};const EG=bG;var TG=function(e,n){return f(On,{...e,ref:n,icon:EG})};const SG=S.forwardRef(TG);var IG={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const CG=IG;var AG=function(e,n){return f(On,{...e,ref:n,icon:CG})};const hr=S.forwardRef(AG);var PG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const RG=PG;var kG=function(e,n){return f(On,{...e,ref:n,icon:RG})};const OG=S.forwardRef(kG);var xG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const NG=xG;var DG=function(e,n){return f(On,{...e,ref:n,icon:NG})};const $G=S.forwardRef(DG);var MG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const FG=MG;var LG=function(e,n){return f(On,{...e,ref:n,icon:FG})};const KF=S.forwardRef(LG);var VG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const UG=VG;var jG=function(e,n){return f(On,{...e,ref:n,icon:UG})};const BG=S.forwardRef(jG);var zG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0014.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0015.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 01512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 01-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z"}}]},name:"shop",theme:"outlined"};const qG=zG;var HG=function(e,n){return f(On,{...e,ref:n,icon:qG})};const WG=S.forwardRef(HG);var GG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"}}]},name:"shopping",theme:"outlined"};const KG=GG;var QG=function(e,n){return f(On,{...e,ref:n,icon:KG})};const YG=S.forwardRef(QG);var XG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const JG=XG;var ZG=function(e,n){return f(On,{...e,ref:n,icon:JG})};const eK=S.forwardRef(ZG),iI="GET_PRODUCTS",sI="SEARCH_PRODUCT",QF="SEARCH_PRODUCT_SUCCESS",YF="GET_PRODUCTS_SUCCESS",oI="ADD_PRODUCT",XF="ADD_PRODUCT_SUCCESS",aI="REMOVE_PRODUCT",JF="REMOVE_PRODUCT_SUCCESS",uI="EDIT_PRODUCT",ZF="EDIT_PRODUCT_SUCCESS",eL="CLEAR_SEARCH_STATE",tL="TOGGLE_DARK_MODE",nL="SET_BASKET_ITEMS",rL="ADD_TO_BASKET",iL="REMOVE_FROM_BASKET",sL="CLEAR_BASKET",oL="ADD_QTY_ITEM",aL="MINUS_QTY_ITEM",uL="SET_CHECKOUT_SHIPPING_DETAILS",lL="SET_CHECKOUT_PAYMENT_DETAILS",cL="RESET_CHECKOUT",dL="SET_PURCHASED_ITEMS",lI="SIGNIN",hL="SIGNIN_SUCCESS",cI="SIGNUP",dI="SIGNOUT",fL="SIGNOUT_SUCCESS",pL="SET_AUTH_STATUS",hI="SIGNIN_WITH_GOOGLE",fI="SIGNIN_WITH_FACEBOOK",mL="SIGNIN_WITH_GITHUB",tK="ON_AUTHSTATE_CHANGED",gL="SET_AUTH_PERSISTENCE",pI="ON_AUTHSTATE_SUCCESS",mI="ON_AUTHSTATE_FAIL",gI="RESET_PASSWORD",vL="UPDATE_EMAIL",yL="SET_PROFILE",vI="UPDATE_PROFILE",_L="UPDATE_PROFILE_SUCCESS",wL="CLEAR_PROFILE",nK="SET_TEXT_FILTER",rK="SET_BRAND_FILTER",iK="SET_MIN_PRICE_FILTER",sK="SET_MAX_PRICE_FILTER",bL="RESET_FILTER",EL="APPLY_FILTER",TL="CLEAR_RECENT_SEARCH",SL="REMOVE_SELECTED_RECENT",oK="GET_USER",aK="ADD_USER",uK="DELETE_USER",lK="EDIT_USER",IL="CHANGE_USER_ROLE",CL="LOADING",AL="IS_AUTHENTICATING",PL="SET_REQUEST_STATUS",cK=(t,e)=>({type:lI,payload:{email:t,password:e}}),dK=()=>({type:hI}),hK=()=>({type:fI}),fK=t=>({type:cI,payload:t}),Dk=t=>({type:hL,payload:t}),pK=()=>({type:dI}),$k=()=>({type:fL}),mK=t=>({type:pI,payload:t}),gK=t=>({type:mI,payload:t}),vK=t=>({type:gI,payload:t}),RL=()=>{const{profile:t,isAuthenticating:e}=Xe(c=>({profile:c.profile,isAuthenticating:c.app.isAuthenticating})),n=Xe(c=>c.darkMode),i=Object.values(n)[0],s=S.useRef(null),o=zt(),[a,u]=S.useState(!1);return f("button",{className:`user-nav ${a?"user-sub-open":""} ${i?"dark-mode":""} user-profile`,onClick:()=>{u(!a)},onKeyDown:()=>{},ref:s,role:"button",tabIndex:0,style:{borderRadius:"2em"},children:e?k(_n,{children:[f("span",{children:"Signing Out"}),"",f(hr,{})]}):k(_n,{children:[f("h5",{className:"text-overflow-ellipsis",children:t.fullname&&t.fullname.split(" ")[0]}),f("div",{className:"user-nav-img-wrapper",children:f("img",{alt:"",className:"user-nav-img",src:t.avatar})}),f(cG,{style:{fontSize:"1.2rem",marginLeft:"1rem"}}),k("div",{className:`user-nav-sub ${i?"dark-mode":""}`,style:i?{hover:""}:{},children:[t.role!=="ADMIN"&&k(Sr,{to:Ly,className:`user-nav-sub-link ${i?"dark-mode":""}`,children:["View Account",f(eK,{})]}),k("h6",{className:"user-nav-sub-link margin-0 d-flex",onClick:()=>o(pK()),role:"presentation",children:["Sign Out",f(OG,{})]})]})]})})};RL.propTypes={profile:I.object.isRequired};const yI=Ia(RL),yK=()=>{const{isAuthenticating:t,profile:e}=Xe(n=>({isAuthenticating:n.app.isAuthenticating,profile:n.profile}));return k("nav",{className:"navigation navigation-admin",children:[f("div",{className:"logo",children:k(Sr,{to:Vy,style:{display:"flex",alignItems:"center"},children:[f("img",{alt:"Logo",src:BT}),f("h3",{children:"DASHBOARD"})]})}),f("ul",{className:"navigation-menu",children:f("li",{className:"navigation-menu-item",children:f(yI,{isAuthenticating:t,profile:e})})})]})},_K=()=>f("aside",{className:"sidenavigation",children:k("div",{className:"sidenavigation-wrapper",children:[f("div",{className:"sidenavigation-item",children:f(js,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:mh,children:"Products"})}),f("div",{className:"sidenavigation-item",children:f(js,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:LT,children:"Add Product"})}),f("div",{className:"sidenavigation-item",children:f(js,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:T7,children:"Users"})}),f("div",{className:"sidenavigation-item",children:f(js,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:I7})})]})}),_I=({count:t,children:e})=>k("div",{className:"badge",children:[e,t>=1&&f("span",{className:"badge-count",children:t})]});_I.propTypes={count:I.number.isRequired,children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};class Yu extends S.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){console.log(e)}render(){const{hasError:e}=this.state,{children:n}=this.props;return e?f("div",{className:"loader",children:f("h3",{children:":( Algo salio mal!"})}):n}}Yu.propTypes={children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};const kL=({availableColors:t,onSelectedColorChange:e})=>{const[n,r]=S.useState(""),i=s=>{r(s),e(s)};return f("div",{className:"color-chooser",children:t.map(s=>f("div",{className:n===s?"color-item color-item-selected":"color-item",onClick:()=>i(s),style:{backgroundColor:s},role:"presentation"},s))})};kL.propTypes={availableColors:I.arrayOf(I.string).isRequired,onSelectedColorChange:I.func.isRequired};const wK=t=>{const e=new Date(t),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=e.getDate(),i=e.getMonth(),s=e.getFullYear();return`${n[i]} ${r}, ${s}`},oo=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),OL=t=>!t||(t==null?void 0:t.length)===0?0:t.reduce((n,r)=>n+r,0).toFixed(2),Ei=(t,e="info")=>{const n=document.querySelector(".toast");n&&document.body.removeChild(n);const r=document.createElement("div"),i=document.createElement("span");r.className=`toast ${e==="info"?"toast-info":e==="success"?"toast-success":"toast-error"}`,i.className="toast-msg",i.textContent=t,r.appendChild(i),document.body.appendChild(r),setTimeout(()=>{try{document.body.removeChild(r)}catch(s){console.log(s)}},3e3)},Mk=(t=[])=>({type:nL,payload:t}),bK=t=>({type:rL,payload:t}),xL=t=>({type:iL,payload:t}),NL=()=>({type:sL}),EK=t=>({type:oL,payload:t}),TK=t=>({type:aL,payload:t}),DL=()=>{const{basket:t}=Xe(i=>({basket:i.basket})),e=zt(),n=i=>!!t.find(s=>s.id===i);return{basket:t,isItemOnBasket:n,addToBasket:i=>{n(i.id)?(e(xL(i.id)),Ei("Item removed from basket","info")):(e(bK(i)),Ei("Item added to basket","success"))}}},Xu=(t=!1)=>{const[e,n]=S.useState(t);return S.useEffect(()=>(n(!0),()=>{n(!1)}),[]),e},Yn=t=>{S.useLayoutEffect(()=>{t?document.title=t:document.title="PF - eCommerce"},[t])};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ML={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($L(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new IK;const h=s<<2|a>>4;if(r.push(h),l!==64){const p=a<<4&240|l>>2;if(r.push(p),d!==64){const v=l<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CK=function(t){const e=$L(t);return ML.encodeByteArray(e,!0)},Lv=function(t){return CK(t).replace(/\./g,"")},FL=function(t){try{return ML.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AK(n)||(t[n]=Vv(t[n],e[n]));return t}function AK(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=()=>PK().__FIREBASE_DEFAULTS__,kK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FL(t[1]);return e&&JSON.parse(e)},wI=()=>{try{return RK()||kK()||OK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LL=()=>{var t;return(t=wI())===null||t===void 0?void 0:t.config},xK=t=>{var e;return(e=wI())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lv(JSON.stringify(n)),Lv(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function b0(){var t;const e=(t=wI())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $K(){return typeof self=="object"&&self.self===self}function UL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jL(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MK(){return!b0()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mf(){try{return typeof indexedDB=="object"}catch{return!1}}function FK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LK,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ar(i,a,r)}}function VK(t,e){return t.replace(UK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UK=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lk(s)&&Lk(o)){if(!Kb(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BL(t,e){const n=new BK(t,e);return n.subscribe.bind(n)}class BK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H1),i.error===void 0&&(i.error=H1),i.complete===void 0&&(i.complete=H1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WK(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HK(t){return t===Qa?void 0:t}function WK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=[];var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const zL={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},KK=Ze.INFO,QK={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},YK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=KK,this._logHandler=YK,this._userLogHandler=null,EI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}function XK(t){EI.forEach(e=>{e.setLogLevel(t)})}function JK(t,e){for(const n of EI){let r=null;e&&e.level&&(r=zL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:Ze[s].toLowerCase(),message:a,args:o,type:i.name})}}}const ZK=(t,e)=>e.some(n=>t instanceof n);let Vk,Uk;function eQ(){return Vk||(Vk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tQ(){return Uk||(Uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qL=new WeakMap,Qb=new WeakMap,HL=new WeakMap,W1=new WeakMap,TI=new WeakMap;function nQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ia(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qL.set(n,t)}).catch(()=>{}),TI.set(e,t),e}function rQ(t){if(Qb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qb.set(t,e)}let Yb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iQ(t){Yb=t(Yb)}function sQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(G1(this),e,...n);return HL.set(r,e.sort?e.sort():[e]),ia(r)}:tQ().includes(t)?function(...e){return t.apply(G1(this),e),ia(qL.get(this))}:function(...e){return ia(t.apply(G1(this),e))}}function oQ(t){return typeof t=="function"?sQ(t):(t instanceof IDBTransaction&&rQ(t),ZK(t,eQ())?new Proxy(t,Yb):t)}function ia(t){if(t instanceof IDBRequest)return nQ(t);if(W1.has(t))return W1.get(t);const e=oQ(t);return e!==t&&(W1.set(t,e),TI.set(e,t)),e}const G1=t=>TI.get(t);function aQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ia(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ia(o.result),u.oldVersion,u.newVersion,ia(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const uQ=["get","getKey","getAll","getAllKeys","count"],lQ=["put","add","delete","clear"],K1=new Map;function jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K1.get(e))return K1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uQ.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return K1.set(e,s),s}iQ(t=>({...t,get:(e,n,r)=>jk(e,n)||t.get(e,n,r),has:(e,n)=>!!jk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xb="@firebase/app",Bk="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new E0("@firebase/app"),hQ="@firebase/app-compat",fQ="@firebase/analytics-compat",pQ="@firebase/analytics",mQ="@firebase/app-check-compat",gQ="@firebase/app-check",vQ="@firebase/auth",yQ="@firebase/auth-compat",_Q="@firebase/database",wQ="@firebase/database-compat",bQ="@firebase/functions",EQ="@firebase/functions-compat",TQ="@firebase/installations",SQ="@firebase/installations-compat",IQ="@firebase/messaging",CQ="@firebase/messaging-compat",AQ="@firebase/performance",PQ="@firebase/performance-compat",RQ="@firebase/remote-config",kQ="@firebase/remote-config-compat",OQ="@firebase/storage",xQ="@firebase/storage-compat",NQ="@firebase/firestore",DQ="@firebase/firestore-compat",$Q="firebase",MQ="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]",FQ={[Xb]:"fire-core",[hQ]:"fire-core-compat",[pQ]:"fire-analytics",[fQ]:"fire-analytics-compat",[gQ]:"fire-app-check",[mQ]:"fire-app-check-compat",[vQ]:"fire-auth",[yQ]:"fire-auth-compat",[_Q]:"fire-rtdb",[wQ]:"fire-rtdb-compat",[bQ]:"fire-fn",[EQ]:"fire-fn-compat",[TQ]:"fire-iid",[SQ]:"fire-iid-compat",[IQ]:"fire-fcm",[CQ]:"fire-fcm-compat",[AQ]:"fire-perf",[PQ]:"fire-perf-compat",[RQ]:"fire-rc",[kQ]:"fire-rc-compat",[OQ]:"fire-gcs",[xQ]:"fire-gcs-compat",[NQ]:"fire-fst",[DQ]:"fire-fst-compat","fire-js":"fire-js",[$Q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Map,gf=new Map;function Uv(t,e){try{t.container.addComponent(e)}catch(n){xu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function WL(t,e){t.container.addOrOverwriteComponent(e)}function ao(t){const e=t.name;if(gf.has(e))return xu.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,t);for(const n of ca.values())Uv(n,t);return!0}function GL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function LQ(t,e,n=la){GL(t,e).clearInstance(n)}function VQ(){gf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ys=new Ju("app","Firebase",UQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jQ=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=MQ;function SI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:la,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=LL()),!n)throw Ys.create("no-options");const s=ca.get(i);if(s){if(Kb(n,s.options)&&Kb(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new GK(i);for(const u of gf.values())o.addComponent(u);const a=new jQ(n,r,o);return ca.set(i,a),a}function BQ(t=la){const e=ca.get(t);if(!e&&t===la&&LL())return SI();if(!e)throw Ys.create("no-app",{appName:t});return e}function zQ(){return Array.from(ca.values())}async function KL(t){const e=t.name;ca.has(e)&&(ca.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Pi(t,e,n){var r;let i=(r=FQ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xu.warn(a.join(" "));return}ao(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function QL(t,e){if(t!==null&&typeof t!="function")throw Ys.create("invalid-log-argument");JK(t,e)}function YL(t){XK(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="firebase-heartbeat-database",HQ=1,vf="firebase-heartbeat-store";let Q1=null;function XL(){return Q1||(Q1=aQ(qQ,HQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vf)}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),Q1}async function WQ(t){try{return await(await XL()).transaction(vf).objectStore(vf).get(JL(t))}catch(e){if(e instanceof ar)xu.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xu.warn(n.message)}}}async function zk(t,e){try{const r=(await XL()).transaction(vf,"readwrite");await r.objectStore(vf).put(e,JL(t)),await r.done}catch(n){if(n instanceof ar)xu.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xu.warn(r.message)}}}function JL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=1024,KQ=30*24*60*60*1e3;class QQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qk();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=KQ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qk(),{heartbeatsToSend:n,unsentEntries:r}=YQ(this._heartbeatsCache.heartbeats),i=Lv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function qk(){return new Date().toISOString().substring(0,10)}function YQ(t,e=GQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mf()?FK().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await WQ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hk(t){return Lv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){ao(new Oi("platform-logger",e=>new cQ(e),"PRIVATE")),ao(new Oi("heartbeat",e=>new QQ(e),"PRIVATE")),Pi(Xb,Bk,t),Pi(Xb,Bk,"esm2017"),Pi("fire-js","")}JQ("");const ZQ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ar,SDK_VERSION:mo,_DEFAULT_ENTRY_NAME:la,_addComponent:Uv,_addOrOverwriteComponent:WL,_apps:ca,_clearComponents:VQ,_components:gf,_getProvider:GL,_registerComponent:ao,_removeServiceInstance:LQ,deleteApp:KL,getApp:BQ,getApps:zQ,initializeApp:SI,onLog:QL,registerVersion:Pi,setLogLevel:YL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n){this._delegate=e,this.firebase=n,Uv(e,new Oi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),KL(this._delegate)))}_getService(e,n=la){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=la){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Uv(this._delegate,e)}_addOrOverwriteComponent(e){WL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Wk=new Ju("app-compat","Firebase",tY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Pi,setLogLevel:YL,onLog:QL,apps:null,SDK_VERSION:mo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:ZQ}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||la,!Fk(e,l))throw Wk.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const d=SI(l,c);if(Fk(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,d=c.replace("-compat","");if(ao(l)&&l.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw Wk.create("invalid-app-argument",{appName:c});return p[d]()};l.serviceProps!==void 0&&Vv(h,l.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,l.multipleInstances?p:[])}}return l.type==="PUBLIC"?n[d]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){const t=nY(eY);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:ZL,extendNamespace:e,createSubscribe:BL,ErrorFactory:Ju,deepExtend:Vv});function e(n){Vv(t,n)}return t}const rY=ZL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new E0("@firebase/app-compat"),iY="@firebase/app-compat",sY="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t){Pi(iY,sY,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if($K()&&self.firebase!==void 0){Gk.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Gk.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const qt=rY;oY();var aY="firebase",uY="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.registerVersion(aY,uY,"app-compat");function II(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Md={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},gl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){return t!==void 0&&t.getResponse!==void 0}function Qk(t){return t!==void 0&&t.enterprise!==void 0}class lY{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function e4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dY=cY,hY=e4,t4=new Ju("auth","Firebase",e4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new E0("@firebase/auth");function fY(t,...e){jv.logLevel<=Ze.WARN&&jv.warn(`Auth (${mo}): ${t}`,...e)}function Ng(t,...e){jv.logLevel<=Ze.ERROR&&jv.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw CI(t,...e)}function Hn(t,...e){return CI(t,...e)}function n4(t,e,n){const r=Object.assign(Object.assign({},hY()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function Xc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),n4(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function CI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t4.create(t,...e)}function me(t,e,...n){if(!t)throw CI(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ng(e),new Error(e)}function Yi(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AI(){return Yk()==="http:"||Yk()==="https:"}function Yk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AI()||UL()||"connection"in navigator)?navigator.onLine:!0}function mY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=DK()||bI()}get(){return pY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=new wp(3e4,6e4);function un(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pn(t,e,n,r,i={}){return i4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Yc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),r4.fetch()(s4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function i4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gY),e);try{const i=new yY(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw oh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw oh(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw n4(t,c,l);Qn(t,c)}}catch(i){if(i instanceof ar)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function go(t,e,n,r,i={}){const s=await pn(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function s4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?PI(t.config,i):`${t.config.apiScheme}://${i}`}class yY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),vY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t){return(await pn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function wY(t,e){return pn(t,"GET","/v2/recaptchaConfig",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bY(t,e){return pn(t,"POST","/v1/accounts:delete",e)}async function EY(t,e){return pn(t,"POST","/v1/accounts:update",e)}async function TY(t,e){return pn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SY(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),i=T0(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ph(Y1(i.auth_time)),issuedAtTime:Ph(Y1(i.iat)),expirationTime:Ph(Y1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Y1(t){return Number(t)*1e3}function T0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ng("JWT malformed, contained fewer than 3 sections"),null;try{const i=FL(n);return i?JSON.parse(i):(Ng("Failed to decode base64 JWT payload"),null)}catch(i){return Ng("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IY(t){const e=T0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&CY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uo(t,TY(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kY(s.providerUserInfo):[],a=RY(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new o4(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function PY(t){const e=Oe(t);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kY(t){return t.map(e=>{var{providerId:n}=e,r=II(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY(t,e){const n=await i4(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=s4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",r4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OY(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wf;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wf,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=II(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new o4(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SY(this,e)}reload(){return PY(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await uo(this,bY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:A,stsTokenManager:R}=n;me(b&&R,e,"internal-error");const x=wf.fromJSON(this.name,R);me(typeof b=="string",e,"internal-error"),ko(d,e.name),ko(h,e.name),me(typeof w=="boolean",e,"internal-error"),me(typeof E=="boolean",e,"internal-error"),ko(p,e.name),ko(v,e.name),ko(y,e.name),ko(g,e.name),ko(m,e.name),ko(_,e.name);const G=new wu({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:m,lastLoginAt:_});return A&&Array.isArray(A)&&(G.providerData=A.map(J=>Object.assign({},J))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new wf;i.updateFromServerResponse(n);const s=new wu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _f(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Map;function ei(t){Yi(t instanceof Function,"Expected a class definition");let e=Xk.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a4.type="NONE";const Ic=a4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=bu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rc(ei(Ic),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ei(Ic);const o=bu(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const d=wu._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new rc(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new rc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d4(e))return"Blackberry";if(h4(e))return"Webos";if(RI(e))return"Safari";if((e.includes("chrome/")||l4(e))&&!e.includes("edge/"))return"Chrome";if(bp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u4(t=Yt()){return/firefox\//i.test(t)}function RI(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l4(t=Yt()){return/crios\//i.test(t)}function c4(t=Yt()){return/iemobile/i.test(t)}function bp(t=Yt()){return/android/i.test(t)}function d4(t=Yt()){return/blackberry/i.test(t)}function h4(t=Yt()){return/webos/i.test(t)}function Jc(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xY(t=Yt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function NY(t=Yt()){var e;return Jc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DY(){return jL()&&document.documentMode===10}function f4(t=Yt()){return Jc(t)||bp(t)||h4(t)||d4(t)||/windows phone/i.test(t)||c4(t)}function $Y(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e=[]){let n;switch(t){case"Browser":n=Jk(Yt());break;case"Worker":n=`${Jk(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e={}){return pn(t,"GET","/v2/passwordPolicy",un(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=6;class VY{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zk(this),this.idTokenSubscription=new Zk(this),this.beforeStateQueue=new MY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Oe(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FY(this),n=new VY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tn(t){return Oe(t)}class Zk{constructor(e){this.auth=e,this.observer=null,this.addObserver=BL(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function kI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jY().appendChild(r)})}function m4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BY="https://www.google.com/recaptcha/enterprise.js?render=",zY="recaptcha-enterprise",qY="NO_RECAPTCHA";class HY{constructor(e){this.type=zY,this.auth=tn(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new lY(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Qk(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(qY)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Qk(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}kI(BY+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function da(t,e,n,r=!1){const i=new HY(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function WY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GY(t,e,n){const r=tn(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=g4(e),{host:o,port:a}=KY(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QY()}function g4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KY(t){const e=g4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eO(o)}}}function eO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){return pn(t,"POST","/v1/accounts:resetPassword",un(t,e))}async function y4(t,e){return pn(t,"POST","/v1/accounts:update",e)}async function YY(t,e){return pn(t,"POST","/v1/accounts:update",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(t,e){return go(t,"POST","/v1/accounts:signInWithPassword",un(t,e))}async function S0(t,e){return pn(t,"POST","/v1/accounts:sendOobCode",un(t,e))}async function XY(t,e){return S0(t,e)}async function J1(t,e){return S0(t,e)}async function Z1(t,e){return S0(t,e)}async function JY(t,e){return S0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",un(t,e))}async function eX(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Zc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await da(e,r,"signInWithPassword");return X1(e,i)}else return X1(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await da(e,r,"signInWithPassword");return X1(e,s)}else return Promise.reject(i)});case"emailLink":return ZY(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return y4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return eX(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return go(t,"POST","/v1/accounts:signInWithIdp",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX="http://localhost";class xs extends Zc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=II(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:tX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nX(t,e){return pn(t,"POST","/v1/accounts:sendVerificationCode",un(t,e))}async function rX(t,e){return go(t,"POST","/v1/accounts:signInWithPhoneNumber",un(t,e))}async function iX(t,e){const n=await go(t,"POST","/v1/accounts:signInWithPhoneNumber",un(t,e));if(n.temporaryProof)throw oh(t,"account-exists-with-different-credential",n);return n}const sX={USER_NOT_FOUND:"user-not-found"};async function oX(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return go(t,"POST","/v1/accounts:signInWithPhoneNumber",un(t,n),sX)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Zc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Eu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Eu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return rX(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return iX(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return oX(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Eu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uX(t){const e=Hl(sh(t)).link,n=e?Hl(sh(e)).deep_link_id:null,r=Hl(sh(t)).deep_link_id;return(r?Hl(sh(r)).link:null)||r||n||e||t}class I0{constructor(e){var n,r,i,s,o,a;const u=Hl(sh(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=aX((i=u.mode)!==null&&i!==void 0?i:null);me(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uX(e);try{return new I0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,n){return bf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I0.parseLink(n);return me(r,"argument-error"),bf._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ic extends ed{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return me("providerId"in n&&"signInMethod"in n,"argument-error"),xs._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ic.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ic.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ic(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends ed{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends ed{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX="http://localhost";class Cc extends Zc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Cc(r,s)}static _create(e,n){return new Cc(e,n)}buildRequest(){return{requestUri:lX,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="saml.";class Bv extends vo{constructor(e){me(e.startsWith(cX),"argument-error"),super(e)}static credentialFromResult(e){return Bv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Bv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Cc.fromJSON(e);return me(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Cc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ed{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(t,e){return go(t,"POST","/v1/accounts:signUp",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wu._fromIdTokenResponse(e,r,i),o=tO(r);return new xi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tO(r);return new xi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX(t){var e;const n=tn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new xi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Dg(n,{returnSecureToken:!0}),i=await xi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zv(e,n,r,i)}}function _4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zv._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hX(t,e){const n=Oe(t);await C0(!0,n,e);const{providerUserInfo:r}=await EY(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=w4(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function OI(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}async function C0(t,e,n){await _f(e);const r=w4(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";me(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await uo(t,_4(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=T0(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),xi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e,n=!1){const r="signIn",i=await _4(t,r,e),s=await xi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function A0(t,e){return E4(tn(t),e)}async function T4(t,e){const n=Oe(t);return await C0(!1,n,e.providerId),OI(n,e)}async function S4(t,e){return b4(Oe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fX(t,e){return go(t,"POST","/v1/accounts:signInWithCustomToken",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pX(t,e){const n=tn(t),r=await fX(n,{token:e,returnSecureToken:!0}),i=await xi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?xI._fromServerResponse(e,n):"totpInfo"in n?NI._fromServerResponse(e,n):Qn(e,"internal-error")}}class xI extends Ep{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new xI(n)}}class NI extends Ep{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new NI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t,e,n){var r;me(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t){const e=tn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mX(t,e,n){var r;const i=tn(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await da(i,s,"getOobCode",!0);n&&sc(i,o,n),await J1(i,o)}else n&&sc(i,s,n),await J1(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await da(i,s,"getOobCode",!0);n&&sc(i,a,n),await J1(i,a)}else return Promise.reject(o)})}async function gX(t,e,n){await v4(Oe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DI(t),r})}async function vX(t,e){await YY(Oe(t),{oobCode:e})}async function I4(t,e){const n=Oe(t),r=await v4(n,{oobCode:e}),i=r.requestType;switch(me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ep._fromServerResponse(tn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function yX(t,e){const{data:n}=await I4(Oe(t),e);return n.email}async function _X(t,e,n){var r;const i=tn(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await da(i,s,"signUpPassword");o=Dg(i,l)}else o=Dg(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await da(i,s,"signUpPassword");return Dg(i,c)}throw l});const a=await o.catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DI(t),l}),u=await xi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function wX(t,e,n){return A0(Oe(t),Aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bX(t,e,n){var r;const i=tn(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,u){me(u.handleCodeInApp,i,"argument-error"),u&&sc(i,a,u)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await da(i,s,"getOobCode",!0);o(a,n),await Z1(i,a)}else o(s,n),await Z1(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await da(i,s,"getOobCode",!0);o(u,n),await Z1(i,u)}else return Promise.reject(a)})}function EX(t,e){const n=I0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function TX(t,e,n){const r=Oe(t),i=Aa.credentialWithLink(e,n||yf());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),A0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX(t,e){return pn(t,"POST","/v1/accounts:createAuthUri",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IX(t,e){const n=AI()?yf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await SX(Oe(t),r);return i||[]}async function CX(t,e){const n=Oe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&sc(n.auth,i,e);const{email:s}=await XY(n.auth,i);s!==t.email&&await t.reload()}async function AX(t,e,n){const r=Oe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&sc(r.auth,s,n);const{email:o}=await JY(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PX(t,e){return pn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Oe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await uo(r,PX(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function kX(t,e){return C4(Oe(t),e,null)}function OX(t,e){return C4(Oe(t),null,e)}async function C4(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await uo(t,y4(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=T0(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new oc(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new NX(s,i);case"github.com":return new DX(s,i);case"google.com":return new $X(s,i);case"twitter.com":return new MX(s,i,t.screenName||null);case"custom":case"anonymous":return new oc(s,null);default:return new oc(s,r,i)}}class oc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class A4 extends oc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class NX extends oc{constructor(e,n){super(e,"facebook.com",n)}}class DX extends A4{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class $X extends oc{constructor(e,n){super(e,"google.com",n)}}class MX extends A4{constructor(e,n,r){super(e,"twitter.com",n,r)}}function FX(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:xX(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new du("enroll",e,n)}static _fromMfaPendingCredential(e){return new du("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return du._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return du._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=tn(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ep._fromServerResponse(r,a));me(i.mfaPendingCredential,r,"internal-error");const o=du._fromMfaPendingCredential(i.mfaPendingCredential);return new $I(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await xi._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return me(n.user,r,"internal-error"),xi._forOperation(n.user,n.operationType,l);default:Qn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function LX(t,e){var n;const r=Oe(t),i=e;return me(e.customData.operationType,r,"argument-error"),me((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),$I._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:start",un(t,e))}function UX(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:finalize",un(t,e))}function jX(t,e){return pn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",un(t,e))}class MI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ep._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new MI(e)}async getSession(){return du._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await uo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await uo(this.user,jX(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ew=new WeakMap;function BX(t){const e=Oe(t);return ew.has(e)||ew.set(e,MI._fromUser(e)),ew.get(e)}const qv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qv,"1"),this.storage.removeItem(qv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(){const t=Yt();return RI(t)||Jc(t)}const qX=1e3,HX=10;class R4 extends P4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zX()&&$Y(),this.fallbackToPolling=f4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DY()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R4.type="LOCAL";const FI=R4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4 extends P4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k4.type="SESSION";const Nu=k4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new P0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await WX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}P0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Tp("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function KX(t){dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function QX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XX(){return LI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebaseLocalStorageDb",JX=1,Hv="firebaseLocalStorage",x4="fbase_key";class Sp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function R0(t,e){return t.transaction([Hv],e?"readwrite":"readonly").objectStore(Hv)}function ZX(){const t=indexedDB.deleteDatabase(O4);return new Sp(t).toPromise()}function Jb(){const t=indexedDB.open(O4,JX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hv,{keyPath:x4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hv)?e(r):(r.close(),await ZX(),e(await Jb()))})})}async function nO(t,e,n){const r=R0(t,!0).put({[x4]:e,value:n});return new Sp(r).toPromise()}async function eJ(t,e){const n=R0(t,!1).get(e),r=await new Sp(n).toPromise();return r===void 0?null:r.value}function rO(t,e){const n=R0(t,!0).delete(e);return new Sp(n).toPromise()}const tJ=800,nJ=3;class N4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=P0._getInstance(XX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QX(),!this.activeServiceWorker)return;this.sender=new GX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jb();return await nO(e,qv,"1"),await rO(e,qv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eJ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=R0(i,!1).getAll();return new Sp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N4.type="LOCAL";const Ef=N4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(t,e){return pn(t,"POST","/v2/accounts/mfaSignIn:start",un(t,e))}function iJ(t,e){return pn(t,"POST","/v2/accounts/mfaSignIn:finalize",un(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=500,oJ=6e4,qm=1e12;class aJ{constructor(e){this.auth=e,this.counter=qm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new uJ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||qm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||qm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||qm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class uJ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=lJ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},oJ)},sJ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function lJ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=m4("rcb"),cJ=new wp(3e4,6e4),dJ="https://www.google.com/recaptcha/api.js?";class hJ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=dn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return me(fJ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Kk(dn().grecaptcha)?Promise.resolve(dn().grecaptcha):new Promise((r,i)=>{const s=dn().setTimeout(()=>{i(Hn(e,"network-request-failed"))},cJ.get());dn()[tw]=()=>{dn().clearTimeout(s),delete dn()[tw];const a=dn().grecaptcha;if(!a||!Kk(a)){i(Hn(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const d=u(l,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${dJ}?${Yc({onload:tw,render:"explicit",hl:n})}`;kI(o).catch(()=>{clearTimeout(s),i(Hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=dn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fJ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class pJ{async load(e){return new aJ(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="recaptcha",mJ={theme:"light",type:"image"};let gJ=class{constructor(e,n,r=Object.assign({},mJ)){this.parameters=r,this.type=D4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pJ:new hJ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=dn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(AI()&&!LI(),this.auth,"internal-error"),await vJ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await _Y(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function vJ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Eu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function yJ(t,e,n){const r=tn(t),i=await k0(r,e,Oe(n));return new VI(i,s=>A0(r,s))}async function _J(t,e,n){const r=Oe(t);await C0(!1,r,"phone");const i=await k0(r.auth,e,Oe(n));return new VI(i,s=>T4(r,s))}async function wJ(t,e,n){const r=Oe(t),i=await k0(r.auth,e,Oe(n));return new VI(i,s=>S4(r,s))}async function k0(t,e,n){var r;const i=await n.verify();try{me(typeof i=="string",t,"argument-error"),me(n.type===D4,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return me(o.type==="enroll",t,"internal-error"),(await VX(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{me(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return me(a,t,"missing-multi-factor-info"),(await rJ(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await nX(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function bJ(t,e){await OI(Oe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=class $g{constructor(e){this.providerId=$g.PROVIDER_ID,this.auth=tn(e)}verifyPhoneNumber(e,n){return k0(this.auth,e,Oe(n))}static credential(e,n){return Eu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $g.credentialFromTaggedObject(n)}static credentialFromError(e){return $g.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Eu._fromTokenResponse(n,r):null}};Du.PROVIDER_ID="phone";Du.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e){return e?ei(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends Zc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EJ(t){return E4(t.auth,new UI(t),t.bypassAuthState)}function TJ(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),b4(n,new UI(t),t.bypassAuthState)}async function SJ(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),OI(n,new UI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EJ;case"linkViaPopup":case"linkViaRedirect":return SJ;case"reauthViaPopup":case"reauthViaRedirect":return TJ;default:Qn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ=new wp(2e3,1e4);async function CJ(t,e,n){const r=tn(t);Xc(t,e,vo);const i=Zu(r,n);return new Ws(r,"signInViaPopup",e,i).executeNotNull()}async function AJ(t,e,n){const r=Oe(t);Xc(r.auth,e,vo);const i=Zu(r.auth,n);return new Ws(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function PJ(t,e,n){const r=Oe(t);Xc(r.auth,e,vo);const i=Zu(r.auth,n);return new Ws(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ws extends $4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IJ.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ="pendingRedirect",Rh=new Map;class kJ extends $4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await OJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OJ(t,e){const n=F4(e),r=M4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function jI(t,e){return M4(t)._set(F4(e),"true")}function xJ(){Rh.clear()}function BI(t,e){Rh.set(t._key(),e)}function M4(t){return ei(t._redirectPersistence)}function F4(t){return bu(RJ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t,e,n){return DJ(t,e,n)}async function DJ(t,e,n){const r=tn(t);Xc(t,e,vo),await r._initializationPromise;const i=Zu(r,n);return await jI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function $J(t,e,n){return MJ(t,e,n)}async function MJ(t,e,n){const r=Oe(t);Xc(r.auth,e,vo),await r.auth._initializationPromise;const i=Zu(r.auth,n);await jI(i,r.auth);const s=await L4(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function FJ(t,e,n){return LJ(t,e,n)}async function LJ(t,e,n){const r=Oe(t);Xc(r.auth,e,vo),await r.auth._initializationPromise;const i=Zu(r.auth,n);await C0(!1,r,e.providerId),await jI(i,r.auth);const s=await L4(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function VJ(t,e){return await tn(t)._initializationPromise,O0(t,e,!1)}async function O0(t,e,n=!1){const r=tn(t),i=Zu(r,e),o=await new kJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function L4(t){const e=Tp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=10*60*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(iO(e))}saveEventToCache(e){this.cachedEventUids.add(iO(e)),this.lastProcessedEventTime=Date.now()}}function iO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e={}){return pn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zJ=/^https?/;async function qJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j4(t);for(const n of e)try{if(HJ(n))return}catch{}Qn(t,"unauthorized-domain")}function HJ(t){const e=yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zJ.test(n))return!1;if(BJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=new wp(3e4,6e4);function sO(){const t=dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GJ(t){return new Promise((e,n)=>{var r,i,s;function o(){sO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sO(),n(Hn(t,"network-request-failed"))},timeout:WJ.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{const a=m4("iframefcb");return dn()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},kI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Mg=null,e})}let Mg=null;function KJ(t){return Mg=Mg||GJ(t),Mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ=new wp(5e3,15e3),YJ="__/auth/iframe",XJ="emulator/auth/iframe",JJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eZ(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?PI(e,XJ):`https://${t.config.authDomain}/${YJ}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=ZJ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yc(r).slice(1)}`}async function tZ(t){const e=await KJ(t),n=dn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:eZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=dn().setTimeout(()=>{s(o)},QJ.get());function u(){dn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rZ=500,iZ=600,sZ="_blank",oZ="http://localhost";class oO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aZ(t,e,n,r=rZ,i=iZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},nZ),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Yt().toLowerCase();n&&(a=l4(l)?sZ:n),u4(l)&&(e=e||oZ,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(NY(l)&&a!=="_self")return uZ(e||"",a),new oO(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new oO(d)}function uZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="__/auth/handler",cZ="emulator/auth/handler",dZ=encodeURIComponent("fac");async function Zb(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof vo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ed){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${dZ}=${encodeURIComponent(u)}`:"";return`${hZ(t)}?${Yc(a).slice(1)}${l}`}function hZ({config:t}){return t.emulator?PI(t,cZ):`https://${t.authDomain}/${lZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="webStorageSupport";class fZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nu,this._completeRedirectFn=O0,this._overrideRedirectResult=BI}async _openPopup(e,n,r,i){var s;Yi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Zb(e,n,r,yf(),i);return aZ(e,o,Tp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zb(e,n,r,yf(),i);return KX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tZ(e),r=new V4(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nw,{type:nw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nw];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f4()||RI()||Jc()}}const pZ=fZ;class mZ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return _s("unexpected MultiFactorSessionType")}}}class zI extends mZ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new zI(e)}_finalizeEnroll(e,n,r){return UX(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return iJ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class B4{constructor(){}static assertion(e){return zI._fromCredential(e)}}B4.FACTOR_ID="phone";var aO="@firebase/auth",uO="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function yZ(t){ao(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p4(t)},l=new UY(r,i,s,u);return WY(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ao(new Oi("auth-internal",e=>{const n=tn(e.getProvider("auth").getImmediate());return(r=>new gZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(aO,uO,vZ(t)),Pi(aO,uO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z=5*60;xK("authIdTokenMaxAge");yZ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=2e3;async function bZ(t,e,n){var r;const{BuildInfo:i}=$u();Yi(e.sessionId,"AuthEvent did not contain a session ID");const s=await CZ(e.sessionId),o={};return Jc()?o.ibi=i.packageName:bp()?o.apn=i.packageName:Qn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Zb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function EZ(t){const{BuildInfo:e}=$u(),n={};Jc()?n.iosBundleId=e.packageName:bp()?n.androidPackageName=e.packageName:Qn(t,"operation-not-supported-in-this-environment"),await j4(t,n)}function TZ(t){const{cordova:e}=$u();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,xY()?"_blank":"_system","location=yes"),n(i)})})}async function SZ(t,e,n){const{cordova:r}=$u();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Hn(t,"redirect-cancelled-by-user"))},wZ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),bp()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function IZ(t){var e,n,r,i,s,o,a,u,l,c;const d=$u();me(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((u=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((c=(l=d==null?void 0:d.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function CZ(t){const e=AZ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function AZ(t){if(Yi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ=20;class RZ extends V4{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kZ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:NZ(),postBody:null,tenantId:t.tenantId,error:Hn(t,"no-auth-event")}}function OZ(t,e){return eE()._set(tE(t),e)}async function lO(t){const e=await eE()._get(tE(t));return e&&await eE()._remove(tE(t)),e}function xZ(t,e){var n,r;const i=$Z(e);if(i.includes("/__/auth/callback")){const s=Fg(i),o=s.firebaseError?DZ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Hn(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function NZ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<PZ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function eE(){return ei(FI)}function tE(t){return bu("authEvent",t.config.apiKey,t.name)}function DZ(t){try{return JSON.parse(t)}catch{return null}}function $Z(t){const e=Fg(t),n=e.link?decodeURIComponent(e.link):void 0,r=Fg(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Fg(i).link||i||r||n||t}function Fg(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Hl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=500;class FZ{constructor(){this._redirectPersistence=Nu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O0,this._overrideRedirectResult=BI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new RZ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){IZ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),xJ(),await this._originValidation(e);const o=kZ(e,r,i);await OZ(e,o);const a=await bZ(e,o,n),u=await TZ(a);return SZ(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EZ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=$u(),o=setTimeout(async()=>{await lO(e),n.onEvent(cO())},MZ),a=async c=>{clearTimeout(o);const d=await lO(e);let h=null;d&&(c!=null&&c.url)&&(h=xZ(d,c.url)),n.onEvent(h||cO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;$u().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(d){console.error(d)}}}}const LZ=FZ;function cO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(t,e){tn(t)._logFramework(e)}var UZ="@firebase/auth-compat",jZ="0.4.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=1e3;function kh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function zZ(){return kh()==="http:"||kh()==="https:"}function z4(t=Yt()){return!!((kh()==="file:"||kh()==="ionic:"||kh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function qZ(){return bI()||b0()}function HZ(){return jL()&&(document==null?void 0:document.documentMode)===11}function WZ(t=Yt()){return/Edge\/\d+/.test(t)}function GZ(t=Yt()){return HZ()||WZ(t)}function q4(){try{const t=self.localStorage,e=Tp();if(t)return t.setItem(e,"1"),t.removeItem(e),GZ()?mf():!0}catch{return qI()&&mf()}return!1}function qI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rw(){return(zZ()||UL()||z4())&&!qZ()&&q4()&&!qI()}function H4(){return z4()&&typeof document<"u"}async function KZ(){return H4()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},BZ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function QZ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},Fd=me,W4="persistence";function YZ(t,e){if(Fd(Object.values(Jr).includes(e),t,"invalid-persistence-type"),bI()){Fd(e!==Jr.SESSION,t,"unsupported-persistence-type");return}if(b0()){Fd(e===Jr.NONE,t,"unsupported-persistence-type");return}if(qI()){Fd(e===Jr.NONE||e===Jr.LOCAL&&mf(),t,"unsupported-persistence-type");return}Fd(e===Jr.NONE||q4(),t,"unsupported-persistence-type")}async function nE(t){await t._initializationPromise;const e=G4(),n=bu(W4,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function XZ(t,e){const n=G4();if(!n)return[];const r=bu(W4,t,e);switch(n.getItem(r)){case Jr.NONE:return[Ic];case Jr.LOCAL:return[Ef,Nu];case Jr.SESSION:return[Nu];default:return[]}}function G4(){var t;try{return((t=QZ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=me;class Ho{constructor(){this.browserResolver=ei(pZ),this.cordovaResolver=ei(LZ),this.underlyingResolver=null,this._redirectPersistence=Nu,this._completeRedirectFn=O0,this._overrideRedirectResult=BI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return H4()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return JZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await KZ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return t.unwrap()}function ZZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(t){return Q4(t)}function tee(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new nee(t,LX(t,e))}else if(r){const i=Q4(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function Q4(t){const{_tokenResponse:e}=t instanceof ar?t.customData:t;if(!e)return null;if(!(t instanceof ar)&&"temporaryProof"in e&&"phoneNumber"in e)return Du.credentialFromResult(t);const n=e.providerId;if(!n||n===Md.PASSWORD)return null;let r;switch(n){case Md.GOOGLE:r=fs;break;case Md.FACEBOOK:r=hs;break;case Md.GITHUB:r=ps;break;case Md.TWITTER:r=ms;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Cc._create(n,a):xs._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ic(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof ar?r.credentialFromError(t):r.credentialFromResult(t)}function xr(t,e){return e.catch(n=>{throw n instanceof ar&&tee(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:eee(n),additionalUserInfo:FX(n),user:x0.getOrCreate(i)}})}async function rE(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>xr(t,n.confirm(r))}}class nee{constructor(e,n){this.resolver=n,this.auth=ZZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xr(K4(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x0=class ah{constructor(e){this._delegate=e,this.multiFactor=BX(e)}static getOrCreate(e){return ah.USER_MAP.has(e)||ah.USER_MAP.set(e,new ah(e)),ah.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xr(this.auth,T4(this._delegate,e))}async linkWithPhoneNumber(e,n){return rE(this.auth,_J(this._delegate,e,n))}async linkWithPopup(e){return xr(this.auth,PJ(this._delegate,e,Ho))}async linkWithRedirect(e){return await nE(tn(this.auth)),FJ(this._delegate,e,Ho)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xr(this.auth,S4(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return rE(this.auth,wJ(this._delegate,e,n))}reauthenticateWithPopup(e){return xr(this.auth,AJ(this._delegate,e,Ho))}async reauthenticateWithRedirect(e){return await nE(tn(this.auth)),$J(this._delegate,e,Ho)}sendEmailVerification(e){return CX(this._delegate,e)}async unlink(e){return await hX(this._delegate,e),this}updateEmail(e){return kX(this._delegate,e)}updatePassword(e){return OX(this._delegate,e)}updatePhoneNumber(e){return bJ(this._delegate,e)}updateProfile(e){return RX(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return AX(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};x0.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=me;class iE{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ld(r,"invalid-api-key",{appName:e.name}),Ld(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ho:void 0;this._delegate=n.initialize({options:{persistence:ree(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dY),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?x0.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){GY(this._delegate,e,n)}applyActionCode(e){return vX(this._delegate,e)}checkActionCode(e){return I4(this._delegate,e)}confirmPasswordReset(e,n){return gX(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return xr(this._delegate,_X(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return IX(this._delegate,e)}isSignInWithEmailLink(e){return EX(this._delegate,e)}async getRedirectResult(){Ld(rw(),this._delegate,"operation-not-supported-in-this-environment");const e=await VJ(this._delegate,Ho);return e?xr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){VZ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=dO(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=dO(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return bX(this._delegate,e,n)}sendPasswordResetEmail(e,n){return mX(this._delegate,e,n||void 0)}async setPersistence(e){YZ(this._delegate,e);let n;switch(e){case Jr.SESSION:n=Nu;break;case Jr.LOCAL:n=await ei(Ef)._isAvailable()?Ef:FI;break;case Jr.NONE:n=Ic;break;default:return Qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xr(this._delegate,dX(this._delegate))}signInWithCredential(e){return xr(this._delegate,A0(this._delegate,e))}signInWithCustomToken(e){return xr(this._delegate,pX(this._delegate,e))}signInWithEmailAndPassword(e,n){return xr(this._delegate,wX(this._delegate,e,n))}signInWithEmailLink(e,n){return xr(this._delegate,TX(this._delegate,e,n))}signInWithPhoneNumber(e,n){return rE(this._delegate,yJ(this._delegate,e,n))}async signInWithPopup(e){return Ld(rw(),this._delegate,"operation-not-supported-in-this-environment"),xr(this._delegate,CJ(this._delegate,e,Ho))}async signInWithRedirect(e){return Ld(rw(),this._delegate,"operation-not-supported-in-this-environment"),await nE(this._delegate),NJ(this._delegate,e,Ho)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yX(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}iE.Persistence=Jr;function dO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&x0.getOrCreate(o)),error:e,complete:n}}function ree(t,e){const n=XZ(t,e);if(typeof self<"u"&&!n.includes(Ef)&&n.push(Ef),typeof window<"u")for(const r of[FI,Nu])n.includes(r)||n.push(r);return n.includes(Ic)||n.push(Ic),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.providerId="phone",this._delegate=new Du(K4(qt.auth()))}static credential(e,n){return Du.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}HI.PHONE_SIGN_IN_METHOD=Du.PHONE_SIGN_IN_METHOD;HI.PROVIDER_ID=Du.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=me;class see{constructor(e,n,r=qt.app()){var i;iee((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gJ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee="auth-compat";function aee(t){t.INTERNAL.registerComponent(new Oi(oee,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new iE(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gl.EMAIL_SIGNIN,PASSWORD_RESET:gl.PASSWORD_RESET,RECOVER_EMAIL:gl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:gl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:gl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:gl.VERIFY_EMAIL}},EmailAuthProvider:Aa,FacebookAuthProvider:hs,GithubAuthProvider:ps,GoogleAuthProvider:fs,OAuthProvider:ic,SAMLAuthProvider:Bv,PhoneAuthProvider:HI,PhoneMultiFactorGenerator:B4,RecaptchaVerifier:see,TwitterAuthProvider:ms,Auth:iE,AuthCredential:Zc,Error:ar}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(UZ,jZ)}aee(qt);var uee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee,WI=WI||{},qe=uee||self;function N0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ip(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lee(t){return Object.prototype.hasOwnProperty.call(t,iw)&&t[iw]||(t[iw]=++cee)}var iw="closure_uid_"+(1e9*Math.random()>>>0),cee=0;function dee(t,e,n){return t.call.apply(t.bind,arguments)}function hee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ur=dee:ur=hee,ur.apply(null,arguments)}function Hm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pa(){this.s=this.s,this.o=this.o}var fee=0;Pa.prototype.s=!1;Pa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),fee!=0)&&lee(this)};Pa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function GI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(N0(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lr.prototype.h=function(){this.defaultPrevented=!0};var pee=function(){if(!qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{qe.addEventListener("test",()=>{},e),qe.removeEventListener("test",()=>{},e)}catch{}return t}();function Tf(t){return/^[\s\xa0]*$/.test(t)}function D0(){var t=qe.navigator;return t&&(t=t.userAgent)?t:""}function gs(t){return D0().indexOf(t)!=-1}function KI(t){return KI[" "](t),t}KI[" "]=function(){};function mee(t,e){var n=ate;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gee=gs("Opera"),Ac=gs("Trident")||gs("MSIE"),X4=gs("Edge"),sE=X4||Ac,J4=gs("Gecko")&&!(D0().toLowerCase().indexOf("webkit")!=-1&&!gs("Edge"))&&!(gs("Trident")||gs("MSIE"))&&!gs("Edge"),vee=D0().toLowerCase().indexOf("webkit")!=-1&&!gs("Edge");function Z4(){var t=qe.document;return t?t.documentMode:void 0}var oE;e:{var sw="",ow=function(){var t=D0();if(J4)return/rv:([^\);]+)(\)|;)/.exec(t);if(X4)return/Edge\/([\d\.]+)/.exec(t);if(Ac)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vee)return/WebKit\/(\S+)/.exec(t);if(gee)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ow&&(sw=ow?ow[1]:""),Ac){var aw=Z4();if(aw!=null&&aw>parseFloat(sw)){oE=String(aw);break e}}oE=sw}var aE;if(qe.document&&Ac){var fO=Z4();aE=fO||parseInt(oE,10)||void 0}else aE=void 0;var yee=aE;function Sf(t,e){if(lr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J4){e:{try{KI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_ee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sf.$.h.call(this)}}xn(Sf,lr);var _ee={2:"touch",3:"pen",4:"mouse"};Sf.prototype.h=function(){Sf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cp="closure_listenable_"+(1e6*Math.random()|0),wee=0;function bee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wee,this.fa=this.ia=!1}function $0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function QI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Eee(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function eV(t){const e={};for(const n in t)e[n]=t[n];return e}const pO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tV(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<pO.length;s++)n=pO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M0(t){this.src=t,this.g={},this.h=0}M0.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=lE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new bee(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function uE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Y4(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($0(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function lE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var YI="closure_lm_"+(1e6*Math.random()|0),uw={};function nV(t,e,n,r,i){if(r&&r.once)return iV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nV(t,e[s],n,r,i);return null}return n=ZI(n),t&&t[Cp]?t.O(e,n,Ip(r)?!!r.capture:!!r,i):rV(t,e,n,!1,r,i)}function rV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ip(i)?!!i.capture:!!i,a=JI(t);if(a||(t[YI]=a=new M0(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Tee(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pee||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oV(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Tee(){function t(n){return e.call(t.src,t.listener,n)}const e=See;return t}function iV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)iV(t,e[s],n,r,i);return null}return n=ZI(n),t&&t[Cp]?t.P(e,n,Ip(r)?!!r.capture:!!r,i):rV(t,e,n,!0,r,i)}function sV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sV(t,e[s],n,r,i);else r=Ip(r)?!!r.capture:!!r,n=ZI(n),t&&t[Cp]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=lE(s,n,r,i),-1<n&&($0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=JI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lE(e,n,r,i)),(n=-1<t?e[t]:null)&&XI(n))}function XI(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cp])uE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=JI(e))?(uE(n,t),n.h==0&&(n.src=null,e[YI]=null)):$0(t)}}}function oV(t){return t in uw?uw[t]:uw[t]="on"+t}function See(t,e){if(t.fa)t=!0;else{e=new Sf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&XI(t),t=n.call(r,e)}return t}function JI(t){return t=t[YI],t instanceof M0?t:null}var lw="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZI(t){return typeof t=="function"?t:(t[lw]||(t[lw]=function(e){return t.handleEvent(e)}),t[lw])}function Pn(){Pa.call(this),this.i=new M0(this),this.S=this,this.J=null}xn(Pn,Pa);Pn.prototype[Cp]=!0;Pn.prototype.removeEventListener=function(t,e,n,r){sV(this,t,e,n,r)};function Wn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lr(e,t);else if(e instanceof lr)e.target=e.target||t;else{var i=e;e=new lr(r,t),tV(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wm(o,r,!0,e)&&i}if(o=e.g=t,i=Wm(o,r,!0,e)&&i,i=Wm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wm(o,r,!1,e)&&i}Pn.prototype.N=function(){if(Pn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$0(n[r]);delete t.g[e],t.h--}}this.J=null};Pn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&uE(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var eC=qe.JSON.stringify;class Iee{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Cee(){var t=tC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Aee{constructor(){this.h=this.g=null}add(e,n){const r=aV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aV=new Iee(()=>new Pee,t=>t.reset());class Pee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ree(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kee(t){qe.setTimeout(()=>{throw t},0)}let If,Cf=!1,tC=new Aee,uV=()=>{const t=qe.Promise.resolve(void 0);If=()=>{t.then(Oee)}};var Oee=()=>{for(var t;t=Cee();){try{t.h.call(t.g)}catch(n){kee(n)}var e=aV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cf=!1};function F0(t,e){Pn.call(this),this.h=t||1,this.g=e||qe,this.j=ur(this.qb,this),this.l=Date.now()}xn(F0,Pn);Ee=F0.prototype;Ee.ga=!1;Ee.T=null;Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(nC(this),this.start()))}};Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ee.N=function(){F0.$.N.call(this),nC(this),delete this.g};function rC(t,e,n){if(typeof t=="function")n&&(t=ur(t,n));else if(t&&typeof t.handleEvent=="function")t=ur(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:qe.setTimeout(t,e||0)}function lV(t){t.g=rC(()=>{t.g=null,t.i&&(t.i=!1,lV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xee extends Pa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lV(this)}N(){super.N(),this.g&&(qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Af(t){Pa.call(this),this.h=t,this.g={}}xn(Af,Pa);var mO=[];function cV(t,e,n,r){Array.isArray(n)||(n&&(mO[0]=n.toString()),n=mO);for(var i=0;i<n.length;i++){var s=nV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dV(t){QI(t.g,function(e,n){this.g.hasOwnProperty(n)&&XI(e)},t),t.g={}}Af.prototype.N=function(){Af.$.N.call(this),dV(this)};Af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function L0(){this.g=!0}L0.prototype.Ea=function(){this.g=!1};function Nee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Dee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Wl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Mee(t,n)+(r?" "+r:"")})}function $ee(t,e){t.info(function(){return"TIMEOUT: "+e})}L0.prototype.info=function(){};function Mee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return eC(n)}catch{return e}}var el={},gO=null;function V0(){return gO=gO||new Pn}el.Ta="serverreachability";function hV(t){lr.call(this,el.Ta,t)}xn(hV,lr);function Pf(t){const e=V0();Wn(e,new hV(e))}el.STAT_EVENT="statevent";function fV(t,e){lr.call(this,el.STAT_EVENT,t),this.stat=e}xn(fV,lr);function br(t){const e=V0();Wn(e,new fV(e,t))}el.Ua="timingevent";function pV(t,e){lr.call(this,el.Ua,t),this.size=e}xn(pV,lr);function Ap(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return qe.setTimeout(function(){t()},e)}var U0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iC(){}iC.prototype.h=null;function vO(t){return t.h||(t.h=t.i())}function gV(){}var Pp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sC(){lr.call(this,"d")}xn(sC,lr);function oC(){lr.call(this,"c")}xn(oC,lr);var cE;function j0(){}xn(j0,iC);j0.prototype.g=function(){return new XMLHttpRequest};j0.prototype.i=function(){return{}};cE=new j0;function Rp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Af(this),this.P=Fee,t=sE?125:void 0,this.V=new F0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vV}function vV(){this.i=null,this.g="",this.h=!1}var Fee=45e3,dE={},Wv={};Ee=Rp.prototype;Ee.setTimeout=function(t){this.P=t};function hE(t,e,n){t.L=1,t.v=z0(lo(e)),t.s=n,t.S=!0,yV(t,null)}function yV(t,e){t.G=Date.now(),kp(t),t.A=lo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),CV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vV,t.g=GV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xee(ur(t.Pa,t,t.g),t.O)),cV(t.U,t.g,"readystatechange",t.nb),e=t.I?eV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pf(),Nee(t.j,t.u,t.A,t.m,t.W,t.s)}Ee.nb=function(t){t=t.target;const e=this.M;e&&ws(t)==3?e.l():this.Pa(t)};Ee.Pa=function(t){try{if(t==this.g)e:{const c=ws(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||sE||this.g&&(this.h.h||this.g.ja()||bO(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Pf(3):Pf(2)),B0(this);var n=this.g.da();this.ca=n;t:if(_V(this)){var r=bO(this.g);t="";var i=r.length,s=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hu(this),Oh(this);var o="";break t}this.h.i=new qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Dee(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tf(a)){var l=a;break t}}l=null}if(n=l)Wl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fE(this,n);else{this.i=!1,this.o=3,br(12),hu(this),Oh(this);break e}}this.S?(wV(this,c,o),sE&&this.i&&c==3&&(cV(this.U,this.V,"tick",this.mb),this.V.start())):(Wl(this.j,this.m,o,null),fE(this,o)),c==4&&hu(this),this.i&&!this.J&&(c==4?zV(this.l,this):(this.i=!1,kp(this)))}else ite(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),hu(this),Oh(this)}}}catch{}finally{}};function _V(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function wV(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Lee(t,n),i==Wv){e==4&&(t.o=4,br(14),r=!1),Wl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dE){t.o=4,br(15),Wl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Wl(t.j,t.m,i,null),fE(t,i);_V(t)&&i!=Wv&&i!=dE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,br(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hC(e),e.M=!0,br(11))):(Wl(t.j,t.m,n,"[Invalid Chunked Response]"),hu(t),Oh(t))}Ee.mb=function(){if(this.g){var t=ws(this.g),e=this.g.ja();this.C<e.length&&(B0(this),wV(this,t,e),this.i&&t!=4&&kp(this))}};function Lee(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Wv:(n=Number(e.substring(n,r)),isNaN(n)?dE:(r+=1,r+n>e.length?Wv:(e=e.slice(r,r+n),t.C=r+n,e)))}Ee.cancel=function(){this.J=!0,hu(this)};function kp(t){t.Y=Date.now()+t.P,bV(t,t.P)}function bV(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ap(ur(t.lb,t),e)}function B0(t){t.B&&(qe.clearTimeout(t.B),t.B=null)}Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($ee(this.j,this.A),this.L!=2&&(Pf(),br(17)),hu(this),this.o=2,Oh(this)):bV(this,this.Y-t)};function Oh(t){t.l.H==0||t.J||zV(t.l,t)}function hu(t){B0(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,nC(t.V),dV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||pE(n.i,t))){if(!t.K&&pE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Qv(n),G0(n);else break e;dC(n),br(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ap(ur(n.ib,n),6e3));if(1>=RV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fu(n,11)}else if((t.K||n.g==t)&&Qv(n),!Tf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(aC(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Dt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=WV(r,r.J?r.pa:null,r.Y),o.K){kV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(B0(a),kp(a)),r.g=o}else jV(r);0<n.j.length&&K0(n)}else l[0]!="stop"&&l[0]!="close"||fu(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?fu(n,7):cC(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Pf(4)}catch{}}function Vee(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(N0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Uee(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(N0(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function EV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(N0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Uee(t),r=Vee(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var TV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Tu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Tu){this.h=t.h,Gv(this,t.j),this.s=t.s,this.g=t.g,Kv(this,t.m),this.l=t.l;var e=t.i,n=new Rf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yO(this,n),this.o=t.o}else t&&(e=String(t).match(TV))?(this.h=!1,Gv(this,e[1]||"",!0),this.s=uh(e[2]||""),this.g=uh(e[3]||"",!0),Kv(this,e[4]),this.l=uh(e[5]||"",!0),yO(this,e[6]||"",!0),this.o=uh(e[7]||"")):(this.h=!1,this.i=new Rf(null,this.h))}Tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lh(e,_O,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(lh(e,_O,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(lh(n,n.charAt(0)=="/"?qee:zee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lh(n,Wee)),t.join("")};function lo(t){return new Tu(t)}function Gv(t,e,n){t.j=n?uh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yO(t,e,n){e instanceof Rf?(t.i=e,Gee(t.i,t.h)):(n||(e=lh(e,Hee)),t.i=new Rf(e,t.h))}function Dt(t,e,n){t.i.set(e,n)}function z0(t){return Dt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Bee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var _O=/[#\/\?@]/g,zee=/[#\?:]/g,qee=/[#\?]/g,Hee=/[#\?@]/g,Wee=/#/g;function Rf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ra(t){t.g||(t.g=new Map,t.h=0,t.i&&jee(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ee=Rf.prototype;Ee.add=function(t,e){Ra(this),this.i=null,t=td(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SV(t,e){Ra(t),e=td(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function IV(t,e){return Ra(t),e=td(t,e),t.g.has(e)}Ee.forEach=function(t,e){Ra(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ee.ta=function(){Ra(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ee.Z=function(t){Ra(this);let e=[];if(typeof t=="string")IV(this,t)&&(e=e.concat(this.g.get(td(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ee.set=function(t,e){return Ra(this),this.i=null,t=td(this,t),IV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function CV(t,e,n){SV(t,e),0<n.length&&(t.i=null,t.g.set(td(t,e),GI(n)),t.h+=n.length)}Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function td(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Gee(t,e){e&&!t.j&&(Ra(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SV(this,r),CV(this,i,n))},t)),t.j=e}var Kee=class{constructor(t,e){this.g=t,this.map=e}};function AV(t){this.l=t||Qee,qe.PerformanceNavigationTiming?(t=qe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(qe.g&&qe.g.Ka&&qe.g.Ka()&&qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qee=10;function PV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RV(t){return t.h?1:t.g?t.g.size:0}function pE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function aC(t,e){t.g?t.g.add(e):t.h=e}function kV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AV.prototype.cancel=function(){if(this.i=OV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return GI(t.i)}var Yee=class{stringify(t){return qe.JSON.stringify(t,void 0)}parse(t){return qe.JSON.parse(t,void 0)}};function Xee(){this.g=new Yee}function Jee(t,e,n){const r=n||"";try{EV(t,function(i,s){let o=i;Ip(i)&&(o=eC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zee(t,e){const n=new L0;if(qe.Image){const r=new Image;r.onload=Hm(Gm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hm(Gm,n,r,"TestLoadImage: error",!1,e),r.onabort=Hm(Gm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hm(Gm,n,r,"TestLoadImage: timeout",!1,e),qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function q0(t){this.l=t.ec||null,this.j=t.ob||!1}xn(q0,iC);q0.prototype.g=function(){return new H0(this.l,this.j)};q0.prototype.i=function(t){return function(){return t}}({});function H0(t,e){Pn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xn(H0,Pn);var uC=0;Ee=H0.prototype;Ee.open=function(t,e){if(this.readyState!=uC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kf(this)};Ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Op(this)),this.readyState=uC};Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kf(this)),this.g&&(this.readyState=3,kf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function xV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Op(this):kf(this),this.readyState==3&&xV(this)}};Ee.Za=function(t){this.g&&(this.response=this.responseText=t,Op(this))};Ee.Ya=function(t){this.g&&(this.response=t,Op(this))};Ee.ka=function(){this.g&&Op(this)};function Op(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kf(t)}Ee.setRequestHeader=function(t,e){this.v.append(t,e)};Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(H0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ete=qe.JSON.parse;function nn(t){Pn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NV,this.L=this.M=!1}xn(nn,Pn);var NV="",tte=/^https?$/i,nte=["POST","PUT"];Ee=nn.prototype;Ee.Oa=function(t){this.M=t};Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cE.g(),this.C=this.u?vO(this.u):vO(cE),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){wO(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=qe.FormData&&t instanceof qe.FormData,!(0<=Y4(nte,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MV(this),0<this.B&&((this.L=rte(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=rC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wO(this,s)}};function rte(t){return Ac&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ee.ua=function(){typeof WI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))};function wO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DV(t),W0(t)}function DV(t){t.F||(t.F=!0,Wn(t,"complete"),Wn(t,"error"))}Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wn(this,"complete"),Wn(this,"abort"),W0(this))};Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),W0(this,!0)),nn.$.N.call(this)};Ee.La=function(){this.s||(this.G||this.v||this.l?$V(this):this.kb())};Ee.kb=function(){$V(this)};function $V(t){if(t.h&&typeof WI<"u"&&(!t.C[1]||ws(t)!=4||t.da()!=2)){if(t.v&&ws(t)==4)rC(t.La,0,t);else if(Wn(t,"readystatechange"),ws(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(TV)[1]||null;!i&&qe.self&&qe.self.location&&(i=qe.self.location.protocol.slice(0,-1)),r=!tte.test(i?i.toLowerCase():"")}n=r}if(n)Wn(t,"complete"),Wn(t,"success");else{t.m=6;try{var s=2<ws(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",DV(t)}}finally{W0(t)}}}}function W0(t,e){if(t.g){MV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wn(t,"ready");try{n.onreadystatechange=r}catch{}}}function MV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(qe.clearTimeout(t.A),t.A=null)}Ee.isActive=function(){return!!this.g};function ws(t){return t.g?t.g.readyState:0}Ee.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}};Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ete(e)}};function bO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case NV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ite(t){const e={};t=(t.g&&2<=ws(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tf(t[r]))continue;var n=Ree(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Eee(e,function(r){return r.join(", ")})}Ee.Ia=function(){return this.m};Ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FV(t){let e="";return QI(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function lC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Dt(t,e,n))}function Vd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LV(t){this.Ga=0,this.j=[],this.l=new L0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vd("baseRetryDelayMs",5e3,t),this.hb=Vd("retryDelaySeedMs",1e4,t),this.eb=Vd("forwardChannelMaxRetries",2,t),this.xa=Vd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AV(t&&t.concurrentRequestLimit),this.Ja=new Xee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ee=LV.prototype;Ee.ra=8;Ee.H=1;function cC(t){if(VV(t),t.H==3){var e=t.W++,n=lo(t.I);if(Dt(n,"SID",t.K),Dt(n,"RID",e),Dt(n,"TYPE","terminate"),xp(t,n),e=new Rp(t,t.l,e),e.L=2,e.v=z0(lo(n)),n=!1,qe.navigator&&qe.navigator.sendBeacon)try{n=qe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&qe.Image&&(new Image().src=e.v,n=!0),n||(e.g=GV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kp(e)}HV(t)}function G0(t){t.g&&(hC(t),t.g.cancel(),t.g=null)}function VV(t){G0(t),t.u&&(qe.clearTimeout(t.u),t.u=null),Qv(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&qe.clearTimeout(t.m),t.m=null)}function K0(t){if(!PV(t.i)&&!t.m){t.m=!0;var e=t.Na;If||uV(),Cf||(If(),Cf=!0),tC.add(e,t),t.C=0}}function ste(t,e){return RV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ap(ur(t.Na,t,e),qV(t,t.C)),t.C++,!0)}Ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Rp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=eV(s),tV(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UV(this,i,e),n=lo(this.I),Dt(n,"RID",t),Dt(n,"CVER",22),this.F&&Dt(n,"X-HTTP-Session-Id",this.F),xp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(FV(s)))+"&"+e:this.o&&lC(n,this.o,s)),aC(this.i,i),this.bb&&Dt(n,"TYPE","init"),this.P?(Dt(n,"$req",e),Dt(n,"SID","null"),i.aa=!0,hE(i,n,null)):hE(i,n,e),this.H=2}}else this.H==3&&(t?EO(this,t):this.j.length==0||PV(this.i)||EO(this))};function EO(t,e){var n;e?n=e.m:n=t.W++;const r=lo(t.I);Dt(r,"SID",t.K),Dt(r,"RID",n),Dt(r,"AID",t.V),xp(t,r),t.o&&t.s&&lC(r,t.o,t.s),n=new Rp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),aC(t.i,n),hE(n,r,e)}function xp(t,e){t.na&&QI(t.na,function(n,r){Dt(e,r,n)}),t.h&&EV({},function(n,r){Dt(e,r,n)})}function UV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ur(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Jee(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;If||uV(),Cf||(If(),Cf=!0),tC.add(e,t),t.A=0}}function dC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ap(ur(t.Ma,t),qV(t,t.A)),t.A++,!0)}Ee.Ma=function(){if(this.u=null,BV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ap(ur(this.jb,this),t)}};Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),G0(this),BV(this))};function hC(t){t.B!=null&&(qe.clearTimeout(t.B),t.B=null)}function BV(t){t.g=new Rp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=lo(t.wa);Dt(e,"RID","rpc"),Dt(e,"SID",t.K),Dt(e,"AID",t.V),Dt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Dt(e,"TO",t.qa),Dt(e,"TYPE","xmlhttp"),xp(t,e),t.o&&t.s&&lC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=z0(lo(e)),n.s=null,n.S=!0,yV(n,t)}Ee.ib=function(){this.v!=null&&(this.v=null,G0(this),dC(this),br(19))};function Qv(t){t.v!=null&&(qe.clearTimeout(t.v),t.v=null)}function zV(t,e){var n=null;if(t.g==e){Qv(t),hC(t),t.g=null;var r=2}else if(pE(t.i,e))n=e.F,kV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=V0(),Wn(r,new pV(r,n)),K0(t)}else jV(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&ste(t,e)||r==2&&dC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fu(t,5);break;case 4:fu(t,10);break;case 3:fu(t,6);break;default:fu(t,2)}}}function qV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ur(t.pb,t);n||(n=new Tu("//www.google.com/images/cleardot.gif"),qe.location&&qe.location.protocol=="http"||Gv(n,"https"),z0(n)),Zee(n.toString(),r)}else br(2);t.H=0,t.h&&t.h.za(e),HV(t),VV(t)}Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))};function HV(t){if(t.H=0,t.ma=[],t.h){const e=OV(t.i);(e.length!=0||t.j.length!=0)&&(hO(t.ma,e),hO(t.ma,t.j),t.i.i.length=0,GI(t.j),t.j.length=0),t.h.ya()}}function WV(t,e,n){var r=n instanceof Tu?lo(n):new Tu(n);if(r.g!="")e&&(r.g=e+"."+r.g),Kv(r,r.m);else{var i=qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Tu(null);r&&Gv(s,r),e&&(s.g=e),i&&Kv(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Dt(r,n,e),Dt(r,"VER",t.ra),xp(t,r),r}function GV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new nn(new q0({ob:!0})):new nn(t.va),e.Oa(t.J),e}Ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function KV(){}Ee=KV.prototype;Ee.Ba=function(){};Ee.Aa=function(){};Ee.za=function(){};Ee.ya=function(){};Ee.isActive=function(){return!0};Ee.Va=function(){};function Yv(){if(Ac&&!(10<=Number(yee)))throw Error("Environmental error: no available transport.")}Yv.prototype.g=function(t,e){return new si(t,e)};function si(t,e){Pn.call(this),this.g=new LV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new nd(this)}xn(si,Pn);si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;br(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=WV(t,null,t.Y),K0(t)};si.prototype.close=function(){cC(this.g)};si.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=eC(t),t=n);e.j.push(new Kee(e.fb++,t)),e.H==3&&K0(e)};si.prototype.N=function(){this.g.h=null,delete this.j,cC(this.g),delete this.g,si.$.N.call(this)};function QV(t){sC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xn(QV,sC);function YV(){oC.call(this),this.status=1}xn(YV,oC);function nd(t){this.g=t}xn(nd,KV);nd.prototype.Ba=function(){Wn(this.g,"a")};nd.prototype.Aa=function(t){Wn(this.g,new QV(t))};nd.prototype.za=function(t){Wn(this.g,new YV)};nd.prototype.ya=function(){Wn(this.g,"b")};function ote(){this.blockSize=-1}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xn(Xi,ote);Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cw(this,r),i=0;break}}this.h=i,this.i+=e};Xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function yt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var ate={};function fC(t){return-128<=t&&128>t?mee(t,function(e){return new yt([e|0],0>e?-1:0)}):new yt([t|0],0>t?-1:0)}function bs(t){if(isNaN(t)||!isFinite(t))return ac;if(0>t)return Bn(bs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mE;return new yt(e,0)}function XV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bn(XV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bs(Math.pow(e,8)),r=ac,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=bs(Math.pow(e,s)),r=r.R(s).add(bs(o))):(r=r.R(n),r=r.add(bs(o)))}return r}var mE=4294967296,ac=fC(0),gE=fC(1),TO=fC(16777216);Ee=yt.prototype;Ee.ea=function(){if(wi(this))return-Bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mE+r)*e,e*=mE}return t};Ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gs(this))return"0";if(wi(this))return"-"+Bn(this).toString(t);for(var e=bs(Math.pow(t,6)),n=this,r="";;){var i=Jv(n,e).g;n=Xv(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wi(t){return t.h==-1}Ee.X=function(t){return t=Xv(this,t),wi(t)?-1:Gs(t)?0:1};function Bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new yt(n,~t.h).add(gE)}Ee.abs=function(){return wi(this)?Bn(this):this};Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function Xv(t,e){return t.add(Bn(e))}Ee.R=function(t){if(Gs(this)||Gs(t))return ac;if(wi(this))return wi(t)?Bn(this).R(Bn(t)):Bn(Bn(this).R(t));if(wi(t))return Bn(this.R(Bn(t)));if(0>this.X(TO)&&0>t.X(TO))return bs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Km(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Km(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Km(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Km(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new yt(n,0)};function Km(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ud(t,e){this.g=t,this.h=e}function Jv(t,e){if(Gs(e))throw Error("division by zero");if(Gs(t))return new Ud(ac,ac);if(wi(t))return e=Jv(Bn(t),e),new Ud(Bn(e.g),Bn(e.h));if(wi(e))return e=Jv(t,Bn(e)),new Ud(Bn(e.g),e.h);if(30<t.g.length){if(wi(t)||wi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gE,r=e;0>=r.X(t);)n=SO(n),r=SO(r);var i=vl(n,1),s=vl(r,1);for(r=vl(r,2),n=vl(n,2);!Gs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=vl(r,1),n=vl(n,1)}return e=Xv(t,i.R(e)),new Ud(i,e)}for(i=ac;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=bs(n),o=s.R(e);wi(o)||0<o.X(t);)n-=r,s=bs(n),o=s.R(e);Gs(s)&&(s=gE),i=i.add(s),t=Xv(t,o)}return new Ud(i,t)}Ee.gb=function(t){return Jv(this,t).h};Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new yt(n,this.h&t.h)};Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new yt(n,this.h|t.h)};Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new yt(n,this.h^t.h)};function SO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new yt(n,t.h)}function vl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new yt(i,t.h)}Yv.prototype.createWebChannel=Yv.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;U0.NO_ERROR=0;U0.TIMEOUT=8;U0.HTTP_ERROR=6;mV.COMPLETE="complete";gV.EventType=Pp;Pp.OPEN="a";Pp.CLOSE="b";Pp.ERROR="c";Pp.MESSAGE="d";Pn.prototype.listen=Pn.prototype.O;nn.prototype.listenOnce=nn.prototype.P;nn.prototype.getLastError=nn.prototype.Sa;nn.prototype.getLastErrorCode=nn.prototype.Ia;nn.prototype.getStatus=nn.prototype.da;nn.prototype.getResponseJson=nn.prototype.Wa;nn.prototype.getResponseText=nn.prototype.ja;nn.prototype.send=nn.prototype.ha;nn.prototype.setWithCredentials=nn.prototype.Oa;Xi.prototype.digest=Xi.prototype.l;Xi.prototype.reset=Xi.prototype.reset;Xi.prototype.update=Xi.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=bs;yt.fromString=XV;var ute=function(){return new Yv},lte=function(){return V0()},dw=U0,cte=mV,dte=el,IO={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qm=gV,hte=nn,fte=Xi,uc=yt;const CO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new E0("@firebase/firestore");function Al(){return ha.logLevel}function pte(t){ha.setLogLevel(t)}function ce(t,...e){if(ha.logLevel<=Ze.DEBUG){const n=e.map(pC);ha.debug(`Firestore (${rd}): ${t}`,...n)}}function on(t,...e){if(ha.logLevel<=Ze.ERROR){const n=e.map(pC);ha.error(`Firestore (${rd}): ${t}`,...n)}}function Ji(t,...e){if(ha.logLevel<=Ze.WARN){const n=e.map(pC);ha.warn(`Firestore (${rd}): ${t}`,...n)}}function pC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${rd}) INTERNAL ASSERTION FAILED: `+t;throw on(e),new Error(e)}function De(t,e){t||Ce()}function mte(t,e){t||Ce()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class vte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yte{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new JV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Sn(e)}}class _te{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _te(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ete{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new bte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Tte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Pc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function e3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Bt(0,0))}static max(){return new Ne(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Of.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Of?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Of{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const Ste=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Of{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return Ste.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function vE(t){return t.fields.find(e=>e.kind===2)}function Ya(t){return t.fields.filter(e=>e.kind!==2)}Zv.UNKNOWN_ID=-1;class Lg{constructor(e,n){this.fieldPath=e,this.kind=n}}class xf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new xf(0,oi.min())}}function t3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new oi(i,we.empty(),e)}function n3(t){return new oi(t.readTime,t.key,-1)}class oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oi(Ne.min(),we.empty(),-1)}static max(){return new oi(Ne.max(),we.empty(),-1)}}function mC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==r3)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new An,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new xh(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=gC(r.target.error);this.m.reject(new xh(e,i))}}static open(e,n,r,i){try{return new Q0(n,e.transaction(i,r))}catch(s){throw new xh(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Cte(n)}}class Bi{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Bi.D(Yt())===12.2&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ce("SimpleDb","Removing database:",e),nu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!mf())return!1;if(Bi.v())return!0;const e=Yt(),n=Bi.D(e),r=0<n&&n<10,i=Bi.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(ce("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new xh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ae(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ae(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new xh(e,o))},i.onupgradeneeded=s=>{ce("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{ce("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=Q0.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.p(),l)).catch(l=>(a.abort(l),z.reject(l))).toPromise();return u.catch(()=>{}),await a.g,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(ce("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ite{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return nu(this.q.delete())}}class xh extends ae{constructor(e,n){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Oa(t){return t.name==="IndexedDbTransactionError"}class Cte{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nu(r)}add(e){return ce("SimpleDb","ADD",this.store.name,e,e),nu(this.store.add(e))}get(e){return nu(this.store.get(e)).next(n=>(n===void 0&&(n=null),ce("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ce("SimpleDb","DELETE",this.store.name,e),nu(this.store.delete(e))}count(){return ce("SimpleDb","COUNT",this.store.name),nu(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new z((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){ce("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=gC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Ite(a),l=n(a.primaryKey,a.value,u);if(l instanceof z){const c=l.catch(d=>(u.done(),z.reject(d)));r.push(c)}u.isDone?i():u.U===null?a.continue():a.continue(u.U)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function nu(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=gC(r.target.error);n(i)}})}let AO=!1;function gC(t){const e=Bi.D(Yt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AO||(AO=!0,setTimeout(()=>{throw r},0)),r}}return t}class Ate{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ce("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ce("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Oa(n)?ce("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await ka(n)}await this.te(6e4)})}}class Pte{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return ce("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(a=>(ce("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=n3(s);mC(o,r)>0&&(r=o)}),new oi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lr.ae=-1;function Np(t){return t==null}function Nf(t){return t===0&&1/t==-1/0}function s3(t){return typeof t=="number"&&Number.isInteger(t)&&!Nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PO(e)),e=Rte(t.get(n),e);return PO(e)}function Rte(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function PO(t){return t+""}function Es(t){const e=t.length;if(De(e>=2),e===2)return De(t.charAt(0)===""&&t.charAt(1)===""),st.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ce(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ce()}s=o+2}return new st(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){return[t,Ir(e)]}function o3(t,e,n){return[t,Ir(e),n]}const kte={},Ote=["prefixPath","collectionGroup","readTime","documentId"],xte=["prefixPath","collectionGroup","documentId"],Nte=["collectionGroup","readTime","prefixPath","documentId"],Dte=["canonicalId","targetId"],$te=["targetId","path"],Mte=["path","targetId"],Fte=["collectionId","parent"],Lte=["indexId","uid"],Vte=["uid","sequenceNumber"],Ute=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jte=["indexId","uid","orderedDocumentKey"],Bte=["userId","collectionPath","documentId"],zte=["userId","collectionPath","largestBatchId"],qte=["userId","collectionGroup","largestBatchId"],a3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hte=[...a3,"documentOverlays"],u3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],l3=u3,Wte=[...l3,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends i3{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=be(t);return Bi.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=s??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OO(this.data.getIterator())}getIteratorFrom(e){return new OO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class OO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new At(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new d3("Invalid base64 string: "+s):s}}(e);return new wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const Kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(t){if(De(!!t),typeof t=="string"){let e=0;const n=Kte.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vC(t){const e=t.mapValue.fields.__previous_value__;return Y0(e)?vC(e):e}function Df(t){const e=fa(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ug={nullValue:"NULL_VALUE"};function Mu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y0(t)?4:h3(t)?9007199254740991:10:Ce()}function Ns(t,e){if(t===e)return!0;const n=Mu(t);if(n!==Mu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fa(i.timestampValue),a=fa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pa(i.bytesValue).isEqual(pa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zt(i.doubleValue),a=Zt(s.doubleValue);return o===a?Nf(o)===Nf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(kO(o)!==kO(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ns(o[u],a[u])))return!1;return!0}(t,e);default:return Ce()}}function $f(t,e){return(t.values||[]).find(n=>Ns(n,e))!==void 0}function ga(t,e){if(t===e)return 0;const n=Mu(t),r=Mu(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zt(s.integerValue||s.doubleValue),u=Zt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return xO(t.timestampValue,e.timestampValue);case 4:return xO(Df(t),Df(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=pa(s),u=pa(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Ke(a[l],u[l]);if(c!==0)return c}return Ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ke(Zt(s.latitude),Zt(o.latitude));return a!==0?a:Ke(Zt(s.longitude),Zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=ga(a[l],u[l]);if(c)return c}return Ke(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wo.mapValue&&o===Wo.mapValue)return 0;if(s===Wo.mapValue)return 1;if(o===Wo.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const h=Ke(u[d],c[d]);if(h!==0)return h;const p=ga(a[u[d]],l[c[d]]);if(p!==0)return p}return Ke(u.length,c.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function xO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=fa(t),r=fa(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function Rc(t){return _E(t)}function _E(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_E(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_E(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function Fu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wE(t){return!!t&&"integerValue"in t}function Mf(t){return!!t&&"arrayValue"in t}function NO(t){return!!t&&"nullValue"in t}function DO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jg(t){return!!t&&"mapValue"in t}function Nh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Yte(t){return"nullValue"in t?Ug:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fu(ma.empty(),we.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ce()}function Xte(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fu(ma.empty(),we.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Wo:Ce()}function $O(t,e){const n=ga(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MO(t,e){const n=ga(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zn(Nh(this.value))}}function f3(t){const e=[];return tl(t.fields,(n,r)=>{const i=new en([n]);if(jg(r)){const s=f3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,Ne.min(),Ne.min(),Ne.min(),zn.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,Ne.min(),Ne.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Ne.min(),Ne.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.position=e,this.inclusive=n}}function FO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=ga(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{}class et extends p3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zte(e,n,r):n==="array-contains"?new nne(e,r):n==="in"?new w3(e,r):n==="not-in"?new rne(e,r):n==="array-contains-any"?new ine(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ene(e,r):new tne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ga(n,this.value)):n!==null&&Mu(this.value)===Mu(n)&&this.matchesComparison(ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gt extends p3{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new gt(e,n)}matches(e){return kc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function kc(t){return t.op==="and"}function bE(t){return t.op==="or"}function yC(t){return m3(t)&&kc(t)}function m3(t){for(const e of t.filters)if(e instanceof gt)return!1;return!0}function EE(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Rc(t.value);if(yC(t))return t.filters.map(e=>EE(e)).join(",");{const e=t.filters.map(n=>EE(n)).join(",");return`${t.op}(${e})`}}function g3(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)}(t,e):t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&g3(o,i.filters[a]),!0):!1}(t,e):void Ce()}function v3(t,e){const n=t.filters.concat(e);return gt.create(n,t.op)}function y3(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Rc(n.value)}`}(t):t instanceof gt?function(n){return n.op.toString()+" {"+n.getFilters().map(y3).join(" ,")+"}"}(t):"Filter"}class Zte extends et{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class ene extends et{constructor(e,n){super(e,"in",n),this.keys=_3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tne extends et{constructor(e,n){super(e,"not-in",n),this.keys=_3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class nne extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mf(n)&&$f(n.arrayValue,this.value)}}class w3 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$f(this.value.arrayValue,n)}}class rne extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$f(this.value.arrayValue,n)}}class ine extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function TE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sne(t,e,n,r,i,s,o)}function Lu(t){const e=be(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>EE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rc(r)).join(",")),e.he=n}return e.he}function Dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LO(t.startAt,e.startAt)&&LO(t.endAt,e.endAt)}function ey(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ty(t,e){return t.filters.filter(n=>n instanceof et&&n.field.isEqual(e))}function VO(t,e,n){let r=Ug,i=!0;for(const s of ty(t,e)){let o=Ug,a=!0;switch(s.op){case"<":case"<=":o=Yte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ug}$O({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];$O({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function UO(t,e,n){let r=Wo,i=!0;for(const s of ty(t,e)){let o=Wo,a=!0;switch(s.op){case">=":case">":o=Xte(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Wo}MO({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];MO({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function b3(t,e,n,r,i,s,o,a){return new yo(t,e,n,r,i,s,o,a)}function id(t){return new yo(t)}function jO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _C(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function X0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function wC(t){return t.collectionGroup!==null}function cc(t){const e=be(t);if(e.Pe===null){e.Pe=[];const n=X0(e),r=_C(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new lc(n)),e.Pe.push(new lc(en.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new lc(en.keyField(),s))}}}return e.Pe}function Cr(t){const e=be(t);return e.Ie||(e.Ie=one(e,cc(t))),e.Ie}function one(t,e){if(t.limitType==="F")return TE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lc(i.field,s)});const n=t.endAt?new va(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new va(t.startAt.position,t.startAt.inclusive):null;return TE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SE(t,e){e.getFirstInequalityField(),X0(t);const n=t.filters.concat([e]);return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ny(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $p(t,e){return Dp(Cr(t),Cr(e))&&t.limitType===e.limitType}function E3(t){return`${Lu(Cr(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y3(i)).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rc(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function Mp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):we.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=FO(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(o,a,u){const l=FO(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function T3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S3(t){return(e,n)=>{let r=!1;for(const i of cc(t)){const s=ane(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ane(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ga(u,l):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return c3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une=new Pt(we.comparator);function Ur(){return une}const I3=new Pt(we.comparator);function ch(...t){let e=I3;for(const n of t)e=e.insert(n.key,n);return e}function C3(t){let e=I3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return Dh()}function A3(){return Dh()}function Dh(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const lne=new Pt(we.comparator),cne=new At(we.comparator);function Qe(...t){let e=cne;for(const n of t)e=e.add(n);return e}const dne=new At(Ke);function bC(){return dne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function R3(t){return{integerValue:""+t}}function k3(t,e){return s3(e)?R3(e):P3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this._=void 0}}function hne(t,e,n){return t instanceof Oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Y0(s)&&(s=vC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vu?x3(t,e):t instanceof Uu?N3(t,e):function(i,s){const o=O3(i,s),a=BO(o)+BO(i.Te);return wE(o)&&wE(i.Te)?R3(a):P3(i.serializer,a)}(t,e)}function fne(t,e,n){return t instanceof Vu?x3(t,e):t instanceof Uu?N3(t,e):n}function O3(t,e){return t instanceof xc?function(r){return wE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Oc extends J0{}class Vu extends J0{constructor(e){super(),this.elements=e}}function x3(t,e){const n=D3(e);for(const r of t.elements)n.some(i=>Ns(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends J0{constructor(e){super(),this.elements=e}}function N3(t,e){let n=D3(e);for(const r of t.elements)n=n.filter(i=>!Ns(i,r));return{arrayValue:{values:n}}}class xc extends J0{constructor(e,n){super(),this.serializer=e,this.Te=n}}function BO(t){return Zt(t.integerValue||t.doubleValue)}function D3(t){return Mf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.field=e,this.transform=n}}function pne(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vu&&i instanceof Vu||r instanceof Uu&&i instanceof Uu?Pc(r.elements,i.elements,Ns):r instanceof xc&&i instanceof xc?Ns(r.Te,i.Te):r instanceof Oc&&i instanceof Oc}(t.transform,e.transform)}class mne{constructor(e,n){this.version=e,this.transformResults=n}}class jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Z0{}function $3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new od(t.key,jt.none()):new sd(t.key,t.data,jt.none());{const n=t.data,r=zn.empty();let i=new At(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _o(t.key,r,new Vr(i.toArray()),jt.none())}}function gne(t,e,n){t instanceof sd?function(i,s,o){const a=i.value.clone(),u=qO(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,s,o){if(!Bg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qO(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(M3(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $h(t,e,n,r){return t instanceof sd?function(s,o,a,u){if(!Bg(s.precondition,o))return a;const l=s.value.clone(),c=HO(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(s,o,a,u){if(!Bg(s.precondition,o))return a;const l=HO(s.fieldTransforms,u,o),c=o.data;return c.setAll(M3(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Bg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=O3(r.transform,i||null);s!=null&&(n===null&&(n=zn.empty()),n.set(r.field,s))}return n||null}function zO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pc(r,i,(s,o)=>pne(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Z0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _o extends Z0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qO(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fne(o,a,n[i]))}return r}function HO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hne(s,o,e))}return r}class od extends Z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EC extends Z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=$3(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Pc(this.mutations,e.mutations,(n,r)=>zO(n,r))&&Pc(this.baseMutations,e.baseMutations,(n,r)=>zO(n,r))}}class SC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return lne}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new SC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,rt;function F3(t){switch(t){default:return Ce();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function L3(t){if(t===void 0)return on("GRPC error has no .code"),Q.UNKNOWN;switch(t){case cn.OK:return Q.OK;case cn.CANCELLED:return Q.CANCELLED;case cn.UNKNOWN:return Q.UNKNOWN;case cn.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case cn.INTERNAL:return Q.INTERNAL;case cn.UNAVAILABLE:return Q.UNAVAILABLE;case cn.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case cn.NOT_FOUND:return Q.NOT_FOUND;case cn.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case cn.ABORTED:return Q.ABORTED;case cn.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case cn.DATA_LOSS:return Q.DATA_LOSS;default:return Ce()}}(rt=cn||(cn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne=new uc([4294967295,4294967295],0);function WO(t){const e=V3().encode(t),n=new fte;return n.update(e),new Uint8Array(n.digest())}function GO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uc([n,r],0),new uc([i,s],0)]}class CC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=uc.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(uc.fromNumber(r)));return i.compare(_ne)===1&&(i=new uc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=WO(e),[r,i]=GO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new CC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=WO(e),[r,i]=GO(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lp(Ne.min(),i,new Pt(Ke),Ur(),Qe())}}class Vp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vp(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class U3{constructor(e,n){this.targetId=e,this.ye=n}}class j3{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KO{constructor(){this.we=0,this.Se=YO(),this.be=wn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Qe(),n=Qe(),r=Qe();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Vp(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=YO()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class wne{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Ur(),this.Ue=QO(),this.We=new Pt(Ke)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(ey(s))if(r===0){const o=new we(s.path);this.je(n,o,$t.newNoDocument(o,Ne.min()))}else De(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;if(u!==0){this.Ze(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=pa(r).toUint8Array()}catch(u){if(u instanceof d3)return Ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new CC(o,i,s)}catch(u){return Ji(u instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&ey(a.target)){const u=new we(a.target.path);this.$e.get(u)!==null||this.ut(o,u)||this.je(o,u,$t.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Qe();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.et(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Lp(e,n,this.We,this.$e,r);return this.$e=Ur(),this.Ue=QO(),this.We=new Pt(Ke),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new KO,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new At(Ke),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new KO),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function QO(){return new Pt(we.comparator)}function YO(){return new Pt(we.comparator)}const bne=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ene=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Tne=(()=>({and:"AND",or:"OR"}))();class Sne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function IE(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ine(t,e){return Nc(t,e.toTimestamp())}function an(t){return De(!!t),Ne.fromTimestamp(function(n){const r=fa(n);return new Bt(r.seconds,r.nanos)}(t))}function AC(t,e){return function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function z3(t){const e=st.fromString(t);return De(J3(e)),e}function Ff(t,e){return AC(t.databaseId,e.path)}function As(t,e){const n=z3(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(H3(n))}function CE(t,e){return AC(t.databaseId,e)}function q3(t){const e=z3(t);return e.length===4?st.emptyPath():H3(e)}function Lf(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H3(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XO(t,e,n){return{name:Ff(t,e),fields:n.value.mapValue.fields}}function W3(t,e,n){const r=As(t,e.name),i=an(e.updateTime),s=e.createTime?an(e.createTime):Ne.min(),o=new zn({mapValue:{fields:e.fields}}),a=$t.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cne(t,e){return"found"in e?function(r,i){De(!!i.found),i.found.name,i.found.updateTime;const s=As(r,i.found.name),o=an(i.found.updateTime),a=i.found.createTime?an(i.found.createTime):Ne.min(),u=new zn({mapValue:{fields:i.found.fields}});return $t.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){De(!!i.missing),De(!!i.readTime);const s=As(r,i.missing),o=an(i.readTime);return $t.newNoDocument(s,o)}(t,e):Ce()}function Ane(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(De(c===void 0||typeof c=="string"),wn.fromBase64String(c||"")):(De(c===void 0||c instanceof Uint8Array),wn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Q.UNKNOWN:L3(l.code);return new ae(c,l.message||"")}(o);n=new j3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=As(t,r.document.name),s=an(r.document.updateTime),o=r.document.createTime?an(r.document.createTime):Ne.min(),a=new zn({mapValue:{fields:r.document.fields}}),u=$t.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new zg(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=As(t,r.document),s=r.readTime?an(r.readTime):Ne.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=As(t,r.document),s=r.removedTargetIds||[];n=new zg([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yne(i,s),a=r.targetId;n=new U3(a,o)}}return n}function Vf(t,e){let n;if(e instanceof sd)n={update:XO(t,e.key,e.value)};else if(e instanceof od)n={delete:Ff(t,e.key)};else if(e instanceof _o)n={update:XO(t,e.key,e.data),updateMask:Nne(e.fieldMask)};else{if(!(e instanceof EC))return Ce();n={verify:Ff(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ine(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function AE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?jt.updateTime(an(s.updateTime)):s.exists!==void 0?jt.exists(s.exists):jt.none()}(e.currentDocument):jt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)De(a.setToServerValue==="REQUEST_TIME"),u=new Oc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];u=new Vu(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];u=new Uu(c)}else"increment"in a?u=new xc(o,a.increment):Ce();const l=en.fromServerFormat(a.fieldPath);return new Fp(l,u)}(t,i)):[];if(e.update){e.update.name;const i=As(t,e.update.name),s=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const l=u.fieldPaths||[];return new Vr(l.map(c=>en.fromServerFormat(c)))}(e.updateMask);return new _o(i,s,o,n,r)}return new sd(i,s,n,r)}if(e.delete){const i=As(t,e.delete);return new od(i,n)}if(e.verify){const i=As(t,e.verify);return new EC(i,n)}return Ce()}function Pne(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?an(i.updateTime):an(s);return o.isEqual(Ne.min())&&(o=an(s)),new mne(o,i.transformResults||[])}(n,e))):[]}function G3(t,e){return{documents:[CE(t,e.path)]}}function K3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=CE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=CE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return X3(gt.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:Rl(d.field),direction:kne(d.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=IE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function Q3(t){let e=q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=Y3(d);return h instanceof gt&&yC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new lc(kl(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Np(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){const h=!!d.before,p=d.values||[];return new va(p,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const h=!d.before,p=d.values||[];return new va(p,h)}(n.endAt)),b3(e,i,o,s,a,"F",u,l)}function Rne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kl(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kl(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=kl(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kl(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return et.create(kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gt.create(n.compositeFilter.filters.map(r=>Y3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function kne(t){return bne[t]}function One(t){return Ene[t]}function xne(t){return Tne[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function kl(t){return en.fromServerFormat(t.fieldPath)}function X3(t){return t instanceof et?function(n){if(n.op==="=="){if(DO(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(NO(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DO(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(NO(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:One(n.op),value:n.value}}}(t):t instanceof gt?function(n){const r=n.getFilters().map(i=>X3(i));return r.length===1?r[0]:{compositeFilter:{op:xne(n.op),filters:r}}}(t):Ce()}function Nne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,i,s=Ne.min(),o=Ne.min(),a=wn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.ht=e}}function Dne(t,e){let n;if(e.document)n=W3(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),i=Bu(e.noDocument.readTime);n=$t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const r=we.fromSegments(e.unknownDocument.path),i=Bu(e.unknownDocument.version);n=$t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Bt(i[0],i[1]);return Ne.fromTimestamp(s)}(e.readTime)),n}function JO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ry(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ff(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Nc(s,o.version.toTimestamp()),createTime:Nc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ju(e.version)};else{if(!e.isUnknownDocument())return Ce();r.unknownDocument={path:n.path.toArray(),version:ju(e.version)}}return r}function ry(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ju(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(t){const e=new Bt(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function ru(t,e){const n=(e.baseMutations||[]).map(s=>AE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>AE(t.ht,s)),i=Bt.fromMillis(e.localWriteTimeMs);return new TC(e.batchId,i,n,r)}function hh(t){const e=Bu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bu(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return De(s.documents.length===1),Cr(id(q3(s.documents[0])))}(t.query):function(s){return Cr(Q3(s))}(t.query),new Ks(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wn.fromBase64String(t.resumeToken))}function e6(t,e){const n=ju(e.snapshotVersion),r=ju(e.lastLimboFreeSnapshotVersion);let i;i=ey(e.target)?G3(t.ht,e.target):K3(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PC(t){const e=Q3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}function hw(t,e){return new IC(e.largestBatchId,AE(t.ht,e.overlayMutation))}function ZO(t,e){const n=e.path.lastSegment();return[t,Ir(e.path.popLast()),n]}function e2(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ju(r.readTime),documentKey:Ir(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{getBundleMetadata(e,n){return t2(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Bu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return t2(e).put(function(i){return{bundleId:i.id,createTime:ju(an(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return n2(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:PC(s.bundledQuery),readTime:Bu(s.readTime)}}(r)})}saveNamedQuery(e,n){return n2(e).put(function(i){return{name:i.name,readTime:ju(an(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function t2(t){return Nn(t,"bundles")}function n2(t){return Nn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new e_(e,r)}getOverlay(e,n){return jd(e).get(ZO(this.userId,n)).next(r=>r?hw(this.serializer,r):null)}getOverlays(e,n){const r=Ts();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new IC(n,o);i.push(this.It(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ir(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(jd(e).J("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ts(),s=Ir(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jd(e).G("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=hw(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ts();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jd(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const d=hw(this.serializer,l);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}It(e,n){return jd(e).put(function(i,s,o){const[a,u,l]=ZO(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vf(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function jd(t){return Nn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(Zt(e.integerValue));else if("doubleValue"in e){const r=Zt(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Nf(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(pa(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?h3(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Ce()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),we.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}iu.Ct=new iu;function Mne(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function r2(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Mne(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Fne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=r2(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=r2(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Lne{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Vne{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Bd{constructor(){this.jt=new Fne,this.Ht=new Lne(this.jt),this.Jt=new Vne(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new su(this.indexId,this.documentKey,this.arrayValue,r)}}function Oo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=i2(t.arrayValue,e.arrayValue),n!==0?n:(n=i2(t.directionalValue,e.directionalValue),n!==0?n:we.comparator(t.documentKey,e.documentKey)))}function i2(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){De(e.collectionGroup===this.collectionId);const n=vE(e);if(n!==void 0&&!this.rn(n))return!1;const r=Ya(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const a=r[s];if(!this.sn(this.tn,a)||!this.on(this.Xt[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],a))return!1}return!0}_n(){let e=new At(en.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Lg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Lg(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Lg(r.field,r.dir==="asc"?0:1)));return new Zv(Zv.UNKNOWN_ID,this.collectionId,n,xf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){var e,n;if(De(t instanceof et||t instanceof gt),t instanceof et){if(t instanceof w3){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>et.create(t.field,"==",s)))||[];return gt.create(i,"or")}return t}const r=t.filters.map(i=>t6(i));return gt.create(r,t.op)}function Une(t){if(t.getFilters().length===0)return[];const e=kE(t6(t));return De(n6(e)),PE(e)||RE(e)?[e]:e.getFilters()}function PE(t){return t instanceof et}function RE(t){return t instanceof gt&&yC(t)}function n6(t){return PE(t)||RE(t)||function(n){if(n instanceof gt&&bE(n)){for(const r of n.getFilters())if(!PE(r)&&!RE(r))return!1;return!0}return!1}(t)}function kE(t){if(De(t instanceof et||t instanceof gt),t instanceof et)return t;if(t.filters.length===1)return kE(t.filters[0]);const e=t.filters.map(r=>kE(r));let n=gt.create(e,t.op);return n=iy(n),n6(n)?n:(De(n instanceof gt),De(kc(n)),De(n.filters.length>1),n.filters.reduce((r,i)=>RC(r,i)))}function RC(t,e){let n;return De(t instanceof et||t instanceof gt),De(e instanceof et||e instanceof gt),n=t instanceof et?e instanceof et?function(i,s){return gt.create([i,s],"and")}(t,e):o2(t,e):e instanceof et?o2(e,t):function(i,s){if(De(i.filters.length>0&&s.filters.length>0),kc(i)&&kc(s))return v3(i,s.getFilters());const o=bE(i)?i:s,a=bE(i)?s:i,u=o.filters.map(l=>RC(l,a));return gt.create(u,"or")}(t,e),iy(n)}function o2(t,e){if(kc(e))return v3(e,t.getFilters());{const n=e.filters.map(r=>RC(t,r));return gt.create(n,"or")}}function iy(t){if(De(t instanceof et||t instanceof gt),t instanceof et)return t;const e=t.getFilters();if(e.length===1)return iy(e[0]);if(m3(t))return t;const n=e.map(i=>iy(i)),r=[];return n.forEach(i=>{i instanceof et?r.push(i):i instanceof gt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:gt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(){this.an=new kC}addToCollectionParentIndex(e,n){return this.an.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(oi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class kC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Uint8Array(0);class Bne{constructor(e,n){this.user=e,this.databaseId=n,this.un=new kC,this.cn=new xa(r=>Lu(r),(r,i)=>Dp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Ir(i)};return a2(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[e3(n),""],!1,!0);return a2(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Es(o.parent))}return r})}addFieldIndex(e,n){const r=zd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=wl(e);return s.next(a=>{o.put(e2(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=zd(e),i=wl(e),s=_l(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zd(e),r=_l(e),i=wl(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return z.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new s2(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=_l(e);let i=!0;const s=new Map;return z.forEach(this.ln(n),o=>this.hn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Qe();const a=[];return z.forEach(s,(u,l)=>{ce("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(u)} to execute ${Lu(n)}`);const c=function(b,w){const E=vE(w);if(E===void 0)return null;for(const A of ty(b,E.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(l,u),d=function(b,w){const E=new Map;for(const A of Ya(w))for(const R of ty(b,A.fieldPath))switch(R.op){case"==":case"in":E.set(A.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return E.set(A.fieldPath.canonicalString(),R.value),Array.from(E.values())}return null}(l,u),h=function(b,w){const E=[];let A=!0;for(const R of Ya(w)){const x=R.kind===0?VO(b,R.fieldPath,b.startAt):UO(b,R.fieldPath,b.startAt);E.push(x.value),A&&(A=x.inclusive)}return new va(E,A)}(l,u),p=function(b,w){const E=[];let A=!0;for(const R of Ya(w)){const x=R.kind===0?UO(b,R.fieldPath,b.endAt):VO(b,R.fieldPath,b.endAt);E.push(x.value),A&&(A=x.inclusive)}return new va(E,A)}(l,u),v=this.Pn(u,l,h),y=this.Pn(u,l,p),g=this.In(u,l,d),m=this.dn(u.indexId,c,v,h.inclusive,y,p.inclusive,g);return z.forEach(m,_=>r.H(_,n.limit).next(b=>{b.forEach(w=>{const E=we.fromSegments(w.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return z.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=Une(gt.create(e.filters,"and")).map(r=>TE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let d=0;d<u;++d){const h=n?this.Tn(n[d/l]):Xm,p=this.En(e,h,r[d%l],i),v=this.An(e,h,s[d%l],o),y=a.map(g=>this.En(e,h,g,!0));c.push(...this.createRange(p,v,y))}return c}En(e,n,r,i){const s=new su(e,we.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new su(e,we.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new s2(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.nn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return z.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new At(en.comparator),c=!1;for(const d of u.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:l=l.add(h.field));for(const d of u.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Bd;for(const i of Ya(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);iu.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Bd;return iu.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Bd;return iu.Ct.dt(Fu(this.databaseId,n),r.Yt(function(s){const o=Ya(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Bd);let s=0;for(const o of Ya(e)){const a=r[s++];for(const u of i)if(this.mn(n,o.fieldPath)&&Mf(a))i=this.fn(i,o,a);else{const l=u.Yt(o.kind);iu.Ct.dt(a,l)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Bd;u.seed(a.zt()),iu.Ct.dt(o,u.Yt(n.kind)),s.push(u)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof et&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=zd(e),i=wl(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(c,d){const h=d?new xf(d.sequenceNumber,new oi(Bu(d.readTime),new we(Es(d.documentKey)),d.largestBatchId)):xf.empty(),p=c.fields.map(([v,y])=>new Lg(en.fromServerFormat(v),y));return new Zv(c.indexId,c.collectionGroup,p,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=zd(e),s=wl(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,u=>s.put(e2(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,u=>this.yn(e,i,u).next(l=>{const c=this.wn(s,u);return l.isEqual(c)?z.resolve():this.Sn(e,s,u,l,c)}))))})}bn(e,n,r,i){return _l(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return _l(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=_l(e);let s=new At(Oo);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,a)=>{s=s.add(new su(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new At(Oo);const i=this.Rn(n,e);if(i==null)return r;const s=vE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Mf(o))for(const a of o.arrayValue.values||[])r=r.add(new su(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new su(n.indexId,e.key,Xm,i));return r}Sn(e,n,r,i,s){ce("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,c,d,h){const p=u.getIterator(),v=l.getIterator();let y=yl(p),g=yl(v);for(;y||g;){let m=!1,_=!1;if(y&&g){const b=c(y,g);b<0?_=!0:b>0&&(m=!0)}else y!=null?_=!0:m=!0;m?(d(g),g=yl(v)):_?(h(y),y=yl(p)):(y=yl(p),g=yl(v))}}(i,s,Oo,a=>{o.push(this.bn(e,n,r,a))},a=>{o.push(this.Dn(e,n,r,a))}),z.waitFor(o)}pn(e){let n=1;return wl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Oo(o,a)).filter((o,a,u)=>!a||Oo(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Oo(o,e),u=Oo(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Xm,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Xm,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return Oo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(u2)}getMinOffset(e,n){return z.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||Ce())).next(u2)}}function a2(t){return Nn(t,"collectionParents")}function _l(t){return Nn(t,"indexEntries")}function zd(t){return Nn(t,"indexConfiguration")}function wl(t){return Nn(t,"indexState")}function u2(t){De(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;mC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new oi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(u.next(()=>{De(a===1)}));const l=[];for(const c of n.mutations){const d=o3(e,c.key.path,n.batchId);s.push(i.delete(d)),l.push(c.key)}return z.waitFor(s).next(()=>l)}function sy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);class t_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){De(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new t_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ol(e),o=xo(e);return o.add({}).next(a=>{De(typeof a=="number");const u=new TC(a,n,r,i),l=function(p,v,y){const g=y.baseMutations.map(_=>Vf(p.ht,_)),m=y.mutations.map(_=>Vf(p.ht,_));return{userId:v,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:g,mutations:m}}(this.serializer,this.userId,u),c=[];let d=new At((h,p)=>Ke(h.canonicalString(),p.canonicalString()));for(const h of i){const p=o3(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(l)),c.push(s.put(p,kte))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.vn[a]=u.keys()}),z.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return xo(e).get(n).next(r=>r?(De(r.userId===this.userId),ru(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?z.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return xo(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(De(a.batchId>=r),s=ru(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xo(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).G("userMutationsIndex",n).next(r=>r.map(i=>ru(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ol(e).Z({range:i},(o,a,u)=>{const[l,c,d]=o,h=Es(c);if(l===this.userId&&n.path.isEqual(h))return xo(e).get(d).next(p=>{if(!p)throw Ce();De(p.userId===this.userId),s.push(ru(this.serializer,p))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ke);const i=[];return n.forEach(s=>{const o=Vg(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Ol(e).Z({range:a},(l,c,d)=>{const[h,p,v]=l,y=Es(p);h===this.userId&&s.path.isEqual(y)?r=r.add(v):d.done()});i.push(u)}),z.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Vg(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new At(Ke);return Ol(e).Z({range:o},(u,l,c)=>{const[d,h,p]=u,v=Es(h);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Mn(e,a))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(xo(e).get(s).next(o=>{if(o===null)throw Ce();De(o.userId===this.userId),r.push(ru(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return r6(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ol(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Es(s[1]);i.push(u)}else a.done()}).next(()=>{De(i.length===0)})})}containsKey(e,n){return i6(e,this.userId,n)}On(e){return s6(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function i6(t,e,n){const r=Vg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ol(t).Z({range:s,Y:!0},(a,u,l)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),l.done()}).next(()=>o)}function xo(t){return Nn(t,"mutations")}function Ol(t){return Nn(t,"documentMutations")}function s6(t){return Nn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new zu(0)}static Ln(){return new zu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new zu(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Ne.fromTimestamp(new Bt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>bl(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(De(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return bl(e).Z((o,a)=>{const u=hh(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return bl(e).Z((r,i)=>{const s=hh(i);n(s)})}kn(e){return c2(e).get("targetGlobalKey").next(n=>(De(n!==null),n))}qn(e,n){return c2(e).put("targetGlobalKey",n)}Qn(e,n){return bl(e).put(e6(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Lu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return bl(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=hh(a);Dp(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Uo(e);return n.forEach(o=>{const a=Ir(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Uo(e);return z.forEach(n,s=>{const o=Ir(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Uo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Uo(e);let s=Qe();return i.Z({range:r,Y:!0},(o,a,u)=>{const l=Es(o[1]),c=new we(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Ir(n.path),i=IDBKeyRange.bound([r],[e3(r)],!1,!0);let s=0;return Uo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}lt(e,n){return bl(e).get(n).next(r=>r?hh(r):null)}}function bl(t){return Nn(t,"targets")}function c2(t){return Nn(t,"targetGlobal")}function Uo(t){return Nn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2([t,e],[n,r]){const i=Ke(t,n);return i===0?Ke(e,r):i}class qne{constructor(e){this.$n=e,this.buffer=new At(d2),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oa(n)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.jn(3e5)})}}class Wne{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Lr.ae);const r=new qne(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(l2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l2):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),Al()<=Ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Gne(t,e){return new Wne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e,n){this.db=e,this.garbageCollector=Gne(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return Jm(e,r)}removeReference(e,n,r){return Jm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Jm(e,n)}tr(e,n){return function(i,s){let o=!1;return s6(i).X(a=>i6(i,a,s).next(u=>(u&&(o=!0),z.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,a)=>{if(a<=n){const u=this.tr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ne.min()),Uo(e).delete(function(d){return[0,Ir(d.path)]}(o))))});i.push(u)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Jm(e,n)}er(e,n){const r=Uo(e);let i,s=Lr.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Lr.ae&&n(new we(Es(i)),s),s=l,i=u):s=Lr.ae}).next(()=>{s!==Lr.ae&&n(new we(Es(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jm(t,e){return Uo(t).put(function(r,i){return{targetId:0,path:Ir(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ja(e).put(r)}removeEntry(e,n,r){return ja(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ry(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=$t.newInvalidDocument(n);return ja(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:$t.newInvalidDocument(n)};return ja(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qd(n))},(i,s)=>{r={document:this.rr(n,s),size:sy(s)}}).next(()=>r)}getEntries(e,n){let r=Ur();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=Ur(),i=new Pt(we.comparator);return this.sr(e,n,(s,o)=>{const a=this.rr(s,o);r=r.insert(s,a),i=i.insert(s,sy(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return z.resolve();let i=new At(p2);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(qd(i.first()),qd(i.last())),o=i.getIterator();let a=o.getNext();return ja(e).Z({index:"documentKeyIndex",range:s},(u,l,c)=>{const d=we.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&p2(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.W(qd(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),ry(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ja(e).G(IDBKeyRange.bound(a,u,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let c=Ur();for(const d of l){const h=this.rr(we.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Mp(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Ur();const o=f2(n,r),a=f2(n,oi.max());return ja(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const d=this.rr(we.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new Yne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return h2(e).get("remoteDocumentGlobalKey").next(n=>(De(!!n),n))}nr(e,n){return h2(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=Dne(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return $t.newInvalidDocument(e)}}function a6(t){return new Qne(t)}class Yne extends o6{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new xa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new At((s,o)=>Ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=JO(this.ur.serializer,o);i=i.add(s.path.popLast());const l=sy(u);r+=l-a.size,n.push(this.ur.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=JO(this.ur.serializer,o.convertToNoDocument(Ne.min()));n.push(this.ur.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function h2(t){return Nn(t,"remoteDocumentGlobal")}function ja(t){return Nn(t,"remoteDocumentsV14")}function qd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f2(t,e){const n=e.documentKey.path.toArray();return[t,ry(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function p2(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ke(n[s],r[s]),i)return i;return i=Ke(n.length,r.length),i||(i=Ke(n[n.length-2],r[r.length-2]),i||Ke(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$h(r.mutation,i,Vr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ch();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=Dh(),a=function(){return Dh()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof _o)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),$h(c.mutation,l,c.mutation.getFieldMask(),Bt.now())):o.set(l.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new Xne(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new Pt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Vr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Qe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=A3();c.forEach(h=>{if(!s.has(h)){const p=$3(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ts());let a=-1,u=s;return o.next(l=>z.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Qe())).next(c=>({batchId:a,changes:C3(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ch();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const l=function(d,h){return new yo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,$t.newInvalidDocument(c)))});let a=ch();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&$h(c.mutation,l,Vr.empty(),Bt.now()),Mp(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return z.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:an(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:PC(i.bundledQuery),readTime:an(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(){this.overlays=new Pt(we.comparator),this.Pr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ts(),s=n.length+1,o=new we(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Ts(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Ts(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return z.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IC(n,r));let s=this.Pr.get(n);s===void 0&&(s=Qe(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Ir=new At(En.dr),this.Tr=new At(En.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new En(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new En(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new we(new st([])),r=new En(n,e),i=new En(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new we(new st([])),r=new En(n,e),i=new En(n,e+1);let s=Qe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new En(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return we.comparator(e.key,n.key)||Ke(e.yr,n.yr)}static Er(e,n){return Ke(e.yr,n.yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new At(En.dr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ke);return n.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;we.isDocumentKey(s)||(s=s.child(""));const o=new En(new we(s),0);let a=new At(Ke);return this.Sr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.yr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return z.forEach(n.mutations,i=>{const s=new En(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new En(n,0),i=this.Sr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.Fr=e,this.docs=function(){return new Pt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new we(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||mC(n3(c),r)<=0||(i.has(c.key)||Mp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Mr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nre(this)}getSize(e){return z.resolve(this.size)}}class nre extends o6{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e){this.persistence=e,this.Or=new xa(n=>Lu(n),Dp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Nr=0,this.Br=new OC,this.targetCount=0,this.Lr=zu.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),z.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Qn(n),z.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.kr={},this.overlays={},this.qr=new Lr(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new rre(this),this.indexManager=new jne,this.remoteDocumentCache=function(i){return new tre(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new Z3(n),this.Ur=new Jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new ere(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new ire(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return z.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class ire extends i3{constructor(e){super(),this.currentSequenceNumber=e}}class n_{constructor(e){this.persistence=e,this.jr=new OC,this.Hr=null}static Jr(e){return new n_(e)}get Yr(){if(this.Hr)return this.Hr;throw Ce()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),z.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Yr,r=>{const i=we.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return z.or([()=>z.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.serializer=e}B(e,n,r,i){const s=new Q0("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RO,{unique:!0}),u.createObjectStore("documentMutations")}(e),m2(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),m2(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").G().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RO,{unique:!0});const d=l.store("mutations"),h=c.map(p=>d.put(p));return z.waitFor(h)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:Bte});l.createIndex("collectionPathOverlayIndex",zte,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",qte,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:Ote});l.createIndex("documentKeyIndex",xte),l.createIndex("collectionGroupIndex",Nte)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Lte}).createIndex("sequenceNumberIndex",Vte,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Ute}).createIndex("documentKeyIndex",jte,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=sy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>z.forEach(a,u=>{De(u.userId===s.userId);const l=ru(this.serializer,u);return r6(e,s.userId,l).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new st(o),l=function(d){return[0,Ir(d)]}(u);s.push(n.get(l).next(c=>c?z.resolve():(d=>n.put({targetId:0,path:Ir(d),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>z.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:Fte});const r=n.store("collectionParents"),i=new kC,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ir(u)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const u=new st(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,u],l)=>{const c=Es(a);return s(c.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=hh(i),o=e6(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=function(d){return d.document?new we(st.fromString(d.document.name).popFirst(5)):d.noDocument?we.fromSegments(d.noDocument.path):d.unknownDocument?we.fromSegments(d.unknownDocument.path):Ce()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>z.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=a6(this.serializer),s=new l6(n_.Jr,this.serializer.ht);return r.G().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:Qe();ru(this.serializer,u).keys().forEach(d=>c=c.add(d)),a.set(u.userId,c)}),z.forEach(a,(u,l)=>{const c=new Sn(l),d=e_.Pt(this.serializer,c),h=s.getIndexManager(c),p=t_.Pt(c,this.serializer,h,s.referenceDelegate);return new u6(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yE(n,Lr.ae),u).next()})})}}function m2(t){t.createObjectStore("targetDocuments",{keyPath:$te}).createIndex("documentTargetsIndex",Mte,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Dte,{unique:!0}),t.createObjectStore("targetGlobal")}const fw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xC{constructor(e,n,r,i,s,o,a,u,l,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=a,this.ai=l,this.ui=c,this.ci=d,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!xC.C())throw new ae(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kne(this,i),this.Ti=n+"main",this.serializer=new Z3(u),this.Ei=new Bi(this.Ti,this.ci,new sre(this.serializer)),this.Kr=new zne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a6(this.serializer),this.Ur=new $ne,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,c===!1&&on("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(Q.FAILED_PRECONDITION,fw);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Lr(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Oa(e))return ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Hd(e).get("owner").next(n=>z.resolve(this.bi(n)))}Di(e){return Zm(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?z.resolve(!0):Hd(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new ae(Q.FAILED_PRECONDITION,fw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ce("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new yE(e,Lr.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>Zm(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return t_.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bne(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return e_.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){ce("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===15?Wte:u===14?l3:u===13?u3:u===12?Hte:u===11?a3:void Ce()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new yE(a,this.qr?this.qr.next():Lr.ae),n==="readwrite-primary"?this.pi(o).next(u=>!!u||this.yi(o)).next(u=>{if(!u)throw on(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new ae(Q.FAILED_PRECONDITION,r3);return r(o)}).next(u=>this.Si(o).next(()=>u)):this.qi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}qi(e){return Hd(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ae(Q.FAILED_PRECONDITION,fw)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hd(e).put("owner",n)}static C(){return Bi.C()}wi(e){const n=Hd(e);return n.get("owner").next(r=>this.bi(r)?(ce("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(on(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;MK()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return ce("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return on("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){on("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hd(t){return Nn(t,"owner")}function Zm(t){return Nn(t,"clientMetadata")}function NC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new DC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ore;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Al()<=Ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),z.resolve()):(Al()<=Ze.DEBUG&&ce("QueryEngine","Query:",Pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Al()<=Ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):z.resolve())}Hi(e,n){if(jO(n))return z.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Xi(n,a);return this.es(n,l,o,u.readTime)?this.Hi(e,ny(n,null,"F")):this.ts(e,l,n,u)}))})))}Ji(e,n,r,i){return jO(n)||i.isEqual(Ne.min())?z.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?z.resolve(null):(Al()<=Ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pl(n)),this.ts(e,o,n,t3(i,-1)).next(a=>a))})}Xi(e,n){let r=new At(S3(e));return n.forEach((i,s)=>{Mp(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Al()<=Ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.ji.getDocumentsMatchingQuery(e,n,oi.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Pt(Ke),this.ss=new xa(s=>Lu(s),Dp),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function d6(t,e,n,r){return new are(t,e,n,r)}async function h6(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Qe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({cs:l,removedBatchIds:o,addedBatchIds:a}))})})}function ure(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,h=d.keys();let p=z.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(u,v)).next(y=>{const g=l.docVersions.get(v);De(g!==null),y.version.compareTo(g)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f6(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function lre(t,e){const n=be(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(wn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,g,m){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,p,c)&&a.push(n.Kr.updateTargetData(s,p))});let u=Ur(),l=Qe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(p6(s,o,e.documentUpdates).next(c=>{u=c.ls,l=c.hs})),!r.isEqual(Ne.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.rs=i,s))}function p6(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ls:o,hs:i}})}function cre(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dc(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function $c(t,e,n){const r=be(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Oa(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function oy(t,e,n){const r=be(t);let i=Ne.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const d=be(u),h=d.ss.get(c);return h!==void 0?z.resolve(d.rs.get(h)):d.Kr.getTargetData(l,c)}(r,o,Cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?s:Qe())).next(a=>(v6(r,T3(e),a),{documents:a,Ps:s})))}function m6(t,e){const n=be(t),r=be(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function g6(t,e){const n=be(t),r=n.os.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,t3(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(v6(n,e,i),i))}function v6(t,e,n){let r=t.os.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function dre(t,e,n,r){const i=be(t);let s=Qe(),o=Ur();for(const l of n){const c=e.Is(l.metadata.name);l.document&&(s=s.add(c));const d=e.ds(l);d.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(c,d)}const a=i._s.newChangeBuffer({trackRemovals:!0}),u=await Dc(i,function(c){return Cr(id(st.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>p6(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Kr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Kr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.ls,c.hs)).next(()=>c.ls)))}async function hre(t,e,n=Qe()){const r=await Dc(t,Cr(PC(e.bundledQuery))),i=be(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=an(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const a=r.withResumeToken(wn.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(a.targetId,a),i.Kr.updateTargetData(s,a).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function g2(t,e){return`firestore_clients_${t}_${e}`}function v2(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pw(t,e){return`firestore_targets_${t}_${e}`}class ay{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ae(i.error.code,i.error.message))),o?new ay(e,n,i.state,s):(on("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new Mh(e,r.state,i):(on("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=bC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=s3(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new uy(e,s):(on("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class $C{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new $C(n.clientId,n.onlineState):(on("SharedClientState",`Failed to parse online state: ${e}`),null)}}class OE{constructor(){this.activeTargetIds=bC()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mw{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Pt(Ke),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=g2(this.persistenceKey,this.fs),this.bs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new OE),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Ms=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(g2(this.persistenceKey,r));if(i){const s=uy.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pw(this.persistenceKey,e));if(r){const i=Mh.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ce("SharedClientState","READ",e,n),n}setItem(e,n){ce("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(ce("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=Lr.ae;if(s!=null)try{const a=JSON.parse(s);De(typeof a=="number"),o=a}catch(a){on("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Lr.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new ay(this.currentUser,e,n,r),s=v2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=v2(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=pw(this.persistenceKey,e),s=new Mh(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return uy.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ay.Es(new Sn(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return Mh.Es(i,n)}Os(e){return $C.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.no(o,a).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=bC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class y6{constructor(){this.ro=new OE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new OE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg=null;function gw(){return eg===null?eg=function(){return 268435456+Math.round(2147483648*Math.random())}():eg++,"0x"+eg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class gre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=gw(),u=this.Do(n,r);ce("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(l,s,o),this.vo(n,u,l,i).then(c=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ji("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=pre[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=gw();return new Promise((o,a)=>{const u=new hte;u.setWithCredentials(!0),u.listenOnce(cte.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dw.NO_ERROR:const c=u.getResponseJson();ce(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case dw.TIMEOUT:ce(tr,`RPC '${e}' ${s} timed out`),a(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case dw.HTTP_ERROR:const d=u.getStatus();if(ce(tr,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(m)>=0?m:Q.UNKNOWN}(p.status);a(new ae(v,p.message))}else a(new ae(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(tr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ce(tr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Mo(e,n,r){const i=gw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ute(),a=lte(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");ce(tr,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,p=!1;const v=new mre({ho:g=>{p?ce(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(ce(tr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ce(tr,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},Po:()=>d.close()}),y=(g,m,_)=>{g.listen(m,b=>{try{_(b)}catch(w){setTimeout(()=>{throw w},0)}})};return y(d,Qm.EventType.OPEN,()=>{p||ce(tr,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Qm.EventType.CLOSE,()=>{p||(p=!0,ce(tr,`RPC '${e}' stream ${i} transport closed`),v.mo())}),y(d,Qm.EventType.ERROR,g=>{p||(p=!0,Ji(tr,`RPC '${e}' stream ${i} transport errored:`,g),v.mo(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),y(d,Qm.EventType.MESSAGE,g=>{var m;if(!p){const _=g.data[0];De(!!_);const b=_,w=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(w){ce(tr,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let A=function(G){const J=cn[G];if(J!==void 0)return L3(J)}(E),R=w.message;A===void 0&&(A=Q.INTERNAL,R="Unknown error status: "+E+" with message "+w.message),p=!0,v.mo(new ae(A,R)),d.close()}else ce(tr,`RPC '${e}' stream ${i} received:`,_),v.fo(_)}}),y(a,dte.STAT_EVENT,g=>{g.stat===IO.PROXY?ce(tr,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===IO.NOPROXY&&ce(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){return typeof window<"u"?window:null}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){return new Sne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new MC(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new ae(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vre extends w6{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=Ane(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?an(o.readTime):Ne.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Lf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=ey(u)?{documents:G3(s,u)}:{query:K3(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=B3(s,o.resumeToken);const l=IE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Nc(s,o.snapshotVersion.toTimestamp());const l=IE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=Rne(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Lf(this.serializer),n.removeTarget=e,this.n_(n)}}class yre extends w6{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=Pne(e.writeResults,e.commitTime),r=an(e.commitTime);return this.listener.T_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Lf(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vf(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(Q.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(Q.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class wre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(on(n),this.p_=!1):ce("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{Na(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=be(u);l.F_.add(4),await ad(l),l.O_.set("Unknown"),l.F_.delete(4),await jp(l)}(this))})}),this.O_=new wre(r,i)}}async function jp(t){if(Na(t))for(const e of t.M_)await e(!0)}async function ad(t){for(const e of t.M_)await e(!1)}function r_(t,e){const n=be(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),VC(n)?LC(n):ld(n).Yo()&&FC(n,e))}function Uf(t,e){const n=be(t),r=ld(n);n.v_.delete(e),r.Yo()&&b6(n,e),n.v_.size===0&&(r.Yo()?r.e_():Na(n)&&n.O_.set("Unknown"))}function FC(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ld(t).l_(e)}function b6(t,e){t.N_.Le(e),ld(t).h_(e)}function LC(t){t.N_=new wne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),ld(t).start(),t.O_.y_()}function VC(t){return Na(t)&&!ld(t).Jo()&&t.v_.size>0}function Na(t){return be(t).F_.size===0}function E6(t){t.N_=void 0}async function Ere(t){t.v_.forEach((e,n)=>{FC(t,e)})}async function Tre(t,e){E6(t),VC(t)?(t.O_.b_(e),LC(t)):t.O_.set("Unknown")}async function Sre(t,e,n){if(t.O_.set("Online"),e instanceof j3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ly(t,r)}else if(e instanceof zg?t.N_.Ge(e):e instanceof U3?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ne.min()))try{const r=await f6(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.v_.get(l);c&&s.v_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.v_.get(u);if(!c)return;s.v_.set(u,c.withResumeToken(wn.EMPTY_BYTE_STRING,c.snapshotVersion)),b6(s,u);const d=new Ks(c.target,u,l,c.sequenceNumber);FC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await ly(t,r)}}async function ly(t,e,n){if(!Oa(e))throw e;t.F_.add(1),await ad(t),t.O_.set("Offline"),n||(n=()=>f6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await jp(t)})}function T6(t,e){return e().catch(n=>ly(t,n,e))}async function ud(t){const e=be(t),n=ya(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Ire(e);)try{const i=await cre(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,Cre(e,i)}catch(i){await ly(e,i)}S6(e)&&I6(e)}function Ire(t){return Na(t)&&t.C_.length<10}function Cre(t,e){t.C_.push(e);const n=ya(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function S6(t){return Na(t)&&!ya(t).Jo()&&t.C_.length>0}function I6(t){ya(t).start()}async function Are(t){ya(t).A_()}async function Pre(t){const e=ya(t);for(const n of t.C_)e.d_(n.mutations)}async function Rre(t,e,n){const r=t.C_.shift(),i=SC.from(r,e,n);await T6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ud(t)}async function kre(t,e){e&&ya(t).I_&&await async function(r,i){if(function(o){return F3(o)&&o!==Q.ABORTED}(i.code)){const s=r.C_.shift();ya(r).Xo(),await T6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ud(r)}}(t,e),S6(t)&&I6(t)}async function _2(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.F_.add(3),await ad(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await jp(n)}async function xE(t,e){const n=be(t);e?(n.F_.delete(2),await jp(n)):e||(n.F_.add(2),await ad(n),n.O_.set("Unknown"))}function ld(t){return t.B_||(t.B_=function(n,r,i){const s=be(n);return s.V_(),new vre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Ere.bind(null,t),Eo:Tre.bind(null,t),c_:Sre.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),VC(t)?LC(t):t.O_.set("Unknown")):(await t.B_.stop(),E6(t))})),t.B_}function ya(t){return t.L_||(t.L_=function(n,r,i){const s=be(n);return s.V_(),new yre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Are.bind(null,t),Eo:kre.bind(null,t),E_:Pre.bind(null,t),T_:Rre.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await ud(t)):(await t.L_.stop(),t.C_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new UC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(t,e){if(on("AsyncQueue",`${e}: ${t}`),Oa(t))return new ae(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=ch(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.k_=new Pt(we.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Ce():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mc{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mc(e,n,dc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.Q_=void 0,this.listeners=[]}}class xre{constructor(){this.queries=new xa(e=>E3(e),$p),this.onlineState="Unknown",this.K_=new Set}}async function jC(t,e){const n=be(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ore),i)try{s.Q_=await n.onListen(r)}catch(o){const a=cd(o,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&zC(n)}async function BC(t,e){const n=be(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Nre(t,e){const n=be(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&zC(n)}function Dre(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zC(t){t.K_.forEach(e=>{e.next()})}class qC{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.serializer=e}Is(e){return As(this.serializer,e)}ds(e){return e.metadata.exists?W3(this.serializer,e.document,!1):$t.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return an(e)}}class Mre{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=C6(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=st.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new b2(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Qe()).add(s);n.set(o,a)}}return n}async complete(){const e=await dre(this.localStore,new b2(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await hre(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function C6(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.key=e}}class P6{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Qe(),this.mutatedKeys=Qe(),this.ua=S3(e),this.ca=new dc(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new w2,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Mp(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),g=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),g=!0,(u&&this.ua(p,u)>0||l&&this.ua(p,l)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(u||l)&&(a=!0)),g&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((l,c)=>function(h,p){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return v(h)-v(p)}(l.type,c.type)||this.ua(l.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,u=a!==this._a;return this._a=a,s.length!==0||u?{snapshot:new Mc(this.query,e.ca,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new w2,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Qe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new P6(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new A6(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Qe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Mc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Fre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lre{constructor(e){this.key=e,this.ma=!1}}class Vre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new xa(a=>E3(a),$p),this.pa=new Map,this.ya=new Set,this.wa=new Pt(we.comparator),this.Sa=new Map,this.ba=new OC,this.Da={},this.Ca=new Map,this.va=zu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Ure(t,e){const n=QC(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Dc(n.localStore,Cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await HC(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&r_(n.remoteStore,o)}return i}async function HC(t,e,n,r,i){t.Ma=(d,h,p)=>async function(y,g,m,_){let b=g.view.ha(m);b.es&&(b=await oy(y.localStore,g.query,!1).then(({documents:A})=>g.view.ha(A,b)));const w=_&&_.targetChanges.get(g.targetId),E=g.view.applyChanges(b,y.isPrimaryClient,w);return NE(y,g.targetId,E.Ea),E.snapshot}(t,d,h,p);const s=await oy(t.localStore,e,!0),o=new R6(e,s.Ps),a=o.ha(s.documents),u=Vp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);NE(t,n,l.Ea);const c=new Fre(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}async function jre(t,e){const n=be(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!$p(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $c(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Uf(n.remoteStore,r.targetId),Fc(n,r.targetId)}).catch(ka)):(Fc(n,r.targetId),await $c(n.localStore,r.targetId,!0))}async function Bre(t,e,n){const r=YC(t);try{const i=await function(o,a){const u=be(o),l=Bt.now(),c=a.reduce((p,v)=>p.add(v.key),Qe());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ur(),y=Qe();return u._s.getEntries(p,c).next(g=>{v=g,v.forEach((m,_)=>{_.isValidDocument()||(y=y.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,v)).next(g=>{d=g;const m=[];for(const _ of a){const b=vne(_,d.get(_.key).overlayedDocument);b!=null&&m.push(new _o(_.key,b,f3(b.value.mapValue),jt.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,m,a)}).next(g=>{h=g;const m=g.applyToLocalDocumentSet(d,y);return u.documentOverlayCache.saveOverlays(p,g.batchId,m)})}).then(()=>({batchId:h.batchId,changes:C3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new Pt(Ke)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await wo(r,i.changes),await ud(r.remoteStore)}catch(i){const s=cd(i,"Failed to persist write");n.reject(s)}}async function k6(t,e){const n=be(t);try{const r=await lre(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?De(o.ma):i.removedDocuments.size>0&&(De(o.ma),o.ma=!1))}),await wo(n,r,e)}catch(r){await ka(r)}}function E2(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=be(o);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const h of d.listeners)h.U_(a)&&(l=!0)}),l&&zC(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zre(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pt(we.comparator);o=o.insert(s,$t.newNoDocument(s,Ne.min()));const a=Qe().add(s),u=new Lp(Ne.min(),new Map,new Pt(Ke),o,a);await k6(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),KC(r)}else await $c(r.localStore,e,!1).then(()=>Fc(r,e,n)).catch(ka)}async function qre(t,e){const n=be(t),r=e.batch.batchId;try{const i=await ure(n.localStore,e);GC(n,r,null),WC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wo(n,i)}catch(i){await ka(i)}}async function Hre(t,e,n){const r=be(t);try{const i=await function(o,a){const u=be(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(De(d!==null),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);GC(r,e,n),WC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wo(r,i)}catch(i){await ka(i)}}async function Wre(t,e){const n=be(t);Na(n.remoteStore)||ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=be(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=cd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function WC(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function GC(t,e,n){const r=be(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Fc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||O6(t,r)})}function O6(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Uf(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),KC(t))}function NE(t,e,n){for(const r of n)r instanceof A6?(t.ba.addReference(r.key,e),Gre(t,r)):r instanceof P6?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||O6(t,r.key)):Ce()}function Gre(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.ya.add(r),KC(t))}function KC(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new we(st.fromString(e)),r=t.va.next();t.Sa.set(r,new Lre(n)),t.wa=t.wa.insert(n,r),r_(t.remoteStore,new Ks(Cr(id(n.path)),r,"TargetPurposeLimboResolution",Lr.ae))}}async function wo(t,e,n){const r=be(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=DC.$i(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(u,l){const c=be(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(l,h=>z.forEach(h.Qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>z.forEach(h.Ki,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Oa(d))throw d;ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const p=c.rs.get(h),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);c.rs=c.rs.insert(h,y)}}}(r.localStore,s))}async function Kre(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await h6(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new ae(Q.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wo(n,r.cs)}}function Qre(t,e){const n=be(t),r=n.Sa.get(e);if(r&&r.ma)return Qe().add(r.key);{let i=Qe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function Yre(t,e){const n=be(t),r=await oy(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&NE(n,e.targetId,i.Ea),i}async function Xre(t,e){const n=be(t);return g6(n.localStore,e).then(r=>wo(n,r))}async function Jre(t,e,n,r){const i=be(t),s=await function(a,u){const l=be(a),c=be(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Fn(d,u).next(h=>h?l.localDocuments.getDocuments(d,h):z.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ud(i.remoteStore):n==="acknowledged"||n==="rejected"?(GC(i,e,r||null),WC(i,e),function(a,u){be(be(a).mutationQueue).xn(u)}(i.localStore,e)):Ce(),await wo(i,s)):ce("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Zre(t,e){const n=be(t);if(QC(n),YC(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await T2(n,r.toArray());n.Fa=!0,await xE(n.remoteStore,!0);for(const s of i)r_(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Fc(n,o),$c(n.localStore,o,!0))),Uf(n.remoteStore,o)}),await i,await T2(n,r),function(o){const a=be(o);a.Sa.forEach((u,l)=>{Uf(a.remoteStore,l)}),a.ba.gr(),a.Sa=new Map,a.wa=new Pt(we.comparator)}(n),n.Fa=!1,await xE(n.remoteStore,!1)}}async function T2(t,e,n){const r=be(t),i=[],s=[];for(const o of e){let a;const u=r.pa.get(o);if(u&&u.length!==0){a=await Dc(r.localStore,Cr(u[0]));for(const l of u){const c=r.ga.get(l),d=await Yre(r,c);d.snapshot&&s.push(d.snapshot)}}else{const l=await m6(r.localStore,o);a=await Dc(r.localStore,l),await HC(r,x6(l),o,!1,a.resumeToken)}i.push(a)}return r.fa.c_(s),i}function x6(t){return b3(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function eie(t){return function(n){return be(be(n).persistence).ki()}(be(t).localStore)}async function tie(t,e,n,r){const i=be(t);if(i.Fa)return void ce("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await g6(i.localStore,T3(s[0])),a=Lp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wn.EMPTY_BYTE_STRING);await wo(i,o,a);break}case"rejected":await $c(i.localStore,e,!0),Fc(i,e,r);break;default:Ce()}}async function nie(t,e,n){const r=QC(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){ce("SyncEngine","Adding an already active target "+i);continue}const s=await m6(r.localStore,i),o=await Dc(r.localStore,s);await HC(r,x6(s),o.targetId,!1,o.resumeToken),r_(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await $c(r.localStore,i,!1).then(()=>{Uf(r.remoteStore,i),Fc(r,i)}).catch(ka)}}function QC(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zre.bind(null,e),e.fa.c_=Nre.bind(null,e.eventManager),e.fa.xa=Dre.bind(null,e.eventManager),e}function YC(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hre.bind(null,e),e}function rie(t,e,n){const r=be(t);(async function(s,o,a){try{const u=await o.getMetadata();if(await function(p,v){const y=be(p),g=an(v.createTime);return y.persistence.runTransaction("hasNewerBundle","readonly",m=>y.Ur.getBundleMetadata(m,v.id)).then(m=>!!m&&m.createTime.compareTo(g)>=0)}(s.localStore,u))return await o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(C6(u));const l=new Mre(u,s.localStore,o.serializer);let c=await o.Oa();for(;c;){const h=await l.na(c);h&&a._updateProgress(h),c=await o.Oa()}const d=await l.complete();return await wo(s,d.sa,void 0),await function(p,v){const y=be(p);return y.persistence.runTransaction("Save bundle","readwrite",g=>y.Ur.saveBundleMetadata(g,v))}(s.localStore,u),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(u){return Ji("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class DE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Up(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return d6(this.persistence,new c6,e.initialUser,this.serializer)}createPersistence(e){return new l6(n_.Jr,this.serializer)}createSharedClientState(e){return new y6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class N6 extends DE{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await YC(this.Na.syncEngine),await ud(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return d6(this.persistence,new c6,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Hne(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Pte(n,this.persistence);return new Ate(e.asyncQueue,r)}createPersistence(e){const n=NC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new xC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,_6(),qg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new y6}}class iie extends N6{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof mw&&(this.sharedClientState.syncEngine={Xs:Jre.bind(null,n),eo:tie.bind(null,n),no:nie.bind(null,n),ki:eie.bind(null,n),Zs:Xre.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await Zre(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=_6();if(!mw.C(n))throw new ae(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=NC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class XC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kre.bind(null,this.syncEngine),await xE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xre}()}createDatastore(e){const n=Up(e.databaseInfo.databaseId),r=function(s){return new gre(s)}(e.databaseInfo);return function(s,o,a,u){return new _re(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new bre(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>E2(this.syncEngine,n,0),function(){return y2.C()?new y2:new fre}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const d=new Vre(i,s,o,a,u,l);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=be(n);ce("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await ad(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new An,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new $re(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ae(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=be(i),a=Lf(o.serializer)+"/documents",u={documents:s.map(h=>Ff(o.serializer,h))},l=await o.Fo("BatchGetDocuments",a,u,s.length),c=new Map;l.forEach(h=>{const p=Cne(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return s.forEach(h=>{const p=c.get(h.toString());De(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=we.fromPath(r);this.mutations.push(new EC(i,this.precondition(i)))}),await async function(r,i){const s=be(r),o=Lf(s.serializer)+"/documents",a={writes:i.map(u=>Vf(s.serializer,u))};await s.bo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ce();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?jt.exists(!1):jt.updateTime(n):jt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new ae(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jt.updateTime(n)}return jt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new MC(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new oie(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Np(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!F3(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=ZV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await h6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JC(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>_2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>_2(e.remoteStore,s)),t._onlineComponents=e}function D6(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function JC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!D6(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new DE)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Hg(t,new DE);return t._offlineComponents}async function s_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await $E(t,new XC))),t._onlineComponents}function $6(t){return JC(t).then(e=>e.persistence)}function ZC(t){return JC(t).then(e=>e.localStore)}function M6(t){return s_(t).then(e=>e.remoteStore)}function eA(t){return s_(t).then(e=>e.syncEngine)}function lie(t){return s_(t).then(e=>e.datastore)}async function Lc(t){const e=await s_(t),n=e.eventManager;return n.onListen=Ure.bind(null,e.syncEngine),n.onUnlisten=jre.bind(null,e.syncEngine),n}function cie(t){return t.asyncQueue.enqueue(async()=>{const e=await $6(t),n=await M6(t);return e.setNetworkEnabled(!0),function(i){const s=be(i);return s.F_.delete(0),jp(s)}(n)})}function die(t){return t.asyncQueue.enqueue(async()=>{const e=await $6(t),n=await M6(t);return e.setNetworkEnabled(!1),async function(i){const s=be(i);s.F_.add(0),await ad(s),s.O_.set("Offline")}(n)})}function hie(t,e){const n=new An;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,c){const d=be(l);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new ae(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=cd(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await ZC(t),e,n)),n.promise}function F6(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new i_({next:h=>{o.enqueueAndForget(()=>BC(s,d));const p=h.docs.has(a);!p&&h.fromCache?l.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&u&&u.source==="server"?l.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new qC(id(a.path),c,{includeMetadataChanges:!0,Z_:!0});return jC(s,d)}(await Lc(t),t.asyncQueue,e,n,r)),r.promise}function fie(t,e){const n=new An;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await oy(i,s,!0),u=new R6(s,a.Ps),l=u.ha(a.documents),c=u.applyChanges(l,!1);o.resolve(c.snapshot)}catch(a){const u=cd(a,`Failed to execute query '${s} against cache`);o.reject(u)}}(await ZC(t),e,n)),n.promise}function L6(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new i_({next:h=>{o.enqueueAndForget(()=>BC(s,d)),h.fromCache&&u.source==="server"?l.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new qC(a,c,{includeMetadataChanges:!0,Z_:!0});return jC(s,d)}(await Lc(t),t.asyncQueue,e,n,r)),r.promise}function pie(t,e){const n=new i_(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){be(i).K_.add(s),s.next()}(await Lc(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){be(i).K_.delete(s)}(await Lc(t),n))}}function mie(t,e,n,r){const i=function(o,a){let u;return u=typeof o=="string"?V3().encode(o):o,function(c,d){return new sie(c,d)}(function(c,d){if(c instanceof Uint8Array)return S2(c,d);if(c instanceof ArrayBuffer)return S2(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Up(e));t.asyncQueue.enqueueAndForget(async()=>{rie(await eA(t),i,r)})}function gie(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=be(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await ZC(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U6(t,e,n,r){if(e===!0&&r===!0)throw new ae(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C2(t){if(!we.isDocumentKey(t))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A2(t){if(we.isDocumentKey(t))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function at(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=o_(t);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function j6(t,e){if(e<=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gte;switch(r.type){case"firstParty":return new wte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I2.get(n);r&&(ce("ComponentProvider","Removing Datastore"),I2.delete(n),r.terminate())}(this),Promise.resolve()}}function vie(t,e,n,r={}){var i;const s=(t=at(t,Bp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Sn.MOCK_USER;else{a=VL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sn(l)}t._authCredentials=new vte(new JV(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class B6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new B6(this.firestore,e,this._query)}},Kt=class z6{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new z6(this.firestore,e,this._key)}},sa=class q6 extends Ar{constructor(e,n,r){super(e,n,id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new we(e))}withConverter(e){return new q6(this.firestore,e,this._path)}};function H6(t,e,...n){if(t=Oe(t),tA("collection","path",e),t instanceof Bp){const r=st.fromString(e,...n);return A2(r),new sa(t,null,r)}{if(!(t instanceof Kt||t instanceof sa))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return A2(r),new sa(t.firestore,null,r)}}function yie(t,e){if(t=at(t,Bp),tA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new yo(st.emptyPath(),r)}(e))}function cy(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=ZV.V()),tA("doc","path",e),t instanceof Bp){const r=st.fromString(e,...n);return C2(r),new Kt(t,null,new we(r))}{if(!(t instanceof Kt||t instanceof sa))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return C2(r),new Kt(t.firestore,t instanceof sa?t.converter:null,new we(r))}}function W6(t,e){return t=Oe(t),e=Oe(e),(t instanceof Kt||t instanceof sa)&&(e instanceof Kt||e instanceof sa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function G6(t,e){return t=Oe(t),e=Oe(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&$p(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new MC(this,"async_queue_retry"),this.ou=()=>{const n=qg();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new An;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Oa(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw on("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=UC.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Ce()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function ME(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class wie{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=-1;let rn=class extends Bp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _ie}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||K6(this),this._firestoreClient.terminate()}};function Dn(t){return t._firestoreClient||K6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function K6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new Qte(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,V6(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uie(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Eie(t,e){Y6(t=at(t,rn));const n=Dn(t);if(n._uninitializedComponentsProvider)throw new ae(Q.FAILED_PRECONDITION,"SDK cache is already specified.");Ji("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new XC;return Q6(n,i,new N6(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Tie(t){Y6(t=at(t,rn));const e=Dn(t);if(e._uninitializedComponentsProvider)throw new ae(Q.FAILED_PRECONDITION,"SDK cache is already specified.");Ji("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new XC;return Q6(e,r,new iie(r,n.cacheSizeBytes))}function Q6(t,e,n){const r=new An;return t.asyncQueue.enqueue(async()=>{try{await Hg(t,n),await $E(t,e),r.resolve()}catch(i){const s=i;if(!D6(s))throw s;Ji("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Sie(t){if(t._initialized&&!t._terminated)throw new ae(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Bi.C())return Promise.resolve();const i=r+"main";await Bi.delete(i)}(NC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Iie(t){return function(n){const r=new An;return n.asyncQueue.enqueueAndForget(async()=>Wre(await eA(n),r)),r.promise}(Dn(t=at(t,rn)))}function Cie(t){return cie(Dn(t=at(t,rn)))}function Aie(t){return die(Dn(t=at(t,rn)))}function Pie(t,e){const n=Dn(t=at(t,rn)),r=new wie;return mie(n,t._databaseId,e,r),r}function Rie(t,e){return gie(Dn(t=at(t,rn)),e).then(n=>n?new Ar(t,null,n.query):null)}function Y6(t){if(t._initialized||t._terminated)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(wn.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ds(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie=/^__.*__$/;class Oie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class X6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class u_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new u_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return dy(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(J6(this.Tu)&&kie.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class xie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Up(e)}wu(e,n,r,i=!1){return new u_({Tu:e,methodName:n,yu:r,path:en.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rl(t){const e=t._freezeSettings(),n=Up(t._databaseId);return new xie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l_(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);sA("Data must be an object, but it was:",o,r);const a=t5(r,o);let u,l;if(s.merge)u=new Vr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=FE(e,d,n);if(!o.contains(h))throw new ae(Q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);r5(c,h)||c.push(h)}u=new Vr(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Oie(new zn(a),u,l)}class zp extends nl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function Z6(t,e,n){return new u_({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nA extends nl{_toFieldTransform(e){return new Fp(e.path,new Oc)}isEqual(e){return e instanceof nA}}class Nie extends nl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=Z6(this,e,!0),r=this.Su.map(s=>il(s,n)),i=new Vu(r);return new Fp(e.path,i)}isEqual(e){return this===e}}class Die extends nl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=Z6(this,e,!0),r=this.Su.map(s=>il(s,n)),i=new Uu(r);return new Fp(e.path,i)}isEqual(e){return this===e}}class $ie extends nl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new xc(e.serializer,k3(e.serializer,this.bu));return new Fp(e.path,n)}isEqual(e){return this===e}}function rA(t,e,n,r){const i=t.wu(1,e,n);sA("Data must be an object, but it was:",i,r);const s=[],o=zn.empty();tl(r,(u,l)=>{const c=oA(e,u,n);l=Oe(l);const d=i.mu(c);if(l instanceof zp)s.push(c);else{const h=il(l,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Vr(s);return new X6(o,a,i.fieldTransforms)}function iA(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[FE(e,r,n)],u=[i];if(s.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(FE(e,s[h])),u.push(s[h+1]);const l=[],c=zn.empty();for(let h=a.length-1;h>=0;--h)if(!r5(l,a[h])){const p=a[h];let v=u[h];v=Oe(v);const y=o.mu(p);if(v instanceof zp)l.push(p);else{const g=il(v,y);g!=null&&(l.push(p),c.set(p,g))}}const d=new Vr(l);return new X6(c,d,o.fieldTransforms)}function e5(t,e,n,r=!1){return il(n,t.wu(r?4:3,e))}function il(t,e){if(n5(t=Oe(t)))return sA("Unsupported field value:",e,t),t5(t,e);if(t instanceof nl)return function(r,i){if(!J6(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=il(a,i.fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bt.fromDate(r);return{timestampValue:Nc(i.serializer,s)}}if(r instanceof Bt){const s=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nc(i.serializer,s)}}if(r instanceof a_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ds)return{bytesValue:B3(i.serializer,r._byteString)};if(r instanceof Kt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:AC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${o_(r)}`)}(t,e)}function t5(t,e){const n={};return c3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(t,(r,i)=>{const s=il(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function n5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof a_||t instanceof Ds||t instanceof Kt||t instanceof nl)}function sA(t,e,n){if(!n5(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=o_(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function FE(t,e,n){if((e=Oe(e))instanceof _a)return e._internalPath;if(typeof e=="string")return oA(t,e);throw dy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mie=new RegExp("[~\\*/\\[\\]]");function oA(t,e,n){if(e.search(Mie)>=0)throw dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _a(...e.split("."))._internalPath}catch{throw dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ae(Q.INVALID_ARGUMENT,a+t+u)}function r5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fie extends jf{data(){return super.data()}}function c_(t,e){return typeof e=="string"?oA(t,e):e instanceof _a?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aA{}class qp extends aA{}function No(t,e,...n){let r=[];e instanceof aA&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof uA).length,a=s.filter(u=>u instanceof d_).length;if(o>1||o>0&&a>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class d_ extends qp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new d_(e,n,r)}_apply(e){const n=this._parse(e);return o5(e._query,n),new Ar(e.firestore,e.converter,SE(e._query,n))}_parse(e){const n=rl(e.firestore);return function(s,o,a,u,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){k2(d,c);const p=[];for(const v of d)p.push(R2(u,s,v));h={arrayValue:{values:p}}}else h=R2(u,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||k2(d,c),h=e5(a,o,d,c==="in"||c==="not-in");return et.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lie(t,e,n){const r=e,i=c_("where",t);return d_._create(i,r,n)}class uA extends aA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)o5(o,u),o=SE(o,u)}(e._query,n),new Ar(e.firestore,e.converter,SE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lA extends qp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lA(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new lc(s,o);return function(l,c){if(_C(l)===null){const d=X0(l);d!==null&&a5(l,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new yo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Vie(t,e="asc"){const n=e,r=c_("orderBy",t);return lA._create(r,n)}class h_ extends qp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h_(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,ny(e._query,this._limit,this._limitType))}}function Uie(t){return j6("limit",t),h_._create("limit",t,"F")}function jie(t){return j6("limitToLast",t),h_._create("limitToLast",t,"L")}class f_ extends qp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f_(e,n,r)}_apply(e){const n=s5(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Bie(...t){return f_._create("startAt",t,!0)}function zie(...t){return f_._create("startAfter",t,!1)}class p_ extends qp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p_(e,n,r)}_apply(e){const n=s5(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function qie(...t){return p_._create("endBefore",t,!1)}function Hie(...t){return p_._create("endAt",t,!0)}function s5(t,e,n,r){if(n[0]=Oe(n[0]),n[0]instanceof jf)return function(s,o,a,u,l){if(!u)throw new ae(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of cc(s))if(d.field.isKeyField())c.push(Fu(o,u.key));else{const h=u.data.field(d.field);if(Y0(h))throw new ae(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new ae(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new va(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=rl(t.firestore);return function(o,a,u,l,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new ae(Q.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<c.length;v++){const y=c[v];if(h[v].field.isKeyField()){if(typeof y!="string")throw new ae(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!wC(o)&&y.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const g=o.path.child(st.fromString(y));if(!we.isDocumentKey(g))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const m=new we(g);p.push(Fu(a,m))}else{const g=e5(u,l,y);p.push(g)}}return new va(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function R2(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wC(e)&&n.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!we.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fu(t,new we(r))}if(n instanceof Kt)return Fu(t,n._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o_(n)}.`)}function k2(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o5(t,e){if(e.isInequality()){const r=X0(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=_C(t);s!==null&&a5(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function a5(t,e,n){if(!n.isEqual(e))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cA{convertValue(e,n="none"){switch(Mu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new a_(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=fa(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);De(J3(r));const i=new ma(r.get(1),r.get(3)),s=new we(r.popFirst(5));return i.isEqual(n)||on(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wie extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let co=class extends jf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(c_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Fh=class extends co{data(e={}){return super.data(e)}},wa=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Gie(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Gie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function u5(t,e){return t instanceof co&&e instanceof co?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof wa&&e instanceof wa&&t._firestore===e._firestore&&G6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(t){t=at(t,Kt);const e=at(t.firestore,rn);return F6(Dn(e),t._key).then(n=>dA(e,t,n))}class sl extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function Qie(t){t=at(t,Kt);const e=at(t.firestore,rn),n=Dn(e),r=new sl(e);return hie(n,t._key).then(i=>new co(e,r,t._key,i,new pu(i!==null&&i.hasLocalMutations,!0),t.converter))}function Yie(t){t=at(t,Kt);const e=at(t.firestore,rn);return F6(Dn(e),t._key,{source:"server"}).then(n=>dA(e,t,n))}function Xie(t){t=at(t,Ar);const e=at(t.firestore,rn),n=Dn(e),r=new sl(e);return i5(t._query),L6(n,t._query).then(i=>new wa(e,r,t,i))}function Jie(t){t=at(t,Ar);const e=at(t.firestore,rn),n=Dn(e),r=new sl(e);return fie(n,t._query).then(i=>new wa(e,r,t,i))}function Zie(t){t=at(t,Ar);const e=at(t.firestore,rn),n=Dn(e),r=new sl(e);return L6(n,t._query,{source:"server"}).then(i=>new wa(e,r,t,i))}function O2(t,e,n){t=at(t,Kt);const r=at(t.firestore,rn),i=m_(t.converter,e,n);return Hp(r,[l_(rl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jt.none())])}function x2(t,e,n,...r){t=at(t,Kt);const i=at(t.firestore,rn),s=rl(i);let o;return o=typeof(e=Oe(e))=="string"||e instanceof _a?iA(s,"updateDoc",t._key,e,n,r):rA(s,"updateDoc",t._key,e),Hp(i,[o.toMutation(t._key,jt.exists(!0))])}function ese(t){return Hp(at(t.firestore,rn),[new od(t._key,jt.none())])}function tse(t,e){const n=at(t.firestore,rn),r=cy(t),i=m_(t.converter,e);return Hp(n,[l_(rl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jt.exists(!1))]).then(()=>r)}function l5(t,...e){var n,r,i;t=Oe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ME(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ME(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,l,c;if(t instanceof Kt)l=at(t.firestore,rn),c=id(t._key.path),u={next:d=>{e[o]&&e[o](dA(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=at(t,Ar);l=at(d.firestore,rn),c=d._query;const h=new sl(l);u={next:p=>{e[o]&&e[o](new wa(l,h,d,p))},error:e[o+1],complete:e[o+2]},i5(t._query)}return function(h,p,v,y){const g=new i_(y),m=new qC(p,g,v);return h.asyncQueue.enqueueAndForget(async()=>jC(await Lc(h),m)),()=>{g.La(),h.asyncQueue.enqueueAndForget(async()=>BC(await Lc(h),m))}}(Dn(l),c,a,u)}function nse(t,e){return pie(Dn(t=at(t,rn)),ME(e)?e:{next:e})}function Hp(t,e){return function(r,i){const s=new An;return r.asyncQueue.enqueueAndForget(async()=>Bre(await eA(r),i,s)),s.promise}(Dn(t),e)}function dA(t,e,n){const r=n.docs.get(e._key),i=new sl(t);return new co(t,i,e._key,r,new pu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ise=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rl(e)}set(e,n,r){this._verifyNotCommitted();const i=jo(e,this._firestore),s=m_(i.converter,n,r),o=l_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,jt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=jo(e,this._firestore);let o;return o=typeof(n=Oe(n))=="string"||n instanceof _a?iA(this._dataReader,"WriteBatch.update",s._key,n,r,i):rA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jo(e,this._firestore);return this._mutations=this._mutations.concat(new od(n._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function jo(t,e){if((t=Oe(t)).firestore!==e)throw new ae(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sse=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=rl(n)}get(n){const r=jo(n,this._firestore),i=new Wie(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Ce();const o=s[0];if(o.isFoundDocument())return new jf(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new jf(this._firestore,i,r._key,null,r.converter);throw Ce()})}set(n,r,i){const s=jo(n,this._firestore),o=m_(s.converter,r,i),a=l_(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=jo(n,this._firestore);let a;return a=typeof(r=Oe(r))=="string"||r instanceof _a?iA(this._dataReader,"Transaction.update",o._key,r,i,s):rA(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=jo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=jo(e,this._firestore),r=new sl(this._firestore);return super.get(e).then(i=>new co(this._firestore,r,n._key,i._document,new pu(!1,!1),n.converter))}};function ose(t,e,n){t=at(t,rn);const r=Object.assign(Object.assign({},rse),n);return function(s){if(s.maxAttempts<1)throw new ae(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new An;return s.asyncQueue.enqueueAndForget(async()=>{const l=await lie(s);new aie(s.asyncQueue,l,a,o,u).run()}),u.promise}(Dn(t),i=>e(new sse(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(){return new zp("deleteField")}function use(){return new nA("serverTimestamp")}function lse(...t){return new Nie("arrayUnion",t)}function cse(...t){return new Die("arrayRemove",t)}function dse(t){return new $ie("increment",t)}(function(e,n=!0){(function(i){rd=i})(mo),ao(new Oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new rn(new yte(r.getProvider("auth-internal")),new Ete(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pi(CO,"4.2.0",e),Pi(CO,"4.2.0","esm2017")})();const hse="@firebase/firestore-compat",fse="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function D2(){if(!Gte())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let c5=class LE{constructor(e){this._delegate=e}static fromBase64String(e){return D2(),new LE(Ds.fromBase64String(e))}static fromUint8Array(e){return N2(),new LE(Ds.fromUint8Array(e))}toBase64(){return D2(),this._delegate.toBase64()}toUint8Array(){return N2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){return pse(t,["next","error","complete"])}function pse(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{enableIndexedDbPersistence(e,n){return Eie(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Tie(e._delegate)}clearIndexedDbPersistence(e){return Sie(e._delegate)}}class d5{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){vie(this._delegate,e,n,r)}enableNetwork(){return Cie(this._delegate)}disableNetwork(){return Aie(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,U6("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Iie(this._delegate)}onSnapshotsInSync(e){return nse(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vc(this,H6(this._delegate,e))}catch(n){throw gr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ti(this,cy(this._delegate,e))}catch(n){throw gr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mr(this,yie(this._delegate,e))}catch(n){throw gr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ose(this._delegate,n=>e(new h5(this,n)))}batch(){return Dn(this._delegate),new f5(new ise(this._delegate,e=>Hp(this._delegate,e)))}loadBundle(e){return Pie(this._delegate,e)}namedQuery(e){return Rie(this._delegate,e).then(n=>n?new mr(this,n):null)}}class g_ extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new c5(new Ds(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ti.forKey(n,this.firestore,null)}}function gse(t){pte(t)}class h5{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new g_(e)}get(e){const n=mu(e);return this._delegate.get(n).then(r=>new Bf(this._firestore,new co(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=mu(e);return r?(hA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=mu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=mu(e);return this._delegate.delete(n),this}}class f5{constructor(e){this._delegate=e}set(e,n,r){const i=mu(e);return r?(hA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=mu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=mu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class qu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Fh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=qu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new qu(e,new g_(e),n),i.set(n,s)),s}}qu.INSTANCES=new WeakMap;class Ti{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new g_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ti(n,new Kt(n._delegate,r,new we(e)))}static forKey(e,n,r){return new Ti(n,new Kt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vc(this.firestore,H6(this._delegate,e))}catch(n){throw gr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Oe(e),e instanceof Kt?W6(this._delegate,e):!1}set(e,n){n=hA("DocumentReference.set",n);try{return n?O2(this._delegate,e,n):O2(this._delegate,e)}catch(r){throw gr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?x2(this._delegate,e):x2(this._delegate,e,n,...r)}catch(i){throw gr(i,"updateDoc()","DocumentReference.update()")}}delete(){return ese(this._delegate)}onSnapshot(...e){const n=p5(e),r=m5(e,i=>new Bf(this.firestore,new co(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return l5(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Qie(this._delegate):(e==null?void 0:e.source)==="server"?n=Yie(this._delegate):n=Kie(this._delegate),n.then(r=>new Bf(this.firestore,new co(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ti(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gr(t,e,n){return t.message=t.message.replace(e,n),t}function p5(t){for(const e of t)if(typeof e=="object"&&!VE(e))return e;return{}}function m5(t,e){var n,r;let i;return VE(t[0])?i=t[0]:VE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Bf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ti(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return u5(this._delegate,e._delegate)}}class zf extends Bf{data(e){const n=this._delegate.data(e);return mte(n!==void 0),n}}class mr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new g_(e)}where(e,n,r){try{return new mr(this.firestore,No(this._delegate,Lie(e,n,r)))}catch(i){throw gr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new mr(this.firestore,No(this._delegate,Vie(e,n)))}catch(r){throw gr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mr(this.firestore,No(this._delegate,Uie(e)))}catch(n){throw gr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new mr(this.firestore,No(this._delegate,jie(e)))}catch(n){throw gr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mr(this.firestore,No(this._delegate,Bie(...e)))}catch(n){throw gr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mr(this.firestore,No(this._delegate,zie(...e)))}catch(n){throw gr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mr(this.firestore,No(this._delegate,qie(...e)))}catch(n){throw gr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mr(this.firestore,No(this._delegate,Hie(...e)))}catch(n){throw gr(n,"endAt()","Query.endAt()")}}isEqual(e){return G6(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Jie(this._delegate):(e==null?void 0:e.source)==="server"?n=Zie(this._delegate):n=Xie(this._delegate),n.then(r=>new UE(this.firestore,new wa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=p5(e),r=m5(e,i=>new UE(this.firestore,new wa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return l5(this._delegate,n,r)}withConverter(e){return new mr(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class vse{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new zf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new mr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new vse(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new zf(this._firestore,r))})}isEqual(e){return u5(this._delegate,e._delegate)}}class Vc extends mr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ti(this.firestore,e):null}doc(e){try{return e===void 0?new Ti(this.firestore,cy(this._delegate)):new Ti(this.firestore,cy(this._delegate,e))}catch(n){throw gr(n,"doc()","CollectionReference.doc()")}}add(e){return tse(this._delegate,e).then(n=>new Ti(this.firestore,n))}isEqual(e){return W6(this._delegate,e._delegate)}withConverter(e){return new Vc(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mu(t){return at(t,Kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(...e){this._delegate=new _a(...e)}static documentId(){return new fA(en.keyField().canonicalString())}isEqual(e){return e=Oe(e),e instanceof _a?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._delegate=e}static serverTimestamp(){const e=use();return e._methodName="FieldValue.serverTimestamp",new ou(e)}static delete(){const e=ase();return e._methodName="FieldValue.delete",new ou(e)}static arrayUnion(...e){const n=lse(...e);return n._methodName="FieldValue.arrayUnion",new ou(n)}static arrayRemove(...e){const n=cse(...e);return n._methodName="FieldValue.arrayRemove",new ou(n)}static increment(e){const n=dse(e);return n._methodName="FieldValue.increment",new ou(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse={Firestore:d5,GeoPoint:a_,Timestamp:Bt,Blob:c5,Transaction:h5,WriteBatch:f5,DocumentReference:Ti,DocumentSnapshot:Bf,Query:mr,QueryDocumentSnapshot:zf,QuerySnapshot:UE,CollectionReference:Vc,FieldPath:fA,FieldValue:ou,setLogLevel:gse,CACHE_SIZE_UNLIMITED:bie};function _se(t,e){t.INTERNAL.registerComponent(new Oi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yse)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t){_se(t,(e,n)=>new d5(e,n,new mse)),t.registerVersion(hse,fse)}wse(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="firebasestorage.googleapis.com",v5="storageBucket",bse=2*60*1e3,Ese=10*60*1e3,Tse=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends ar{constructor(e,n,r=0){super(vw(e),`Firebase Storage: ${n} (${vw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function vw(t){return"storage/"+t}function pA(){const t="An unknown error occurred, please check the error payload for server response.";return new Xt(Ft.UNKNOWN,t)}function Sse(t){return new Xt(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ise(t){return new Xt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xt(Ft.UNAUTHENTICATED,t)}function Ase(){return new Xt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pse(t){return new Xt(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function y5(){return new Xt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _5(){return new Xt(Ft.CANCELED,"User canceled the upload/download.")}function Rse(t){return new Xt(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function kse(t){return new Xt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ose(){return new Xt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v5+"' property when initializing the app?")}function w5(){return new Xt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xse(){return new Xt(Ft.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Nse(){return new Xt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dse(t){return new Xt(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hc(t){return new Xt(Ft.INVALID_ARGUMENT,t)}function b5(){return new Xt(Ft.APP_DELETED,"The Firebase app was deleted.")}function E5(t){return new Xt(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lh(t,e){return new Xt(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wd(t){throw new Xt(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(r.path==="")return r;throw kse(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},y=n===g5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${g}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:p,indices:v,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<b.length;w++){const E=b[w],A=E.regex.exec(e);if(A){const R=A[E.indices.bucket];let x=A[E.indices.path];x||(x=""),r=new or(R,x),E.postModify(r);break}}if(r==null)throw Rse(e);return r}}class $se{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...g){l||(l=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(p,u())},g)}function h(){s&&clearTimeout(s)}function p(g,...m){if(l){h();return}if(g){h(),c.call(null,g,...m);return}if(u()||o){h(),c.call(null,g,...m);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let v=!1;function y(g){v||(v=!0,h(),!l&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function Fse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(t){return t!==void 0}function Vse(t){return typeof t=="function"}function Use(t){return typeof t=="object"&&!Array.isArray(t)}function v_(t){return typeof t=="string"||t instanceof String}function $2(t){return mA()&&t instanceof Blob}function mA(){return typeof Blob<"u"&&!b0()}function jE(t,e,n,r){if(r<e)throw hc(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hc(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function T5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Su;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Su||(Su={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e,n,r,i,s,o,a,u,l,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new tg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Su.NO_ERROR,u=s.getStatus();if(!a||S5(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Su.ABORT;r(!1,new tg(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new tg(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Lse(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=pA();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?b5():_5();o(u)}else{const u=y5();o(u)}};this.canceled_?n(!1,new tg(!1,null,!0)):this.backoffId_=Mse(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bse(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zse(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hse(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Wse(t,e,n,r,i,s,o=!0){const a=T5(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return qse(l,e),Bse(l,n),zse(l,s),Hse(l,r),new jse(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kse(...t){const e=Gse();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mA())return new Blob(t);throw new Xt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qse(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(t){if(typeof atob>"u")throw Dse("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yw{constructor(e,n){this.data=e,this.contentType=n||null}}function I5(t,e){switch(t){case Si.RAW:return new yw(C5(e));case Si.BASE64:case Si.BASE64URL:return new yw(A5(t,e));case Si.DATA_URL:return new yw(Jse(e),Zse(e))}throw pA()}function C5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xse(t){let e;try{e=decodeURIComponent(t)}catch{throw Lh(Si.DATA_URL,"Malformed data URL.")}return C5(e)}function A5(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Lh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Lh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yse(e)}catch(i){throw i.message.includes("polyfill")?i:Lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class P5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lh(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eoe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jse(t){const e=new P5(t);return e.base64?A5(Si.BASE64,e.rest):Xse(e.rest)}function Zse(t){return new P5(t).contentType}function eoe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){let r=0,i="";$2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($2(this.data_)){const r=this.data_,i=Qse(r,e,n);return i===null?null:new Bs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bs(r,!0)}}static getBlob(...e){if(mA()){const n=e.map(r=>r instanceof Bs?r.data_:r);return new Bs(Kse.apply(null,n))}else{const n=e.map(o=>v_(o)?I5(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Bs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){let e;try{e=JSON.parse(t)}catch{return null}return Use(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function noe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function R5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t,e){return e}class fr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||roe}}let ng=null;function ioe(t){return!v_(t)||t.length<2?t:R5(t)}function y_(){if(ng)return ng;const t=[];t.push(new fr("bucket")),t.push(new fr("generation")),t.push(new fr("metageneration")),t.push(new fr("name","fullPath",!0));function e(s,o){return ioe(o)}const n=new fr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new fr("size");return i.xform=r,t.push(i),t.push(new fr("timeCreated")),t.push(new fr("updated")),t.push(new fr("md5Hash",null,!0)),t.push(new fr("cacheControl",null,!0)),t.push(new fr("contentDisposition",null,!0)),t.push(new fr("contentEncoding",null,!0)),t.push(new fr("contentLanguage",null,!0)),t.push(new fr("contentType",null,!0)),t.push(new fr("metadata","customMetadata",!0)),ng=t,ng}function soe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new or(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ooe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return soe(r,t),r}function k5(t,e,n){const r=gA(e);return r===null?null:ooe(t,r,n)}function aoe(t,e,n,r){const i=gA(e);if(i===null||!v_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=Da(h,n,r),v=T5({alt:"media",token:l});return p+v})[0]}function vA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="prefixes",F2="items";function uoe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[M2])for(const i of n[M2]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new or(e,s));r.prefixes.push(o)}if(n[F2])for(const i of n[F2]){const s=t._makeStorageReference(new or(e,i.name));r.items.push(s)}return r}function loe(t,e,n){const r=gA(n);return r===null?null:uoe(t,e,r)}class bo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t){if(!t)throw pA()}function __(t,e){function n(r,i){const s=k5(t,i,e);return Ps(s!==null),s}return n}function coe(t,e){function n(r,i){const s=loe(t,e,i);return Ps(s!==null),s}return n}function doe(t,e){function n(r,i){const s=k5(t,i,e);return Ps(s!==null),aoe(s,i,t.host,t._protocol)}return n}function dd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ase():i=Cse():n.getStatus()===402?i=Ise(t.bucket):n.getStatus()===403?i=Pse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function w_(t){const e=dd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Sse(t.path)),s.serverResponse=i.serverResponse,s}return n}function O5(t,e,n){const r=e.fullServerUrl(),i=Da(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new bo(i,s,__(t,n),o);return a.errorHandler=w_(e),a}function hoe(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Da(o,t.host,t._protocol),u="GET",l=t.maxOperationRetryTime,c=new bo(a,u,coe(t,e.bucket),l);return c.urlParams=s,c.errorHandler=dd(e),c}function foe(t,e,n){const r=e.fullServerUrl(),i=Da(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new bo(i,s,doe(t,n),o);return a.errorHandler=w_(e),a}function poe(t,e,n,r){const i=e.fullServerUrl(),s=Da(i,t.host,t._protocol),o="PATCH",a=vA(n,r),u={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,c=new bo(s,o,__(t,r),l);return c.headers=u,c.body=a,c.errorHandler=w_(e),c}function moe(t,e){const n=e.fullServerUrl(),r=Da(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(u,l){}const a=new bo(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=w_(e),a}function goe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function x5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=goe(null,e)),r}function voe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=x5(e,r,i),c=vA(l,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=Bs.getBlob(d,r,h);if(p===null)throw w5();const v={name:l.fullPath},y=Da(s,t.host,t._protocol),g="POST",m=t.maxUploadRetryTime,_=new bo(y,g,__(t,n),m);return _.urlParams=v,_.headers=o,_.body=p.uploadData(),_.errorHandler=dd(e),_}class hy{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function yA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ps(!1)}return Ps(!!n&&(e||["active"]).indexOf(n)!==-1),n}function yoe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=x5(e,r,i),a={name:o.fullPath},u=Da(s,t.host,t._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=vA(o,n),h=t.maxUploadRetryTime;function p(y){yA(y);let g;try{g=y.getResponseHeader("X-Goog-Upload-URL")}catch{Ps(!1)}return Ps(v_(g)),g}const v=new bo(u,l,p,h);return v.urlParams=a,v.headers=c,v.body=d,v.errorHandler=dd(e),v}function _oe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(l){const c=yA(l,["active","final"]);let d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ps(!1)}d||Ps(!1);const h=Number(d);return Ps(!isNaN(h)),new hy(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,u=new bo(n,o,s,a);return u.headers=i,u.errorHandler=dd(e),u}const L2=256*1024;function woe(t,e,n,r,i,s,o,a){const u=new hy(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw xse();const l=u.total-u.current;let c=l;i>0&&(c=Math.min(c,i));const d=u.current,h=d+c;let p="";c===0?p="finalize":l===c?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${u.current}`},y=r.slice(d,h);if(y===null)throw w5();function g(w,E){const A=yA(w,["active","final"]),R=u.current+c,x=r.size();let G;return A==="final"?G=__(e,s)(w,E):G=null,new hy(R,x,A==="final",G)}const m="POST",_=e.maxUploadRetryTime,b=new bo(n,m,g,_);return b.headers=v,b.body=y.uploadData(),b.progressCallback=a||null,b.errorHandler=dd(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe={STATE_CHANGED:"state_changed"},vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _w(t){switch(t){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":return vr.ERROR;default:return vr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(e,n,r){if(Vse(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Toe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Su.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Su.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Su.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Soe extends Toe{initXhr(){this.xhr_.responseType="text"}}function vs(){return new Soe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=y_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ft.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(S5(i.status,[]))if(s)i=y5();else{this.sleepTime=Math.max(this.sleepTime*2,Tse),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ft.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=yoe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,vs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=_oe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,vs,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=L2*this._chunkMultiplier,n=new hy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=woe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(o,vs,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){L2*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=O5(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,vs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=voe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,vs,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_5(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_w(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Eoe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_w(this._state)){case vr.SUCCESS:El(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:const n=this._reject;El(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_w(this._state)){case vr.RUNNING:case vr.PAUSED:e.next&&El(e.next.bind(e,this.snapshot))();break;case vr.SUCCESS:e.complete&&El(e.complete.bind(e))();break;case vr.CANCELED:case vr.ERROR:e.error&&El(e.error.bind(e,this._error))();break;default:e.error&&El(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_=class BE{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new BE(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R5(this._location.path)}get storage(){return this._service}get parent(){const e=toe(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new BE(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E5(e)}};function Ioe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new N5(t,new Bs(e),n)}function Coe(t){const e={prefixes:[],items:[]};return D5(t,e).then(()=>e)}async function D5(t,e,n){const i=await $5(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await D5(t,e,i.nextPageToken)}function $5(t,e){e!=null&&typeof e.maxResults=="number"&&jE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=hoe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,vs)}function Aoe(t){t._throwIfRoot("getMetadata");const e=O5(t.storage,t._location,y_());return t.storage.makeRequestWithTokens(e,vs)}function Poe(t,e){t._throwIfRoot("updateMetadata");const n=poe(t.storage,t._location,e,y_());return t.storage.makeRequestWithTokens(n,vs)}function Roe(t){t._throwIfRoot("getDownloadURL");const e=foe(t.storage,t._location,y_());return t.storage.makeRequestWithTokens(e,vs).then(n=>{if(n===null)throw Nse();return n})}function koe(t){t._throwIfRoot("deleteObject");const e=moe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,vs)}function M5(t,e){const n=noe(t._location.path,e),r=new or(t._location.bucket,n);return new b_(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(t){return/^[A-Za-z]+:\/\//.test(t)}function xoe(t,e){return new b_(t,e)}function F5(t,e){if(t instanceof _A){const n=t;if(n._bucket==null)throw Ose();const r=new b_(n,n._bucket);return e!=null?F5(r,e):r}else return e!==void 0?M5(t,e):t}function Noe(t,e){if(e&&Ooe(e)){if(t instanceof _A)return xoe(t,e);throw hc("To use ref(service, url), the first argument must be a Storage instance.")}else return F5(t,e)}function V2(t,e){const n=e==null?void 0:e[v5];return n==null?null:or.makeFromBucketSpec(n,t)}function Doe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VL(i,t.app.options.projectId))}class _A{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=g5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bse,this._maxUploadRetryTime=Ese,this._requests=new Set,i!=null?this._bucket=or.makeFromBucketSpec(i,this._host):this._bucket=V2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=V2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new b_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $se(b5());{const o=Wse(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const U2="@firebase/storage",j2="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe="storage";function Moe(t,e,n){return t=Oe(t),Ioe(t,e,n)}function Foe(t){return t=Oe(t),Aoe(t)}function Loe(t,e){return t=Oe(t),Poe(t,e)}function Voe(t,e){return t=Oe(t),$5(t,e)}function Uoe(t){return t=Oe(t),Coe(t)}function joe(t){return t=Oe(t),Roe(t)}function Boe(t){return t=Oe(t),koe(t)}function B2(t,e){return t=Oe(t),Noe(t,e)}function zoe(t,e){return M5(t,e)}function qoe(t,e,n,r={}){Doe(t,e,n,r)}function Hoe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _A(n,r,i,e,mo)}function Woe(){ao(new Oi($oe,Hoe,"PUBLIC").setMultipleInstances(!0)),Pi(U2,j2,""),Pi(U2,j2,"esm2017")}Woe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new rg(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new rg(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new rg(o,this,this._ref)):s={next:n.next?o=>n.next(new rg(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class q2{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Js(e,this._service))}get items(){return this._delegate.items.map(e=>new Js(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=zoe(this._delegate,e);return new Js(n,this.storage)}get root(){return new Js(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Js(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new z2(Moe(this._delegate,e,n),this)}putString(e,n=Si.RAW,r){this._throwIfRoot("putString");const i=I5(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new z2(new N5(this._delegate,new Bs(i.data,!0),s),this)}listAll(){return Uoe(this._delegate).then(e=>new q2(e,this.storage))}list(e){return Voe(this._delegate,e||void 0).then(n=>new q2(n,this.storage))}getMetadata(){return Foe(this._delegate)}updateMetadata(e){return Loe(this._delegate,e)}getDownloadURL(){return joe(this._delegate)}delete(){return this._throwIfRoot("delete"),Boe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw E5(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(H2(e))throw hc("ref() expected a child path but got a URL, use refFromURL instead.");return new Js(B2(this._delegate,e),this)}refFromURL(e){if(!H2(e))throw hc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{or.makeFromUrl(e,this._delegate.host)}catch{throw hc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Js(B2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){qoe(this._delegate,e,n,r)}}function H2(t){return/^[A-Za-z]+:\/\//.test(t)}const Goe="@firebase/storage-compat",Koe="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="storage-compat";function Yoe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new L5(n,r)}function Xoe(t){const e={TaskState:vr,TaskEvent:boe,StringFormat:Si,Storage:L5,Reference:Js};t.INTERNAL.registerComponent(new Oi(Qoe,Yoe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Goe,Koe)}Xoe(qt);const Joe={apiKey:"AIzaSyDHCvLVVoxB5p-7uojuH2UYIn2cyAsYgYM",authDomain:"pf-gafas.firebaseapp.com",databaseURL:"https://pf-gafas-default-rtdb.firebaseio.com",projectId:"pf-gafas",storageBucket:"pf-gafas.appspot.com",messagingSenderId:"1038196275079",appId:"1:1038196275079:web:b08f4d16886b8b79458522",measurementId:"G-JEKKRVMS67"};class Zoe{constructor(){pt(this,"createAccount",(e,n)=>this.auth.createUserWithEmailAndPassword(e,n));pt(this,"signIn",(e,n)=>this.auth.signInWithEmailAndPassword(e,n));pt(this,"signInWithGoogle",()=>this.auth.signInWithPopup(new qt.auth.GoogleAuthProvider));pt(this,"signInWithFacebook",()=>this.auth.signInWithPopup(new qt.auth.FacebookAuthProvider));pt(this,"signInWithGithub",()=>this.auth.signInWithPopup(new qt.auth.GithubAuthProvider));pt(this,"signOut",()=>this.auth.signOut());pt(this,"passwordReset",e=>this.auth.sendPasswordResetEmail(e));pt(this,"addUser",(e,n)=>this.db.collection("users").doc(e).set(n));pt(this,"getUser",e=>this.db.collection("users").doc(e).get());pt(this,"passwordUpdate",e=>this.auth.currentUser.updatePassword(e));pt(this,"changePassword",(e,n)=>new Promise((r,i)=>{this.reauthenticate(e).then(()=>{this.auth.currentUser.updatePassword(n).then(()=>{r("Password updated successfully!")}).catch(o=>i(o))}).catch(s=>i(s))}));pt(this,"reauthenticate",e=>{const n=this.auth.currentUser,r=qt.auth.EmailAuthProvider.credential(n.email,e);return n.reauthenticateWithCredential(r)});pt(this,"updateEmail",(e,n)=>new Promise((r,i)=>{this.reauthenticate(e).then(()=>{this.auth.currentUser.updateEmail(n).then(()=>{r("Email Successfully updated")}).catch(o=>i(o))}).catch(s=>i(s))}));pt(this,"updateProfile",(e,n)=>this.db.collection("users").doc(e).update(n));pt(this,"onAuthStateChanged",()=>new Promise((e,n)=>{this.auth.onAuthStateChanged(r=>{r?e(r):n(new Error("Auth State Changed failed"))})}));pt(this,"saveBasketItems",(e,n)=>this.db.collection("users").doc(n).update({basket:e}));pt(this,"setAuthPersistence",()=>this.auth.setPersistence(qt.auth.Auth.Persistence.LOCAL));pt(this,"getSingleProduct",e=>this.db.collection("products").doc(e).get());pt(this,"getProducts",e=>{let n=!1;return new Promise((r,i)=>{(async()=>{if(e)try{const o=await this.db.collection("products").orderBy(qt.firestore.FieldPath.documentId()).startAfter(e).limit(12).get(),a=[];o.forEach(l=>a.push({id:l.id,...l.data()}));const u=o.docs[o.docs.length-1];r({products:a,lastKey:u})}catch(s){i((s==null?void 0:s.message)||":( Failed to fetch products.")}else{const s=setTimeout(()=>{n=!0,i(new Error("Request timeout, please try again"))},15e3);try{const a=(await this.db.collection("products").get()).docs.length,l=await this.db.collection("products").orderBy(qt.firestore.FieldPath.documentId()).limit(12).get();if(clearTimeout(s),!n){const c=[];l.forEach(h=>c.push({id:h.id,...h.data()}));const d=l.docs[l.docs.length-1];r({products:c,lastKey:d,total:a})}}catch(o){if(n)return;i((o==null?void 0:o.message)||":( Failed to fetch products.")}}})()})});pt(this,"searchProducts",e=>{let n=!1;return new Promise((r,i)=>{(async()=>{const s=this.db.collection("products"),o=setTimeout(()=>{n=!0,i(new Error("Request timeout, please try again"))},15e3);try{const a=s.orderBy("name_lower").where("name_lower",">=",e).where("name_lower","<=",`${e}`).limit(12),u=s.orderBy("dateAdded","desc").where("keywords","array-contains-any",e.split(" ")).limit(12),l=await a.get(),c=await u.get();if(clearTimeout(o),!n){const d=[],h=[];let p=null;l.empty||(l.forEach(g=>{d.push({id:g.id,...g.data()})}),p=l.docs[l.docs.length-1]),c.empty||c.forEach(g=>{h.push({id:g.id,...g.data()})});const v=[...d,...h],y={};v.forEach(g=>{y[g.id]=g}),r({products:Object.values(y),lastKey:p})}}catch(a){if(n)return;i(a)}})()})});pt(this,"getFeaturedProducts",(e=12)=>this.db.collection("products").where("isFeatured","==",!0).limit(e).get());pt(this,"getRecommendedProducts",(e=12)=>this.db.collection("products").where("isRecommended","==",!0).limit(e).get());pt(this,"addProduct",(e,n)=>this.db.collection("products").doc(e).set(n));pt(this,"generateKey",()=>this.db.collection("products").doc().id);pt(this,"storeImage",async(e,n,r)=>await(await this.storage.ref(n).child(e).put(r)).ref.getDownloadURL());pt(this,"deleteImage",e=>this.storage.ref("products").child(e).delete());pt(this,"editProduct",(e,n)=>this.db.collection("products").doc(e).update(n));pt(this,"removeProduct",e=>this.db.collection("products").doc(e).delete());qt.initializeApp(Joe),this.storage=qt.storage(),this.db=qt.firestore(),this.auth=qt.auth()}}const it=new Zoe,V5=t=>{const[e,n]=S.useState([]),[r,i]=S.useState(!1),[s,o]=S.useState(""),a=Xu(!0),u=async()=>{try{i(!0),o("");const l=await it.getFeaturedProducts(t);if(l.empty)a&&(o("No featured products found."),i(!1));else{const c=[];l.forEach(d=>{const h=d.data();c.push({id:d.ref.id,...h})}),a&&(n(c),i(!1))}}catch{a&&(o("Failed to fetch featured products"),i(!1))}};return S.useEffect(()=>{e.length===0&&a&&u()},[]),{featuredProducts:e,fetchFeaturedProducts:u,isLoading:r,error:s}};var ig,eae=new Uint8Array(16);function tae(){if(!ig&&(ig=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ig))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ig(eae)}const nae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rae(t){return typeof t=="string"&&nae.test(t)}var Ln=[];for(var ww=0;ww<256;++ww)Ln.push((ww+256).toString(16).substr(1));function iae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase();if(!rae(n))throw TypeError("Stringified UUID is invalid");return n}function sae(t,e,n){t=t||{};var r=t.random||(t.rng||tae)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return iae(r)}const U5=t=>{const[e,n]=S.useState(t),[r,i]=S.useState(!1);return{imageFile:e,setImageFile:n,isFileLoading:r,onFileChange:(a,{name:u,type:l})=>{const c=a.target.value,d=a.target.files[0],h=d.size/1024/1024,p=/(\.jpg|\.jpeg|\.png)$/i;if(i(!0),!p.exec(c))alert("File type must be JPEG or PNG","error"),i(!1);else if(h>.5)alert("File size exceeded 500kb, consider optimizing your image","error"),i(!1);else if(l==="multiple")Array.from(a.target.files).forEach(v=>{const y=new FileReader;y.addEventListener("load",g=>{n(m=>({...m,[u]:[...m[u],{file:v,url:g.target.result,id:sae()}]}))}),y.readAsDataURL(v)}),i(!1);else{const v=new FileReader;v.addEventListener("load",y=>{n({...e,[u]:{file:d,url:y.target.result}}),i(!1)}),v.readAsDataURL(d)}},removeImage:({id:a,name:u})=>{const l=e[u].filter(c=>c.id!==a);n({...e,[u]:l})}}},wA=()=>{const[t,e]=S.useState(!1);return{isOpenModal:t,onOpenModal:()=>{e(!0)},onCloseModal:()=>{e(!1)}}},j5=t=>{const e=Xe(l=>l.products.items.find(c=>c.id===t)),[n,r]=S.useState(e),[i,s]=S.useState(!1),[o,a]=S.useState(null),u=Xu(!0);return S.useEffect(()=>{(async()=>{try{if(!n||n.id!==t){s(!0);const l=await it.getSingleProduct(t);if(l.exists){const c={...l.data(),id:l.ref.id};u&&(r(c),s(!1))}else a("Product not found.")}}catch(l){u&&(s(!1),a((l==null?void 0:l.message)||"Something went wrong."))}})()},[t]),{product:n,isLoading:i,error:o}},bA=t=>{const[e,n]=S.useState([]),[r,i]=S.useState(!1),[s,o]=S.useState(""),a=Xu(!0),u=async()=>{try{i(!0),o("");const l=await it.getRecommendedProducts(t);if(l.empty)a&&(o("No recommended products found."),i(!1));else{const c=[];l.forEach(d=>{const h=d.data();c.push({id:d.ref.id,...h})}),a&&(n(c),i(!1))}}catch{a&&(o("Failed to fetch recommended products"),i(!1))}};return S.useEffect(()=>{e.length===0&&a&&u()},[]),{recommendedProducts:e,fetchRecommendedProducts:u,isLoading:r,error:s}},$n=()=>{S.useEffect(()=>{window.scrollTo(0,0)},[])},B5=()=>({type:bL}),oae=()=>({type:TL}),aae=t=>({type:SL,payload:t}),fh=t=>({type:EL,payload:t}),z5=(t,e)=>{if(!t||t.length===0)return[];const n=e.keyword.toLowerCase();return t.filter(r=>{const i=e.maxPrice?r.price>=e.minPrice&&r.price<=e.maxPrice:!0,s=r.keywords?r.keywords.includes(n):!0,o=r.description?r.description.toLowerCase().includes(n):!0,a=r.brand?r.brand.toLowerCase().includes(e.brand):!0;return(s||o)&&a&&i}).sort((r,i)=>e.sortBy==="name-desc"?r.name<i.name?1:-1:e.sortBy==="name-asc"?r.name>i.name?1:-1:e.sortBy==="price-desc"?r.price<i.price?1:-1:r.price>i.price?1:-1)},uae=t=>{if(!t||t.length===0)return 0;let e=t[0];for(let n=0;n<t.length;n++)t[n].price>e.price&&(e=t[n]);return Math.floor(e.price)},lae=t=>{if(!t||t.length===0)return 0;let e=t[0];for(let n=0;n<t.length;n++)t[n].price<e.price&&(e=t[n]);return Math.floor(e.price)};var cae=function(){},q5=cae;const Wg=Rn(q5);var W2=Math.sqrt(50),G2=Math.sqrt(10),K2=Math.sqrt(2);function dae(t,e,n){var r,i=-1,s,o,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(a=hae(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,o=new Array(s=l-u+1);++i<s;)o[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(e*a);for(u/a<t&&++u,l/a>e&&--l,o=new Array(s=l-u+1);++i<s;)o[i]=(u+i)/a}return r&&o.reverse(),o}function hae(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=W2?10:s>=G2?5:s>=K2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=W2?10:s>=G2?5:s>=K2?2:1)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ol(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function al(t,e,n){return e&&Y2(t.prototype,e),n&&Y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function pae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mae(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(t)}function Gp(t){var e=pae();return function(){var r=fy(t),i;if(e){var s=fy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mae(this,i)}}function qE(t,e){return vae(t)||_ae(t,e)||H5(t,e)||bae()}function HE(t){return gae(t)||yae(t)||H5(t)||wae()}function gae(t){if(Array.isArray(t))return WE(t)}function vae(t){if(Array.isArray(t))return t}function yae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function H5(t,e){if(t){if(typeof t=="string")return WE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(t,e)}}function WE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var GE="react-compound-slider:";function W5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(n,r){return n.val>r.val?t?-1:1:r.val>n.val?t?1:-1:0}}function Vh(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=t.findIndex(function(u){return u.key===e});if(i!==-1){var s=t[i],o=s.key,a=s.val;return a===n?t:[].concat(HE(t.slice(0,i)),[{key:o,val:n}],HE(t.slice(i+1))).sort(W5(r))}return t}function Gd(t,e){if(!t)return[0,0];var n=t.getBoundingClientRect(),r=e?n.top:n.left,i=e?n.bottom:n.right;return[r,i]}function X2(t){var e=t.type,n=e===void 0?"":e,r=t.touches;return!r||r.length>1||n.toLowerCase()==="touchend"&&r.length>0}function bw(t,e){return t?e.touches[0].clientY:e.touches[0].pageX}function J2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=0,s=t.map(function(o){var a=n.getValue(o);return o!==a&&(i+=1,Wg(!r,"".concat(GE," Invalid value encountered. Changing ").concat(o," to ").concat(a,"."))),a}).map(function(o,a){return{key:"$$-".concat(a),val:o}}).sort(W5(e));return{handles:s,changes:i}}function Eae(t,e){return e}function Tae(t,e){for(var n=0;n<t.length;n++)if(t[n].key!==e[n].key||e[n+1]&&e[n].val===e[n+1].val)return t;return e}function KE(t,e,n,r,i){for(var s=-1,o=!0,a=0;a<t.length;a++){var u=t[a],l=e[a];if(!l||l.key!==u.key)return t;l.val!==u.val&&(s=a,o=l.val-u.val>0)}if(s===-1)return t;for(var c=o?n:-n,d=0;d<e.length;d++){var h=e[d],p=e[d+1];if(p&&h.val===p.val)if(d===s){var v=p.val+c;if(i(v)===v){var y=Vh(e,p.key,p.val+c,r),g=KE(e,y,n,r,i);return g===e?t:g}else return t}else{var m=h.val+c;if(i(m)===m){var _=Vh(e,h.key,h.val+c,r),b=KE(e,_,n,r,i);return b===e?t:b}else return t}}return e}function Iu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.forEach(function(i){return i&&i(r)})}}var Sae=function(){return{value:0,percent:0}},G5=function(t){Wp(n,t);var e=Gp(n);function n(){var r;ol(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.getRailProps=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=r.props,l=u.emitMouse,c=u.emitTouch;return Ss(Ss({},a),{},{onMouseDown:Iu(a&&a.onMouseDown,l),onTouchStart:Iu(a&&a.onTouchStart,c)})},r}return al(n,[{key:"render",value:function(){var i=this.getRailProps,s=this.props,o=s.getEventData,a=s.activeHandleID,u=a===void 0?"":a,l=s.children,c=l({getEventData:o||Sae,activeHandleID:u,getRailProps:i});return c&&Be.Children.only(c)}}]),n}(S.Component),K5=function(t){Wp(n,t);var e=Gp(n);function n(){var r;ol(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.autofocus=function(a){a.target instanceof HTMLElement&&a.target.focus()},r.getHandleProps=function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=r.props,c=l.emitKeyboard,d=l.emitMouse,h=l.emitTouch;return Ss(Ss({},u),{},{onKeyDown:Iu(u&&u.onKeyDown,function(p){return c&&c(p,a)}),onMouseDown:Iu(u&&u.onMouseDown,r.autofocus,function(p){return d&&d(p,a)}),onTouchStart:Iu(u&&u.onTouchStart,function(p){return h&&h(p,a)})})},r}return al(n,[{key:"render",value:function(){var i=this.getHandleProps,s=this.props,o=s.activeHandleID,a=o===void 0?"":o,u=s.children,l=s.handles,c=l===void 0?[]:l,d=u({handles:c,activeHandleID:a,getHandleProps:i});return d&&Be.Children.only(d)}}]),n}(S.Component),EA=function(){function t(){ol(this,t),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return al(t,[{key:"createInterpolator",value:function(n,r){var i=this,s=n[0],o=n[1],a=r[0],u=r[1];return o<s?function(l){return i.interpolateValue(u,a)(i.deinterpolateValue(o,s)(l))}:function(l){return i.interpolateValue(a,u)(i.deinterpolateValue(s,o)(l))}}},{key:"interpolateValue",value:function(n,r){return n=+n,r-=n,function(s){return n+r*s}}},{key:"deinterpolateValue",value:function(n,r){return(r-=n=+n)?function(i){return(i-n)/r}:function(){return r}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(n){var r=this.domain,i=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(r,i)))(+n)}},{key:"setDomain",value:function(n){return this.domain=[n[0],n[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(n){return this.range=[n[0],n[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(n){var r=this.domain;return dae(r[0],r[r.length-1],n||10)}}]),t}(),Iae=function(){return{value:0,percent:0}},Q5=function(t){Wp(n,t);var e=Gp(n);function n(){return ol(this,n),e.apply(this,arguments)}return al(n,[{key:"render",value:function(){var i=this.props,s=i.children,o=i.values,a=i.scale,u=a===void 0?new EA:a,l=i.count,c=l===void 0?10:l,d=i.getEventData,h=d===void 0?Iae:d,p=i.activeHandleID,v=p===void 0?"":p,y=(o||u.getTicks(c)).map(function(m){return{id:"$$-".concat(m),value:m,percent:u.getValue(m)}}),g=s({getEventData:h,activeHandleID:v,ticks:y});return g&&Be.Children.only(g)}}]),n}(S.Component),Cae=function(){return{value:0,percent:0}},Y5=function(t){Wp(n,t);var e=Gp(n);function n(){var r;ol(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.getTrackProps=function(a){var u=r.props,l=u.emitMouse,c=u.emitTouch;return Ss(Ss({},a||{}),{},{onMouseDown:Iu(a&&a.onMouseDown,l),onTouchStart:Iu(a&&a.onTouchStart,c)})},r}return al(n,[{key:"render",value:function(){for(var i=this.getTrackProps,s=this.props,o=s.children,a=s.left,u=a===void 0?!0:a,l=s.right,c=l===void 0?!0:l,d=s.scale,h=d===void 0?new EA:d,p=s.handles,v=p===void 0?[]:p,y=s.getEventData,g=y===void 0?Cae:y,m=s.activeHandleID,_=m===void 0?"":m,b=h.getDomain(),w=[],E=0;E<v.length+1;E++){var A=v[E-1],R=v[E];E===0&&u===!0?A={id:"$",value:b[0],percent:0}:E===v.length&&c===!0&&(R={id:"$",value:b[1],percent:100}),A&&R&&w.push({id:"".concat(A.id,"-").concat(R.id),source:A,target:R})}var x=o({getEventData:g,activeHandleID:_,tracks:w,getTrackProps:i});return x&&Be.Children.only(x)}}]),n}(S.Component);function Z2(t,e,n){return Math.min(Math.max(t,e),n)}var ex=al(function t(){var e=this;ol(this,t),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(n){return e.domain=[n[0],n[1]],e},this.setRange=function(n){return e.range=[n[0],n[1]],e},this.setStep=function(n){return e.step=n,e},this.getValue=function(n){var r=qE(e.domain,2),i=r[0],s=r[1],o=qE(e.range,2),a=o[0],u=o[1],l=e.step,c=(Z2(n,i,s)-i)/(s-i),d=l*Math.round(c*(u-a)/l)+a;return Z2(d,a<u?a:u,u>a?u:a)}}),Kd=typeof window<"u"&&typeof document<"u",fi=function(){},Aae=function(e){return function(n,r,i){return n&&e[i]===r}},Pae=function(e,n){return e===n||e.length===n.length&&e.reduce(Aae(n),!0)},Rae=function(e){if(!S.isValidElement(e))return!1;var n=e.type,r=n?n.name:"";return r===K5.name||r===G5.name||r===Q5.name||r===Y5.name},kae=function(e,n,r,i){var s=i?e-n:e+n;return i?Math.max(r[0],s):Math.min(r[1],s)},Oae=function(e,n,r,i){var s=i?e+n:e-n;return i?Math.min(r[1],s):Math.max(r[0],s)},sg=[0,100],xae=function(t){Wp(n,t);var e=Gp(n);function n(){var r;ol(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={step:.1,values:[],domain:sg,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},r.slider=Be.createRef(),r.onKeyDown=function(a,u){var l=["ArrowRight","ArrowUp"],c=["ArrowDown","ArrowLeft"],d=Xa(r),h=d.state.handles,p=d.props,v=p.step,y=v===void 0?.1:v,g=p.reversed,m=g===void 0?!1:g,_=p.vertical,b=_===void 0?!1:_,w=p.domain,E=w===void 0?[0,100]:w,A=a.key||"".concat(a.keyCode);if(l.concat(c).includes(A)){if(b){var R=[c,l];l=R[0],c=R[1]}a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault();var x=h.find(function(se){return se.key===u});if(x){var G=x.val,J=G;l.includes(A)?J=kae(G,y,E,m):c.includes(A)&&(J=Oae(G,y,E,m));var oe=h.map(function(se){return se.key===u?{key:se.key,val:J}:se});r.submitUpdate(oe,!0)}}},r.onMouseDown=function(a,u){r.onStart(a,u,!1)},r.onTouchStart=function(a,u){X2(a)||r.onStart(a,u,!0)},r.getEventData=function(a,u){var l=Xa(r),c=l.state,d=c.pixelToStep,h=c.valueToPerc,p=l.props.vertical;d.setDomain(Gd(r.slider.current,p));var v;return u&&a instanceof TouchEvent?v=d.getValue(bw(p,a)):a instanceof MouseEvent&&(v=d.getValue(p?a.clientY:a.pageX)),{value:v,percent:h.getValue(v)}},r.onMouseMove=function(a){var u=Xa(r),l=u.state,c=l.handles,d=l.pixelToStep,h=l.activeHandleID,p=h===void 0?"":h,v=u.props,y=v.vertical,g=v.reversed,m=g===void 0?!1:g;d.setDomain(Gd(r.slider.current,y));var _=d.getValue(y?a.clientY:a.pageX),b=Vh(c,p,_,m);r.submitUpdate(b)},r.onTouchMove=function(a){var u=Xa(r),l=u.state,c=l.handles,d=l.pixelToStep,h=l.activeHandleID,p=u.props,v=p.vertical,y=p.reversed;if(!(d===null||X2(a))){d.setDomain(Gd(r.slider.current,v));var g=d.getValue(bw(v,a)),m=Vh(c,h,g,y);r.submitUpdate(m)}},r.onMouseUp=function(){var a=Xa(r),u=a.state,l=u.handles,c=l===void 0?[]:l,d=u.activeHandleID,h=a.props,p=h.onChange,v=p===void 0?fi:p,y=h.onSlideEnd,g=y===void 0?fi:y;v(c.map(function(m){return m.val})),g(c.map(function(m){return m.val}),{activeHandleID:d}),r.setState({activeHandleID:""}),Kd&&(document.removeEventListener("mousemove",r.onMouseMove),document.removeEventListener("mouseup",r.onMouseUp))},r.onTouchEnd=function(){var a=Xa(r),u=a.state,l=u.handles,c=u.activeHandleID,d=a.props,h=d.onChange,p=h===void 0?fi:h,v=d.onSlideEnd,y=v===void 0?fi:v;p(l.map(function(g){return g.val})),y(l.map(function(g){return g.val}),{activeHandleID:c}),r.setState({activeHandleID:""}),Kd&&(document.removeEventListener("touchmove",r.onTouchMove),document.removeEventListener("touchend",r.onTouchEnd))},r}return al(n,[{key:"componentDidMount",value:function(){var i=this.state.pixelToStep,s=this.props.vertical;i.setDomain(Gd(this.slider.current,s))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){Kd&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(i,s,o){var a=this.state.handles,u=this.props.onSlideStart,l=u===void 0?fi:u;o||i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation();var c=a.find(function(d){return d.key===s});c?(this.setState({activeHandleID:s}),l(a.map(function(d){return d.val}),{activeHandleID:s}),o?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(i,o))}},{key:"handleRailAndTrackClicks",value:function(i,s){var o=this,a=this.state,u=a.handles,l=a.pixelToStep,c=this.props,d=c.vertical,h=c.reversed,p=h===void 0?!1:h,v=this.slider;l.setDomain(Gd(v.current,d));var y;s?y=l.getValue(bw(d,i)):y=l.getValue(d?i.clientY:i.pageX);for(var g="",m=1/0,_=0;_<u.length;_++){var b=u[_],w=b.key,E=b.val,A=Math.abs(E-y);A<m&&(g=w,m=A)}var R=Vh(u,g,y,p);this.setState({activeHandleID:g},function(){o.submitUpdate(R,!0),s?o.addTouchEvents():o.addMouseEvents()})}},{key:"addMouseEvents",value:function(){Kd&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){Kd&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.props,a=o.mode,u=a===void 0?1:a,l=o.step,c=l===void 0?.1:l,d=o.onUpdate,h=d===void 0?fi:d,p=o.onChange,v=p===void 0?fi:p,y=o.reversed,g=y===void 0?!1:y,m=this.state.valueToStep.getValue;this.setState(function(_){var b=_.handles,w=[];if(typeof u=="function")w=u(b,i,c,g,m),Wg(Array.isArray(w),"Custom mode function did not return an array.");else switch(u){case 1:w=Eae(b,i);break;case 2:w=Tae(b,i);break;case 3:w=KE(b,i,c,g,m);break;default:w=i,Wg(!1,"".concat(GE," Invalid mode value."))}return h(w.map(function(E){return E.val})),s&&v(w.map(function(E){return E.val})),{handles:w}})}},{key:"render",value:function(){var i=this,s=this.state,o=s.handles,a=s.valueToPerc,u=s.activeHandleID,l=this.props,c=l.className,d=l.rootStyle,h=d===void 0?{}:d,p=l.rootProps,v=p===void 0?{}:p,y=l.component,g=y===void 0?"div":y,m=l.disabled,_=m===void 0?!1:m,b=l.flatten,w=b===void 0?!1:b,E=o.map(function(R){var x=R.key,G=R.val;return{id:x,value:G,percent:a.getValue(G)}}),A=Be.Children.map(this.props.children,function(R){return Rae(R)===!0?Be.cloneElement(R,{scale:a,handles:E,activeHandleID:u,getEventData:i.getEventData,emitKeyboard:_?fi:i.onKeyDown,emitMouse:_?fi:i.onMouseDown,emitTouch:_?fi:i.onTouchStart}):R});return w?k(_n,{children:[f(g,{...Ss(Ss({},v),{},{style:h,className:c,ref:this.slider})}),A]}):f(_n,{children:f(g,{...Ss(Ss({},v),{},{style:h,className:c,ref:this.slider}),children:A})})}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=i.step,a=o===void 0?.1:o,u=i.values,l=i.domain,c=l===void 0?sg:l,d=i.reversed,h=d===void 0?!1:d,p=i.onUpdate,v=p===void 0?fi:p,y=i.onChange,g=y===void 0?fi:y,m=i.warnOnChanges,_=m===void 0?!1:m,b=s.valueToPerc,w=s.valueToStep,E=s.pixelToStep,A={};if((!b||!w||!E)&&(b=new EA,w=new ex,E=new ex,A.valueToPerc=b,A.valueToStep=w,A.pixelToStep=E),s.domain===sg||s.step===null||s.domain===null||s.reversed===null||a!==s.step||c[0]!==s.domain[0]||c[1]!==s.domain[1]||h!==s.reversed){var R=qE(c,2),x=R[0],G=R[1];w.setStep(a).setRange([x,G]).setDomain([x,G]),h===!0?(b.setDomain([x,G]).setRange([100,0]),E.setStep(a).setRange([G,x])):(b.setDomain([x,G]).setRange([0,100]),E.setStep(a).setRange([x,G])),Wg(G>x,"".concat(GE," Max must be greater than min (even if reversed). Max is ").concat(G,". Min is ").concat(x,"."));var J=J2(u||s.values,h,w,_),oe=J.handles,se=J.changes;(se||u===void 0||u===s.values)&&(v(oe.map(function(K){return K.val})),g(oe.map(function(K){return K.val}))),A.step=a,A.values=u,A.domain=c===sg?HE(c):c,A.handles=oe,A.reversed=h}else if(!Pae(u,s.values)){var _e=J2(u,h,w,_),L=_e.handles,q=_e.changes;q&&(v(L.map(function(K){return K.val})),g(L.map(function(K){return K.val}))),A.values=u,A.handles=L}return Object.keys(A).length?A:null}}]),n}(S.PureComponent);class TA extends S.Component{constructor(e){super(e),this.state={mouseOver:!1}}onMouseEnter(){this.setState({mouseOver:!0})}onMouseLeave(){this.setState({mouseOver:!1})}render(){const{domain:[e,n],handle:{id:r,value:i,percent:s},isActive:o,disabled:a,getHandleProps:u}=this.props,{mouseOver:l}=this.state;return k(_n,{children:[(l||o)&&!a?f("div",{style:{left:`${s}%`,position:"absolute",marginLeft:"-11px",marginTop:"-35px"},children:f("div",{className:"tooltip",children:k("span",{className:"tooltiptext",children:["Value:",i]})})}):null,f("div",{style:{left:`${s}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:400,width:26,height:42,cursor:"pointer",backgroundColor:"none"},...u(r,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}),f("div",{role:"slider","aria-valuemin":e,"aria-valuemax":n,"aria-valuenow":i,label:"Slider",style:{left:`${s}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:300,width:24,height:24,border:0,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:a?"#666":"#1a1a1a"}})]})}}TA.propTypes={domain:I.array.isRequired,handle:I.shape({id:I.string.isRequired,value:I.number.isRequired,percent:I.number.isRequired}).isRequired,getHandleProps:I.func.isRequired,isActive:I.bool.isRequired,disabled:I.bool};TA.defaultProps={disabled:!1};const Nae={position:"absolute",transform:"translate(0%, -50%)",width:"100%",height:42,borderRadius:7,cursor:"pointer"},Dae={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"#d0d0d0"},X5=({getRailProps:t})=>k("div",{children:[f("div",{style:Nae,...t()}),f("div",{style:Dae})]});X5.propTypes={getRailProps:I.func.isRequired};const SA=({tick:t,count:e,format:n})=>k("div",{children:[f("div",{style:{position:"absolute",marginTop:17,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:`${t.percent}%`}}),f("div",{style:{position:"absolute",marginTop:25,fontSize:10,textAlign:"center",marginLeft:`${-(100/e)/2}%`,width:`${100/e}%`,left:`${t.percent}%`},children:n(t.value)})]});SA.propTypes={tick:I.shape({id:I.string.isRequired,value:I.number.isRequired,percent:I.number.isRequired}).isRequired,count:I.number.isRequired,format:I.func};SA.defaultProps={format:t=>t};const IA=({source:t,target:e,getTrackProps:n,disabled:r})=>f("div",{style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:r?"#ffd993":"#ffa500",borderRadius:7,cursor:"pointer",left:`${t.percent}%`,width:`${e.percent-t.percent}%`},...n()});IA.propTypes={source:I.shape({id:I.string.isRequired,value:I.number.isRequired,percent:I.number.isRequired}).isRequired,target:I.shape({id:I.string.isRequired,value:I.number.isRequired,percent:I.number.isRequired}).isRequired,getTrackProps:I.func.isRequired,disabled:I.bool};IA.defaultProps={disabled:!1};const $ae={position:"relative",width:"100%"},CA=({min:t,max:e,initMin:n,initMax:r,productsCount:i,onPriceChange:s})=>{const[o,a]=S.useState({domain:[t,e],values:[n||t,r||e],update:[t,e].slice(),inputMin:n||t,inputMax:r||e,inputError:!1,reversed:!1}),u=d=>{a(()=>({...o,update:d,inputMin:d[0],inputMax:d[1]}))},l=d=>{a(()=>({...o,values:d,inputMin:d[0],inputMax:d[1]})),d[0]<d[1]&&s(...d)},c=()=>o.inputError?"price-range-input price-input-error":"price-range-input";return k("div",{style:{height:120,width:"100%"},children:[k("div",{className:"price-range-control",children:[f("input",{className:c(),disabled:i===0,max:e,min:t,type:"number",readOnly:!0,value:o.inputMin}),"",f("input",{className:c(),disabled:i===0,max:e,min:t,type:"number",readOnly:!0,value:o.inputMax})]}),k(xae,{mode:1,step:1,domain:o.domain,rootStyle:$ae,onUpdate:u,onChange:l,values:o.values,children:[f(G5,{children:({getRailProps:d})=>f(X5,{getRailProps:d})}),f(K5,{children:({handles:d,activeHandleID:h,getHandleProps:p})=>f("div",{className:"slider-handles",children:d.map(v=>f(TA,{handle:v,domain:o.domain,isActive:v.id===h,getHandleProps:p},v.id))})}),f(Y5,{left:!1,right:!1,children:({tracks:d,getTrackProps:h})=>f("div",{className:"slider-tracks",children:d.map(({id:p,source:v,target:y})=>f(IA,{source:v,target:y,getTrackProps:h},p))})}),f(Q5,{count:5,children:({ticks:d})=>f("div",{className:"slider-ticks",children:d.map(h=>f(SA,{tick:h,count:d.length},h.id))})})]})]})};CA.defaultProps={initMin:void 0,initMax:void 0};CA.propTypes={initMin:I.number,initMax:I.number,min:I.number.isRequired,max:I.number.isRequired,productsCount:I.number.isRequired,onPriceChange:I.func.isRequired};const J5=({closeModal:t})=>{const{filter:e,isLoading:n,products:r}=Xe(b=>({filter:b.filter,isLoading:b.app.loading,products:b.products.items})),[i,s]=S.useState({brand:e.brand,minPrice:e.minPrice,maxPrice:e.maxPrice,sortBy:e.sortBy}),o=Xe(b=>b.darkMode),u=Object.values(o)[0],l=zt(),c=ci(),d=Xu(),h=uae(r),p=lae(r);S.useEffect(()=>{d&&window.screen.width<=480&&c.push("/"),d&&t&&t(),s(e),window.scrollTo(0,0)},[e]);const v=(b,w)=>{s({...i,minPrice:b,maxPrice:w})},y=b=>{const w=b.target.value;s({...i,brand:w})},g=b=>{s({...i,sortBy:b.target.value})},m=()=>{const b=Object.keys(i).some(w=>i[w]!==e[w]);i.minPrice>i.maxPrice||(b?l(fh(i)):t())},_=()=>{["brand","minPrice","maxPrice","sortBy"].some(w=>!!e[w])?l(B5()):t()};return k("div",{style:u?{backgroundColor:"gray"}:{},className:`filters ${u?"dark-mode":""}`,children:[k("div",{className:`filters-filed ${u?"dark-mode":""}`,style:u?{backgroundColor:"gray"}:{},children:[f("span",{style:u?{backgroundColor:"gray"}:{},children:"Brand"}),f("br",{}),f("br",{}),r.length===0&&n?f("h5",{style:u?{backgroundColor:"gray"}:{},className:"text-subtle",children:"Loading Filter"}):k("select",{className:"filters-brand",value:i.brand,style:u?{backgroundColor:"gray"}:{},disabled:n||r.length===0,onChange:y,children:[f("option",{value:"",children:"All Brands"}),f("option",{value:"salt",children:"Salt Maalat"}),f("option",{value:"betsin",children:"Betsin Maalat"}),f("option",{value:"black",children:"Black Kibal"})]})]}),k("div",{style:u?{backgroundColor:"gray"}:{},className:`filters-filed ${u?"dark-mode":""}`,children:[f("span",{children:"Sort By"}),f("br",{}),f("br",{}),k("select",{className:"filters-sort-by d-block",value:i.sortBy,disabled:n||r.length===0,onChange:g,children:[f("option",{value:"",children:"None"}),f("option",{value:"name-asc",children:"Name Ascending A - Z"}),f("option",{value:"name-desc",children:"Name Descending Z - A"}),f("option",{value:"price-desc",children:"Price High - Low"}),f("option",{value:"price-asc",children:"Price Low - High"})]})]}),k("div",{className:"filters-field",children:[f("span",{children:"Price Range"}),f("br",{}),f("br",{}),r.length===0&&n||h===0?f("h5",{className:"text-subtle",children:"Loading Filter"}):r.length===1?f("h5",{className:"text-subtle",children:"No Price Range"}):f(CA,{min:p,max:h,initMin:i.minPrice,initMax:i.maxPrice,isLoading:n,onPriceChange:v,productsCount:r.length})]}),k("div",{className:`filters-action ${u?"dark-mode":""}`,children:[f("button",{className:"filters-button button button-small",disabled:n||r.length===0,onClick:m,type:"button",children:"Apply filters"}),f("button",{className:"filters-button button button-border button-small",disabled:n||r.length===0,onClick:_,type:"button",children:"Reset filters"})]})]})};J5.propTypes={closeModal:I.func.isRequired};const Mae=Ia(J5);var QE={exports:{}},Hu={},YE={exports:{}},ts={},XE={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(u){var l=u.offsetWidth<=0&&u.offsetHeight<=0;if(l&&!u.innerHTML)return!0;try{var c=window.getComputedStyle(u);return l?c.getPropertyValue("overflow")!=="visible"||u.scrollWidth<=0&&u.scrollHeight<=0:c.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(u){for(var l=u,c=u.getRootNode&&u.getRootNode();l&&l!==document.body;){if(c&&l===c&&(l=c.host.parentNode),r(l))return!1;l=l.parentNode}return!0}function s(u,l){var c=u.nodeName.toLowerCase(),d=n.test(c)&&!u.disabled||c==="a"&&u.href||l;return d&&i(u)}function o(u){var l=u.getAttribute("tabindex");l===null&&(l=void 0);var c=isNaN(l);return(c||l>=0)&&s(u,!c)}function a(u){var l=[].slice.call(u.querySelectorAll("*"),0).reduce(function(c,d){return c.concat(d.shadowRoot?a(d.shadowRoot):[d])},[]);return l.filter(o)}t.exports=e.default})(XE,XE.exports);var Z5=XE.exports;Object.defineProperty(ts,"__esModule",{value:!0});ts.resetState=Uae;ts.log=jae;ts.handleBlur=qf;ts.handleFocus=Hf;ts.markForFocusLater=Bae;ts.returnFocus=zae;ts.popWithoutFocus=qae;ts.setupScopedFocus=Hae;ts.teardownScopedFocus=Wae;var Fae=Z5,Lae=Vae(Fae);function Vae(t){return t&&t.__esModule?t:{default:t}}var Uc=[],Gl=null,JE=!1;function Uae(){Uc=[]}function jae(){}function qf(){JE=!0}function Hf(){if(JE){if(JE=!1,!Gl)return;setTimeout(function(){if(!Gl.contains(document.activeElement)){var t=(0,Lae.default)(Gl)[0]||Gl;t.focus()}},0)}}function Bae(){Uc.push(document.activeElement)}function zae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Uc.length!==0&&(e=Uc.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function qae(){Uc.length>0&&Uc.pop()}function Hae(t){Gl=t,window.addEventListener?(window.addEventListener("blur",qf,!1),document.addEventListener("focus",Hf,!0)):(window.attachEvent("onBlur",qf),document.attachEvent("onFocus",Hf))}function Wae(){Gl=null,window.addEventListener?(window.removeEventListener("blur",qf),document.removeEventListener("focus",Hf)):(window.detachEvent("onBlur",qf),document.detachEvent("onFocus",Hf))}var ZE={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=Z5,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,r.default)(a);if(!l.length){u.preventDefault();return}var c=void 0,d=u.shiftKey,h=l[0],p=l[l.length-1],v=s();if(a===v){if(!d)return;c=p}if(p===v&&!d&&(c=h),h===v&&d&&(c=p),c){u.preventDefault(),c.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),g=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(g){var m=l.indexOf(v);if(m>-1&&(m+=d?-1:1),c=l[m],typeof c>"u"){u.preventDefault(),c=d?p:h,c.focus();return}u.preventDefault(),c.focus()}}t.exports=e.default})(ZE,ZE.exports);var Gae=ZE.exports,ns={},Wi={},eU={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(eU);var Kae=eU.exports;Object.defineProperty(Wi,"__esModule",{value:!0});Wi.canUseDOM=Wi.SafeNodeList=Wi.SafeHTMLCollection=void 0;var Qae=Kae,Yae=Xae(Qae);function Xae(t){return t&&t.__esModule?t:{default:t}}var E_=Yae.default,Jae=E_.canUseDOM?window.HTMLElement:{};Wi.SafeHTMLCollection=E_.canUseDOM?window.HTMLCollection:{};Wi.SafeNodeList=E_.canUseDOM?window.NodeList:{};Wi.canUseDOM=E_.canUseDOM;Wi.default=Jae;Object.defineProperty(ns,"__esModule",{value:!0});ns.resetState=rue;ns.log=iue;ns.assertNodeList=tU;ns.setElement=sue;ns.validateElement=AA;ns.hide=oue;ns.show=aue;ns.documentNotReadyOrSSRTesting=uue;var Zae=q5,eue=nue(Zae),tue=Wi;function nue(t){return t&&t.__esModule?t:{default:t}}var vi=null;function rue(){vi&&(vi.removeAttribute?vi.removeAttribute("aria-hidden"):vi.length!=null?vi.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(vi).forEach(function(t){return t.removeAttribute("aria-hidden")})),vi=null}function iue(){}function tU(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function sue(t){var e=t;if(typeof e=="string"&&tue.canUseDOM){var n=document.querySelectorAll(e);tU(n,e),e=n}return vi=e||vi,vi}function AA(t){var e=t||vi;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,eue.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function oue(t){var e=!0,n=!1,r=void 0;try{for(var i=AA(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function aue(t){var e=!0,n=!1,r=void 0;try{for(var i=AA(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function uue(){vi=null}var hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.resetState=lue;hd.log=cue;var Uh={},jh={};function tx(t,e){t.classList.remove(e)}function lue(){var t=document.getElementsByTagName("html")[0];for(var e in Uh)tx(t,Uh[e]);var n=document.body;for(var r in jh)tx(n,jh[r]);Uh={},jh={}}function cue(){}var due=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},hue=function(e,n){return e[n]&&(e[n]-=1),n},fue=function(e,n,r){r.forEach(function(i){due(n,i),e.add(i)})},pue=function(e,n,r){r.forEach(function(i){hue(n,i),n[i]===0&&e.remove(i)})};hd.add=function(e,n){return fue(e.classList,e.nodeName.toLowerCase()=="html"?Uh:jh,n.split(" "))};hd.remove=function(e,n){return pue(e.classList,e.nodeName.toLowerCase()=="html"?Uh:jh,n.split(" "))};var fd={};Object.defineProperty(fd,"__esModule",{value:!0});fd.log=gue;fd.resetState=vue;function mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var nU=function t(){var e=this;mue(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},py=new nU;function gue(){console.log("portalOpenInstances ----------"),console.log(py.openInstances.length),py.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function vue(){py=new nU}fd.default=py;var PA={};Object.defineProperty(PA,"__esModule",{value:!0});PA.resetState=bue;PA.log=Eue;var yue=fd,_ue=wue(yue);function wue(t){return t&&t.__esModule?t:{default:t}}var rr=void 0,Li=void 0,Cu=[];function bue(){for(var t=[rr,Li],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}rr=Li=null,Cu=[]}function Eue(){console.log("bodyTrap ----------"),console.log(Cu.length);for(var t=[rr,Li],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function nx(){Cu.length!==0&&Cu[Cu.length-1].focusContent()}function Tue(t,e){!rr&&!Li&&(rr=document.createElement("div"),rr.setAttribute("data-react-modal-body-trap",""),rr.style.position="absolute",rr.style.opacity="0",rr.setAttribute("tabindex","0"),rr.addEventListener("focus",nx),Li=rr.cloneNode(),Li.addEventListener("focus",nx)),Cu=e,Cu.length>0?(document.body.firstChild!==rr&&document.body.insertBefore(rr,document.body.firstChild),document.body.lastChild!==Li&&document.body.appendChild(Li)):(rr.parentElement&&rr.parentElement.removeChild(rr),Li.parentElement&&Li.parentElement.removeChild(Li))}_ue.default.subscribe(Tue);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(L){for(var q=1;q<arguments.length;q++){var K=arguments[q];for(var O in K)Object.prototype.hasOwnProperty.call(K,O)&&(L[O]=K[O])}return L},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},i=function(){function L(q,K){for(var O=0;O<K.length;O++){var V=K[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(q,V.key,V)}}return function(q,K,O){return K&&L(q.prototype,K),O&&L(q,O),q}}(),s=S,o=jy,a=E(o),u=ts,l=w(u),c=Gae,d=E(c),h=ns,p=w(h),v=hd,y=w(v),g=Wi,m=E(g),_=fd,b=E(_);function w(L){if(L&&L.__esModule)return L;var q={};if(L!=null)for(var K in L)Object.prototype.hasOwnProperty.call(L,K)&&(q[K]=L[K]);return q.default=L,q}function E(L){return L&&L.__esModule?L:{default:L}}function A(L,q){if(!(L instanceof q))throw new TypeError("Cannot call a class as a function")}function R(L,q){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:L}function x(L,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(L,q):L.__proto__=q)}var G={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},J=9,oe=27,se=0,_e=function(L){x(q,L);function q(K){A(this,q);var O=R(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K));return O.setOverlayRef=function(V){O.overlay=V,O.props.overlayRef&&O.props.overlayRef(V)},O.setContentRef=function(V){O.content=V,O.props.contentRef&&O.props.contentRef(V)},O.afterClose=function(){var V=O.props,Y=V.appElement,F=V.ariaHideApp,j=V.htmlOpenClassName,$=V.bodyOpenClassName;$&&y.remove(document.body,$),j&&y.remove(document.getElementsByTagName("html")[0],j),F&&se>0&&(se-=1,se===0&&p.show(Y)),O.props.shouldFocusAfterRender&&(O.props.shouldReturnFocusAfterClose?(l.returnFocus(O.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),O.props.onAfterClose&&O.props.onAfterClose(),b.default.deregister(O)},O.open=function(){O.beforeOpen(),O.state.afterOpen&&O.state.beforeClose?(clearTimeout(O.closeTimer),O.setState({beforeClose:!1})):(O.props.shouldFocusAfterRender&&(l.setupScopedFocus(O.node),l.markForFocusLater()),O.setState({isOpen:!0},function(){O.openAnimationFrame=requestAnimationFrame(function(){O.setState({afterOpen:!0}),O.props.isOpen&&O.props.onAfterOpen&&O.props.onAfterOpen({overlayEl:O.overlay,contentEl:O.content})})}))},O.close=function(){O.props.closeTimeoutMS>0?O.closeWithTimeout():O.closeWithoutTimeout()},O.focusContent=function(){return O.content&&!O.contentHasFocus()&&O.content.focus({preventScroll:!0})},O.closeWithTimeout=function(){var V=Date.now()+O.props.closeTimeoutMS;O.setState({beforeClose:!0,closesAt:V},function(){O.closeTimer=setTimeout(O.closeWithoutTimeout,O.state.closesAt-Date.now())})},O.closeWithoutTimeout=function(){O.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},O.afterClose)},O.handleKeyDown=function(V){V.keyCode===J&&(0,d.default)(O.content,V),O.props.shouldCloseOnEsc&&V.keyCode===oe&&(V.stopPropagation(),O.requestClose(V))},O.handleOverlayOnClick=function(V){O.shouldClose===null&&(O.shouldClose=!0),O.shouldClose&&O.props.shouldCloseOnOverlayClick&&(O.ownerHandlesClose()?O.requestClose(V):O.focusContent()),O.shouldClose=null},O.handleContentOnMouseUp=function(){O.shouldClose=!1},O.handleOverlayOnMouseDown=function(V){!O.props.shouldCloseOnOverlayClick&&V.target==O.overlay&&V.preventDefault()},O.handleContentOnClick=function(){O.shouldClose=!1},O.handleContentOnMouseDown=function(){O.shouldClose=!1},O.requestClose=function(V){return O.ownerHandlesClose()&&O.props.onRequestClose(V)},O.ownerHandlesClose=function(){return O.props.onRequestClose},O.shouldBeClosed=function(){return!O.state.isOpen&&!O.state.beforeClose},O.contentHasFocus=function(){return document.activeElement===O.content||O.content.contains(document.activeElement)},O.buildClassName=function(V,Y){var F=(typeof Y>"u"?"undefined":r(Y))==="object"?Y:{base:G[V],afterOpen:G[V]+"--after-open",beforeClose:G[V]+"--before-close"},j=F.base;return O.state.afterOpen&&(j=j+" "+F.afterOpen),O.state.beforeClose&&(j=j+" "+F.beforeClose),typeof Y=="string"&&Y?j+" "+Y:j},O.attributesFromObject=function(V,Y){return Object.keys(Y).reduce(function(F,j){return F[V+"-"+j]=Y[j],F},{})},O.state={afterOpen:!1,beforeClose:!1},O.shouldClose=null,O.moveFromContentToOverlay=null,O}return i(q,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(O,V){this.props.isOpen&&!O.isOpen?this.open():!this.props.isOpen&&O.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!V.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var O=this.props,V=O.appElement,Y=O.ariaHideApp,F=O.htmlOpenClassName,j=O.bodyOpenClassName;j&&y.add(document.body,j),F&&y.add(document.getElementsByTagName("html")[0],F),Y&&(se+=1,p.hide(V)),b.default.register(this)}},{key:"render",value:function(){var O=this.props,V=O.id,Y=O.className,F=O.overlayClassName,j=O.defaultStyles,$=O.children,H=Y?{}:j.content,B=F?{}:j.overlay;if(this.shouldBeClosed())return null;var T={ref:this.setOverlayRef,className:this.buildClassName("overlay",F),style:n({},B,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},D=n({id:V,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",Y),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),de=this.props.contentElement(D,$);return this.props.overlayElement(T,de)}}]),q}(s.Component);_e.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_e.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(g.SafeHTMLCollection),a.default.instanceOf(g.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=_e,t.exports=e.default})(YE,YE.exports);var Sue=YE.exports;function rU(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function iU(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function sU(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}rU.__suppressDeprecationWarning=!0;iU.__suppressDeprecationWarning=!0;sU.__suppressDeprecationWarning=!0;function Iue(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=rU,e.componentWillReceiveProps=iU),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=sU;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,l,c,h)}}return t}const Cue=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Iue},Symbol.toStringTag,{value:"Module"})),Aue=BD(Cue);Object.defineProperty(Hu,"__esModule",{value:!0});Hu.bodyOpenClassName=Hu.portalClassName=void 0;var rx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oU=S,my=Kp(oU),Rue=Kc,gy=Kp(Rue),kue=jy,He=Kp(kue),Oue=Sue,ix=Kp(Oue),xue=ns,Nue=$ue(xue),Go=Wi,sx=Kp(Go),Due=Aue;function $ue(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Kp(t){return t&&t.__esModule?t:{default:t}}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lue=Hu.portalClassName="ReactModalPortal",Vue=Hu.bodyOpenClassName="ReactModal__Body--open",Ja=Go.canUseDOM&&gy.default.createPortal!==void 0,ax=function(e){return document.createElement(e)},ux=function(){return Ja?gy.default.createPortal:gy.default.unstable_renderSubtreeIntoContainer};function og(t){return t()}var Qp=function(t){Fue(e,t);function e(){var n,r,i,s;Mue(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(r=(i=ox(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ja&&gy.default.unmountComponentAtNode(i.node);var l=og(i.props.parentSelector);l&&l.contains(i.node)?l.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(l){i.portal=l},i.renderPortal=function(l){var c=ux(),d=c(i,my.default.createElement(ix.default,rx({defaultStyles:e.defaultStyles},l)),i.node);i.portalRef(d)},r),ox(i,s)}return Pue(e,[{key:"componentDidMount",value:function(){if(Go.canUseDOM){Ja||(this.node=ax("div")),this.node.className=this.props.portalClassName;var r=og(this.props.parentSelector);r.appendChild(this.node),!Ja&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=og(r.parentSelector),s=og(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(Go.canUseDOM){var o=this.props,a=o.isOpen,u=o.portalClassName;r.portalClassName!==u&&(this.node.className=u);var l=s.prevParent,c=s.nextParent;c!==l&&(l.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ja&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Go.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Go.canUseDOM||!Ja)return null;!this.node&&Ja&&(this.node=ax("div"));var r=ux();return r(my.default.createElement(ix.default,rx({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Nue.setElement(r)}}]),e}(oU.Component);Qp.propTypes={isOpen:He.default.bool.isRequired,style:He.default.shape({content:He.default.object,overlay:He.default.object}),portalClassName:He.default.string,bodyOpenClassName:He.default.string,htmlOpenClassName:He.default.string,className:He.default.oneOfType([He.default.string,He.default.shape({base:He.default.string.isRequired,afterOpen:He.default.string.isRequired,beforeClose:He.default.string.isRequired})]),overlayClassName:He.default.oneOfType([He.default.string,He.default.shape({base:He.default.string.isRequired,afterOpen:He.default.string.isRequired,beforeClose:He.default.string.isRequired})]),appElement:He.default.oneOfType([He.default.instanceOf(sx.default),He.default.instanceOf(Go.SafeHTMLCollection),He.default.instanceOf(Go.SafeNodeList),He.default.arrayOf(He.default.instanceOf(sx.default))]),onAfterOpen:He.default.func,onRequestClose:He.default.func,closeTimeoutMS:He.default.number,ariaHideApp:He.default.bool,shouldFocusAfterRender:He.default.bool,shouldCloseOnOverlayClick:He.default.bool,shouldReturnFocusAfterClose:He.default.bool,preventScroll:He.default.bool,parentSelector:He.default.func,aria:He.default.object,data:He.default.object,role:He.default.string,contentLabel:He.default.string,shouldCloseOnEsc:He.default.bool,overlayRef:He.default.func,contentRef:He.default.func,id:He.default.string,overlayElement:He.default.func,contentElement:He.default.func};Qp.defaultProps={isOpen:!1,portalClassName:Lue,bodyOpenClassName:Vue,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return my.default.createElement("div",e,n)},contentElement:function(e,n){return my.default.createElement("div",e,n)}};Qp.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Due.polyfill)(Qp);Hu.default=Qp;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Hu,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(QE,QE.exports);var Uue=QE.exports;const lx=Rn(Uue),Yp=({isOpen:t,onRequestClose:e,afterOpenModal:n,overrideStyle:r,children:i})=>{const s={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",position:"fixed",padding:"50px 20px",transition:"all .5s ease",zIndex:9999,marginRight:"-50%",transform:"translate(-50%, -50%)",boxShadow:"0 5px 10px rgba(0, 0, 0, .1)",animation:"scale .3s ease",...r}};return lx.setAppElement("#app"),f(lx,{closeTimeoutMS:300,contentLabel:"Product Modal",isOpen:t,onAfterOpen:n,onRequestClose:e,shouldCloseOnOverlayClick:!0,style:s,children:i})};Yp.defaultProps={overrideStyle:{},afterOpenModal:()=>{}};Yp.propTypes={isOpen:I.bool.isRequired,onRequestClose:I.func.isRequired,afterOpenModal:I.func,overrideStyle:I.object,children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};const T_=({children:t})=>{const{isOpenModal:e,onOpenModal:n,onCloseModal:r}=wA(),i=Xe(a=>a.darkMode),o=Object.values(i)[0];return k(_n,{children:[f("div",{style:o?{backgroundColor:"black",color:"black"}:{},className:"filters-toggle",onClick:n,role:"presentation",children:t}),k(Yp,{isOpen:e,onRequestClose:r,children:[f("div",{className:"filters-toggle-sub",style:o?{backgroundColor:"gray",color:"gray",width:"100%"}:{},children:f(Mae,{closeModal:r})}),f("button",{className:"modal-close-button",onClick:r,type:"button",children:f("i",{className:"fa fa-times-circle"})})]})]})};T_.propTypes={children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};const jue=()=>{const{pathname:t}=g0(),e=Xe(s=>s.darkMode),r=Object.values(e)[0];return[My,mc].includes(t)?k("footer",{className:`footer ${r?"dark-mode":""}`,children:[k("div",{className:`footer-col-2 ${r?"dark-mode":""}`,children:[f("img",{alt:"Footer logo",className:`footer-logo ${r?"dark-mode":""}`,style:r?{backgroundColor:"gray",borderRadius:"50em",width:"300px",height:"300px"}:{},src:BT}),k("h5",{children:["",new Date().getFullYear()]})]}),f("div",{className:`footer-col-3 ${r?"dark-mode":""}`,children:f("strong",{children:k("span",{children:["Fork this project on GitHub ",f("a",{href:"https://github.com/Augusto-AI/PF-HENRY-E-commerce",children:"HERE"})]})})})]}):null},Ni=({src:t,alt:e,className:n})=>{const r={},[i,s]=S.useState(r[t]),o=()=>{r[t]=!0,s(!0)};return k(_n,{children:[!i&&f(hr,{style:{position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto"}}),f("img",{alt:e||"",className:`${n||""} ${i?"is-img-loaded":"is-img-loading"}`,onLoad:o,src:t})]})};Ni.defaultProps={className:"image-loader"};Ni.propTypes={src:I.string.isRequired,alt:I.string,className:I.string};const Zi=({message:t,description:e,buttonLabel:n,action:r})=>k("div",{className:"loader",children:[f("h2",{className:"text-center",style:{wordBreak:"break-all"},children:t||"Message"}),e&&f("span",{children:e}),f("br",{}),r&&f("button",{className:"button button-small",onClick:r,type:"button",children:n||"Okay"})]});Zi.defaultProps={description:void 0,buttonLabel:"Okay",action:void 0};Zi.propTypes={message:I.string.isRequired,description:I.string,buttonLabel:I.string,action:I.func};const Bue=()=>{const{isOpenModal:t,onOpenModal:e,onCloseModal:n}=wA(),{basket:r,user:i}=Xe(y=>({basket:y.basket,user:y.auth})),s=ci(),{pathname:o}=g0(),a=zt(),u=Xu(),l=Xe(y=>y.darkMode),d=Object.values(l)[0];S.useEffect(()=>{u&&qt.auth.currentUser&&r.length!==0&&qt.saveBasketItems(r,qt.auth.currentUser.uid).then(()=>{console.log("Item saved to basket")}).catch(y=>{console.log(y)})},[r.length]);const h=()=>{r.length!==0&&i?(document.body.classList.remove("is-basket-open"),s.push(gc)):e()},p=()=>{n(),document.body.classList.remove("basket-open"),s.push(gc)},v=()=>{r.length!==0&&a(NL())};return i&&i.role==="ADMIN"?null:k(Yu,{children:[k(Yp,{isOpen:t,onRequestClose:n,children:[f("p",{className:"text-center",children:"You must log in to continue paying"}),f("br",{}),k("div",{className:"d-flex-center",children:[f("button",{className:"button button-border button-border-gray button-small",onClick:n,type:"button",children:"Keep buying"}),"",f("button",{className:"button button-small",onClick:p,type:"button",children:"Sign in to for pay"})]})]}),k("div",{className:`basket ${d?"dark-mode":""}`,children:[k("div",{className:`basket-list ${d?"dark-mode":""}`,children:[k("div",{className:`basket-header ${d?"dark-mode":""}`,children:[k("h3",{className:"basket-header-title",children:["My Basket ",k("span",{children:["(",` ${r.length} ${r.length>1?"items":"item"}`,")"]})]}),f(I_,{children:({onClickToggle:y})=>f("span",{className:"basket-toggle button button-border button-border-gray button-small",onClick:y,role:"presentation",style:d?{backgroundColor:"black"}:{},children:"Close"})}),f("button",{className:"basket-clear button button-border button-border-gray button-small",disabled:r.length===0,onClick:v,type:"button",style:d?{backgroundColor:"black"}:{},children:f("span",{children:"Empty Basket"})})]}),r.length<=0&&f("div",{className:"basket-empty",style:d?{backgroundColor:"black",color:"white"}:{},children:f("h5",{className:"basket-empty-msg",style:d?{backgroundColor:"black",color:"white"}:{},children:"Su canasta est vacia"})}),r.map((y,g)=>f(S_,{product:y,basket:r,dispatch:a},`${y.id}_${g}`))]}),k("div",{className:`basket-checkout ${d?"dark-mode":""}`,children:[k("div",{className:"basket-total",children:[f("p",{className:"basket-total-title",children:"Subtotal :"}),f("h2",{className:"basket-total-amount",children:oo(OL(r.map(y=>y.price*y.quantity)))})]}),f("button",{className:"basket-checkout-button button",disabled:r.length===0||o==="/checkout",onClick:h,type:"button",children:"Finish"})]})]})]})},S_=({product:t})=>{const e=zt(),n=()=>e(xL(t.id)),r=Xe(o=>o.darkMode),s=Object.values(r)[0];return k("div",{className:`basket-item ${s?"dark-mode":""}`,children:[f(aU,{product:t}),k("div",{className:"basket-item-wrapper",style:s?{backgroundColor:"black"}:{},children:[f("div",{className:"basket-item-img-wrapper",style:s?{backgroundColor:"black",borderRadius:"2em"}:{},children:f(Ni,{style:s?{backgroundColor:"black",borderRadius:"2em"}:{},alt:t.name,className:"basket-item-img",src:t.image})}),k("div",{className:"basket-item-details",children:[f(Sr,{to:`/product/${t.id}`,onClick:()=>document.body.classList.remove("is-basket-open"),children:f("h4",{className:"underline basket-item-name",children:t.name})}),k("div",{className:"basket-item-specs",children:[k("div",{children:[f("span",{className:"spec-title",children:"Quantity"}),f("h5",{className:"my-0",children:t.quantity})]}),k("div",{children:[f("span",{className:"spec-title",children:"Size"}),k("h5",{className:"my-0",children:[t.selectedSize," mm"]})]}),k("div",{children:[f("span",{className:"spec-title",children:"Color"}),f("div",{style:{backgroundColor:t.selectedColor||t.availableColors[0],width:"15px",height:"15px",borderRadius:"50%"}})]})]})]}),f("div",{className:"basket-item-price",children:f("h4",{className:"my-0",children:oo(t.price*t.quantity)})}),f("button",{className:"basket-item-remove button button-border button-border-gray button-small",onClick:n,type:"button",children:f(WF,{})})]})]})};S_.propTypes={product:I.shape({id:I.string,name:I.string,brand:I.string,price:I.number,quantity:I.number,maxQuantity:I.number,description:I.string,keywords:I.arrayOf(I.string),selectedSize:I.string,selectedColor:I.string,imageCollection:I.arrayOf(I.string),sizes:I.arrayOf(I.number),image:I.string,imageUrl:I.string,isFeatured:I.bool,isRecommended:I.bool,availableColors:I.arrayOf(I.string)}).isRequired};const aU=({product:t})=>{const e=zt(),n=Xe(a=>a.darkMode),i=Object.values(n)[0],s=()=>{t.quantity<t.maxQuantity&&e(EK(t.id))},o=()=>{t.maxQuantity>=t.quantity&&t.quantity!==0&&e(TK(t.id))};return k("div",{className:`basket-item-control ${i?"dark-mode":""}`,children:[f("button",{className:"button button-border button-border-gray button-small basket-control basket-control-add",disabled:t.maxQuantity===t.quantity,onClick:s,type:"button",children:f(KF,{style:{fontSize:"9px"}})}),f("button",{className:"button button-border button-border-gray button-small basket-control basket-control-minus",disabled:t.quantity===1,onClick:o,type:"button",children:f($G,{style:{fontSize:"9px"}})})]})};aU.propTypes={product:I.shape({id:I.string,name:I.string,brand:I.string,price:I.number,quantity:I.number,maxQuantity:I.number,description:I.string,keywords:I.arrayOf(I.string),selectedSize:I.string,selectedColor:I.string,imageCollection:I.arrayOf(I.string),sizes:I.arrayOf(I.number),image:I.string,imageUrl:I.string,isFeatured:I.bool,isRecommended:I.bool,availableColors:I.arrayOf(I.string)}).isRequired};const I_=({children:t})=>{const e=()=>{document.body.classList.contains("is-basket-open")?document.body.classList.remove("is-basket-open"):document.body.classList.add("is-basket-open")};return document.addEventListener("click",n=>{const r=n.target.closest(".basket"),i=n.target.closest(".basket-toggle"),s=n.target.closest(".basket-item-remove");!r&&document.body.classList.contains("is-basket-open")&&!i&&!s&&document.body.classList.remove("is-basket-open")}),t({onClickToggle:e})};I_.propTypes={children:I.oneOfType([I.arrayOf(I.node),I.func,I.node]).isRequired};const RA=()=>{const[t,e]=S.useState(""),{filter:n,isLoading:r}=Xe(m=>({filter:m.filter,isLoading:m.app.loading})),i=S.useRef(null),s=ci(),o=zt(),a=window.screen.width<=800,u=m=>{const _=m.target.value.trimStart();e(_)},l=Xe(m=>m.darkMode),d=Object.values(l)[0],h=m=>{m.keyCode===13&&(m.target.blur(),i.current.classList.remove("is-open-recent-search"),a&&s.push("/"),s.push(`/search/${t.trim().toLowerCase()}`))},p=m=>{m.target.closest(".searchbar")||(i.current.classList.remove("is-open-recent-search"),document.removeEventListener("click",p))},v=m=>{m.target.select(),n.recent.length!==0&&(i.current.classList.add("is-open-recent-search"),document.addEventListener("click",p))},y=m=>{i.current.classList.remove("is-open-recent-search"),s.push(`/search/${m.trim().toLowerCase()}`)},g=()=>{o(oae())};return f(_n,{children:k("div",{className:"searchbar",ref:i,style:d?{backgroundColor:"black"}:{},children:[f(BG,{className:"searchbar-icon",style:{backgroundColor:d?"black":"white",marginTop:"0px",borderTop:"1px solid white",borderBottom:"1px solid white"}}),f("input",{style:d?{backgroundColor:"black",color:"white"}:{},className:"search-input searchbar-input",onChange:u,onKeyUp:h,onFocus:v,placeholder:"Search product...",readOnly:r,type:"text",value:t}),n.recent.length!==0&&k("div",{className:"searchbar-recent",children:[k("div",{className:"searchbar-recent-header",children:[f("h5",{children:"Recent Search"}),f("h5",{className:"searchbar-recent-clear text-subtle",onClick:g,role:"presentation",children:"Clear"})]}),n.recent.map((m,_)=>k("div",{className:"searchbar-recent-wrapper",children:[f("h5",{className:"searchbar-recent-keyword margin-0",onClick:()=>y(m),role:"presentation",children:m}),f("span",{className:"searchbar-recent-button text-subtle",onClick:()=>o(aae(m)),role:"presentation",children:"X"})]},`search-${m}-${_}`))]})]})})},uU=t=>{const{isAuthenticating:e,basketLength:n,disabledPaths:r,user:i}=t,{pathname:s}=g0(),o=a=>{e&&a.preventDefault()};return k("nav",{className:"mobile-navigation",children:[k("div",{className:"mobile-navigation-main",children:[f("div",{className:"mobile-navigation-logo",children:f(Sr,{onClick:o,to:My,children:f("h2",{children:"PF HENRY"})})}),f(I_,{children:({onClickToggle:a})=>f("button",{className:"button-link navigation-menu-link basket-toggle",onClick:a,disabled:r.includes(s),type:"button",children:f(_I,{count:n,children:f("i",{className:"fa fa-shopping-bag",style:{fontSize:"2rem"}})})})}),f("ul",{className:"mobile-navigation-menu",children:i?f("li",{className:"mobile-navigation-item",children:f(yI,{})}):f(_n,{children:s!==zi&&f("li",{className:"mobile-navigation-item",children:f(Sr,{className:"navigation-menu-link",onClick:o,to:zi,children:"Sign In"})})})})]}),k("div",{className:"mobile-navigation-sec",children:[f(RA,{}),f(T_,{children:f("button",{className:"button-link button-small",type:"button",children:f("i",{className:"fa fa-filter"})})})]})]})};uU.propTypes={isAuthenticating:I.bool.isRequired,basketLength:I.number.isRequired,disabledPaths:I.arrayOf(I.string).isRequired,user:I.oneOfType([I.bool,I.object]).isRequired};const lU=()=>({type:tL}),zue=()=>{const t=zt();Xe(i=>i.darkMode);const[e,n]=S.useState(!1),r=()=>{t(lU()),n(!e)};return console.log(n),f("div",{className:"appBenzer",children:f("div",{onClick:r,className:"toggle",children:e?f("div",{className:"toggle_left"}):f("div",{className:"toggle_right"})})})},que=()=>{const t=S.useRef(null),{pathname:e}=g0(),n=Xe(l=>({basketLength:l.basket.length,user:l.auth,isAuthenticating:l.app.isAuthenticating,isLoading:l.app.loading})),r=Xe(l=>l.darkMode),s=Object.values(r)[0];console.log(s);const o=()=>{t.current&&window.screen.width>480&&(window.pageYOffset>=70?t.current.classList.add("is-nav-scrolled"):t.current.classList.remove("is-nav-scrolled"))};S.useEffect(()=>(window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)),[]);const a=l=>{n.isAuthenticating&&l.preventDefault()},u=[gc,jT,Uy,UT,zi,Yl,VT,Kw];return n.user&&n.user.role==="ADMIN"?null:window.screen.width<=800?f(uU,{...n,disabledPaths:u,pathname:e}):k("nav",{className:`navigation ${s?"dark-mode":""}`,ref:t,children:[f(zue,{}),f("div",{className:"logo",children:f(Sr,{style:s?{backgroundColor:"gray",borderRadius:"50em",width:"300px",height:"80px"}:{},onClick:a,to:"/",children:f("img",{alt:"Logo",src:BT})})}),k("ul",{className:`navigation-menu-main ${s?"dark-mode":""}`,children:[f("li",{children:f(js,{activeClassName:`navigation-menu-active ${s?"dark-mode":""}`,exact:!0,to:My,children:"Home"})}),f("li",{children:f(js,{activeClassName:`navigation-menu-active ${s?"dark-mode":""}`,to:mc,children:"Shop"})}),f("li",{children:f(js,{activeClassName:`navigation-menu-active ${s?"dark-mode":""}`,to:FT,children:"Featured"})}),f("li",{children:f(js,{activeClassName:`navigation-menu-active ${s?"dark-mode":""}`,to:Fy,children:"Recommended"})}),f("li",{children:f(js,{activeClassName:`navigation-menu-active ${s?"dark-mode":""}`,to:Kw,children:"About Us"})}),(e===mc||e===jD)&&f(T_,{children:k("button",{className:`button-muted button-small ${s?"dark-mode":""}`,style:{marginLeft:"12em"},type:"button",children:["Filters ",f(GF,{})]})})]}),f("div",{className:` ${s?"dark-mode":""}`,children:f(RA,{})}),k("ul",{className:"navigation-menu",children:[f("li",{className:`navigation-menu-item ${s?"dark-mode":""}`,children:f(I_,{children:({onClickToggle:l})=>f("button",{className:`button-link navigation-menu-link basket-toggle ${s?"dark-mode":""}`,disabled:u.includes(e),onClick:l,type:"button",children:f(_I,{count:n.basketLength,children:f(YG,{style:{fontSize:"2.4rem"}})})})})}),n.user?f("li",{className:"navigation-menu-itemdark-mode",children:f(yI,{})}):k("li",{className:`navigation-action ${s?"dark-mode":""}`,children:[e!==Yl&&f(Sr,{className:`button button-small ${s?"dark-mode":""}`,onClick:a,to:Yl,children:"Sign Up"}),e!==zi&&f(Sr,{className:`button button-small button-muted margin-left-s ${s?"dark-mode":""}`,onClick:a,to:zi,children:"Sign In"})]})]})]})},Hue="/assets/logo-wordmark-3667bc1d.png",cU=()=>k("div",{className:"preloader",children:[k("svg",{className:"logo-symbol",viewBox:"0 0 41.25 41.25",children:[f("circle",{cx:"20.62",cy:"20.62",r:"20.62"}),f("circle",{className:"fill-white",cx:"29.97",cy:"14.93",r:"6.58"})]}),f("img",{alt:"Henry logo wordmark",src:Hue})]}),kA=({isLoading:t})=>{const e=zt();return k("div",{className:"auth-provider",children:[k("button",{className:"button auth-provider-button provider-facebook",disabled:t,onClick:()=>{e(hK())},type:"button",children:[f(vG,{}),"Continue with Facebook"]}),k("button",{className:"button auth-provider-button provider-google",disabled:t,onClick:()=>{e(dK())},type:"button",children:[f(SG,{}),"Continue with Google"]})]})};kA.propTypes={isLoading:I.bool.isRequired};function ir(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var cx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ew=function(){return Math.random().toString(36).substring(7).split("").join(".")},vy={INIT:"@@redux/INIT"+Ew(),REPLACE:"@@redux/REPLACE"+Ew(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ew()}};function Wue(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function OA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(OA)(t,e)}if(typeof t!="function")throw new Error(ir(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ir(3));return s}function d(y){if(typeof y!="function")throw new Error(ir(4));if(u)throw new Error(ir(5));var g=!0;return l(),a.push(y),function(){if(g){if(u)throw new Error(ir(6));g=!1,l();var _=a.indexOf(y);a.splice(_,1),o=null}}}function h(y){if(!Wue(y))throw new Error(ir(7));if(typeof y.type>"u")throw new Error(ir(8));if(u)throw new Error(ir(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var g=o=a,m=0;m<g.length;m++){var _=g[m];_()}return y}function p(y){if(typeof y!="function")throw new Error(ir(10));i=y,h({type:vy.REPLACE})}function v(){var y,g=d;return y={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(ir(11));function b(){_.next&&_.next(c())}b();var w=g(b);return{unsubscribe:w}}},y[cx]=function(){return this},y}return h({type:vy.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:p},r[cx]=v,r}function Gue(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:vy.INIT});if(typeof r>"u")throw new Error(ir(12));if(typeof n(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function Kue(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Gue(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var p=s[h],v=n[p],y=u[p],g=v(y,l);if(typeof g>"u")throw l&&l.type,new Error(ir(14));d[p]=g,c=c||g!==y}return c=c||s.length!==Object.keys(u).length,c?d:u}}function xA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Que(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ir(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=xA.apply(void 0,a)(i.dispatch),ys(ys({},i),{},{dispatch:s})}}}var NA="persist:",dU="persist/FLUSH",DA="persist/REHYDRATE",hU="persist/PAUSE",fU="persist/PERSIST",pU="persist/PURGE",mU="persist/REGISTER",Yue=-1;function Gg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gg=function(n){return typeof n}:Gg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gg(t)}function dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dx(n,!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dx(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t,e,n,r){r.debug;var i=Xue({},n);return t&&Gg(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function ele(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:NA).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(E){return E}:typeof t.serialize=="function"?a=t.serialize:a=tle;var u=t.writeFailHandler||null,l={},c={},d=[],h=null,p=null,v=function(E){Object.keys(E).forEach(function(A){m(A)&&l[A]!==E[A]&&d.indexOf(A)===-1&&d.push(A)}),Object.keys(l).forEach(function(A){E[A]===void 0&&m(A)&&d.indexOf(A)===-1&&l[A]!==void 0&&d.push(A)}),h===null&&(h=setInterval(y,i)),l=E};function y(){if(d.length===0){h&&clearInterval(h),h=null;return}var w=d.shift(),E=r.reduce(function(A,R){return R.in(A,w,l)},l[w]);if(E!==void 0)try{c[w]=a(E)}catch(A){console.error("redux-persist/createPersistoid: error serializing state",A)}else delete c[w];d.length===0&&g()}function g(){Object.keys(c).forEach(function(w){l[w]===void 0&&delete c[w]}),p=o.setItem(s,a(c)).catch(_)}function m(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function _(w){u&&u(w)}var b=function(){for(;d.length!==0;)y();return p||Promise.resolve()};return{update:v,flush:b}}function tle(t){return JSON.stringify(t)}function nle(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:NA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=rle,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(u){o[u]=e.reduceRight(function(l,c){return c.out(l,u,a)},i(a[u]))}),o}catch(u){throw u}else return})}function rle(t){return JSON.parse(t)}function ile(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:NA).concat(t.key);return e.removeItem(n,sle)}function sle(t){}function hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hx(n,!0).forEach(function(r){ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hx(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ole(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t,e){if(t==null)return{};var n=ule(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ule(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lle=5e3;function cle(t,e){var n=t.version!==void 0?t.version:Yue;t.debug;var r=t.stateReconciler===void 0?Zue:t.stateReconciler,i=t.getStoredState||nle,s=t.timeout!==void 0?t.timeout:lle,o=null,a=!1,u=!0,l=function(d){return d._persist.rehydrated&&o&&!u&&o.update(d),d};return function(c,d){var h=c||{},p=h._persist,v=ale(h,["_persist"]),y=v;if(d.type===fU){var g=!1,m=function(x,G){g||(d.rehydrate(t.key,x,G),g=!0)};if(s&&setTimeout(function(){!g&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),u=!1,o||(o=ele(t)),p)return Ls({},e(y,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(R){var x=t.migrate||function(G,J){return Promise.resolve(G)};x(R,n).then(function(G){m(G)},function(G){m(void 0,G)})},function(R){m(void 0,R)}),Ls({},e(y,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===pU)return a=!0,d.result(ile(t)),Ls({},e(y,d),{_persist:p});if(d.type===dU)return d.result(o&&o.flush()),Ls({},e(y,d),{_persist:p});if(d.type===hU)u=!0;else if(d.type===DA){if(a)return Ls({},y,{_persist:Ls({},p,{rehydrated:!0})});if(d.key===t.key){var _=e(y,d),b=d.payload,w=r!==!1&&b!==void 0?r(b,c,_,t):_,E=Ls({},w,{_persist:Ls({},p,{rehydrated:!0})});return l(E)}}}if(!p)return e(c,d);var A=e(y,d);return A===y?c:l(Ls({},A,{_persist:p}))}}function Bh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bh=function(n){return typeof n}:Bh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bh(t)}function fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function px(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fx(n,!0).forEach(function(r){dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fx(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t,e,n,r){r.debug;var i=px({},n);return t&&Bh(t)==="object"&&Object.keys(t).forEach(function(s){if(s!=="_persist"&&e[s]===n[s]){if(fle(n[s])){i[s]=px({},i[s],{},t[s]);return}i[s]=t[s]}}),i}function fle(t){return t!==null&&!Array.isArray(t)&&Bh(t)==="object"}function ple(t,e){return t.stateReconciler=t.stateReconciler===void 0?hle:t.stateReconciler,cle(t,Kue(e))}function mx(t){return vle(t)||gle(t)||mle()}function mle(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function gle(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function vle(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gx(n,!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gx(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gU={registry:[],bootstrapped:!1},_le=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case mU:return eT({},e,{registry:[].concat(mx(e.registry),[n.key])});case DA:var r=e.registry.indexOf(n.key),i=mx(e.registry);return i.splice(r,1),eT({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function wle(t,e,n){var r=n||!1,i=OA(_le,gU,e&&e.enhancer?e.enhancer:void 0),s=function(l){i.dispatch({type:mU,key:l})},o=function(l,c,d){var h={type:DA,payload:c,err:d,key:l};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=eT({},i,{purge:function(){var l=[];return t.dispatch({type:pU,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:dU,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){t.dispatch({type:hU})},persist:function(){t.dispatch({type:fU,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var $A={},MA={};MA.__esModule=!0;MA.default=Tle;function Kg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kg=function(n){return typeof n}:Kg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kg(t)}function Tw(){}var ble={getItem:Tw,setItem:Tw,removeItem:Tw};function Ele(t){if((typeof self>"u"?"undefined":Kg(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Tle(t){var e="".concat(t,"Storage");return Ele(e)?self[e]:ble}$A.__esModule=!0;$A.default=Cle;var Sle=Ile(MA);function Ile(t){return t&&t.__esModule?t:{default:t}}function Cle(t){var e=(0,Sle.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var vU=void 0,Ale=Ple($A);function Ple(t){return t&&t.__esModule?t:{default:t}}var Rle=(0,Ale.default)("local");vU=Rle;var rs=function(e){return"@@redux-saga/"+e},kle=rs("CANCEL_PROMISE"),yU=rs("CHANNEL_END"),_U=rs("IO"),vx=rs("MATCH"),wU=rs("MULTICAST"),bU=rs("SAGA_ACTION"),EU=rs("SELF_CANCELLATION"),Ole=rs("TASK"),fc=rs("TASK_CANCEL"),TU=rs("TERMINATE"),xle=rs("LOCATION"),SU=function(e){return e==null},IU=function(e){return e!=null},Hr=function(e){return typeof e=="function"},FA=function(e){return typeof e=="string"},$a=Array.isArray,C_=function(e){return e&&Hr(e.then)},LA=function(e){return e&&Hr(e.next)&&Hr(e.throw)},yx=function t(e){return e&&(FA(e)||AU(e)||Hr(e)||$a(e)&&e.every(t))},VA=function(e){return e&&Hr(e.take)&&Hr(e.close)},CU=function(e){return Hr(e)&&e.hasOwnProperty("toString")},AU=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Nle=function(e){return VA(e)&&e[wU]},Dle=function(e){return function(){return e}},$le=Dle(!0),yr=function(){},PU=function(e){return e},UA=function(e,n){je(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},Mle=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function A_(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Fle(t){var e=!1;return function(){e||(e=!0,t())}}var Lle=function(e){throw e},Vle=function(e){return{value:e,done:!0}};function tT(t,e,n){e===void 0&&(e=Lle),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Vle,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function Ule(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var RU=function(e){return Array.apply(null,new Array(e))},jle=function(e){return function(n){return e(Object.defineProperty(n,bU,{value:!0}))}},kU=function(e){return e===TU},OU=function(e){return e===fc},xU=function(e){return kU(e)||OU(e)};function NU(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=$a(t)?RU(r):{},a={};function u(){i===r&&(s=!0,e(o))}return n.forEach(function(l){var c=function(h,p){s||(p||xU(h)?(e.cancel(),e(h,p)):(o[l]=h,i++,u()))};c.cancel=yr,a[l]=c}),e.cancel=function(){s||(s=!0,n.forEach(function(l){return a[l].cancel()}))},a}function jA(t){return{name:t.name||"anonymous",location:DU(t)}}function DU(t){return t[xle]}var Ble="Channel's Buffer overflow!",zle=1,qle=3,$U=4;function Hle(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(c){n[i]=c,i=(i+1)%t,r++},a=function(){if(r!=0){var c=n[s];return n[s]=null,r--,s=(s+1)%t,c}},u=function(){for(var c=[];r;)c.push(a());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<t)o(c);else{var d;switch(e){case zle:throw new Error(Ble);case qle:n[i]=c,i=(i+1)%t,s=i;break;case $U:d=2*t,n=u(),r=n.length,i=n.length,s=0,n.length=d,t=d,o(c);break}}},take:a,flush:u}}var Wle=function(e){return Hle(e,$U)},Qg="TAKE",MU="PUT",FU="ALL",Gle="RACE",LU="CALL",Kle="CPS",VU="FORK",Qle="JOIN",UU="CANCEL",jU="SELECT",Yle="ACTION_CHANNEL",Xle="CANCELLED",Jle="FLUSH",Zle="GET_CONTEXT",ece="SET_CONTEXT",Zs=function(e,n){var r;return r={},r[_U]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function tce(t,e){if(t===void 0&&(t="*"),yx(t))return Zs(Qg,{pattern:t});if(Nle(t)&&IU(e)&&yx(e))return Zs(Qg,{channel:t,pattern:e});if(VA(t))return Zs(Qg,{channel:t})}function Ve(t,e){return SU(e)&&(e=t,t=void 0),Zs(MU,{channel:t,action:e})}function ag(t){var e=Zs(FU,t);return e.combinator=!0,e}function BU(t,e){var n=null,r;return Hr(t)?r=t:($a(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&FA(r)&&Hr(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Zs(LU,BU(t,n))}function zU(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Zs(VU,BU(t,n))}function nce(t){return t===void 0&&(t=EU),Zs(UU,t)}function nT(t){t===void 0&&(t=PU);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Zs(jU,{selector:t,args:n})}function rce(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var qU=[],P_=0;function ice(t){try{BA(),t()}finally{GU()}}function HU(t){qU.push(t),P_||(BA(),KU())}function WU(t){try{return BA(),t()}finally{KU()}}function BA(){P_++}function GU(){P_--}function KU(){GU();for(var t;!P_&&(t=qU.shift())!==void 0;)ice(t)}var sce=function(e){return function(n){return e.some(function(r){return zA(r)(n)})}},oce=function(e){return function(n){return e(n)}},_x=function(e){return function(n){return n.type===String(e)}},ace=function(e){return function(n){return n.type===e}},QU=function(){return $le};function zA(t){var e=t==="*"?QU:FA(t)?_x:$a(t)?sce:CU(t)?_x:Hr(t)?oce:AU(t)?ace:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var zh={type:yU},qA=function(e){return e&&e.type===yU};function uce(t){t===void 0&&(t=Wle());var e=!1,n=[];function r(a){if(!e){if(n.length===0)return t.put(a);var u=n.shift();u(a)}}function i(a){e&&t.isEmpty()?a(zh):t.isEmpty()?(n.push(a),a.cancel=function(){A_(n,a)}):a(t.take())}function s(a){if(e&&t.isEmpty()){a(zh);return}a(t.flush())}function o(){if(!e){e=!0;var a=n;n=[];for(var u=0,l=a.length;u<l;u++){var c=a[u];c(zh)}}}return{take:i,put:r,flush:s,close:o}}function lce(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var a=n=r;r=[],a.forEach(function(u){u(zh)})};return t={},t[wU]=!0,t.put=function(a){if(!e){if(qA(a)){s();return}for(var u=n=r,l=0,c=u.length;l<c;l++){var d=u[l];d[vx](a)&&(d.cancel(),d(a))}}},t.take=function(a,u){if(u===void 0&&(u=QU),e){a(zh);return}a[vx]=u,i(),r.push(a),a.cancel=Fle(function(){i(),A_(r,a)})},t.close=s,t}function YU(){var t=lce(),e=t.put;return t.put=function(n){if(n[bU]){e(n);return}HU(function(){e(n)})},t}var au=0,zs=1,Yg=2,XU=3;function HA(t,e){var n=t[kle];Hr(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Xp=0,JU=function(){return++Xp},Fn;function cce(t,e){return t.isSagaIterator?{name:t.meta.name}:jA(e)}function dce(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(LA(i))return i;var s=!1,o=function(u){return s?{value:u,done:!0}:(s=!0,{value:i,done:!C_(i)})};return tT(o)}catch(a){return tT(function(){throw a})}}function hce(t,e,n){var r=e.channel,i=e.action,s=e.resolve;HU(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(a){n(a,!0);return}s&&C_(o)?HA(o,n):n(o)})}function fce(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,a=function(l){if(l instanceof Error){n(l,!0);return}if(qA(l)&&!o){n(TU);return}n(l)};try{i.take(a,IU(s)?zA(s):null)}catch(u){n(u,!0);return}n.cancel=a.cancel}function pce(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=r.task;try{var u=s.apply(i,o);if(C_(u)){HA(u,n);return}if(LA(u)){R_(t,u,a.context,Xp,jA(s),!1,n);return}n(u)}catch(l){n(l,!0)}}function mce(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(u,l){SU(u)?n(l):n(u,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(a){n(a,!0)}}function gce(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=e.detached,u=r.task,l=dce({context:i,fn:s,args:o}),c=cce(l,s);WU(function(){var d=R_(t,l,u.context,Xp,c,a,void 0);a?n(d):d.isRunning()?(u.queue.addTask(d),n(d)):d.isAborted()?u.queue.abort(d.error()):n(d)})}function vce(t,e,n,r){var i=r.task,s=function(u,l){if(u.isRunning()){var c={task:i,cb:l};l.cancel=function(){u.isRunning()&&A_(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if($a(e)){if(e.length===0){n([]);return}var o=NU(e,n);e.forEach(function(a,u){s(a,o[u])})}else s(e,n)}function Sw(t){t.isRunning()&&t.cancel()}function yce(t,e,n,r){var i=r.task;e===EU?Sw(i):$a(e)?e.forEach(Sw):Sw(e),n()}function _ce(t,e,n,r){var i=r.digestEffect,s=Xp,o=Object.keys(e);if(o.length===0){n($a(e)?[]:{});return}var a=NU(e,n);o.forEach(function(u){i(e[u],s,a[u],u)})}function wce(t,e,n,r){var i=r.digestEffect,s=Xp,o=Object.keys(e),a=$a(e)?RU(o.length):{},u={},l=!1;o.forEach(function(c){var d=function(p,v){l||(v||xU(p)?(n.cancel(),n(p,v)):(n.cancel(),l=!0,a[c]=p,n(a)))};d.cancel=yr,u[c]=d}),n.cancel=function(){l||(l=!0,o.forEach(function(c){return u[c].cancel()}))},o.forEach(function(c){l||i(e[c],s,u[c],c)})}function bce(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function Ece(t,e,n){var r=e.pattern,i=e.buffer,s=uce(i),o=zA(r),a=function l(c){qA(c)||t.channel.take(l,o),s.put(c)},u=s.close;s.close=function(){a.cancel(),u()},t.channel.take(a,o),n(s)}function Tce(t,e,n,r){var i=r.task;n(i.isCancelled())}function Sce(t,e,n){e.flush(n)}function Ice(t,e,n,r){var i=r.task;n(i.context[e])}function Cce(t,e,n,r){var i=r.task;UA(i.context,e),n()}var Ace=(Fn={},Fn[Qg]=fce,Fn[MU]=hce,Fn[FU]=_ce,Fn[Gle]=wce,Fn[LU]=pce,Fn[Kle]=mce,Fn[VU]=gce,Fn[Qle]=vce,Fn[UU]=yce,Fn[jU]=bce,Fn[Yle]=Ece,Fn[Xle]=Tce,Fn[Jle]=Sce,Fn[Zle]=Ice,Fn[ece]=Cce,Fn);function Pce(t,e,n){var r=[],i,s=!1;u(t);var o=function(){return r};function a(c){e(),l(),n(c,!0)}function u(c){r.push(c),c.cont=function(d,h){s||(A_(r,c),c.cont=yr,h?a(d):(c===t&&(i=d),r.length||(s=!0,n(i))))}}function l(){s||(s=!0,r.forEach(function(c){c.cont=yr,c.cancel()}),r=[])}return{addTask:u,cancelAll:l,abort:a,getTasks:o}}function ZU(t,e){return t+"?"+e}function Rce(t){var e=DU(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+ZU(r,i);return s}return""}function wx(t){var e=t.name,n=t.location;return n?e+"  "+ZU(n.fileName,n.lineNumber):e}function kce(t){var e=Mle(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var WA=null,qh=[],Oce=function(e){e.crashedEffect=WA,qh.push(e)},e9=function(){WA=null,qh.length=0},xce=function(e){WA=e},Nce=function(){var e=qh[0],n=qh.slice(1),r=e.crashedEffect?Rce(e.crashedEffect):null,i="The above error occurred in task "+wx(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+wx(s.meta)}),[kce(qh)]).join(`
`)};function Dce(t,e,n,r,i,s,o){var a;o===void 0&&(o=yr);var u=au,l,c,d=null,h=[],p=Object.create(n),v=Pce(e,function(){h.push.apply(h,v.getTasks().map(function(E){return E.meta.name}))},g);function y(){u===au&&(u=zs,v.cancelAll(),g(fc,!1))}function g(w,E){if(!E)w===fc?u=zs:u!==zs&&(u=XU),l=w,d&&d.resolve(w);else{if(u=Yg,Oce({meta:i,cancelledTasks:h}),b.isRoot){var A=Nce();e9(),t.onError(w,{sagaStack:A})}c=w,d&&d.reject(w)}b.cont(w,E),b.joiners.forEach(function(R){R.cb(w,E)}),b.joiners=null}function m(w){UA(p,w)}function _(){return d||(d=rce(),u===Yg?d.reject(c):u!==au&&d.resolve(l)),d.promise}var b=(a={},a[Ole]=!0,a.id=r,a.meta=i,a.isRoot=s,a.context=p,a.joiners=[],a.queue=v,a.cancel=y,a.cont=o,a.end=g,a.setContext=m,a.toPromise=_,a.isRunning=function(){return u===au},a.isCancelled=function(){return u===zs||u===au&&e.status===zs},a.isAborted=function(){return u===Yg},a.result=function(){return l},a.error=function(){return c},a);return b}function R_(t,e,n,r,i,s,o){var a=t.finalizeRunEffect(p);h.cancel=yr;var u={meta:i,cancel:d,status:au},l=Dce(t,u,n,r,i,s,o),c={task:l,digestEffect:v};function d(){u.status===au&&(u.status=zs,h(fc))}return o&&(o.cancel=l.cancel),h(),l;function h(y,g){try{var m;g?(m=e.throw(y),e9()):OU(y)?(u.status=zs,h.cancel(),m=Hr(e.return)?e.return(fc):{done:!0,value:fc}):kU(y)?m=Hr(e.return)?e.return():{done:!0}:m=e.next(y),m.done?(u.status!==zs&&(u.status=XU),u.cont(m.value)):v(m.value,r,h)}catch(_){if(u.status===zs)throw _;u.status=Yg,u.cont(_,!0)}}function p(y,g,m){if(C_(y))HA(y,m);else if(LA(y))R_(t,y,l.context,g,i,!1,m);else if(y&&y[_U]){var _=Ace[y.type];_(t,y.payload,m,c)}else m(y)}function v(y,g,m,_){_===void 0&&(_="");var b=JU();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:b,parentEffectId:g,label:_,effect:y});var w;function E(A,R){w||(w=!0,m.cancel=yr,t.sagaMonitor&&(R?t.sagaMonitor.effectRejected(b,A):t.sagaMonitor.effectResolved(b,A)),R&&xce(y),m(A,R))}E.cancel=yr,m.cancel=function(){w||(w=!0,E.cancel(),E.cancel=yr,t.sagaMonitor&&t.sagaMonitor.effectCancelled(b))},a(y,b,E)}}function $ce(t,e){for(var n=t.channel,r=n===void 0?YU():n,i=t.dispatch,s=t.getState,o=t.context,a=o===void 0?{}:o,u=t.sagaMonitor,l=t.effectMiddlewares,c=t.onError,d=c===void 0?Ule:c,h=arguments.length,p=new Array(h>2?h-2:0),v=2;v<h;v++)p[v-2]=arguments[v];var y=e.apply(void 0,p),g=JU();u&&(u.rootSagaStarted=u.rootSagaStarted||yr,u.effectTriggered=u.effectTriggered||yr,u.effectResolved=u.effectResolved||yr,u.effectRejected=u.effectRejected||yr,u.effectCancelled=u.effectCancelled||yr,u.actionDispatched=u.actionDispatched||yr,u.rootSagaStarted({effectId:g,saga:e,args:p}));var m;if(l){var _=xA.apply(void 0,l);m=function(E){return function(A,R,x){var G=function(oe){return E(oe,R,x)};return _(G)(A)}}}else m=PU;var b={channel:r,dispatch:jle(i),getState:s,sagaMonitor:u,onError:d,finalizeRunEffect:m};return WU(function(){var w=R_(b,y,a,g,jA(e),!0,void 0);return u&&u.effectResolved(g,w),w})}function Mce(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?YU():i,o=e.sagaMonitor,a=Gi(e,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,h=c.dispatch;return u=$ce.bind(null,je({},a,{context:r,channel:s,dispatch:h,getState:d,sagaMonitor:o})),function(p){return function(v){o&&o.actionDispatched&&o.actionDispatched(v);var y=p(v);return s.put(v),y}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){UA(r,c)},l}const Fce=null,Lce=(t=Fce,e)=>{switch(e.type){case hL:return{id:e.payload.id,role:e.payload.role,provider:e.payload.provider};case fL:return null;default:return t}},Vce=(t=[],e)=>{switch(e.type){case nL:return e.payload;case rL:return t.some(n=>n.id===e.payload.id)?t:[e.payload,...t];case iL:return t.filter(n=>n.id!==e.payload);case sL:return[];case oL:return t.map(n=>n.id===e.payload?{...n,quantity:n.quantity+1}:n);case aL:return t.map(n=>n.id===e.payload?{...n,quantity:n.quantity-1}:n);default:return t}},bx={shipping:{},payment:{type:"paypal",name:"",cardnumber:"",expiry:"",ccv:""}},Uce=(t=bx,e)=>{switch(e.type){case uL:return{...t,shipping:e.payload};case lL:return{...t,payment:e.payload};case cL:return bx;default:return t}},Ex={recent:[],keyword:"",brand:"",minPrice:0,maxPrice:0,sortBy:""},jce=(t=Ex,e)=>{switch(e.type){case nK:return{...t,recent:t.recent.find(n=>n===e.payload)||e.payload===""?t.recent:[e.payload,...t.recent],keyword:e.payload};case rK:return{...t,brand:e.payload};case sK:return{...t,maxPrice:e.payload};case iK:return{...t,minPrice:e.payload};case bL:return Ex;case TL:return{...t,recent:[]};case SL:return{...t,recent:t.recent.filter(n=>n!==e.payload)};case EL:return{...t,...e.payload};default:return t}},Bce={loading:!1,isAuthenticating:!1,authStatus:null,requestStatus:null,theme:"light"},zce=(t=Bce,e)=>{switch(e.type){case CL:return{...t,loading:e.payload};case AL:return{...t,isAuthenticating:e.payload};case PL:return{...t,requestStatus:e.payload};case pL:return{...t,authStatus:e.payload};default:return t}},Tx={lastRefKey:null,total:0,items:[]},qce=(t={lastRefKey:null,total:0,items:[],searchedProducts:Tx},e)=>{switch(e.type){case YF:return{...t,lastRefKey:e.payload.lastKey,total:e.payload.total,items:[...t.items,...e.payload.products]};case XF:return{...t,items:[...t.items,e.payload]};case QF:return{...t,searchedProducts:{lastRefKey:e.payload.lastKey,total:e.payload.total,items:[...t.searchedProducts.items,...e.payload.products]}};case eL:return{...t,searchedProducts:Tx};case JF:return{...t,items:t.items.filter(n=>n.id!==e.payload)};case ZF:return{...t,items:t.items.map(n=>n.id===e.payload.id?{...n,...e.payload.updates}:n)};default:return t}},Hce=(t={},e)=>{switch(e.type){case yL:return e.payload;case _L:return{...t,...e.payload};case wL:return{};default:return t}},Wce=[],Gce=(t=Wce,e)=>{switch(e.type){case aK:return[...t,e.payload];case lK:return t.map(n=>n.id===e.payload.id?{...n,...e.payload}:n);case uK:return t.filter(n=>n.id!==e.payload);case IL:return t.map(n=>n.id===e.payload.uid?{...n,role:e.payload.newRole}:n);case oK:return[...t,e.payload];default:return t}},Kce=(t={purchasedItems:[]},e)=>{switch(e.type){case dL:return console.log("SET_PURCHASED_ITEMS action called, newPurchasedItems:",e.payload),{...t,purchasedItems:[...t.purchasedItems,...e.payload]};default:return t}},Qce=(t={darkMode:!0},e)=>{switch(e.type){case tL:return{...t,darkMode:!t.darkMode};default:return t}},Yce={products:qce,basket:Vce,auth:Lce,profile:Hce,filter:jce,users:Gce,checkout:Uce,app:zce,purchasedItems:Kce,darkMode:Qce};var Sx=function(e){return{done:!0,value:e}},Iw={};function Xce(t){return VA(t)?"channel":CU(t)?String(t):Hr(t)?t.name:String(t)}function Jce(t,e,n){var r,i,s,o=e;function a(u,l){if(o===Iw)return Sx(u);if(l&&!i)throw o=Iw,l;r&&r(u);var c=l?t[i](l):t[o]();return o=c.nextState,s=c.effect,r=c.stateUpdater,i=c.errorState,o===Iw?Sx(u):s}return tT(a,function(u){return a(null,u)},n)}function Zce(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:tce(t)},o=function(p){return{done:!1,value:zU.apply(void 0,[e].concat(r,[p]))}},a=function(p){return{done:!1,value:nce(p)}},u,l,c=function(p){return u=p},d=function(p){return l=p};return Jce({q1:function(){return{nextState:"q2",effect:s,stateUpdater:d}},q2:function(){return u?{nextState:"q3",effect:a(u)}:{nextState:"q1",effect:o(l),stateUpdater:c}},q3:function(){return{nextState:"q1",effect:o(l),stateUpdater:c}}},"q1","takeLatest("+Xce(t)+", "+e.name+")")}function Cw(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return zU.apply(void 0,[Zce,t,e].concat(r))}const Ix="/assets/defaultAvatar-6d69d324.jpg",Cx="/assets/defaultBanner-2759a645.jpg",ede=t=>({type:uL,payload:t}),tde=t=>({type:lL,payload:t}),nde=()=>({type:cL}),Mr=(t=!0)=>({type:CL,payload:t}),Ko=(t=!0)=>({type:AL,payload:t}),Wf=t=>({type:PL,payload:t}),ji=(t=null)=>({type:pL,payload:t}),Ax=()=>({type:wL}),Aw=t=>({type:yL,payload:t}),rde=t=>({type:vI,payload:{updates:t.updates,files:t.files,credentials:t.credentials}}),Px=t=>({type:_L,payload:t});var Rx=Array.isArray,kx=Object.keys,ide=Object.prototype.hasOwnProperty,sde=typeof Element<"u";function rT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Rx(t),r=Rx(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!rT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,u=e instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==e.getTime();var l=t instanceof RegExp,c=e instanceof RegExp;if(l!=c)return!1;if(l&&c)return t.toString()==e.toString();var d=kx(t);if(s=d.length,s!==kx(e).length)return!1;for(i=s;i--!==0;)if(!ide.call(e,d[i]))return!1;if(sde&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!rT(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var ode=function(e,n){try{return rT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Fo=Rn(ode);var ade=function(e){return ude(e)&&!lde(e)};function ude(t){return!!t&&typeof t=="object"}function lde(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||hde(t)}var cde=typeof Symbol=="function"&&Symbol.for,dde=cde?Symbol.for("react.element"):60103;function hde(t){return t.$$typeof===dde}function fde(t){return Array.isArray(t)?[]:{}}function yy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Gf(fde(t),t,e):t}function pde(t,e,n){return t.concat(e).map(function(r){return yy(r,n)})}function mde(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=yy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=yy(e[i],n):r[i]=Gf(t[i],e[i],n)}),r}function Gf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||pde,n.isMergeableObject=n.isMergeableObject||ade;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):mde(t,e,n):yy(e,n)}Gf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Gf(r,i,n)},{})};var iT=Gf,gde=typeof global=="object"&&global&&global.Object===Object&&global;const t9=gde;var vde=typeof self=="object"&&self&&self.Object===Object&&self,yde=t9||vde||Function("return this")();const $s=yde;var _de=$s.Symbol;const ba=_de;var n9=Object.prototype,wde=n9.hasOwnProperty,bde=n9.toString,Qd=ba?ba.toStringTag:void 0;function Ede(t){var e=wde.call(t,Qd),n=t[Qd];try{t[Qd]=void 0;var r=!0}catch{}var i=bde.call(t);return r&&(e?t[Qd]=n:delete t[Qd]),i}var Tde=Object.prototype,Sde=Tde.toString;function Ide(t){return Sde.call(t)}var Cde="[object Null]",Ade="[object Undefined]",Ox=ba?ba.toStringTag:void 0;function ul(t){return t==null?t===void 0?Ade:Cde:Ox&&Ox in Object(t)?Ede(t):Ide(t)}function r9(t,e){return function(n){return t(e(n))}}var Pde=r9(Object.getPrototypeOf,Object);const GA=Pde;function ll(t){return t!=null&&typeof t=="object"}var Rde="[object Object]",kde=Function.prototype,Ode=Object.prototype,i9=kde.toString,xde=Ode.hasOwnProperty,Nde=i9.call(Object);function xx(t){if(!ll(t)||ul(t)!=Rde)return!1;var e=GA(t);if(e===null)return!0;var n=xde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&i9.call(n)==Nde}function Dde(){this.__data__=[],this.size=0}function s9(t,e){return t===e||t!==t&&e!==e}function k_(t,e){for(var n=t.length;n--;)if(s9(t[n][0],e))return n;return-1}var $de=Array.prototype,Mde=$de.splice;function Fde(t){var e=this.__data__,n=k_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Mde.call(e,n,1),--this.size,!0}function Lde(t){var e=this.__data__,n=k_(e,t);return n<0?void 0:e[n][1]}function Vde(t){return k_(this.__data__,t)>-1}function Ude(t,e){var n=this.__data__,r=k_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eo.prototype.clear=Dde;Eo.prototype.delete=Fde;Eo.prototype.get=Lde;Eo.prototype.has=Vde;Eo.prototype.set=Ude;function jde(){this.__data__=new Eo,this.size=0}function Bde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function zde(t){return this.__data__.get(t)}function qde(t){return this.__data__.has(t)}function Jp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hde="[object AsyncFunction]",Wde="[object Function]",Gde="[object GeneratorFunction]",Kde="[object Proxy]";function o9(t){if(!Jp(t))return!1;var e=ul(t);return e==Wde||e==Gde||e==Hde||e==Kde}var Qde=$s["__core-js_shared__"];const Pw=Qde;var Nx=function(){var t=/[^.]+$/.exec(Pw&&Pw.keys&&Pw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yde(t){return!!Nx&&Nx in t}var Xde=Function.prototype,Jde=Xde.toString;function cl(t){if(t!=null){try{return Jde.call(t)}catch{}try{return t+""}catch{}}return""}var Zde=/[\\^$.*+?()[\]{}|]/g,ehe=/^\[object .+?Constructor\]$/,the=Function.prototype,nhe=Object.prototype,rhe=the.toString,ihe=nhe.hasOwnProperty,she=RegExp("^"+rhe.call(ihe).replace(Zde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ohe(t){if(!Jp(t)||Yde(t))return!1;var e=o9(t)?she:ehe;return e.test(cl(t))}function ahe(t,e){return t==null?void 0:t[e]}function dl(t,e){var n=ahe(t,e);return ohe(n)?n:void 0}var uhe=dl($s,"Map");const Kf=uhe;var lhe=dl(Object,"create");const Qf=lhe;function che(){this.__data__=Qf?Qf(null):{},this.size=0}function dhe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hhe="__lodash_hash_undefined__",fhe=Object.prototype,phe=fhe.hasOwnProperty;function mhe(t){var e=this.__data__;if(Qf){var n=e[t];return n===hhe?void 0:n}return phe.call(e,t)?e[t]:void 0}var ghe=Object.prototype,vhe=ghe.hasOwnProperty;function yhe(t){var e=this.__data__;return Qf?e[t]!==void 0:vhe.call(e,t)}var _he="__lodash_hash_undefined__";function whe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qf&&e===void 0?_he:e,this}function Wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wu.prototype.clear=che;Wu.prototype.delete=dhe;Wu.prototype.get=mhe;Wu.prototype.has=yhe;Wu.prototype.set=whe;function bhe(){this.size=0,this.__data__={hash:new Wu,map:new(Kf||Eo),string:new Wu}}function Ehe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function O_(t,e){var n=t.__data__;return Ehe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function The(t){var e=O_(this,t).delete(t);return this.size-=e?1:0,e}function She(t){return O_(this,t).get(t)}function Ihe(t){return O_(this,t).has(t)}function Che(t,e){var n=O_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ma.prototype.clear=bhe;Ma.prototype.delete=The;Ma.prototype.get=She;Ma.prototype.has=Ihe;Ma.prototype.set=Che;var Ahe=200;function Phe(t,e){var n=this.__data__;if(n instanceof Eo){var r=n.__data__;if(!Kf||r.length<Ahe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ma(r)}return n.set(t,e),this.size=n.size,this}function pd(t){var e=this.__data__=new Eo(t);this.size=e.size}pd.prototype.clear=jde;pd.prototype.delete=Bde;pd.prototype.get=zde;pd.prototype.has=qde;pd.prototype.set=Phe;function Rhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var khe=function(){try{var t=dl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Dx=khe;function a9(t,e,n){e=="__proto__"&&Dx?Dx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ohe=Object.prototype,xhe=Ohe.hasOwnProperty;function u9(t,e,n){var r=t[e];(!(xhe.call(t,e)&&s9(r,n))||n===void 0&&!(e in t))&&a9(t,e,n)}function x_(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?a9(n,a,u):u9(n,a,u)}return n}function Nhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Dhe="[object Arguments]";function $x(t){return ll(t)&&ul(t)==Dhe}var l9=Object.prototype,$he=l9.hasOwnProperty,Mhe=l9.propertyIsEnumerable,Fhe=$x(function(){return arguments}())?$x:function(t){return ll(t)&&$he.call(t,"callee")&&!Mhe.call(t,"callee")};const Lhe=Fhe;var Vhe=Array.isArray;const Zp=Vhe;function Uhe(){return!1}var c9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mx=c9&&typeof module=="object"&&module&&!module.nodeType&&module,jhe=Mx&&Mx.exports===c9,Fx=jhe?$s.Buffer:void 0,Bhe=Fx?Fx.isBuffer:void 0,zhe=Bhe||Uhe;const d9=zhe;var qhe=9007199254740991,Hhe=/^(?:0|[1-9]\d*)$/;function Whe(t,e){var n=typeof t;return e=e??qhe,!!e&&(n=="number"||n!="symbol"&&Hhe.test(t))&&t>-1&&t%1==0&&t<e}var Ghe=9007199254740991;function h9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ghe}var Khe="[object Arguments]",Qhe="[object Array]",Yhe="[object Boolean]",Xhe="[object Date]",Jhe="[object Error]",Zhe="[object Function]",efe="[object Map]",tfe="[object Number]",nfe="[object Object]",rfe="[object RegExp]",ife="[object Set]",sfe="[object String]",ofe="[object WeakMap]",afe="[object ArrayBuffer]",ufe="[object DataView]",lfe="[object Float32Array]",cfe="[object Float64Array]",dfe="[object Int8Array]",hfe="[object Int16Array]",ffe="[object Int32Array]",pfe="[object Uint8Array]",mfe="[object Uint8ClampedArray]",gfe="[object Uint16Array]",vfe="[object Uint32Array]",xt={};xt[lfe]=xt[cfe]=xt[dfe]=xt[hfe]=xt[ffe]=xt[pfe]=xt[mfe]=xt[gfe]=xt[vfe]=!0;xt[Khe]=xt[Qhe]=xt[afe]=xt[Yhe]=xt[ufe]=xt[Xhe]=xt[Jhe]=xt[Zhe]=xt[efe]=xt[tfe]=xt[nfe]=xt[rfe]=xt[ife]=xt[sfe]=xt[ofe]=!1;function yfe(t){return ll(t)&&h9(t.length)&&!!xt[ul(t)]}function KA(t){return function(e){return t(e)}}var f9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hh=f9&&typeof module=="object"&&module&&!module.nodeType&&module,_fe=Hh&&Hh.exports===f9,Rw=_fe&&t9.process,wfe=function(){try{var t=Hh&&Hh.require&&Hh.require("util").types;return t||Rw&&Rw.binding&&Rw.binding("util")}catch{}}();const jc=wfe;var Lx=jc&&jc.isTypedArray,bfe=Lx?KA(Lx):yfe;const Efe=bfe;var Tfe=Object.prototype,Sfe=Tfe.hasOwnProperty;function p9(t,e){var n=Zp(t),r=!n&&Lhe(t),i=!n&&!r&&d9(t),s=!n&&!r&&!i&&Efe(t),o=n||r||i||s,a=o?Nhe(t.length,String):[],u=a.length;for(var l in t)(e||Sfe.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Whe(l,u)))&&a.push(l);return a}var Ife=Object.prototype;function QA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ife;return t===n}var Cfe=r9(Object.keys,Object);const Afe=Cfe;var Pfe=Object.prototype,Rfe=Pfe.hasOwnProperty;function kfe(t){if(!QA(t))return Afe(t);var e=[];for(var n in Object(t))Rfe.call(t,n)&&n!="constructor"&&e.push(n);return e}function m9(t){return t!=null&&h9(t.length)&&!o9(t)}function YA(t){return m9(t)?p9(t):kfe(t)}function Ofe(t,e){return t&&x_(e,YA(e),t)}function xfe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Nfe=Object.prototype,Dfe=Nfe.hasOwnProperty;function $fe(t){if(!Jp(t))return xfe(t);var e=QA(t),n=[];for(var r in t)r=="constructor"&&(e||!Dfe.call(t,r))||n.push(r);return n}function XA(t){return m9(t)?p9(t,!0):$fe(t)}function Mfe(t,e){return t&&x_(e,XA(e),t)}var g9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vx=g9&&typeof module=="object"&&module&&!module.nodeType&&module,Ffe=Vx&&Vx.exports===g9,Ux=Ffe?$s.Buffer:void 0,jx=Ux?Ux.allocUnsafe:void 0;function Lfe(t,e){if(e)return t.slice();var n=t.length,r=jx?jx(n):new t.constructor(n);return t.copy(r),r}function v9(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Vfe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function y9(){return[]}var Ufe=Object.prototype,jfe=Ufe.propertyIsEnumerable,Bx=Object.getOwnPropertySymbols,Bfe=Bx?function(t){return t==null?[]:(t=Object(t),Vfe(Bx(t),function(e){return jfe.call(t,e)}))}:y9;const JA=Bfe;function zfe(t,e){return x_(t,JA(t),e)}function _9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var qfe=Object.getOwnPropertySymbols,Hfe=qfe?function(t){for(var e=[];t;)_9(e,JA(t)),t=GA(t);return e}:y9;const w9=Hfe;function Wfe(t,e){return x_(t,w9(t),e)}function b9(t,e,n){var r=e(t);return Zp(t)?r:_9(r,n(t))}function Gfe(t){return b9(t,YA,JA)}function Kfe(t){return b9(t,XA,w9)}var Qfe=dl($s,"DataView");const sT=Qfe;var Yfe=dl($s,"Promise");const oT=Yfe;var Xfe=dl($s,"Set");const aT=Xfe;var Jfe=dl($s,"WeakMap");const uT=Jfe;var zx="[object Map]",Zfe="[object Object]",qx="[object Promise]",Hx="[object Set]",Wx="[object WeakMap]",Gx="[object DataView]",epe=cl(sT),tpe=cl(Kf),npe=cl(oT),rpe=cl(aT),ipe=cl(uT),Za=ul;(sT&&Za(new sT(new ArrayBuffer(1)))!=Gx||Kf&&Za(new Kf)!=zx||oT&&Za(oT.resolve())!=qx||aT&&Za(new aT)!=Hx||uT&&Za(new uT)!=Wx)&&(Za=function(t){var e=ul(t),n=e==Zfe?t.constructor:void 0,r=n?cl(n):"";if(r)switch(r){case epe:return Gx;case tpe:return zx;case npe:return qx;case rpe:return Hx;case ipe:return Wx}return e});const ZA=Za;var spe=Object.prototype,ope=spe.hasOwnProperty;function ape(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ope.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var upe=$s.Uint8Array;const Kx=upe;function eP(t){var e=new t.constructor(t.byteLength);return new Kx(e).set(new Kx(t)),e}function lpe(t,e){var n=e?eP(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var cpe=/\w*$/;function dpe(t){var e=new t.constructor(t.source,cpe.exec(t));return e.lastIndex=t.lastIndex,e}var Qx=ba?ba.prototype:void 0,Yx=Qx?Qx.valueOf:void 0;function hpe(t){return Yx?Object(Yx.call(t)):{}}function fpe(t,e){var n=e?eP(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ppe="[object Boolean]",mpe="[object Date]",gpe="[object Map]",vpe="[object Number]",ype="[object RegExp]",_pe="[object Set]",wpe="[object String]",bpe="[object Symbol]",Epe="[object ArrayBuffer]",Tpe="[object DataView]",Spe="[object Float32Array]",Ipe="[object Float64Array]",Cpe="[object Int8Array]",Ape="[object Int16Array]",Ppe="[object Int32Array]",Rpe="[object Uint8Array]",kpe="[object Uint8ClampedArray]",Ope="[object Uint16Array]",xpe="[object Uint32Array]";function Npe(t,e,n){var r=t.constructor;switch(e){case Epe:return eP(t);case ppe:case mpe:return new r(+t);case Tpe:return lpe(t,n);case Spe:case Ipe:case Cpe:case Ape:case Ppe:case Rpe:case kpe:case Ope:case xpe:return fpe(t,n);case gpe:return new r;case vpe:case wpe:return new r(t);case ype:return dpe(t);case _pe:return new r;case bpe:return hpe(t)}}var Xx=Object.create,Dpe=function(){function t(){}return function(e){if(!Jp(e))return{};if(Xx)return Xx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const $pe=Dpe;function Mpe(t){return typeof t.constructor=="function"&&!QA(t)?$pe(GA(t)):{}}var Fpe="[object Map]";function Lpe(t){return ll(t)&&ZA(t)==Fpe}var Jx=jc&&jc.isMap,Vpe=Jx?KA(Jx):Lpe;const Upe=Vpe;var jpe="[object Set]";function Bpe(t){return ll(t)&&ZA(t)==jpe}var Zx=jc&&jc.isSet,zpe=Zx?KA(Zx):Bpe;const qpe=zpe;var Hpe=1,Wpe=2,Gpe=4,E9="[object Arguments]",Kpe="[object Array]",Qpe="[object Boolean]",Ype="[object Date]",Xpe="[object Error]",T9="[object Function]",Jpe="[object GeneratorFunction]",Zpe="[object Map]",eme="[object Number]",S9="[object Object]",tme="[object RegExp]",nme="[object Set]",rme="[object String]",ime="[object Symbol]",sme="[object WeakMap]",ome="[object ArrayBuffer]",ame="[object DataView]",ume="[object Float32Array]",lme="[object Float64Array]",cme="[object Int8Array]",dme="[object Int16Array]",hme="[object Int32Array]",fme="[object Uint8Array]",pme="[object Uint8ClampedArray]",mme="[object Uint16Array]",gme="[object Uint32Array]",It={};It[E9]=It[Kpe]=It[ome]=It[ame]=It[Qpe]=It[Ype]=It[ume]=It[lme]=It[cme]=It[dme]=It[hme]=It[Zpe]=It[eme]=It[S9]=It[tme]=It[nme]=It[rme]=It[ime]=It[fme]=It[pme]=It[mme]=It[gme]=!0;It[Xpe]=It[T9]=It[sme]=!1;function Wh(t,e,n,r,i,s){var o,a=e&Hpe,u=e&Wpe,l=e&Gpe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Jp(t))return t;var c=Zp(t);if(c){if(o=ape(t),!a)return v9(t,o)}else{var d=ZA(t),h=d==T9||d==Jpe;if(d9(t))return Lfe(t,a);if(d==S9||d==E9||h&&!i){if(o=u||h?{}:Mpe(t),!a)return u?Wfe(t,Mfe(o,t)):zfe(t,Ofe(o,t))}else{if(!It[d])return i?t:{};o=Npe(t,d,a)}}s||(s=new pd);var p=s.get(t);if(p)return p;s.set(t,o),qpe(t)?t.forEach(function(g){o.add(Wh(g,e,n,g,t,s))}):Upe(t)&&t.forEach(function(g,m){o.set(m,Wh(g,e,n,m,t,s))});var v=l?u?Kfe:Gfe:u?XA:YA,y=c?void 0:v(t);return Rhe(y||t,function(g,m){y&&(m=g,g=t[m]),u9(o,m,Wh(g,e,n,m,t,s))}),o}var vme=4;function eN(t){return Wh(t,vme)}function I9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var yme="[object Symbol]";function tP(t){return typeof t=="symbol"||ll(t)&&ul(t)==yme}var _me="Expected a function";function nP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_me);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(nP.Cache||Ma),n}nP.Cache=Ma;var wme=500;function bme(t){var e=nP(t,function(r){return n.size===wme&&n.clear(),r}),n=e.cache;return e}var Eme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tme=/\\(\\)?/g,Sme=bme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Eme,function(n,r,i,s){e.push(i?s.replace(Tme,"$1"):r||n)}),e});const Ime=Sme;var Cme=1/0;function Ame(t){if(typeof t=="string"||tP(t))return t;var e=t+"";return e=="0"&&1/t==-Cme?"-0":e}var Pme=1/0,tN=ba?ba.prototype:void 0,nN=tN?tN.toString:void 0;function C9(t){if(typeof t=="string")return t;if(Zp(t))return I9(t,C9)+"";if(tP(t))return nN?nN.call(t):"";var e=t+"";return e=="0"&&1/t==-Pme?"-0":e}function Rme(t){return t==null?"":C9(t)}function A9(t){return Zp(t)?I9(t,Ame):tP(t)?[t]:v9(Ime(Rme(t)))}var kme=1,Ome=4;function xme(t){return Wh(t,kme|Ome)}function Tt(){return Tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt.apply(this,arguments)}function Nme(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function gu(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var iN=function(e){return Array.isArray(e)&&e.length===0},kr=function(e){return typeof e=="function"},em=function(e){return e!==null&&typeof e=="object"},Dme=function(e){return String(Math.floor(Number(e)))===e},kw=function(e){return Object.prototype.toString.call(e)==="[object String]"},P9=function(e){return S.Children.count(e)===0},Ow=function(e){return em(e)&&kr(e.then)};function Un(t,e,n,r){r===void 0&&(r=0);for(var i=A9(e);t&&r<i.length;)t=t[i[r++]];return t===void 0?n:t}function Rs(t,e,n){for(var r=eN(t),i=r,s=0,o=A9(e);s<o.length-1;s++){var a=o[s],u=Un(t,o.slice(0,s+1));if(u&&(em(u)||Array.isArray(u)))i=i[a]=eN(u);else{var l=o[s+1];i=i[a]=Dme(l)&&Number(l)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function R9(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];em(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},R9(a,e,n,r[o])):r[o]=e}return r}var N_=S.createContext(void 0);N_.displayName="FormikContext";var $me=N_.Provider,Mme=N_.Consumer;function To(){var t=S.useContext(N_);return t||GS(!1),t}function Fme(t,e){switch(e.type){case"SET_VALUES":return Tt({},t,{values:e.payload});case"SET_TOUCHED":return Tt({},t,{touched:e.payload});case"SET_ERRORS":return Fo(t.errors,e.payload)?t:Tt({},t,{errors:e.payload});case"SET_STATUS":return Tt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Tt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Tt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Tt({},t,{values:Rs(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Tt({},t,{touched:Rs(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Tt({},t,{errors:Rs(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Tt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Tt({},t,{touched:R9(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Tt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Tt({},t,{isSubmitting:!1});default:return t}}var Ba={},ug={};function Lme(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,u=t.enableReinitialize,l=u===void 0?!1:u,c=t.onSubmit,d=gu(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Tt({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),p=S.useRef(h.initialValues),v=S.useRef(h.initialErrors||Ba),y=S.useRef(h.initialTouched||ug),g=S.useRef(h.initialStatus),m=S.useRef(!1),_=S.useRef({});S.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var b=S.useReducer(Fme,{values:h.initialValues,errors:h.initialErrors||Ba,touched:h.initialTouched||ug,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=b[0],E=b[1],A=S.useCallback(function(N,ie){return new Promise(function(he,ee){var X=h.validate(N,ie);X==null?he(Ba):Ow(X)?X.then(function(pe){he(pe||Ba)},function(pe){ee(pe)}):he(X)})},[h.validate]),R=S.useCallback(function(N,ie){var he=h.validationSchema,ee=kr(he)?he(ie):he,X=ie&&ee.validateAt?ee.validateAt(ie,N):Ume(N,ee);return new Promise(function(pe,ve){X.then(function(){pe(Ba)},function(Te){Te.name==="ValidationError"?pe(Vme(Te)):ve(Te)})})},[h.validationSchema]),x=S.useCallback(function(N,ie){return new Promise(function(he){return he(_.current[N].validate(ie))})},[]),G=S.useCallback(function(N){var ie=Object.keys(_.current).filter(function(ee){return kr(_.current[ee].validate)}),he=ie.length>0?ie.map(function(ee){return x(ee,Un(N,ee))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(he).then(function(ee){return ee.reduce(function(X,pe,ve){return pe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||pe&&(X=Rs(X,ie[ve],pe)),X},{})})},[x]),J=S.useCallback(function(N){return Promise.all([G(N),h.validationSchema?R(N):{},h.validate?A(N):{}]).then(function(ie){var he=ie[0],ee=ie[1],X=ie[2],pe=iT.all([he,ee,X],{arrayMerge:jme});return pe})},[h.validate,h.validationSchema,G,A,R]),oe=pi(function(N){return N===void 0&&(N=w.values),E({type:"SET_ISVALIDATING",payload:!0}),J(N).then(function(ie){return m.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:ie})),ie})});S.useEffect(function(){o&&m.current===!0&&Fo(p.current,h.initialValues)&&oe(p.current)},[o,oe]);var se=S.useCallback(function(N){var ie=N&&N.values?N.values:p.current,he=N&&N.errors?N.errors:v.current?v.current:h.initialErrors||{},ee=N&&N.touched?N.touched:y.current?y.current:h.initialTouched||{},X=N&&N.status?N.status:g.current?g.current:h.initialStatus;p.current=ie,v.current=he,y.current=ee,g.current=X;var pe=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!N&&!!N.isSubmitting,errors:he,touched:ee,status:X,values:ie,isValidating:!!N&&!!N.isValidating,submitCount:N&&N.submitCount&&typeof N.submitCount=="number"?N.submitCount:0}})};if(h.onReset){var ve=h.onReset(w.values,Me);Ow(ve)?ve.then(pe):pe()}else pe()},[h.initialErrors,h.initialStatus,h.initialTouched]);S.useEffect(function(){m.current===!0&&!Fo(p.current,h.initialValues)&&(l&&(p.current=h.initialValues,se()),o&&oe(p.current))},[l,h.initialValues,se,o,oe]),S.useEffect(function(){l&&m.current===!0&&!Fo(v.current,h.initialErrors)&&(v.current=h.initialErrors||Ba,E({type:"SET_ERRORS",payload:h.initialErrors||Ba}))},[l,h.initialErrors]),S.useEffect(function(){l&&m.current===!0&&!Fo(y.current,h.initialTouched)&&(y.current=h.initialTouched||ug,E({type:"SET_TOUCHED",payload:h.initialTouched||ug}))},[l,h.initialTouched]),S.useEffect(function(){l&&m.current===!0&&!Fo(g.current,h.initialStatus)&&(g.current=h.initialStatus,E({type:"SET_STATUS",payload:h.initialStatus}))},[l,h.initialStatus,h.initialTouched]);var _e=pi(function(N){if(_.current[N]&&kr(_.current[N].validate)){var ie=Un(w.values,N),he=_.current[N].validate(ie);return Ow(he)?(E({type:"SET_ISVALIDATING",payload:!0}),he.then(function(ee){return ee}).then(function(ee){E({type:"SET_FIELD_ERROR",payload:{field:N,value:ee}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:N,value:he}}),Promise.resolve(he))}else if(h.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),R(w.values,N).then(function(ee){return ee}).then(function(ee){E({type:"SET_FIELD_ERROR",payload:{field:N,value:ee[N]}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),L=S.useCallback(function(N,ie){var he=ie.validate;_.current[N]={validate:he}},[]),q=S.useCallback(function(N){delete _.current[N]},[]),K=pi(function(N,ie){E({type:"SET_TOUCHED",payload:N});var he=ie===void 0?i:ie;return he?oe(w.values):Promise.resolve()}),O=S.useCallback(function(N){E({type:"SET_ERRORS",payload:N})},[]),V=pi(function(N,ie){var he=kr(N)?N(w.values):N;E({type:"SET_VALUES",payload:he});var ee=ie===void 0?n:ie;return ee?oe(he):Promise.resolve()}),Y=S.useCallback(function(N,ie){E({type:"SET_FIELD_ERROR",payload:{field:N,value:ie}})},[]),F=pi(function(N,ie,he){E({type:"SET_FIELD_VALUE",payload:{field:N,value:ie}});var ee=he===void 0?n:he;return ee?oe(Rs(w.values,N,ie)):Promise.resolve()}),j=S.useCallback(function(N,ie){var he=ie,ee=N,X;if(!kw(N)){N.persist&&N.persist();var pe=N.target?N.target:N.currentTarget,ve=pe.type,Te=pe.name,Ye=pe.id,ln=pe.value,wt=pe.checked,Xn=pe.outerHTML,C=pe.options,M=pe.multiple;he=ie||Te||Ye,ee=/number|range/.test(ve)?(X=parseFloat(ln),isNaN(X)?"":X):/checkbox/.test(ve)?zme(Un(w.values,he),wt,ln):C&&M?Bme(C):ln}he&&F(he,ee)},[F,w.values]),$=pi(function(N){if(kw(N))return function(ie){return j(ie,N)};j(N)}),H=pi(function(N,ie,he){ie===void 0&&(ie=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:N,value:ie}});var ee=he===void 0?i:he;return ee?oe(w.values):Promise.resolve()}),B=S.useCallback(function(N,ie){N.persist&&N.persist();var he=N.target,ee=he.name,X=he.id,pe=he.outerHTML,ve=ie||ee||X;H(ve,!0)},[H]),T=pi(function(N){if(kw(N))return function(ie){return B(ie,N)};B(N)}),D=S.useCallback(function(N){kr(N)?E({type:"SET_FORMIK_STATE",payload:N}):E({type:"SET_FORMIK_STATE",payload:function(){return N}})},[]),de=S.useCallback(function(N){E({type:"SET_STATUS",payload:N})},[]),Z=S.useCallback(function(N){E({type:"SET_ISSUBMITTING",payload:N})},[]),xe=pi(function(){return E({type:"SUBMIT_ATTEMPT"}),oe().then(function(N){var ie=N instanceof Error,he=!ie&&Object.keys(N).length===0;if(he){var ee;try{if(ee=Se(),ee===void 0)return}catch(X){throw X}return Promise.resolve(ee).then(function(X){return m.current&&E({type:"SUBMIT_SUCCESS"}),X}).catch(function(X){if(m.current)throw E({type:"SUBMIT_FAILURE"}),X})}else if(m.current&&(E({type:"SUBMIT_FAILURE"}),ie))throw N})}),Re=pi(function(N){N&&N.preventDefault&&kr(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&kr(N.stopPropagation)&&N.stopPropagation(),xe().catch(function(ie){console.warn("Warning: An unhandled error was caught from submitForm()",ie)})}),Me={resetForm:se,validateForm:oe,validateField:_e,setErrors:O,setFieldError:Y,setFieldTouched:H,setFieldValue:F,setStatus:de,setSubmitting:Z,setTouched:K,setValues:V,setFormikState:D,submitForm:xe},Se=pi(function(){return c(w.values,Me)}),We=pi(function(N){N&&N.preventDefault&&kr(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&kr(N.stopPropagation)&&N.stopPropagation(),se()}),ze=S.useCallback(function(N){return{value:Un(w.values,N),error:Un(w.errors,N),touched:!!Un(w.touched,N),initialValue:Un(p.current,N),initialTouched:!!Un(y.current,N),initialError:Un(v.current,N)}},[w.errors,w.touched,w.values]),U=S.useCallback(function(N){return{setValue:function(he,ee){return F(N,he,ee)},setTouched:function(he,ee){return H(N,he,ee)},setError:function(he){return Y(N,he)}}},[F,H,Y]),ne=S.useCallback(function(N){var ie=em(N),he=ie?N.name:N,ee=Un(w.values,he),X={name:he,value:ee,onChange:$,onBlur:T};if(ie){var pe=N.type,ve=N.value,Te=N.as,Ye=N.multiple;pe==="checkbox"?ve===void 0?X.checked=!!ee:(X.checked=!!(Array.isArray(ee)&&~ee.indexOf(ve)),X.value=ve):pe==="radio"?(X.checked=ee===ve,X.value=ve):Te==="select"&&Ye&&(X.value=X.value||[],X.multiple=!0)}return X},[T,$,w.values]),ue=S.useMemo(function(){return!Fo(p.current,w.values)},[p.current,w.values]),Ie=S.useMemo(function(){return typeof a<"u"?ue?w.errors&&Object.keys(w.errors).length===0:a!==!1&&kr(a)?a(h):a:w.errors&&Object.keys(w.errors).length===0},[a,ue,w.errors,h]),Ae=Tt({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:g.current,handleBlur:T,handleChange:$,handleReset:We,handleSubmit:Re,resetForm:se,setErrors:O,setFormikState:D,setFieldTouched:H,setFieldValue:F,setFieldError:Y,setStatus:de,setSubmitting:Z,setTouched:K,setValues:V,submitForm:xe,validateForm:oe,validateField:_e,isValid:Ie,dirty:ue,unregisterField:q,registerField:L,getFieldProps:ne,getFieldMeta:ze,getFieldHelpers:U,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Ae}function md(t){var e=Lme(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return S.useImperativeHandle(s,function(){return e}),S.createElement($me,{value:e},n?S.createElement(n,e):i?i(e):r?kr(r)?r(e):P9(r)?null:S.Children.only(r):null)}function Vme(t){var e={};if(t.inner){if(t.inner.length===0)return Rs(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Un(e,o.path)||(e=Rs(e,o.path,o.message))}}return e}function Ume(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=lT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function lT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||xx(i)?lT(i):i!==""?i:void 0}):xx(t[r])?e[r]=lT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function jme(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,u=a&&n.isMergeableObject(s);r[o]=u?iT(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=iT(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function Bme(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function zme(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var qme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;function pi(t){var e=S.useRef(t);return qme(function(){e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function k9(t){var e=To(),n=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,s=e.registerField,o=e.unregisterField,a=em(t),u=a?t:{name:t},l=u.name,c=u.validate;return S.useEffect(function(){return l&&s(l,{validate:c}),function(){l&&o(l)}},[s,o,l,c]),l||GS(!1),[n(u),r(l),i(l)]}function Er(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=gu(t,["validate","name","render","children","as","component"]),u=To(),l=gu(u,["validate","validationSchema"]),c=l.registerField,d=l.unregisterField;S.useEffect(function(){return c(n,{validate:e}),function(){d(n)}},[c,d,n,e]);var h=l.getFieldProps(Tt({name:n},a)),p=l.getFieldMeta(n),v={field:h,form:l};if(r)return r(Tt({},v,{meta:p}));if(kr(i))return i(Tt({},v,{meta:p}));if(o){if(typeof o=="string"){var y=a.innerRef,g=gu(a,["innerRef"]);return S.createElement(o,Tt({ref:y},h,g),i)}return S.createElement(o,Tt({field:h,form:l},a),i)}var m=s||"input";if(typeof m=="string"){var _=a.innerRef,b=gu(a,["innerRef"]);return S.createElement(m,Tt({ref:_},h,b),i)}return S.createElement(m,Tt({},h,a),i)}var gd=S.forwardRef(function(t,e){var n=t.action,r=gu(t,["action"]),i=n??"#",s=To(),o=s.handleReset,a=s.handleSubmit;return S.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:o,action:i},r))});gd.displayName="Form";function Hme(t){var e=function(i){return S.createElement(Mme,null,function(s){return s||GS(!1),S.createElement(t,Object.assign({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",cv(e,t)}var Wme=function(e,n,r){var i=Bc(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},Gme=function(e,n,r){var i=Bc(e),s=i[n];return i[n]=i[r],i[r]=s,i},xw=function(e,n,r){var i=Bc(e);return i.splice(n,0,r),i},Kme=function(e,n,r){var i=Bc(e);return i[n]=r,i},Bc=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Tt({},e,{length:n+1}))}else return[]},O9=function(t){Nme(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var u=i.props,l=u.name,c=u.formik.setFormikState;c(function(d){var h=typeof a=="function"?a:s,p=typeof o=="function"?o:s,v=Rs(d.values,l,s(Un(d.values,l))),y=a?h(Un(d.errors,l)):void 0,g=o?p(Un(d.touched,l)):void 0;return iN(y)&&(y=void 0),iN(g)&&(g=void 0),Tt({},d,{values:v,errors:a?Rs(d.errors,l,y):d.errors,touched:o?Rs(d.touched,l,g):d.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Bc(o),[xme(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return Gme(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return Wme(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return xw(a,s,o)},function(a){return xw(a,s,null)},function(a){return xw(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return Kme(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var u=a?[s].concat(a):[s];return o<0&&(o=u.length),u},function(a){var u=a?[null].concat(a):[null];return o<0&&(o=u.length),u},function(a){var u=a?[null].concat(a):[null];return o<0&&(o=u.length),u}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(rN(i)),i.pop=i.pop.bind(rN(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Fo(Un(i.formik.values,i.name),Un(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Bc(o):[];return s||(s=a[i]),kr(a.splice)&&a.splice(i,1),a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s;return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,u=s.children,l=s.name,c=s.formik,d=gu(c,["validate","validationSchema"]),h=Tt({},i,{form:d,name:l});return o?S.createElement(o,h):a?a(h):u?typeof u=="function"?u(h):P9(u)?null:S.Children.only(u):null},e}(S.Component);O9.defaultProps={validateOnChange:!0};var Qme=Hme(O9),cT;try{cT=Map}catch{}var dT;try{dT=Set}catch{}function x9(t,e,n){if(!t||typeof t!="object"||typeof t=="function")return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(Array.isArray(t))return t.map(hT);if(cT&&t instanceof cT)return new Map(Array.from(t.entries()));if(dT&&t instanceof dT)return new Set(Array.from(t.values()));if(t instanceof Object){e.push(t);var r=Object.create(t);n.push(r);for(var i in t){var s=e.findIndex(function(o){return o===t[i]});r[i]=s>-1?n[s]:x9(t[i],e,n)}return r}return t}function hT(t){return x9(t,[],[])}const Yme=Object.prototype.toString,Xme=Error.prototype.toString,Jme=RegExp.prototype.toString,Zme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ege=/^Symbol\((.*)\)(.*)$/;function tge(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function sN(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return tge(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Zme.call(t).replace(ege,"Symbol($1)");const r=Yme.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Xme.call(t)+"]":r==="RegExp"?Jme.call(t):null}function zc(t,e){let n=sN(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=sN(this[r],e);return s!==null?s:i},2)}let eu={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{let i=r!=null&&r!==n,s=`${t} must be a \`${e}\` type, but the final value was: \`${zc(n,!0)}\``+(i?` (cast from the value \`${zc(r,!0)}\`).`:".");return n===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},Mi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Do={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},fT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},pT={isValue:"${path} field must be ${value}"},mT={noUnknown:"${path} field has unspecified keys: ${unknown}"},Xg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:eu,string:Mi,number:Do,date:fT,object:mT,array:Xg,boolean:pT});var nge=Object.prototype,rge=nge.hasOwnProperty;function ige(t,e){return t!=null&&rge.call(t,e)}var sge=ige,oge=Array.isArray,Fa=oge,age=typeof bm=="object"&&bm&&bm.Object===Object&&bm,N9=age,uge=N9,lge=typeof self=="object"&&self&&self.Object===Object&&self,cge=uge||lge||Function("return this")(),So=cge,dge=So,hge=dge.Symbol,D_=hge,oN=D_,D9=Object.prototype,fge=D9.hasOwnProperty,pge=D9.toString,Yd=oN?oN.toStringTag:void 0;function mge(t){var e=fge.call(t,Yd),n=t[Yd];try{t[Yd]=void 0;var r=!0}catch{}var i=pge.call(t);return r&&(e?t[Yd]=n:delete t[Yd]),i}var gge=mge,vge=Object.prototype,yge=vge.toString;function _ge(t){return yge.call(t)}var wge=_ge,aN=D_,bge=gge,Ege=wge,Tge="[object Null]",Sge="[object Undefined]",uN=aN?aN.toStringTag:void 0;function Ige(t){return t==null?t===void 0?Sge:Tge:uN&&uN in Object(t)?bge(t):Ege(t)}var tm=Ige;function Cge(t){return t!=null&&typeof t=="object"}var nm=Cge,Age=tm,Pge=nm,Rge="[object Symbol]";function kge(t){return typeof t=="symbol"||Pge(t)&&Age(t)==Rge}var rP=kge,Oge=Fa,xge=rP,Nge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dge=/^\w*$/;function $ge(t,e){if(Oge(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xge(t)?!0:Dge.test(t)||!Nge.test(t)||e!=null&&t in Object(e)}var iP=$ge;function Mge(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sP=Mge,Fge=tm,Lge=sP,Vge="[object AsyncFunction]",Uge="[object Function]",jge="[object GeneratorFunction]",Bge="[object Proxy]";function zge(t){if(!Lge(t))return!1;var e=Fge(t);return e==Uge||e==jge||e==Vge||e==Bge}var $9=zge,qge=So,Hge=qge["__core-js_shared__"],Wge=Hge,Nw=Wge,lN=function(){var t=/[^.]+$/.exec(Nw&&Nw.keys&&Nw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gge(t){return!!lN&&lN in t}var Kge=Gge,Qge=Function.prototype,Yge=Qge.toString;function Xge(t){if(t!=null){try{return Yge.call(t)}catch{}try{return t+""}catch{}}return""}var M9=Xge,Jge=$9,Zge=Kge,eve=sP,tve=M9,nve=/[\\^$.*+?()[\]{}|]/g,rve=/^\[object .+?Constructor\]$/,ive=Function.prototype,sve=Object.prototype,ove=ive.toString,ave=sve.hasOwnProperty,uve=RegExp("^"+ove.call(ave).replace(nve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lve(t){if(!eve(t)||Zge(t))return!1;var e=Jge(t)?uve:rve;return e.test(tve(t))}var cve=lve;function dve(t,e){return t==null?void 0:t[e]}var hve=dve,fve=cve,pve=hve;function mve(t,e){var n=pve(t,e);return fve(n)?n:void 0}var hl=mve,gve=hl,vve=gve(Object,"create"),$_=vve,cN=$_;function yve(){this.__data__=cN?cN(null):{},this.size=0}var _ve=yve;function wve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bve=wve,Eve=$_,Tve="__lodash_hash_undefined__",Sve=Object.prototype,Ive=Sve.hasOwnProperty;function Cve(t){var e=this.__data__;if(Eve){var n=e[t];return n===Tve?void 0:n}return Ive.call(e,t)?e[t]:void 0}var Ave=Cve,Pve=$_,Rve=Object.prototype,kve=Rve.hasOwnProperty;function Ove(t){var e=this.__data__;return Pve?e[t]!==void 0:kve.call(e,t)}var xve=Ove,Nve=$_,Dve="__lodash_hash_undefined__";function $ve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Nve&&e===void 0?Dve:e,this}var Mve=$ve,Fve=_ve,Lve=bve,Vve=Ave,Uve=xve,jve=Mve;function vd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vd.prototype.clear=Fve;vd.prototype.delete=Lve;vd.prototype.get=Vve;vd.prototype.has=Uve;vd.prototype.set=jve;var Bve=vd;function zve(){this.__data__=[],this.size=0}var qve=zve;function Hve(t,e){return t===e||t!==t&&e!==e}var F9=Hve,Wve=F9;function Gve(t,e){for(var n=t.length;n--;)if(Wve(t[n][0],e))return n;return-1}var M_=Gve,Kve=M_,Qve=Array.prototype,Yve=Qve.splice;function Xve(t){var e=this.__data__,n=Kve(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yve.call(e,n,1),--this.size,!0}var Jve=Xve,Zve=M_;function eye(t){var e=this.__data__,n=Zve(e,t);return n<0?void 0:e[n][1]}var tye=eye,nye=M_;function rye(t){return nye(this.__data__,t)>-1}var iye=rye,sye=M_;function oye(t,e){var n=this.__data__,r=sye(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var aye=oye,uye=qve,lye=Jve,cye=tye,dye=iye,hye=aye;function yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yd.prototype.clear=uye;yd.prototype.delete=lye;yd.prototype.get=cye;yd.prototype.has=dye;yd.prototype.set=hye;var F_=yd,fye=hl,pye=So,mye=fye(pye,"Map"),oP=mye,dN=Bve,gye=F_,vye=oP;function yye(){this.size=0,this.__data__={hash:new dN,map:new(vye||gye),string:new dN}}var _ye=yye;function wye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bye=wye,Eye=bye;function Tye(t,e){var n=t.__data__;return Eye(e)?n[typeof e=="string"?"string":"hash"]:n.map}var L_=Tye,Sye=L_;function Iye(t){var e=Sye(this,t).delete(t);return this.size-=e?1:0,e}var Cye=Iye,Aye=L_;function Pye(t){return Aye(this,t).get(t)}var Rye=Pye,kye=L_;function Oye(t){return kye(this,t).has(t)}var xye=Oye,Nye=L_;function Dye(t,e){var n=Nye(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $ye=Dye,Mye=_ye,Fye=Cye,Lye=Rye,Vye=xye,Uye=$ye;function _d(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_d.prototype.clear=Mye;_d.prototype.delete=Fye;_d.prototype.get=Lye;_d.prototype.has=Vye;_d.prototype.set=Uye;var aP=_d,L9=aP,jye="Expected a function";function uP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jye);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(uP.Cache||L9),n}uP.Cache=L9;var Bye=uP,zye=Bye,qye=500;function Hye(t){var e=zye(t,function(r){return n.size===qye&&n.clear(),r}),n=e.cache;return e}var Wye=Hye,Gye=Wye,Kye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qye=/\\(\\)?/g,Yye=Gye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kye,function(n,r,i,s){e.push(i?s.replace(Qye,"$1"):r||n)}),e}),Xye=Yye;function Jye(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Zye=Jye,hN=D_,e0e=Zye,t0e=Fa,n0e=rP,r0e=1/0,fN=hN?hN.prototype:void 0,pN=fN?fN.toString:void 0;function V9(t){if(typeof t=="string")return t;if(t0e(t))return e0e(t,V9)+"";if(n0e(t))return pN?pN.call(t):"";var e=t+"";return e=="0"&&1/t==-r0e?"-0":e}var i0e=V9,s0e=i0e;function o0e(t){return t==null?"":s0e(t)}var rm=o0e,a0e=Fa,u0e=iP,l0e=Xye,c0e=rm;function d0e(t,e){return a0e(t)?t:u0e(t,e)?[t]:l0e(c0e(t))}var U9=d0e,h0e=tm,f0e=nm,p0e="[object Arguments]";function m0e(t){return f0e(t)&&h0e(t)==p0e}var g0e=m0e,mN=g0e,v0e=nm,j9=Object.prototype,y0e=j9.hasOwnProperty,_0e=j9.propertyIsEnumerable,w0e=mN(function(){return arguments}())?mN:function(t){return v0e(t)&&y0e.call(t,"callee")&&!_0e.call(t,"callee")},B9=w0e,b0e=9007199254740991,E0e=/^(?:0|[1-9]\d*)$/;function T0e(t,e){var n=typeof t;return e=e??b0e,!!e&&(n=="number"||n!="symbol"&&E0e.test(t))&&t>-1&&t%1==0&&t<e}var z9=T0e,S0e=9007199254740991;function I0e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=S0e}var lP=I0e,C0e=rP,A0e=1/0;function P0e(t){if(typeof t=="string"||C0e(t))return t;var e=t+"";return e=="0"&&1/t==-A0e?"-0":e}var V_=P0e,R0e=U9,k0e=B9,O0e=Fa,x0e=z9,N0e=lP,D0e=V_;function $0e(t,e,n){e=R0e(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=D0e(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&N0e(i)&&x0e(o,i)&&(O0e(t)||k0e(t)))}var q9=$0e,M0e=sge,F0e=q9;function L0e(t,e){return t!=null&&F0e(t,e,M0e)}var V0e=L0e;const _y=Rn(V0e),cP=t=>t&&t.__isYupSchema__;class U0e{constructor(e,n){if(this.fn=void 0,this.refs=e,this.refs=e,typeof n=="function"){this.fn=n;return}if(!_y(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(u=>u===r);this.fn=function(...a){let u=a.pop(),l=a.pop(),c=o(...a)?i:s;if(c)return typeof c=="function"?c(l):l.concat(c.resolve(u))}}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(e,r.concat(e,n));if(i===void 0||i===e)return e;if(!cP(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function H9(t){return t==null?[]:[].concat(t)}function gT(){return gT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(this,arguments)}let j0e=/\$\{\s*(\w+)\s*\}/g;class jr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=gT({},n,{path:r})),typeof e=="string"?e.replace(j0e,(i,s)=>zc(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],H9(e).forEach(s=>{jr.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,jr)}}const B0e=t=>{let e=!1;return(...n)=>{e||(e=!0,t(...n))}};function wy(t,e){let{endEarly:n,tests:r,args:i,value:s,errors:o,sort:a,path:u}=t,l=B0e(e),c=r.length;const d=[];if(o=o||[],!c)return o.length?l(new jr(o,s,u)):l(null,s);for(let h=0;h<r.length;h++){const p=r[h];p(i,function(y){if(y){if(!jr.isError(y))return l(y,s);if(n)return y.value=s,l(y,s);d.push(y)}if(--c<=0){if(d.length&&(a&&d.sort(a),o.length&&d.push(...o),o=d),o.length){l(new jr(o,s,u),s);return}l(null,s)}})}}var z0e=hl,q0e=function(){try{var t=z0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),H0e=q0e,gN=H0e;function W0e(t,e,n){e=="__proto__"&&gN?gN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var W9=W0e;function G0e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var K0e=G0e,Q0e=K0e,Y0e=Q0e(),X0e=Y0e;function J0e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Z0e=J0e,by={exports:{}};function e_e(){return!1}var t_e=e_e;by.exports;(function(t,e){var n=So,r=t_e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(by,by.exports);var G9=by.exports,n_e=tm,r_e=lP,i_e=nm,s_e="[object Arguments]",o_e="[object Array]",a_e="[object Boolean]",u_e="[object Date]",l_e="[object Error]",c_e="[object Function]",d_e="[object Map]",h_e="[object Number]",f_e="[object Object]",p_e="[object RegExp]",m_e="[object Set]",g_e="[object String]",v_e="[object WeakMap]",y_e="[object ArrayBuffer]",__e="[object DataView]",w_e="[object Float32Array]",b_e="[object Float64Array]",E_e="[object Int8Array]",T_e="[object Int16Array]",S_e="[object Int32Array]",I_e="[object Uint8Array]",C_e="[object Uint8ClampedArray]",A_e="[object Uint16Array]",P_e="[object Uint32Array]",Nt={};Nt[w_e]=Nt[b_e]=Nt[E_e]=Nt[T_e]=Nt[S_e]=Nt[I_e]=Nt[C_e]=Nt[A_e]=Nt[P_e]=!0;Nt[s_e]=Nt[o_e]=Nt[y_e]=Nt[a_e]=Nt[__e]=Nt[u_e]=Nt[l_e]=Nt[c_e]=Nt[d_e]=Nt[h_e]=Nt[f_e]=Nt[p_e]=Nt[m_e]=Nt[g_e]=Nt[v_e]=!1;function R_e(t){return i_e(t)&&r_e(t.length)&&!!Nt[n_e(t)]}var k_e=R_e;function O_e(t){return function(e){return t(e)}}var x_e=O_e,Ey={exports:{}};Ey.exports;(function(t,e){var n=N9,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Ey,Ey.exports);var N_e=Ey.exports,D_e=k_e,$_e=x_e,vN=N_e,yN=vN&&vN.isTypedArray,M_e=yN?$_e(yN):D_e,K9=M_e,F_e=Z0e,L_e=B9,V_e=Fa,U_e=G9,j_e=z9,B_e=K9,z_e=Object.prototype,q_e=z_e.hasOwnProperty;function H_e(t,e){var n=V_e(t),r=!n&&L_e(t),i=!n&&!r&&U_e(t),s=!n&&!r&&!i&&B_e(t),o=n||r||i||s,a=o?F_e(t.length,String):[],u=a.length;for(var l in t)(e||q_e.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||j_e(l,u)))&&a.push(l);return a}var W_e=H_e,G_e=Object.prototype;function K_e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||G_e;return t===n}var Q_e=K_e;function Y_e(t,e){return function(n){return t(e(n))}}var X_e=Y_e,J_e=X_e,Z_e=J_e(Object.keys,Object),e1e=Z_e,t1e=Q_e,n1e=e1e,r1e=Object.prototype,i1e=r1e.hasOwnProperty;function s1e(t){if(!t1e(t))return n1e(t);var e=[];for(var n in Object(t))i1e.call(t,n)&&n!="constructor"&&e.push(n);return e}var o1e=s1e,a1e=$9,u1e=lP;function l1e(t){return t!=null&&u1e(t.length)&&!a1e(t)}var c1e=l1e,d1e=W_e,h1e=o1e,f1e=c1e;function p1e(t){return f1e(t)?d1e(t):h1e(t)}var dP=p1e,m1e=X0e,g1e=dP;function v1e(t,e){return t&&m1e(t,e,g1e)}var Q9=v1e,y1e=F_;function _1e(){this.__data__=new y1e,this.size=0}var w1e=_1e;function b1e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var E1e=b1e;function T1e(t){return this.__data__.get(t)}var S1e=T1e;function I1e(t){return this.__data__.has(t)}var C1e=I1e,A1e=F_,P1e=oP,R1e=aP,k1e=200;function O1e(t,e){var n=this.__data__;if(n instanceof A1e){var r=n.__data__;if(!P1e||r.length<k1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new R1e(r)}return n.set(t,e),this.size=n.size,this}var x1e=O1e,N1e=F_,D1e=w1e,$1e=E1e,M1e=S1e,F1e=C1e,L1e=x1e;function wd(t){var e=this.__data__=new N1e(t);this.size=e.size}wd.prototype.clear=D1e;wd.prototype.delete=$1e;wd.prototype.get=M1e;wd.prototype.has=F1e;wd.prototype.set=L1e;var Y9=wd,V1e="__lodash_hash_undefined__";function U1e(t){return this.__data__.set(t,V1e),this}var j1e=U1e;function B1e(t){return this.__data__.has(t)}var z1e=B1e,q1e=aP,H1e=j1e,W1e=z1e;function Ty(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new q1e;++e<n;)this.add(t[e])}Ty.prototype.add=Ty.prototype.push=H1e;Ty.prototype.has=W1e;var G1e=Ty;function K1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Q1e=K1e;function Y1e(t,e){return t.has(e)}var X1e=Y1e,J1e=G1e,Z1e=Q1e,ewe=X1e,twe=1,nwe=2;function rwe(t,e,n,r,i,s){var o=n&twe,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t),c=s.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,p=n&nwe?new J1e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],y=e[d];if(r)var g=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Z1e(e,function(m,_){if(!ewe(p,_)&&(v===m||i(v,m,n,r,s)))return p.push(_)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var X9=rwe,iwe=So,swe=iwe.Uint8Array,owe=swe;function awe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var uwe=awe;function lwe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cwe=lwe,_N=D_,wN=owe,dwe=F9,hwe=X9,fwe=uwe,pwe=cwe,mwe=1,gwe=2,vwe="[object Boolean]",ywe="[object Date]",_we="[object Error]",wwe="[object Map]",bwe="[object Number]",Ewe="[object RegExp]",Twe="[object Set]",Swe="[object String]",Iwe="[object Symbol]",Cwe="[object ArrayBuffer]",Awe="[object DataView]",bN=_N?_N.prototype:void 0,Dw=bN?bN.valueOf:void 0;function Pwe(t,e,n,r,i,s,o){switch(n){case Awe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Cwe:return!(t.byteLength!=e.byteLength||!s(new wN(t),new wN(e)));case vwe:case ywe:case bwe:return dwe(+t,+e);case _we:return t.name==e.name&&t.message==e.message;case Ewe:case Swe:return t==e+"";case wwe:var a=fwe;case Twe:var u=r&mwe;if(a||(a=pwe),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=gwe,o.set(t,e);var c=hwe(a(t),a(e),r,i,s,o);return o.delete(t),c;case Iwe:if(Dw)return Dw.call(t)==Dw.call(e)}return!1}var Rwe=Pwe;function kwe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Owe=kwe,xwe=Owe,Nwe=Fa;function Dwe(t,e,n){var r=e(t);return Nwe(t)?r:xwe(r,n(t))}var $we=Dwe;function Mwe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Fwe=Mwe;function Lwe(){return[]}var Vwe=Lwe,Uwe=Fwe,jwe=Vwe,Bwe=Object.prototype,zwe=Bwe.propertyIsEnumerable,EN=Object.getOwnPropertySymbols,qwe=EN?function(t){return t==null?[]:(t=Object(t),Uwe(EN(t),function(e){return zwe.call(t,e)}))}:jwe,Hwe=qwe,Wwe=$we,Gwe=Hwe,Kwe=dP;function Qwe(t){return Wwe(t,Kwe,Gwe)}var Ywe=Qwe,TN=Ywe,Xwe=1,Jwe=Object.prototype,Zwe=Jwe.hasOwnProperty;function ebe(t,e,n,r,i,s){var o=n&Xwe,a=TN(t),u=a.length,l=TN(e),c=l.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=a[d];if(!(o?h in e:Zwe.call(e,h)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var g=o;++d<u;){h=a[d];var m=t[h],_=e[h];if(r)var b=o?r(_,m,h,e,t,s):r(m,_,h,t,e,s);if(!(b===void 0?m===_||i(m,_,n,r,s):b)){y=!1;break}g||(g=h=="constructor")}if(y&&!g){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(t),s.delete(e),y}var tbe=ebe,nbe=hl,rbe=So,ibe=nbe(rbe,"DataView"),sbe=ibe,obe=hl,abe=So,ube=obe(abe,"Promise"),lbe=ube,cbe=hl,dbe=So,hbe=cbe(dbe,"Set"),fbe=hbe,pbe=hl,mbe=So,gbe=pbe(mbe,"WeakMap"),vbe=gbe,vT=sbe,yT=oP,_T=lbe,wT=fbe,bT=vbe,J9=tm,bd=M9,SN="[object Map]",ybe="[object Object]",IN="[object Promise]",CN="[object Set]",AN="[object WeakMap]",PN="[object DataView]",_be=bd(vT),wbe=bd(yT),bbe=bd(_T),Ebe=bd(wT),Tbe=bd(bT),tu=J9;(vT&&tu(new vT(new ArrayBuffer(1)))!=PN||yT&&tu(new yT)!=SN||_T&&tu(_T.resolve())!=IN||wT&&tu(new wT)!=CN||bT&&tu(new bT)!=AN)&&(tu=function(t){var e=J9(t),n=e==ybe?t.constructor:void 0,r=n?bd(n):"";if(r)switch(r){case _be:return PN;case wbe:return SN;case bbe:return IN;case Ebe:return CN;case Tbe:return AN}return e});var Sbe=tu,$w=Y9,Ibe=X9,Cbe=Rwe,Abe=tbe,RN=Sbe,kN=Fa,ON=G9,Pbe=K9,Rbe=1,xN="[object Arguments]",NN="[object Array]",lg="[object Object]",kbe=Object.prototype,DN=kbe.hasOwnProperty;function Obe(t,e,n,r,i,s){var o=kN(t),a=kN(e),u=o?NN:RN(t),l=a?NN:RN(e);u=u==xN?lg:u,l=l==xN?lg:l;var c=u==lg,d=l==lg,h=u==l;if(h&&ON(t)){if(!ON(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new $w),o||Pbe(t)?Ibe(t,e,n,r,i,s):Cbe(t,e,u,n,r,i,s);if(!(n&Rbe)){var p=c&&DN.call(t,"__wrapped__"),v=d&&DN.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,g=v?e.value():e;return s||(s=new $w),i(y,g,n,r,s)}}return h?(s||(s=new $w),Abe(t,e,n,r,i,s)):!1}var xbe=Obe,Nbe=xbe,$N=nm;function Z9(t,e,n,r,i){return t===e?!0:t==null||e==null||!$N(t)&&!$N(e)?t!==t&&e!==e:Nbe(t,e,n,r,Z9,i)}var e8=Z9,Dbe=Y9,$be=e8,Mbe=1,Fbe=2;function Lbe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===void 0&&!(u in t))return!1}else{var d=new Dbe;if(r)var h=r(l,c,u,t,e,d);if(!(h===void 0?$be(c,l,Mbe|Fbe,r,d):h))return!1}}return!0}var Vbe=Lbe,Ube=sP;function jbe(t){return t===t&&!Ube(t)}var t8=jbe,Bbe=t8,zbe=dP;function qbe(t){for(var e=zbe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bbe(i)]}return e}var Hbe=qbe;function Wbe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var n8=Wbe,Gbe=Vbe,Kbe=Hbe,Qbe=n8;function Ybe(t){var e=Kbe(t);return e.length==1&&e[0][2]?Qbe(e[0][0],e[0][1]):function(n){return n===t||Gbe(n,t,e)}}var Xbe=Ybe,Jbe=U9,Zbe=V_;function eEe(t,e){e=Jbe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Zbe(e[n++])];return n&&n==r?t:void 0}var r8=eEe,tEe=r8;function nEe(t,e,n){var r=t==null?void 0:tEe(t,e);return r===void 0?n:r}var rEe=nEe;function iEe(t,e){return t!=null&&e in Object(t)}var sEe=iEe,oEe=sEe,aEe=q9;function uEe(t,e){return t!=null&&aEe(t,e,oEe)}var lEe=uEe,cEe=e8,dEe=rEe,hEe=lEe,fEe=iP,pEe=t8,mEe=n8,gEe=V_,vEe=1,yEe=2;function _Ee(t,e){return fEe(t)&&pEe(e)?mEe(gEe(t),e):function(n){var r=dEe(n,t);return r===void 0&&r===e?hEe(n,t):cEe(e,r,vEe|yEe)}}var wEe=_Ee;function bEe(t){return t}var EEe=bEe;function TEe(t){return function(e){return e==null?void 0:e[t]}}var SEe=TEe,IEe=r8;function CEe(t){return function(e){return IEe(e,t)}}var AEe=CEe,PEe=SEe,REe=AEe,kEe=iP,OEe=V_;function xEe(t){return kEe(t)?PEe(OEe(t)):REe(t)}var NEe=xEe,DEe=Xbe,$Ee=wEe,MEe=EEe,FEe=Fa,LEe=NEe;function VEe(t){return typeof t=="function"?t:t==null?MEe:typeof t=="object"?FEe(t)?$Ee(t[0],t[1]):DEe(t):LEe(t)}var i8=VEe,UEe=W9,jEe=Q9,BEe=i8;function zEe(t,e){var n={};return e=BEe(e),jEe(t,function(r,i,s){UEe(n,i,e(r,i,s))}),n}var qEe=zEe;const s8=Rn(qEe);function fl(t){this._maxSize=t,this.clear()}fl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};fl.prototype.get=function(t){return this._values[t]};fl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var HEe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,o8=/^\d+$/,WEe=/^\d/,GEe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,KEe=/^\s*(['"]?)(.*?)(\1)\s*$/,hP=512,MN=new fl(hP),FN=new fl(hP),LN=new fl(hP),U_={Cache:fl,split:ET,normalizePath:Mw,setter:function(t){var e=Mw(t);return FN.get(t)||FN.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Mw(t);return LN.get(t)||LN.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(fP(n)||o8.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){QEe(Array.isArray(t)?t:ET(t),e,n)}};function Mw(t){return MN.get(t)||MN.set(t,ET(t).map(function(e){return e.replace(KEe,"$2")}))}function ET(t){return t.match(HEe)||[""]}function QEe(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(JEe(i)&&(i='"'+i+'"'),a=fP(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function fP(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function YEe(t){return t.match(WEe)&&!t.match(o8)}function XEe(t){return GEe.test(t)}function JEe(t){return!fP(t)&&(YEe(t)||XEe(t))}const cg={context:"$",value:"."};class oa{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===cg.context,this.isValue=this.key[0]===cg.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?cg.context:this.isValue?cg.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&U_.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}oa.prototype.__isYupRef=!0;function Sy(){return Sy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function ZEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dg(t){function e(n,r){let{value:i,path:s="",label:o,options:a,originalValue:u,sync:l}=n,c=ZEe(n,["value","path","label","options","originalValue","sync"]);const{name:d,test:h,params:p,message:v}=t;let{parent:y,context:g}=a;function m(A){return oa.isRef(A)?A.getValue(i,y,g):A}function _(A={}){const R=s8(Sy({value:i,originalValue:u,label:o,path:A.path||s},p,A.params),m),x=new jr(jr.formatError(A.message||v,R),i,R.path,A.type||d);return x.params=R,x}let b=Sy({path:s,parent:y,type:d,createError:_,resolve:m,options:a,originalValue:u},c);if(!l){try{Promise.resolve(h.call(b,i,b)).then(A=>{jr.isError(A)?r(A):A?r(null,A):r(_())}).catch(r)}catch(A){r(A)}return}let w;try{var E;if(w=h.call(b,i,b),typeof((E=w)==null?void 0:E.then)=="function")throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(A){r(A);return}jr.isError(w)?r(w):w?r(null,w):r(_())}return e.OPTIONS=t,e}let eTe=t=>t.substr(0,t.length-1).substr(1);function tTe(t,e,n,r=n){let i,s,o;return e?(U_.forEach(e,(a,u,l)=>{let c=u?eTe(a):a;if(t=t.resolve({context:r,parent:i,value:n}),t.innerType){let d=l?parseInt(c,10):0;if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=t.innerType}if(!l){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t._type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=u?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Iy{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const n of this.list)e.push(n);for(const[,n]of this.refs)e.push(n.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce((n,r)=>n.concat(oa.isRef(r)?e(r):r),[])}add(e){oa.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){oa.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new Iy;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,n){const r=this.clone();return e.list.forEach(i=>r.add(i)),e.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function gi(){return gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gi.apply(this,arguments)}class Gn{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new Iy,this._blacklist=new Iy,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(eu.notType)}),this.type=(e==null?void 0:e.type)||"mixed",this.spec=gi({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},e==null?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=gi({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=hT(gi({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=gi({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return this.spec.nullable&&e===null?!0:this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}cast(e,n={}){let r=this.resolve(gi({value:e},n)),i=r._cast(e,n);if(e!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let s=zc(e),o=zc(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault()),r}_validate(e,n={},r){let{sync:i,path:s,from:o=[],originalValue:a=e,strict:u=this.spec.strict,abortEarly:l=this.spec.abortEarly}=n,c=e;u||(c=this._cast(c,gi({assert:!1},n)));let d={value:c,path:s,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:o},h=[];this._typeError&&h.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),wy({args:d,value:c,path:s,sync:i,tests:h,endEarly:l},v=>{if(v)return void r(v,c);wy({tests:this.tests.concat(p),args:d,path:s,sync:i,value:c,endEarly:l},r)})}validate(e,n,r){let i=this.resolve(gi({},n,{value:e}));return typeof r=="function"?i._validate(e,n,r):new Promise((s,o)=>i._validate(e,n,(a,u)=>{a?o(a):s(u)}))}validateSync(e,n){let r=this.resolve(gi({},n,{value:e})),i;return r._validate(e,gi({},n,{sync:!0}),(s,o)=>{if(s)throw s;i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(jr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(jr.isError(r))return!1;throw r}}_getDefault(){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this):hT(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){let n=this.clone();return n.spec.strict=e,n}_isPresent(e){return e!=null}defined(e=eu.defined){return this.test({message:e,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(e=eu.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:e,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e}nullable(e=!0){return this.clone({nullable:e!==!1})}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=eu.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=dg(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=H9(e).map(s=>new oa(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(new U0e(i,n)),r}typeError(e){let n=this.clone();return n._typeError=dg({message:e,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(e,n=eu.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=dg({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:o}})}}),r}notOneOf(e,n=eu.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=dg({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:s.toArray().join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(){const e=this.clone(),{label:n,meta:r}=e.spec;return{meta:r,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,o,a)=>a.findIndex(u=>u.name===s.name)===o)}}}Gn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Gn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=tTe(this,e,n,r.context);return o[t](i&&i[s],gi({},r,{parent:i,path:e}))};for(const t of["equals","is"])Gn.prototype[t]=Gn.prototype.oneOf;for(const t of["not","nope"])Gn.prototype[t]=Gn.prototype.notOneOf;Gn.prototype.optional=Gn.prototype.notRequired;const nTe=Gn;nTe.prototype;const Wt=t=>t==null;function Yf(){return new a8}class a8 extends Gn{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}_typeCheck(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}isTrue(e=pT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Wt(n)||n===!0}})}isFalse(e=pT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Wt(n)||n===!1}})}}Yf.prototype=a8.prototype;let rTe=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,iTe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sTe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oTe=t=>Wt(t)||t===t.trim(),aTe={}.toString();function mt(){return new u8}class u8 extends Gn{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(e){if(this.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===aTe?e:n})})}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,n=Mi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return Wt(r)||r.length===this.resolve(e)}})}min(e,n=Mi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return Wt(r)||r.length>=this.resolve(e)}})}max(e,n=Mi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},test(r){return Wt(r)||r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Mi.matches,params:{regex:e},test:o=>Wt(o)||o===""&&r||o.search(e)!==-1})}email(e=Mi.email){return this.matches(rTe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Mi.url){return this.matches(iTe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Mi.uuid){return this.matches(sTe,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Mi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:oTe})}lowercase(e=Mi.lowercase){return this.transform(n=>Wt(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>Wt(n)||n===n.toLowerCase()})}uppercase(e=Mi.uppercase){return this.transform(n=>Wt(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>Wt(n)||n===n.toUpperCase()})}}mt.prototype=u8.prototype;let uTe=t=>t!=+t;function Jg(){return new l8}class l8 extends Gn{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(e){let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!uTe(e)}min(e,n=Do.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return Wt(r)||r>=this.resolve(e)}})}max(e,n=Do.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(r){return Wt(r)||r<=this.resolve(e)}})}lessThan(e,n=Do.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},test(r){return Wt(r)||r<this.resolve(e)}})}moreThan(e,n=Do.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},test(r){return Wt(r)||r>this.resolve(e)}})}positive(e=Do.positive){return this.moreThan(0,e)}negative(e=Do.negative){return this.lessThan(0,e)}integer(e=Do.integer){return this.test({name:"integer",message:e,test:n=>Wt(n)||Number.isInteger(n)})}truncate(){return this.transform(e=>Wt(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Wt(i)?i:Math[e](i))}}Jg.prototype=l8.prototype;var lTe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function cTe(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=lTe.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let pP=new Date(""),dTe=t=>Object.prototype.toString.call(t)==="[object Date]";function mP(){return new gP}class gP extends Gn{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(e){return this.isType(e)?e:(e=cTe(e),isNaN(e)?pP:new Date(e))})})}_typeCheck(e){return dTe(e)&&!isNaN(e.getTime())}prepareParam(e,n){let r;if(oa.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=fT.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(i){return Wt(i)||i>=this.resolve(r)}})}max(e,n=fT.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(i){return Wt(i)||i<=this.resolve(r)}})}}gP.INVALID_DATE=pP;mP.prototype=gP.prototype;mP.INVALID_DATE=pP;function hTe(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var fTe=hTe;function pTe(t){return function(e){return t==null?void 0:t[e]}}var mTe=pTe,gTe=mTe,vTe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yTe=gTe(vTe),_Te=yTe,wTe=_Te,bTe=rm,ETe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,TTe="\\u0300-\\u036f",STe="\\ufe20-\\ufe2f",ITe="\\u20d0-\\u20ff",CTe=TTe+STe+ITe,ATe="["+CTe+"]",PTe=RegExp(ATe,"g");function RTe(t){return t=bTe(t),t&&t.replace(ETe,wTe).replace(PTe,"")}var kTe=RTe,OTe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function xTe(t){return t.match(OTe)||[]}var NTe=xTe,DTe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function $Te(t){return DTe.test(t)}var MTe=$Te,c8="\\ud800-\\udfff",FTe="\\u0300-\\u036f",LTe="\\ufe20-\\ufe2f",VTe="\\u20d0-\\u20ff",UTe=FTe+LTe+VTe,d8="\\u2700-\\u27bf",h8="a-z\\xdf-\\xf6\\xf8-\\xff",jTe="\\xac\\xb1\\xd7\\xf7",BTe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zTe="\\u2000-\\u206f",qTe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f8="A-Z\\xc0-\\xd6\\xd8-\\xde",HTe="\\ufe0e\\ufe0f",p8=jTe+BTe+zTe+qTe,m8="[']",VN="["+p8+"]",WTe="["+UTe+"]",g8="\\d+",GTe="["+d8+"]",v8="["+h8+"]",y8="[^"+c8+p8+g8+d8+h8+f8+"]",KTe="\\ud83c[\\udffb-\\udfff]",QTe="(?:"+WTe+"|"+KTe+")",YTe="[^"+c8+"]",_8="(?:\\ud83c[\\udde6-\\uddff]){2}",w8="[\\ud800-\\udbff][\\udc00-\\udfff]",xl="["+f8+"]",XTe="\\u200d",UN="(?:"+v8+"|"+y8+")",JTe="(?:"+xl+"|"+y8+")",jN="(?:"+m8+"(?:d|ll|m|re|s|t|ve))?",BN="(?:"+m8+"(?:D|LL|M|RE|S|T|VE))?",b8=QTe+"?",E8="["+HTe+"]?",ZTe="(?:"+XTe+"(?:"+[YTe,_8,w8].join("|")+")"+E8+b8+")*",eSe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tSe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nSe=E8+b8+ZTe,rSe="(?:"+[GTe,_8,w8].join("|")+")"+nSe,iSe=RegExp([xl+"?"+v8+"+"+jN+"(?="+[VN,xl,"$"].join("|")+")",JTe+"+"+BN+"(?="+[VN,xl+UN,"$"].join("|")+")",xl+"?"+UN+"+"+jN,xl+"+"+BN,tSe,eSe,g8,rSe].join("|"),"g");function sSe(t){return t.match(iSe)||[]}var oSe=sSe,aSe=NTe,uSe=MTe,lSe=rm,cSe=oSe;function dSe(t,e,n){return t=lSe(t),e=n?void 0:e,e===void 0?uSe(t)?cSe(t):aSe(t):t.match(e)||[]}var hSe=dSe,fSe=fTe,pSe=kTe,mSe=hSe,gSe="[']",vSe=RegExp(gSe,"g");function ySe(t){return function(e){return fSe(mSe(pSe(e).replace(vSe,"")),t,"")}}var T8=ySe,_Se=T8,wSe=_Se(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),bSe=wSe;const zN=Rn(bSe);function ESe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var TSe=ESe,SSe=TSe;function ISe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:SSe(t,e,n)}var CSe=ISe,ASe="\\ud800-\\udfff",PSe="\\u0300-\\u036f",RSe="\\ufe20-\\ufe2f",kSe="\\u20d0-\\u20ff",OSe=PSe+RSe+kSe,xSe="\\ufe0e\\ufe0f",NSe="\\u200d",DSe=RegExp("["+NSe+ASe+OSe+xSe+"]");function $Se(t){return DSe.test(t)}var S8=$Se;function MSe(t){return t.split("")}var FSe=MSe,I8="\\ud800-\\udfff",LSe="\\u0300-\\u036f",VSe="\\ufe20-\\ufe2f",USe="\\u20d0-\\u20ff",jSe=LSe+VSe+USe,BSe="\\ufe0e\\ufe0f",zSe="["+I8+"]",TT="["+jSe+"]",ST="\\ud83c[\\udffb-\\udfff]",qSe="(?:"+TT+"|"+ST+")",C8="[^"+I8+"]",A8="(?:\\ud83c[\\udde6-\\uddff]){2}",P8="[\\ud800-\\udbff][\\udc00-\\udfff]",HSe="\\u200d",R8=qSe+"?",k8="["+BSe+"]?",WSe="(?:"+HSe+"(?:"+[C8,A8,P8].join("|")+")"+k8+R8+")*",GSe=k8+R8+WSe,KSe="(?:"+[C8+TT+"?",TT,A8,P8,zSe].join("|")+")",QSe=RegExp(ST+"(?="+ST+")|"+KSe+GSe,"g");function YSe(t){return t.match(QSe)||[]}var XSe=YSe,JSe=FSe,ZSe=S8,eIe=XSe;function tIe(t){return ZSe(t)?eIe(t):JSe(t)}var nIe=tIe,rIe=CSe,iIe=S8,sIe=nIe,oIe=rm;function aIe(t){return function(e){e=oIe(e);var n=iIe(e)?sIe(e):void 0,r=n?n[0]:e.charAt(0),i=n?rIe(n,1).join(""):e.slice(1);return r[t]()+i}}var uIe=aIe,lIe=uIe,cIe=lIe("toUpperCase"),dIe=cIe,hIe=rm,fIe=dIe;function pIe(t){return fIe(hIe(t).toLowerCase())}var mIe=pIe,gIe=mIe,vIe=T8,yIe=vIe(function(t,e,n){return e=e.toLowerCase(),t+(n?gIe(e):e)}),_Ie=yIe;const wIe=Rn(_Ie);var bIe=W9,EIe=Q9,TIe=i8;function SIe(t,e){var n={};return e=TIe(e),EIe(t,function(r,i,s){bIe(n,e(r,i,s),r)}),n}var IIe=SIe;const CIe=Rn(IIe);var vP={exports:{}};vP.exports=function(t){return O8(AIe(t),t)};vP.exports.array=O8;function O8(t,e){var n=t.length,r=new Array(n),i={},s=n,o=PIe(e),a=RIe(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(l,c,d){if(d.has(l)){var h;try{h=", node was:"+JSON.stringify(l)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[c]){i[c]=!0;var p=o.get(l)||new Set;if(p=Array.from(p),c=p.length){d.add(l);do{var v=p[--c];u(v,a.get(v),d)}while(c);d.delete(l)}r[--n]=l}}}function AIe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function PIe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function RIe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var kIe=vP.exports;const OIe=Rn(kIe);function xIe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=U_.split(o)[0];r.add(u),i.has(`${a}-${u}`)||n.push([a,u])}for(const o in t)if(_y(t,o)){let a=t[o];r.add(o),oa.isRef(a)&&a.isSibling?s(a.path,o):cP(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return OIe.array(Array.from(r),n).reverse()}function qN(t,e){let n=1/0;return t.some((r,i)=>{var s;if(((s=e.path)==null?void 0:s.indexOf(r))!==-1)return n=i,!0}),n}function x8(t){return(e,n)=>qN(t,e)-qN(t,n)}function Kl(){return Kl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}let HN=t=>Object.prototype.toString.call(t)==="[object Object]";function NIe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const DIe=x8([]);class N8 extends Gn{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=DIe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),e&&this.shape(e)})}_typeCheck(e){return HN(e)||typeof e=="function"}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(d=>this._nodes.indexOf(d)===-1)),u={},l=Kl({},n,{parent:u,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],p=_y(i,d);if(h){let v,y=i[d];l.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:y,context:n.context,parent:u});let g="spec"in h?h.spec:void 0,m=g==null?void 0:g.strict;if(g!=null&&g.strip){c=c||d in i;continue}v=!n.__validating||!m?h.cast(i[d],l):i[d],v!==void 0&&(u[d]=v)}else p&&!o&&(u[d]=i[d]);u[d]!==i[d]&&(c=!0)}return c?u:i}_validate(e,n={},r){let i=[],{sync:s,from:o=[],originalValue:a=e,abortEarly:u=this.spec.abortEarly,recursive:l=this.spec.recursive}=n;o=[{schema:this,value:a},...o],n.__validating=!0,n.originalValue=a,n.from=o,super._validate(e,n,(c,d)=>{if(c){if(!jr.isError(c)||u)return void r(c,d);i.push(c)}if(!l||!HN(d)){r(i[0]||null,d);return}a=a||d;let h=this._nodes.map(p=>(v,y)=>{let g=p.indexOf(".")===-1?(n.path?`${n.path}.`:"")+p:`${n.path||""}["${p}"]`,m=this.fields[p];if(m&&"validate"in m){m.validate(d[p],Kl({},n,{path:g,from:o,strict:!0,parent:d,originalValue:a[p]}),y);return}y(null)});wy({sync:s,tests:h,value:d,errors:i,endEarly:u,sort:this._sortErrors,path:n.path},r)})}clone(e){const n=super.clone(e);return n.fields=Kl({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];o===void 0?r[i]=s:o instanceof Gn&&s instanceof Gn&&(r[i]=s.concat(o))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let e={};return this._nodes.forEach(n=>{const r=this.fields[n];e[n]="default"in r?r.getDefault():void 0}),e}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(e,n=[]){let r=this.clone(),i=Object.assign(r.fields,e);return r.fields=i,r._sortErrors=x8(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=xIe(i,r._excludedEdges),r}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(e){const n=this.clone(),r=n.fields;n.fields={};for(const i of e)delete r[i];return n.withMutation(()=>n.shape(r))}from(e,n,r){let i=U_.getter(e,!0);return this.transform(s=>{if(s==null)return s;let o=s;return _y(s,e)&&(o=Kl({},s),r||delete o[e],o[n]=i(s)),o})}noUnknown(e=!0,n=mT.noUnknown){typeof e=="string"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=NIe(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=mT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>n&&CIe(n,(r,i)=>e(i)))}camelCase(){return this.transformKeys(wIe)}snakeCase(){return this.transformKeys(zN)}constantCase(){return this.transformKeys(e=>zN(e).toUpperCase())}describe(){let e=super.describe();return e.fields=s8(this.fields,n=>n.describe()),e}}function ho(t){return new N8(t)}ho.prototype=N8.prototype;function Cy(){return Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function Zg(t){return new D8(t)}class D8 extends Gn{constructor(e){super({type:"array"}),this.innerType=void 0,this.innerType=e,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(e){return Array.isArray(e)}get _subType(){return this.innerType}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const u=this.innerType.cast(o,Cy({},n,{path:`${n.path||""}[${a}]`}));return u!==o&&(i=!0),u});return i?s:r}_validate(e,n={},r){var i,s;let o=[],a=n.sync,u=n.path,l=this.innerType,c=(i=n.abortEarly)!=null?i:this.spec.abortEarly,d=(s=n.recursive)!=null?s:this.spec.recursive,h=n.originalValue!=null?n.originalValue:e;super._validate(e,n,(p,v)=>{if(p){if(!jr.isError(p)||c)return void r(p,v);o.push(p)}if(!d||!l||!this._typeCheck(v)){r(o[0]||null,v);return}h=h||v;let y=new Array(v.length);for(let g=0;g<v.length;g++){let m=v[g],_=`${n.path||""}[${g}]`,b=Cy({},n,{path:_,strict:!0,parent:v,index:g,originalValue:h[g]});y[g]=(w,E)=>l.validate(m,b,E)}wy({sync:a,path:u,value:v,errors:o,endEarly:c,tests:y},r)})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!cP(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+zc(e));return n.innerType=e,n}length(e,n=Xg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return Wt(r)||r.length===this.resolve(e)}})}min(e,n){return n=n||Xg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return Wt(r)||r.length>=this.resolve(e)}})}max(e,n){return n=n||Xg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(r){return Wt(r)||r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let e=super.describe();return this.innerType&&(e.innerType=this.innerType.describe()),e}nullable(e=!0){return super.nullable(e)}defined(){return super.defined()}required(e){return super.required(e)}}Zg.prototype=D8.prototype;const $8=({onConfirmUpdate:t,modal:e})=>{const[n,r]=S.useState(""),{values:i}=To();return k(Yp,{isOpen:e.isOpenModal,onRequestClose:e.onCloseModal,children:[k("div",{className:"text-center padding-l",children:[f("h4",{children:"Confirm Update"}),k("p",{children:["To continue updating profile including your ",f("strong",{children:"email"}),",",f("br",{}),"please confirm by entering your password"]}),f("input",{className:"input-form d-block",onChange:s=>r(s.target.value),placeholder:"Enter your password",required:!0,type:"password",value:n})]}),f("br",{}),f("div",{className:"d-flex-center",children:k("button",{className:"button",onClick:()=>{t(i,n),e.onCloseModal()},type:"button",children:[f(_p,{})," Confirm"]})}),f("button",{className:"modal-close-button button button-border button-border-gray button-small",onClick:e.onCloseModal,type:"button",children:f(WF,{})})]})};$8.propTypes={onConfirmUpdate:I.func.isRequired,modal:I.shape({onCloseModal:I.func,isOpenModal:I.bool}).isRequired};const M8=t=>{var l;const{name:e,form:n,push:r,remove:i}=t,[s,o]=Be.useState(""),a=c=>{const d=c.target.value;o(d)},u=()=>{n.values[e].includes(s)||(r(s),o(""))};return k("div",{className:"d-flex",children:[k("div",{className:"input-group product-form-field",children:[k("div",{className:"d-flex",children:[n.touched[e]&&n.errors[e]?f("span",{className:"label-input label-error",children:n.errors[e]}):f("label",{className:"label-input",htmlFor:e,children:"Available Colors"}),s&&k(_n,{children:[f("div",{className:"color-item",style:{background:s}}),k("h4",{className:"text-link",onClick:u,style:{textDecoration:"underline"},role:"presentation",children:[f("i",{className:"fa fa-check"}),"Add Selected Color"]})]})]}),f("input",{name:e,type:"color",onChange:a,id:e})]}),k("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"Selected Color(s)"}),f("div",{className:"color-chooser",children:(l=n.values[e])==null?void 0:l.map((c,d)=>f("div",{onClick:()=>i(d),className:"color-item color-item-deletable",title:`Remove ${c}`,style:{backgroundColor:c},role:"presentation"},c))})]})]})};M8.propTypes={name:I.string.isRequired,form:I.shape({values:I.object,touched:I.object,errors:I.object}).isRequired,push:I.func.isRequired,remove:I.func.isRequired};function $Ie(t){if(Array.isArray(t))return zb(t)}function MIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gh(t){return $Ie(t)||MIe(t)||NF(t)||FIe()}function im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sm(t,e,n){return e&&WN(t.prototype,e),n&&WN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function om(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function LIe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function VIe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var UIe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(VIe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=LIe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),nr="-ms-",Ay="-moz-",dt="-webkit-",F8="comm",yP="rule",_P="decl",jIe="@import",L8="@keyframes",BIe=Math.abs,j_=String.fromCharCode,zIe=Object.assign;function qIe(t,e){return(((e<<2^Dr(t,0))<<2^Dr(t,1))<<2^Dr(t,2))<<2^Dr(t,3)}function V8(t){return t.trim()}function HIe(t,e){return(t=e.exec(t))?t[0]:t}function ht(t,e,n){return t.replace(e,n)}function IT(t,e){return t.indexOf(e)}function Dr(t,e){return t.charCodeAt(e)|0}function Xf(t,e,n){return t.slice(e,n)}function us(t){return t.length}function wP(t){return t.length}function hg(t,e){return e.push(t),t}function WIe(t,e){return t.map(e).join("")}var B_=1,qc=1,U8=0,Wr=0,hn=0,Ed="";function z_(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:B_,column:qc,length:o,return:""}}function Xd(t,e){return zIe(z_("",null,null,"",null,null,0),t,{length:-t.length},e)}function GIe(){return hn}function KIe(){return hn=Wr>0?Dr(Ed,--Wr):0,qc--,hn===10&&(qc=1,B_--),hn}function ri(){return hn=Wr<U8?Dr(Ed,Wr++):0,qc++,hn===10&&(qc=1,B_++),hn}function ks(){return Dr(Ed,Wr)}function ev(){return Wr}function am(t,e){return Xf(Ed,t,e)}function Jf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j8(t){return B_=qc=1,U8=us(Ed=t),Wr=0,[]}function B8(t){return Ed="",t}function tv(t){return V8(am(Wr-1,CT(t===91?t+2:t===40?t+1:t)))}function QIe(t){for(;(hn=ks())&&hn<33;)ri();return Jf(t)>2||Jf(hn)>3?"":" "}function YIe(t,e){for(;--e&&ri()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return am(t,ev()+(e<6&&ks()==32&&ri()==32))}function CT(t){for(;ri();)switch(hn){case t:return Wr;case 34:case 39:t!==34&&t!==39&&CT(hn);break;case 40:t===41&&CT(t);break;case 92:ri();break}return Wr}function XIe(t,e){for(;ri()&&t+hn!==47+10;)if(t+hn===42+42&&ks()===47)break;return"/*"+am(e,Wr-1)+"*"+j_(t===47?t:ri())}function JIe(t){for(;!Jf(ks());)ri();return am(t,Wr)}function ZIe(t){return B8(nv("",null,null,null,[""],t=j8(t),0,[0],t))}function nv(t,e,n,r,i,s,o,a,u){for(var l=0,c=0,d=o,h=0,p=0,v=0,y=1,g=1,m=1,_=0,b="",w=i,E=s,A=r,R=b;g;)switch(v=_,_=ri()){case 40:if(v!=108&&R.charCodeAt(d-1)==58){IT(R+=ht(tv(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:R+=tv(_);break;case 9:case 10:case 13:case 32:R+=QIe(v);break;case 92:R+=YIe(ev()-1,7);continue;case 47:switch(ks()){case 42:case 47:hg(eCe(XIe(ri(),ev()),e,n),u);break;default:R+="/"}break;case 123*y:a[l++]=us(R)*m;case 125*y:case 59:case 0:switch(_){case 0:case 125:g=0;case 59+c:p>0&&us(R)-d&&hg(p>32?KN(R+";",r,n,d-1):KN(ht(R," ","")+";",r,n,d-2),u);break;case 59:R+=";";default:if(hg(A=GN(R,e,n,l,c,i,a,b,w=[],E=[],d),s),_===123)if(c===0)nv(R,e,A,A,w,s,d,a,E);else switch(h){case 100:case 109:case 115:nv(t,A,A,r&&hg(GN(t,A,A,0,0,i,a,b,i,w=[],d),E),i,E,d,a,r?w:E);break;default:nv(R,A,A,A,[""],E,0,a,E)}}l=c=p=0,y=m=1,b=R="",d=o;break;case 58:d=1+us(R),p=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&KIe()==125)continue}switch(R+=j_(_),_*y){case 38:m=c>0?1:(R+="\f",-1);break;case 44:a[l++]=(us(R)-1)*m,m=1;break;case 64:ks()===45&&(R+=tv(ri())),h=ks(),c=d=us(b=R+=JIe(ev())),_++;break;case 45:v===45&&us(R)==2&&(y=0)}}return s}function GN(t,e,n,r,i,s,o,a,u,l,c){for(var d=i-1,h=i===0?s:[""],p=wP(h),v=0,y=0,g=0;v<r;++v)for(var m=0,_=Xf(t,d+1,d=BIe(y=o[v])),b=t;m<p;++m)(b=V8(y>0?h[m]+" "+_:ht(_,/&\f/g,h[m])))&&(u[g++]=b);return z_(t,e,n,i===0?yP:a,u,l,c)}function eCe(t,e,n){return z_(t,e,n,F8,j_(GIe()),Xf(t,2,-2),0)}function KN(t,e,n,r){return z_(t,e,n,_P,Xf(t,0,r),Xf(t,r+1,-1),r)}function z8(t,e){switch(qIe(t,e)){case 5103:return dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+t+Ay+t+nr+t+t;case 6828:case 4268:return dt+t+nr+t+t;case 6165:return dt+t+nr+"flex-"+t+t;case 5187:return dt+t+ht(t,/(\w+).+(:[^]+)/,dt+"box-$1$2"+nr+"flex-$1$2")+t;case 5443:return dt+t+nr+"flex-item-"+ht(t,/flex-|-self/,"")+t;case 4675:return dt+t+nr+"flex-line-pack"+ht(t,/align-content|flex-|-self/,"")+t;case 5548:return dt+t+nr+ht(t,"shrink","negative")+t;case 5292:return dt+t+nr+ht(t,"basis","preferred-size")+t;case 6060:return dt+"box-"+ht(t,"-grow","")+dt+t+nr+ht(t,"grow","positive")+t;case 4554:return dt+ht(t,/([^-])(transform)/g,"$1"+dt+"$2")+t;case 6187:return ht(ht(ht(t,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),t,"")+t;case 5495:case 3959:return ht(t,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return ht(ht(t,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+t+t;case 4095:case 3583:case 4068:case 2532:return ht(t,/(.+)-inline(.+)/,dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(us(t)-1-e>6)switch(Dr(t,e+1)){case 109:if(Dr(t,e+4)!==45)break;case 102:return ht(t,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+Ay+(Dr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~IT(t,"stretch")?z8(ht(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dr(t,e+1)!==115)break;case 6444:switch(Dr(t,us(t)-3-(~IT(t,"!important")&&10))){case 107:return ht(t,":",":"+dt)+t;case 101:return ht(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(Dr(t,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+nr+"$2box$3")+t}break;case 5936:switch(Dr(t,e+11)){case 114:return dt+t+nr+ht(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dt+t+nr+ht(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dt+t+nr+ht(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dt+t+nr+t+t}return t}function pc(t,e){for(var n="",r=wP(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function tCe(t,e,n,r){switch(t.type){case jIe:case _P:return t.return=t.return||t.value;case F8:return"";case L8:return t.return=t.value+"{"+pc(t.children,r)+"}";case yP:t.value=t.props.join(",")}return us(n=pc(t.children,r))?t.return=t.value+"{"+n+"}":""}function nCe(t){var e=wP(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function rCe(t){return function(e){e.root||(e=e.return)&&t(e)}}function iCe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case _P:t.return=z8(t.value,t.length);break;case L8:return pc([Xd(t,{value:ht(t.value,"@","@"+dt)})],r);case yP:if(t.length)return WIe(t.props,function(i){switch(HIe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pc([Xd(t,{props:[ht(i,/:(read-\w+)/,":"+Ay+"$1")]})],r);case"::placeholder":return pc([Xd(t,{props:[ht(i,/:(plac\w+)/,":"+dt+"input-$1")]}),Xd(t,{props:[ht(i,/:(plac\w+)/,":"+Ay+"$1")]}),Xd(t,{props:[ht(i,/:(plac\w+)/,nr+"input-$1")]})],r)}return""})}}function sCe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var oCe=function(e,n,r){for(var i=0,s=0;i=s,s=ks(),i===38&&s===12&&(n[r]=1),!Jf(s);)ri();return am(e,Wr)},aCe=function(e,n){var r=-1,i=44;do switch(Jf(i)){case 0:i===38&&ks()===12&&(n[r]=1),e[r]+=oCe(Wr-1,n,r);break;case 2:e[r]+=tv(i);break;case 4:if(i===44){e[++r]=ks()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=j_(i)}while(i=ri());return e},uCe=function(e,n){return B8(aCe(j8(e),n))},QN=new WeakMap,lCe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!QN.get(r))&&!i){QN.set(e,!0);for(var s=[],o=uCe(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},cCe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},dCe=[iCe],hCe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var g=y.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||dCe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var g=y.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)s[g[m]]=!0;a.push(y)});var u,l=[lCe,cCe];{var c,d=[tCe,rCe(function(y){c.insert(y)})],h=nCe(l.concat(i,d)),p=function(g){return pc(ZIe(g),h)};u=function(g,m,_,b){c=_,p(g?g+"{"+m.styles+"}":m.styles),b&&(v.inserted[m.name]=!0)}}var v={key:n,sheet:new UIe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return v.sheet.hydrate(a),v},fCe=!0;function q8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var bP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||fCe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},H8=function(e,n,r){bP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function W8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var G8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pCe=/[A-Z]|^ms/g,mCe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K8=function(e){return e.charCodeAt(1)===45},YN=function(e){return e!=null&&typeof e!="boolean"},Fw=sCe(function(t){return K8(t)?t:t.replace(pCe,"-$&").toLowerCase()}),XN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(mCe,function(r,i,s){return ls={name:i,styles:s,next:ls},i})}return G8[e]!==1&&!K8(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ls={name:n.name,styles:n.styles,next:ls},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ls={name:r.name,styles:r.styles,next:ls},r=r.next;var i=n.styles+";";return i}return gCe(t,e,n)}case"function":{if(t!==void 0){var s=ls,o=n(t);return ls=s,Zf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function gCe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":YN(o)&&(r+=Fw(s)+":"+XN(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)YN(o[a])&&(r+=Fw(s)+":"+XN(s,o[a])+";");else{var u=Zf(t,e,o);switch(s){case"animation":case"animationName":{r+=Fw(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var JN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ls,EP=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ls=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Zf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Zf(r,n,e[a]),i&&(s+=o[a]);JN.lastIndex=0;for(var u="",l;(l=JN.exec(s))!==null;)u+="-"+l[1];var c=W8(s)+u;return{name:c,styles:s,next:ls}},TP={}.hasOwnProperty,Q8=S.createContext(typeof HTMLElement<"u"?hCe({key:"css"}):null);Q8.Provider;var Y8=function(e){return S.forwardRef(function(n,r){var i=S.useContext(Q8);return e(n,i,r)})},X8=S.createContext({}),vCe=KP["useInsertionEffect"]?KP["useInsertionEffect"]:function(e){e()};function J8(t){vCe(t)}var AT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yCe=function(e,n){var r={};for(var i in n)TP.call(n,i)&&(r[i]=n[i]);return r[AT]=e,r},_Ce=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return bP(n,r,i),J8(function(){return H8(n,r,i)}),null},wCe=Y8(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[AT],s=[r],o="";typeof t.className=="string"?o=q8(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=EP(s,void 0,S.useContext(X8));o+=e.key+"-"+a.name;var u={};for(var l in t)TP.call(t,l)&&l!=="css"&&l!==AT&&(u[l]=t[l]);return u.ref=n,u.className=o,S.createElement(S.Fragment,null,S.createElement(_Ce,{cache:e,serialized:a,isStringTag:typeof i=="string"}),S.createElement(i,u))}),Ue=function(e,n){var r=arguments;if(n==null||!TP.call(n,"css"))return S.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=wCe,s[1]=yCe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return S.createElement.apply(null,s)};function SP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return EP(e)}var bCe=function(){var e=SP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ECe=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=t(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function TCe(t,e,n){var r=[],i=q8(t,r,n);return r.length<2?n:i+e(r)}var SCe=function(e){var n=e.cache,r=e.serializedArr;return J8(function(){for(var i=0;i<r.length;i++)H8(n,r[i],!1)}),null},ICe=Y8(function(t,e){var n=!1,r=[],i=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=EP(c,e.registered);return r.push(h),bP(e,h,!1),e.key+"-"+h.name},s=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return TCe(e.registered,i,ECe(c))},o={css:i,cx:s,theme:S.useContext(X8)},a=t.children(o);return n=!0,S.createElement(S.Fragment,null,S.createElement(SCe,{cache:e,serializedArr:r}),a)});function CCe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Z8={};Object.defineProperty(Z8,"__esModule",{value:!0});var Lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ej=S,Jd=tj(ej),ACe=jy,gn=tj(ACe);function tj(t){return t&&t.__esModule?t:{default:t}}function PCe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eD={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},xCe=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],NCe=function(e){return xCe.forEach(function(n){return delete e[n]}),e},tD=function(e,n){n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.letterSpacing=e.letterSpacing,n.style.textTransform=e.textTransform},nj=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,nD=function(){return nj?"_"+Math.random().toString(36).substr(2,12):void 0},IP=function(t){OCe(e,t),ZN(e,null,[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.id;return s!==i.prevId?{inputId:s||nD(),prevId:s}:null}}]);function e(n){RCe(this,e);var r=kCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.inputRef=function(i){r.input=i,typeof r.props.inputRef=="function"&&r.props.inputRef(i)},r.placeHolderSizerRef=function(i){r.placeHolderSizer=i},r.sizerRef=function(i){r.sizer=i},r.state={inputWidth:n.minWidth,inputId:n.id||nD(),prevId:n.id},r}return ZN(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(r,i){i.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var r=this.input&&window.getComputedStyle(this.input);r&&(tD(r,this.sizer),this.placeHolderSizer&&tD(r,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var r=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?r=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:r=this.sizer.scrollWidth+2;var i=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;r+=i,r<this.props.minWidth&&(r=this.props.minWidth),r!==this.state.inputWidth&&this.setState({inputWidth:r})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var r=this.props.injectStyles;return nj&&r?Jd.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var r=[this.props.defaultValue,this.props.value,""].reduce(function(a,u){return a??u}),i=Lw({},this.props.style);i.display||(i.display="inline-block");var s=Lw({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=PCe(this.props,[]);return NCe(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=s,Jd.default.createElement("div",{className:this.props.className,style:i},this.renderStyles(),Jd.default.createElement("input",Lw({},o,{ref:this.inputRef})),Jd.default.createElement("div",{ref:this.sizerRef,style:eD},r),this.props.placeholder?Jd.default.createElement("div",{ref:this.placeHolderSizerRef,style:eD},this.props.placeholder):null)}}]),e}(ej.Component);IP.propTypes={className:gn.default.string,defaultValue:gn.default.any,extraWidth:gn.default.oneOfType([gn.default.number,gn.default.string]),id:gn.default.string,injectStyles:gn.default.bool,inputClassName:gn.default.string,inputRef:gn.default.func,inputStyle:gn.default.object,minWidth:gn.default.oneOfType([gn.default.number,gn.default.string]),onAutosize:gn.default.func,onChange:gn.default.func,placeholder:gn.default.string,placeholderIsMinWidth:gn.default.bool,style:gn.default.object,value:gn.default.any};IP.defaultProps={minWidth:1,injectStyles:!0};var DCe=Z8.default=IP;function $Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){$Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Py(t)}function MCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LCe(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:FCe(t)}function um(t){var e=MCe();return function(){var r=Py(t),i;if(e){var s=Py(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return LCe(this,i)}}var Ry=function(){};function VCe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function UCe(t,e,n){var r=[n];if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&r.push("".concat(VCe(t,i)));return r.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var ky=function(e){return Array.isArray(e)?e.filter(Boolean):pf(e)==="object"&&e!==null?[e]:[]},rj=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ca(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return In({},n)};function CP(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function ij(t){return CP(t)?window.pageYOffset:t.scrollTop}function Oy(t,e){if(CP(t)){window.scrollTo(0,e);return}t.scrollTop=e}function jCe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/,i=document.documentElement;if(e.position==="fixed")return i;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return i}function BCe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function fg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ry,i=ij(t),s=e-i,o=10,a=0;function u(){a+=o;var l=BCe(a,i,s,n);Oy(t,l),a<n?window.requestAnimationFrame(u):r(t)}u()}function zCe(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Oy(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Oy(t,Math.max(e.offsetTop-i,0))}function qCe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function iD(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function HCe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var sj=!1,WCe={get passive(){return sj=!0}},pg=typeof window<"u"?window:{};pg.addEventListener&&pg.removeEventListener&&(pg.addEventListener("p",Ry,WCe),pg.removeEventListener("p",Ry,!1));var GCe=sj;function KCe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.theme,u=a.spacing,l=jCe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,p=n.getBoundingClientRect(),v=p.bottom,y=p.height,g=p.top,m=n.offsetParent.getBoundingClientRect(),_=m.top,b=window.innerHeight,w=ij(l),E=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),R=_-A,x=b-g,G=R+w,J=h-w-g,oe=v-b+w+E,se=w+g-A,_e=160;switch(i){case"auto":case"bottom":if(x>=y)return{placement:"bottom",maxHeight:e};if(J>=y&&!o)return s&&fg(l,oe,_e),{placement:"bottom",maxHeight:e};if(!o&&J>=r||o&&x>=r){s&&fg(l,oe,_e);var L=o?x-E:J-E;return{placement:"bottom",maxHeight:L}}if(i==="auto"||o){var q=e,K=o?R:G;return K>=r&&(q=Math.min(K-E-u.controlHeight,e)),{placement:"top",maxHeight:q}}if(i==="bottom")return s&&Oy(l,oe),{placement:"bottom",maxHeight:e};break;case"top":if(R>=y)return{placement:"top",maxHeight:e};if(G>=y&&!o)return s&&fg(l,se,_e),{placement:"top",maxHeight:e};if(!o&&G>=r||o&&R>=r){var O=e;return(!o&&G>=r||o&&R>=r)&&(O=o?R-A:G-A),s&&fg(l,se,_e),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function QCe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var PT=function(e){return e==="auto"?"bottom":e},YCe=function(e){var n,r=e.placement,i=e.theme,s=i.borderRadius,o=i.spacing,a=i.colors;return n={label:"menu"},mi(n,QCe(r),"100%"),mi(n,"backgroundColor",a.neutral0),mi(n,"borderRadius",s),mi(n,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),mi(n,"marginBottom",o.menuGutter),mi(n,"marginTop",o.menuGutter),mi(n,"position","absolute"),mi(n,"width","100%"),mi(n,"zIndex",1),n},oj=S.createContext({getPortalPlacement:null}),aj=function(t){om(n,t);var e=um(n);function n(){var r;im(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(a){var u=r.props,l=u.minMenuHeight,c=u.maxMenuHeight,d=u.menuPlacement,h=u.menuPosition,p=u.menuShouldScrollIntoView,v=u.theme;if(a){var y=h==="fixed",g=p&&!y,m=KCe({maxHeight:c,menuEl:a,minHeight:l,placement:d,shouldScroll:g,isFixedPosition:y,theme:v}),_=r.context.getPortalPlacement;_&&_(m),r.setState(m)}},r.getUpdatedProps=function(){var a=r.props.menuPlacement,u=r.state.placement||PT(a);return In(In({},r.props),{},{placement:u,maxHeight:r.state.maxHeight})},r}return sm(n,[{key:"render",value:function(){var i=this.props.children;return i({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(S.Component);aj.contextType=oj;var XCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerRef,a=e.innerProps;return Ue("div",je({css:s("menu",e),className:i({menu:!0},r),ref:o},a),n)},JCe=function(e){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return{maxHeight:n,overflowY:"auto",paddingBottom:r,paddingTop:r,position:"relative",WebkitOverflowScrolling:"touch"}},ZCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps,a=e.innerRef,u=e.isMulti;return Ue("div",je({css:s("menuList",e),className:i({"menu-list":!0,"menu-list--is-multi":u},r),ref:a},o),n)},uj=function(e){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{color:i.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px"),textAlign:"center"}},eAe=uj,tAe=uj,lj=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("noOptionsMessage",e),className:i({"menu-notice":!0,"menu-notice--no-options":!0},r)},o),n)};lj.defaultProps={children:"No options"};var cj=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("loadingMessage",e),className:i({"menu-notice":!0,"menu-notice--loading":!0},r)},o),n)};cj.defaultProps={children:"Loading..."};var nAe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},rAe=function(t){om(n,t);var e=um(n);function n(){var r;im(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={placement:null},r.getPortalPlacement=function(a){var u=a.placement,l=PT(r.props.menuPlacement);u!==l&&r.setState({placement:u})},r}return sm(n,[{key:"render",value:function(){var i=this.props,s=i.appendTo,o=i.children,a=i.className,u=i.controlElement,l=i.cx,c=i.innerProps,d=i.menuPlacement,h=i.menuPosition,p=i.getStyles,v=h==="fixed";if(!s&&!v||!u)return null;var y=this.state.placement||PT(d),g=qCe(u),m=v?0:window.pageYOffset,_=g[y]+m,b={offset:_,position:h,rect:g},w=Ue("div",je({css:p("menuPortal",b),className:l({"menu-portal":!0},a)},c),o);return Ue(oj.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},s?Kc.createPortal(w,s):w)}}]),n}(S.Component),iAe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":null,pointerEvents:n?"none":null,position:"relative"}},sAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps,a=e.isDisabled,u=e.isRtl;return Ue("div",je({css:s("container",e),className:i({"--is-disabled":a,"--is-rtl":u},r)},o),n)},oAe=function(e){var n=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},aAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.innerProps,o=e.isMulti,a=e.getStyles,u=e.hasValue;return Ue("div",je({css:a("valueContainer",e),className:i({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":u},r)},s),n)},uAe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},lAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.innerProps,o=e.getStyles;return Ue("div",je({css:o("indicatorsContainer",e),className:i({indicators:!0},r)},s),n)},sD,cAe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dj=function(e){var n=e.size,r=Ca(e,["size"]);return Ue("svg",je({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cAe},r))},AP=function(e){return Ue(dj,je({size:20},e),Ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hj=function(e){return Ue(dj,je({size:20},e),Ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},fj=function(e){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return{label:"indicatorContainer",color:n?s.neutral60:s.neutral20,display:"flex",padding:i*2,transition:"color 150ms",":hover":{color:n?s.neutral80:s.neutral40}}},dAe=fj,hAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("dropdownIndicator",e),className:i({indicator:!0,"dropdown-indicator":!0},r)},o),n||Ue(hj,null))},fAe=fj,pAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("clearIndicator",e),className:i({indicator:!0,"clear-indicator":!0},r)},o),n||Ue(AP,null))},mAe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:n?s.neutral10:s.neutral20,marginBottom:i*2,marginTop:i*2,width:1}},gAe=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=e.innerProps;return Ue("span",je({},s,{css:i("indicatorSeparator",e),className:r({"indicator-separator":!0},n)}))},vAe=bCe(sD||(sD=CCe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),yAe=function(e){var n=e.isFocused,r=e.size,i=e.theme,s=i.colors,o=i.spacing.baseUnit;return{label:"loadingIndicator",color:n?s.neutral60:s.neutral20,display:"flex",padding:o*2,transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"}},Vw=function(e){var n=e.delay,r=e.offset;return Ue("span",{css:SP({animation:"".concat(vAe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},pj=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=e.innerProps,o=e.isRtl;return Ue("div",je({css:i("loadingIndicator",e),className:r({indicator:!0,"loading-indicator":!0},n)},s),Ue(Vw,{delay:0,offset:o}),Ue(Vw,{delay:160,offset:!0}),Ue(Vw,{delay:320,offset:!o}))};pj.defaultProps={size:4};var _Ae=function(e){var n=e.isDisabled,r=e.isFocused,i=e.theme,s=i.colors,o=i.borderRadius,a=i.spacing;return{label:"control",alignItems:"center",backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:r?s.primary:s.neutral30}}},wAe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.className,o=e.isDisabled,a=e.isFocused,u=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Ue("div",je({ref:u,css:i("control",e),className:r({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},s)},l),n)},bAe=function(e){var n=e.theme.spacing;return{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},EAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.Heading,a=e.headingProps,u=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return Ue("div",je({css:s("group",e),className:i({group:!0},r)},u),Ue(o,je({},a,{selectProps:d,theme:c,getStyles:s,cx:i}),l),Ue("div",null,n))},TAe=function(e){var n=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:n.baseUnit*3,paddingRight:n.baseUnit*3,textTransform:"uppercase"}},SAe=function(e){var n=e.getStyles,r=e.cx,i=e.className,s=rj(e);s.data;var o=Ca(s,["data"]);return Ue("div",je({css:n("groupHeading",e),className:r({"group-heading":!0},i)},o))},IAe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:n?"hidden":"visible",color:s.neutral80}},CAe=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},AAe=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=rj(e),o=s.innerRef,a=s.isDisabled,u=s.isHidden,l=Ca(s,["innerRef","isDisabled","isHidden"]);return Ue("div",{css:i("input",e)},Ue(DCe,je({className:r({input:!0},n),inputRef:o,inputStyle:CAe(u),disabled:a},l)))},PAe=function(e){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors;return{label:"multiValue",backgroundColor:s.neutral10,borderRadius:i/2,display:"flex",margin:r.baseUnit/2,minWidth:0}},RAe=function(e){var n=e.theme,r=n.borderRadius,i=n.colors,s=e.cropWithEllipsis;return{borderRadius:r/2,color:i.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:s?"ellipsis":null,whiteSpace:"nowrap"}},kAe=function(e){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors,o=e.isFocused;return{alignItems:"center",borderRadius:i/2,backgroundColor:o&&s.dangerLight,display:"flex",paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}}},mj=function(e){var n=e.children,r=e.innerProps;return Ue("div",r,n)},OAe=mj,xAe=mj;function NAe(t){var e=t.children,n=t.innerProps;return Ue("div",n,e||Ue(AP,{size:14}))}var gj=function(e){var n=e.children,r=e.className,i=e.components,s=e.cx,o=e.data,a=e.getStyles,u=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,h=i.Container,p=i.Label,v=i.Remove;return Ue(ICe,null,function(y){var g=y.css,m=y.cx;return Ue(h,{data:o,innerProps:In({className:m(g(a("multiValue",e)),s({"multi-value":!0,"multi-value--is-disabled":l},r))},u),selectProps:d},Ue(p,{data:o,innerProps:{className:m(g(a("multiValueLabel",e)),s({"multi-value__label":!0},r))},selectProps:d},n),Ue(v,{data:o,innerProps:In({className:m(g(a("multiValueRemove",e)),s({"multi-value__remove":!0},r))},c),selectProps:d}))})};gj.defaultProps={cropWithEllipsis:!0};var DAe=function(e){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.theme,o=s.spacing,a=s.colors;return{label:"option",backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!n&&(i?a.primary:a.primary50)}}},$Ae=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.isDisabled,a=e.isFocused,u=e.isSelected,l=e.innerRef,c=e.innerProps;return Ue("div",je({css:s("option",e),className:i({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":u},r),ref:l},c),n)},MAe=function(e){var n=e.theme,r=n.spacing,i=n.colors;return{label:"placeholder",color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},FAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("placeholder",e),className:i({placeholder:!0},r)},o),n)},LAe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return{label:"singleValue",color:n?s.neutral40:s.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,maxWidth:"calc(100% - ".concat(i.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},VAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.isDisabled,a=e.innerProps;return Ue("div",je({css:s("singleValue",e),className:i({"single-value":!0,"single-value--is-disabled":o},r)},a),n)},UAe={ClearIndicator:pAe,Control:wAe,DropdownIndicator:hAe,DownChevron:hj,CrossIcon:AP,Group:EAe,GroupHeading:SAe,IndicatorsContainer:lAe,IndicatorSeparator:gAe,Input:AAe,LoadingIndicator:pj,Menu:XCe,MenuList:ZCe,MenuPortal:rAe,LoadingMessage:cj,NoOptionsMessage:lj,MultiValue:gj,MultiValueContainer:OAe,MultiValueLabel:xAe,MultiValueRemove:NAe,Option:$Ae,Placeholder:FAe,SelectContainer:sAe,SingleValue:VAe,ValueContainer:aAe},jAe=function(e){return In(In({},UAe),e.components)},oD=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function BAe(t,e){return!!(t===e||oD(t)&&oD(e))}function zAe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!BAe(t[n],e[n]))return!1;return!0}function qAe(t,e){e===void 0&&(e=zAe);var n,r=[],i,s=!1;function o(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var HAe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},WAe=function(e){return Ue("span",je({css:HAe},e))},GAe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=r===void 0?{}:r,s=e.options,o=e.label,a=o===void 0?"":o,u=e.selectValue,l=e.isDisabled,c=e.isSelected,d=function(y,g){return y&&y.length?"".concat(y.indexOf(g)+1," of ").concat(y.length):""};if(n==="value"&&u)return"value ".concat(a," focused, ").concat(d(u,i),".");if(n==="menu"){var h=l?" disabled":"",p="".concat(c?"selected":"focused").concat(h);return"option ".concat(a," ").concat(p,", ").concat(d(s,i),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},KAe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,u=e.selectProps,l=u.ariaLiveMessages,c=u.getOptionLabel,d=u.inputValue,h=u.isMulti,p=u.isOptionDisabled,v=u.isSearchable,y=u.menuIsOpen,g=u.options,m=u.screenReaderStatus,_=u.tabSelectsValue,b=u["aria-label"],w=u["aria-live"],E=S.useMemo(function(){return In(In({},GAe),l||{})},[l]),A=S.useMemo(function(){var oe="";if(n&&E.onChange){var se=n.option,_e=n.removedValue,L=n.value,q=function(Y){return Array.isArray(Y)?null:Y},K=_e||se||q(L),O=In({isDisabled:K&&p(K),label:K?c(K):""},n);oe=E.onChange(O)}return oe},[n,p,c,E]),R=S.useMemo(function(){var oe="",se=r||i,_e=!!(r&&a&&a.includes(r));if(se&&E.onFocus){var L={focused:se,label:c(se),isDisabled:p(se),isSelected:_e,options:g,context:se===r?"menu":"value",selectValue:a};oe=E.onFocus(L)}return oe},[r,i,c,p,E,g,a]),x=S.useMemo(function(){var oe="";if(y&&g.length&&E.onFilter){var se=m({count:s.length});oe=E.onFilter({inputValue:d,resultsMessage:se})}return oe},[s,d,y,E,g,m]),G=S.useMemo(function(){var oe="";if(E.guidance){var se=i?"value":y?"menu":"input";oe=E.guidance({"aria-label":b,context:se,isDisabled:r&&p(r),isMulti:h,isSearchable:v,tabSelectsValue:_})}return oe},[b,r,i,h,p,v,y,E,_]),J="".concat(R," ").concat(x," ").concat(G);return Ue(WAe,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},o&&Ue(Be.Fragment,null,Ue("span",{id:"aria-selection"},A),Ue("span",{id:"aria-context"},J)))},RT=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],QAe=new RegExp("["+RT.map(function(t){return t.letters}).join("")+"]","g"),vj={};for(var Uw=0;Uw<RT.length;Uw++)for(var jw=RT[Uw],Bw=0;Bw<jw.letters.length;Bw++)vj[jw.letters[Bw]]=jw.base;var yj=function(e){return e.replace(QAe,function(n){return vj[n]})},YAe=qAe(yj),aD=function(e){return e.replace(/^\s+|\s+$/g,"")},XAe=function(e){return"".concat(e.label," ").concat(e.value)},JAe=function(e){return function(n,r){var i=In({ignoreCase:!0,ignoreAccents:!0,stringify:XAe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,u=i.trim,l=i.matchFrom,c=u?aD(r):r,d=u?aD(a(n)):a(n);return s&&(c=c.toLowerCase(),d=d.toLowerCase()),o&&(c=YAe(c),d=yj(d)),l==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}};function ZAe(t){t.in,t.out,t.onExited,t.appear,t.enter,t.exit;var e=t.innerRef;t.emotion;var n=Ca(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Ue("input",je({ref:e},n,{css:SP({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var ePe=function(e){e.preventDefault(),e.stopPropagation()};function tPe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=S.useRef(!1),a=S.useRef(!1),u=S.useRef(0),l=S.useRef(null),c=S.useCallback(function(g,m){if(l.current!==null){var _=l.current,b=_.scrollTop,w=_.scrollHeight,E=_.clientHeight,A=l.current,R=m>0,x=w-E-b,G=!1;x>m&&o.current&&(r&&r(g),o.current=!1),R&&a.current&&(s&&s(g),a.current=!1),R&&m>x?(n&&!o.current&&n(g),A.scrollTop=w,G=!0,o.current=!0):!R&&-m>b&&(i&&!a.current&&i(g),A.scrollTop=0,G=!0,a.current=!0),G&&ePe(g)}},[]),d=S.useCallback(function(g){c(g,g.deltaY)},[c]),h=S.useCallback(function(g){u.current=g.changedTouches[0].clientY},[]),p=S.useCallback(function(g){var m=u.current-g.changedTouches[0].clientY;c(g,m)},[c]),v=S.useCallback(function(g){if(g){var m=GCe?{passive:!1}:!1;typeof g.addEventListener=="function"&&g.addEventListener("wheel",d,m),typeof g.addEventListener=="function"&&g.addEventListener("touchstart",h,m),typeof g.addEventListener=="function"&&g.addEventListener("touchmove",p,m)}},[p,h,d]),y=S.useCallback(function(g){g&&(typeof g.removeEventListener=="function"&&g.removeEventListener("wheel",d,!1),typeof g.removeEventListener=="function"&&g.removeEventListener("touchstart",h,!1),typeof g.removeEventListener=="function"&&g.removeEventListener("touchmove",p,!1))},[p,h,d]);return S.useEffect(function(){if(e){var g=l.current;return v(g),function(){y(g)}}},[e,v,y]),function(g){l.current=g}}var uD=["boxSizing","height","overflow","paddingRight","position"],lD={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function cD(t){t.preventDefault()}function dD(t){t.stopPropagation()}function hD(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function fD(){return"ontouchstart"in window||navigator.maxTouchPoints}var pD=!!(typeof window<"u"&&window.document&&window.document.createElement),Zd=0,Tl={capture:!1,passive:!1};function nPe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=S.useRef({}),s=S.useRef(null),o=S.useCallback(function(u){if(pD){var l=document.body,c=l&&l.style;if(r&&uD.forEach(function(v){var y=c&&c[v];i.current[v]=y}),r&&Zd<1){var d=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+d||0;Object.keys(lD).forEach(function(v){var y=lD[v];c&&(c[v]=y)}),c&&(c.paddingRight="".concat(p,"px"))}l&&fD()&&(l.addEventListener("touchmove",cD,Tl),u&&(u.addEventListener("touchstart",hD,Tl),u.addEventListener("touchmove",dD,Tl))),Zd+=1}},[]),a=S.useCallback(function(u){if(pD){var l=document.body,c=l&&l.style;Zd=Math.max(Zd-1,0),r&&Zd<1&&uD.forEach(function(d){var h=i.current[d];c&&(c[d]=h)}),l&&fD()&&(l.removeEventListener("touchmove",cD,Tl),u&&(u.removeEventListener("touchstart",hD,Tl),u.removeEventListener("touchmove",dD,Tl)))}},[]);return S.useEffect(function(){if(e){var u=s.current;return o(u),function(){a(u)}}},[e,o,a]),function(u){s.current=u}}var rPe=function(){return document.activeElement&&document.activeElement.blur()},iPe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sPe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,u=t.onTopLeave,l=tPe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:u}),c=nPe({isEnabled:n}),d=function(p){l(p),c(p)};return Ue(Be.Fragment,null,n&&Ue("div",{onClick:rPe,css:iPe}),e(d))}var oPe=function(e){return e.label},_j=function(e){return e.label},wj=function(e){return e.value},aPe=function(e){return!!e.isDisabled},uPe={clearIndicator:fAe,container:iAe,control:_Ae,dropdownIndicator:dAe,group:bAe,groupHeading:TAe,indicatorsContainer:uAe,indicatorSeparator:mAe,input:IAe,loadingIndicator:yAe,loadingMessage:tAe,menu:YCe,menuList:JCe,menuPortal:nAe,multiValue:PAe,multiValueLabel:RAe,multiValueRemove:kAe,noOptionsMessage:eAe,option:DAe,placeholder:MAe,singleValue:LAe,valueContainer:oAe},lPe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cPe=4,bj=4,dPe=38,hPe=bj*2,fPe={baseUnit:bj,controlHeight:dPe,menuGutter:hPe},zw={borderRadius:cPe,colors:lPe,spacing:fPe},pPe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:iD(),captureMenuScroll:!iD(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:JAe(),formatGroupLabel:oPe,getOptionLabel:_j,getOptionValue:wj,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:aPe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!HCe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function mD(t,e,n,r){var i=Ij(t,e,n),s=Cj(t,e,n),o=Sj(t,e),a=xy(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function Ej(t,e){return t.options.map(function(n,r){if(n.options){var i=n.options.map(function(o,a){return mD(t,o,e,a)}).filter(function(o){return gD(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=mD(t,n,e,r);return gD(t,s)?s:void 0}).filter(function(n){return!!n})}function Tj(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Gh(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function mPe(t,e){return Tj(Ej(t,e))}function gD(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!Pj(t)||!s)&&Aj(t,{label:o,value:a,data:i},r)}function gPe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function vPe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Sj=function(e,n){return e.getOptionLabel(n)},xy=function(e,n){return e.getOptionValue(n)};function Ij(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Cj(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=xy(t,e);return n.some(function(i){return xy(t,i)===r})}function Aj(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Pj=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},yPe=1,PP=function(t){om(n,t);var e=um(n);function n(r){var i;return im(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(s){i.controlRef=s},i.focusedOptionRef=null,i.getFocusedOptionRef=function(s){i.focusedOptionRef=s},i.menuListRef=null,i.getMenuListRef=function(s){i.menuListRef=s},i.inputRef=null,i.getInputRef=function(s){i.inputRef=s},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(s,o){var a=i.props,u=a.onChange,l=a.name;o.name=l,i.ariaOnChange(s,o),u(s,o)},i.setValue=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",a=arguments.length>2?arguments[2]:void 0,u=i.props,l=u.closeMenuOnSelect,c=u.isMulti;i.onInputChange("",{action:"set-value"}),l&&(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(s,{action:o,option:a})},i.selectOption=function(s){var o=i.props,a=o.blurInputOnSelect,u=o.isMulti,l=o.name,c=i.state.selectValue,d=u&&i.isOptionSelected(s,c),h=i.isOptionDisabled(s,c);if(d){var p=i.getOptionValue(s);i.setValue(c.filter(function(v){return i.getOptionValue(v)!==p}),"deselect-option",s)}else if(!h)u?i.setValue([].concat(Gh(c),[s]),"select-option",s):i.setValue(s,"select-option");else{i.ariaOnChange(s,{action:"select-option",name:l});return}a&&i.blurInput()},i.removeValue=function(s){var o=i.props.isMulti,a=i.state.selectValue,u=i.getOptionValue(s),l=a.filter(function(d){return i.getOptionValue(d)!==u}),c=o?l:l[0]||null;i.onChange(c,{action:"remove-value",removedValue:s}),i.focusInput()},i.clearValue=function(){var s=i.state.selectValue;i.onChange(i.props.isMulti?[]:null,{action:"clear",removedValues:s})},i.popValue=function(){var s=i.props.isMulti,o=i.state.selectValue,a=o[o.length-1],u=o.slice(0,o.length-1),l=s?u:u[0]||null;i.onChange(l,{action:"pop-value",removedValue:a})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return UCe.apply(void 0,[i.props.classNamePrefix].concat(o))},i.getOptionLabel=function(s){return Sj(i.props,s)},i.getOptionValue=function(s){return xy(i.props,s)},i.getStyles=function(s,o){var a=uPe[s](o);a.boxSizing="border-box";var u=i.props.styles[s];return u?u(a,o):a},i.getElementId=function(s){return"".concat(i.instancePrefix,"-").concat(s)},i.getComponents=function(){return jAe(i.props)},i.buildCategorizedOptions=function(){return Ej(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Tj(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(s,o){i.setState({ariaSelection:In({value:s},o)})},i.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(s){i.blockOptionHover=!1},i.onControlMouseDown=function(s){var o=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&i.onMenuClose():o&&i.openMenu("first"):(o&&(i.openAfterFocus=!0),i.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()},i.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!i.props.isDisabled){var o=i.props,a=o.isMulti,u=o.menuIsOpen;i.focusInput(),u?(i.setState({inputIsHiddenAfterUpdate:!a}),i.onMenuClose()):i.openMenu("first"),s.preventDefault(),s.stopPropagation()}},i.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(i.clearValue(),s.stopPropagation(),i.openAfterFocus=!1,s.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(s){typeof i.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&CP(s.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(s)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(s){var o=s.touches,a=o&&o.item(0);a&&(i.initialTouchX=a.clientX,i.initialTouchY=a.clientY,i.userIsDragging=!1)},i.onTouchMove=function(s){var o=s.touches,a=o&&o.item(0);if(a){var u=Math.abs(a.clientX-i.initialTouchX),l=Math.abs(a.clientY-i.initialTouchY),c=5;i.userIsDragging=u>c||l>c}},i.onTouchEnd=function(s){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(s.target)&&i.menuListRef&&!i.menuListRef.contains(s.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(s){i.userIsDragging||i.onControlMouseDown(s)},i.onClearIndicatorTouchEnd=function(s){i.userIsDragging||i.onClearIndicatorMouseDown(s)},i.onDropdownIndicatorTouchEnd=function(s){i.userIsDragging||i.onDropdownIndicatorMouseDown(s)},i.handleInputChange=function(s){var o=s.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(o,{action:"input-change"}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(s){i.props.onFocus&&i.props.onFocus(s),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(s){if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(s),i.onInputChange("",{action:"input-blur"}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(s){i.blockOptionHover||i.state.focusedOption===s||i.setState({focusedOption:s})},i.shouldHideSelectedOptions=function(){return Pj(i.props)},i.onKeyDown=function(s){var o=i.props,a=o.isMulti,u=o.backspaceRemovesValue,l=o.escapeClearsValue,c=o.inputValue,d=o.isClearable,h=o.isDisabled,p=o.menuIsOpen,v=o.onKeyDown,y=o.tabSelectsValue,g=o.openMenuOnFocus,m=i.state,_=m.focusedOption,b=m.focusedValue,w=m.selectValue;if(!h&&!(typeof v=="function"&&(v(s),s.defaultPrevented))){switch(i.blockOptionHover=!0,s.key){case"ArrowLeft":if(!a||c)return;i.focusValue("previous");break;case"ArrowRight":if(!a||c)return;i.focusValue("next");break;case"Delete":case"Backspace":if(c)return;if(b)i.removeValue(b);else{if(!u)return;a?i.popValue():d&&i.clearValue()}break;case"Tab":if(i.isComposing||s.shiftKey||!p||!y||!_||g&&i.isOptionSelected(_,w))return;i.selectOption(_);break;case"Enter":if(s.keyCode===229)break;if(p){if(!_||i.isComposing)return;i.selectOption(_);break}return;case"Escape":p?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close"}),i.onMenuClose()):d&&l&&i.clearValue();break;case" ":if(c)return;if(!p){i.openMenu("first");break}if(!_)return;i.selectOption(_);break;case"ArrowUp":p?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":p?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!p)return;i.focusOption("pageup");break;case"PageDown":if(!p)return;i.focusOption("pagedown");break;case"Home":if(!p)return;i.focusOption("first");break;case"End":if(!p)return;i.focusOption("last");break;default:return}s.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++yPe),i.state.selectValue=ky(r.value),i}return sm(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&i.isDisabled||u&&a&&!i.menuIsOpen)&&this.focusInput(),u&&o&&!i.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(zCe(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,u=o.isFocused,l=this.buildFocusableOptions(),c=i==="first"?0:l.length-1;if(!this.props.isMulti){var d=l.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(a);a||(u=-1);var l=o.length-1,c=-1;if(o.length){switch(i){case"previous":u===0?c=0:u===-1?c=l:c=u-1;break;case"next":u>-1&&u<l&&(c=u+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var u=0,l=a.indexOf(o);o||(l=-1),i==="up"?u=l>0?l-1:a.length-1:i==="down"?u=(l+1)%a.length:i==="pageup"?(u=l-s,u<0&&(u=0)):i==="pagedown"?(u=l+s,u>a.length-1&&(u=a.length-1)):i==="last"&&(u=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[u],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zw):In(In({},zw),this.props.theme):zw}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getValue,u=this.selectOption,l=this.setValue,c=this.props,d=c.isMulti,h=c.isRtl,p=c.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getValue:a,hasValue:v,isMulti:d,isRtl:h,options:p,selectOption:u,selectProps:c,setValue:l,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return Ij(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Cj(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Aj(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,u=i.inputValue,l=i.tabIndex,c=i.form,d=this.getComponents(),h=d.Input,p=this.state.inputIsHidden,v=this.commonProps,y=a||this.getElementId("input"),g={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return o?f(h,{...v,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:c,type:"text",value:u,...g}):f(ZAe,{id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ry,onFocus:this.onInputFocus,readOnly:!0,disabled:s,tabIndex:l,form:c,value:"",...g})}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,u=s.MultiValueLabel,l=s.MultiValueRemove,c=s.SingleValue,d=s.Placeholder,h=this.commonProps,p=this.props,v=p.controlShouldRenderValue,y=p.isDisabled,g=p.isMulti,m=p.inputValue,_=p.placeholder,b=this.state,w=b.selectValue,E=b.focusedValue,A=b.isFocused;if(!this.hasValue()||!v)return m?null:S.createElement(d,{...h,key:"placeholder",isDisabled:y,isFocused:A},_);if(g){var R=w.map(function(G,J){var oe=G===E;return S.createElement(o,{...h,components:{Container:a,Label:u,Remove:l},isFocused:oe,isDisabled:y,key:"".concat(i.getOptionValue(G)).concat(J),index:J,removeProps:{onClick:function(){return i.removeValue(G)},onTouchEnd:function(){return i.removeValue(G)},onMouseDown:function(_e){_e.preventDefault(),_e.stopPropagation()}},data:G},i.formatOptionLabel(G,"value"))});return R}if(m)return null;var x=w[0];return f(c,{...h,data:x,isDisabled:y,children:this.formatOptionLabel(x,"value")})}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||l)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f(s,{...o,innerProps:d,isFocused:c})}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!s||!l)return null;var d={"aria-hidden":"true"};return f(s,{...o,innerProps:d,isDisabled:u,isFocused:c})}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,u=this.props.isDisabled,l=this.state.isFocused;return f(o,{...a,isDisabled:u,isFocused:l})}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f(s,{...o,innerProps:l,isDisabled:a,isFocused:u})}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,u=s.Menu,l=s.MenuList,c=s.MenuPortal,d=s.LoadingMessage,h=s.NoOptionsMessage,p=s.Option,v=this.commonProps,y=this.state.focusedOption,g=this.props,m=g.captureMenuScroll,_=g.inputValue,b=g.isLoading,w=g.loadingMessage,E=g.minMenuHeight,A=g.maxMenuHeight,R=g.menuIsOpen,x=g.menuPlacement,G=g.menuPosition,J=g.menuPortalTarget,oe=g.menuShouldBlockScroll,se=g.menuShouldScrollIntoView,_e=g.noOptionsMessage,L=g.onMenuScrollToTop,q=g.onMenuScrollToBottom;if(!R)return null;var K=function(H,B){var T=H.type,D=H.data,de=H.isDisabled,Z=H.isSelected,xe=H.label,Re=H.value,Me=y===D,Se=de?void 0:function(){return i.onOptionHover(D)},We=de?void 0:function(){return i.selectOption(D)},ze="".concat(i.getElementId("option"),"-").concat(B),U={id:ze,onClick:We,onMouseMove:Se,onMouseOver:Se,tabIndex:-1};return S.createElement(p,{...v,innerProps:U,data:D,isDisabled:de,isSelected:Z,key:ze,label:xe,type:T,value:Re,isFocused:Me,innerRef:Me?i.getFocusedOptionRef:void 0},i.formatOptionLabel(H.data,"menu"))},O;if(this.hasOptions())O=this.getCategorizedOptions().map(function($){if($.type==="group"){var H=$.data,B=$.options,T=$.index,D="".concat(i.getElementId("group"),"-").concat(T),de="".concat(D,"-heading");return S.createElement(o,{...v,key:D,data:H,options:B,Heading:a,headingProps:{id:de,data:$.data},label:i.formatGroupLabel($.data)},$.options.map(function(Z){return K(Z,"".concat(T,"-").concat(Z.index))}))}else if($.type==="option")return K($,"".concat($.index))});else if(b){var V=w({inputValue:_});if(V===null)return null;O=f(d,{...v,children:V})}else{var Y=_e({inputValue:_});if(Y===null)return null;O=f(h,{...v,children:Y})}var F={minMenuHeight:E,maxMenuHeight:A,menuPlacement:x,menuPosition:G,menuShouldScrollIntoView:se},j=f(aj,{...v,...F,children:function($){var H=$.ref,B=$.placerProps,T=B.placement,D=B.maxHeight;return f(u,{...v,...F,innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:b,placement:T,children:f(sPe,{captureEnabled:m,onTopArrive:L,onBottomArrive:q,lockEnabled:oe,children:function(de){return f(l,{...v,innerRef:function(xe){i.getMenuListRef(xe),de(xe)},isLoading:b,maxHeight:D,focusedOption:y,children:O})}})})}});return J||G==="fixed"?f(c,{...v,appendTo:J,controlElement:this.controlRef,menuPlacement:x,menuPosition:G,children:j}):j}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,u=s.isMulti,l=s.name,c=this.state.selectValue;if(!(!l||a))if(u)if(o){var d=c.map(function(v){return i.getOptionValue(v)}).join(o);return f("input",{name:l,type:"hidden",value:d})}else{var h=c.length>0?c.map(function(v,y){return f("input",{name:l,type:"hidden",value:i.getOptionValue(v)},"i-".concat(y))}):f("input",{name:l,type:"hidden"});return f("div",{children:h})}else{var p=c[0]?this.getOptionValue(c[0]):"";return f("input",{name:l,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,u=s.focusedValue,l=s.isFocused,c=s.selectValue,d=this.getFocusableOptions();return f(KAe,{...i,ariaSelection:o,focusedOption:a,focusedValue:u,isFocused:l,selectValue:c,focusableOptions:d})}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,u=i.ValueContainer,l=this.props,c=l.className,d=l.id,h=l.isDisabled,p=l.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return k(a,{...y,className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:v,children:[this.renderLiveRegion(),k(s,{...y,innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:v,menuIsOpen:p,children:[k(u,{...y,isDisabled:h,children:[this.renderPlaceholderOrValue(),this.renderInput()]}),k(o,{...y,isDisabled:h,children:[this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator()]})]}),this.renderMenu(),this.renderFormField()]})}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,l=i.options,c=i.value,d=i.menuIsOpen,h=i.inputValue,p={};if(o&&(c!==o.value||l!==o.options||d!==o.menuIsOpen||h!==o.inputValue)){var v=ky(c),y=d?mPe(i,v):[],g=a?gPe(s,v):null,m=vPe(s,y);p={selectValue:v,focusedOption:m,focusedValue:g,clearFocusValueOnUpdate:!1}}var _=u!=null&&i!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{};return In(In(In({},p),_),{},{prevProps:i})}}]),n}(S.Component);PP.defaultProps=pPe;var _Pe={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Rj=function(e){var n,r;return r=n=function(i){om(o,i);var s=um(o);function o(){var a;im(this,o);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),a.select=void 0,a.state={inputValue:a.props.inputValue!==void 0?a.props.inputValue:a.props.defaultInputValue,menuIsOpen:a.props.menuIsOpen!==void 0?a.props.menuIsOpen:a.props.defaultMenuIsOpen,value:a.props.value!==void 0?a.props.value:a.props.defaultValue},a.onChange=function(d,h){a.callProp("onChange",d,h),a.setState({value:d})},a.onInputChange=function(d,h){var p=a.callProp("onInputChange",d,h);a.setState({inputValue:p!==void 0?p:d})},a.onMenuOpen=function(){a.callProp("onMenuOpen"),a.setState({menuIsOpen:!0})},a.onMenuClose=function(){a.callProp("onMenuClose"),a.setState({menuIsOpen:!1})},a}return sm(o,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(u){return this.props[u]!==void 0?this.props[u]:this.state[u]}},{key:"callProp",value:function(u){if(typeof this.props[u]=="function"){for(var l,c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return(l=this.props)[u].apply(l,d)}}},{key:"render",value:function(){var u=this,l=this.props;l.defaultInputValue,l.defaultMenuIsOpen,l.defaultValue;var c=Ca(l,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return f(e,{...c,ref:function(h){u.select=h},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")})}}]),o}(S.Component),n.defaultProps=_Pe,r},vD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},wPe={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return vD(e,s,i)})||r.some(function(s){return vD(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}},getOptionValue:wj,getOptionLabel:_j},bPe=In({allowCreateWhileLoading:!1,createOptionPosition:"last"},wPe),EPe=function(e){var n,r;return r=n=function(i){om(o,i);var s=um(o);function o(a){var u;im(this,o),u=s.call(this,a),u.select=void 0,u.onChange=function(c,d){var h=u.props,p=h.getNewOptionData,v=h.inputValue,y=h.isMulti,g=h.onChange,m=h.onCreateOption,_=h.value,b=h.name;if(d.action!=="select-option")return g(c,d);var w=u.state.newOption,E=Array.isArray(c)?c:[c];if(E[E.length-1]===w){if(m)m(v);else{var A=p(v,v),R={action:"create-option",name:b,option:A};g(y?[].concat(Gh(ky(_)),[A]):A,R)}return}g(c,d)};var l=a.options||[];return u.state={newOption:void 0,options:l},u}return sm(o,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var u=this,l=this.state.options;return f(e,{...this.props,ref:function(d){u.select=d},options:l,onChange:this.onChange})}}],[{key:"getDerivedStateFromProps",value:function(u,l){var c=u.allowCreateWhileLoading,d=u.createOptionPosition,h=u.formatCreateLabel,p=u.getNewOptionData,v=u.inputValue,y=u.isLoading,g=u.isValidNewOption,m=u.value,_=u.getOptionValue,b=u.getOptionLabel,w=u.options||[],E=l.newOption;return g(v,ky(m),w,{getOptionValue:_,getOptionLabel:b})?E=p(v,h(v)):E=void 0,{newOption:E,options:(c||!y)&&E?d==="first"?[E].concat(Gh(w)):[].concat(Gh(w),[E]):w}}}]),o}(S.Component),n.defaultProps=bPe,r},TPe=EPe(PP),SPe=Rj(TPe);const IPe=SPe,Kh=t=>{const[e,n,r]=k9(t),{options:i,defaultValue:s,label:o,placeholder:a,isMulti:u,type:l,iid:c}=t,{touched:d,error:h}=n,{setValue:p}=r,v=g=>{if(Array.isArray(g)){const m=g.map(_=>_.value);p(m)}else p(g.value)},y=g=>{if(l==="number"){const{key:m}=g.nativeEvent;/\D/.test(m)&&m!=="Backspace"&&g.preventDefault()}};return k("div",{className:"input-group",children:[d&&h?f("span",{className:"label-input label-error",children:h}):f("label",{className:"label-input",htmlFor:e.name,children:o}),f(IPe,{isMulti:u,placeholder:a,name:e.name,onChange:v,onKeyDown:y,defaultValue:s,options:i,instanceId:c,styles:{menu:g=>({...g,zIndex:10}),container:g=>({...g,marginBottom:"1.2rem"}),control:g=>({...g,border:d&&h?"1px solid red":"1px solid #cacaca"})}})]})};Kh.defaultProps={isMulti:!1,placeholder:"",iid:"",options:[],type:"string"};Kh.propTypes={options:I.arrayOf(I.object),defaultValue:I.oneOfType([I.object,I.array]).isRequired,label:I.string.isRequired,placeholder:I.string,isMulti:I.bool,type:I.string,iid:I.string};const cr=({field:t,form:{touched:e,errors:n},label:r,inputRef:i,...s})=>k("div",{className:"input-group",children:[e[t.name]&&n[t.name]?f("span",{className:"label-input label-error",children:n[t.name]}):f("label",{className:"label-input",htmlFor:t.name,children:r}),f("input",{type:"text",id:t.name,className:`input-form ${e[t.name]&&n[t.name]&&"input-error"}`,ref:i,...t,...s})]});cr.defaultProps={inputRef:void 0};cr.propTypes={label:I.string.isRequired,field:I.object.isRequired,form:I.object.isRequired,inputRef:I.oneOfType([I.func,I.shape({current:I.instanceOf(Element)})])};var CPe=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(s,o,(function(a){return r[a]}).bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=9)}([function(t,e){t.exports=S},function(t,e,n){var r;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function s(){for(var o=[],a=0;a<arguments.length;a++){var u=arguments[a];if(u){var l=typeof u;if(l==="string"||l==="number")o.push(u);else if(Array.isArray(u)&&u.length){var c=s.apply(null,u);c&&o.push(c)}else if(l==="object")for(var d in u)i.call(u,d)&&u[d]&&o.push(d)}}return o.join(" ")}t.exports?(s.default=s,t.exports=s):(r=(function(){return s}).apply(e,[]))===void 0||(t.exports=r)})()},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype.toString,p=d.Symbol,v=p?p.prototype:void 0,y=v?v.toString:void 0;function g(w){if(typeof w=="string")return w;if(_(w))return y?y.call(w):"";var E=w+"";return E=="0"&&1/w==-1/0?"-0":E}function m(w){var E=typeof w;return!!w&&(E=="object"||E=="function")}function _(w){return typeof w=="symbol"||function(E){return!!E&&typeof E=="object"}(w)&&h.call(w)=="[object Symbol]"}function b(w){return w?(w=function(E){if(typeof E=="number")return E;if(_(E))return NaN;if(m(E)){var A=typeof E.valueOf=="function"?E.valueOf():E;E=m(A)?A+"":A}if(typeof E!="string")return E===0?E:+E;E=E.replace(i,"");var R=o.test(E);return R||a.test(E)?u(E.slice(2),R?2:8):s.test(E)?NaN:+E}(w))===1/0||w===-1/0?17976931348623157e292*(w<0?-1:1):w==w?w:0:w===0?w:0}t.exports=function(w,E,A){var R,x,G,J;return w=(R=w)==null?"":g(R),x=function(oe){var se=b(oe),_e=se%1;return se==se?_e?se-_e:se:0}(A),G=0,J=w.length,x==x&&(J!==void 0&&(x=x<=J?x:J),G!==void 0&&(x=x>=G?x:G)),A=x,E=g(E),w.slice(A,A+E.length)==E}}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}t.exports=n},function(t,e,n){(function(r){var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")(),u,l=Array.prototype,c=Function.prototype,d=Object.prototype,h=a["__core-js_shared__"],p=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",v=c.toString,y=d.hasOwnProperty,g=d.toString,m=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=l.splice,b=oe(a,"Map"),w=oe(Object,"create");function E(L){var q=-1,K=L?L.length:0;for(this.clear();++q<K;){var O=L[q];this.set(O[0],O[1])}}function A(L){var q=-1,K=L?L.length:0;for(this.clear();++q<K;){var O=L[q];this.set(O[0],O[1])}}function R(L){var q=-1,K=L?L.length:0;for(this.clear();++q<K;){var O=L[q];this.set(O[0],O[1])}}function x(L,q){for(var K,O,V=L.length;V--;)if((K=L[V][0])===(O=q)||K!=K&&O!=O)return V;return-1}function G(L){return!(!_e(L)||(q=L,p&&p in q))&&(function(K){var O=_e(K)?g.call(K):"";return O=="[object Function]"||O=="[object GeneratorFunction]"}(L)||function(K){var O=!1;if(K!=null&&typeof K.toString!="function")try{O=!!(K+"")}catch{}return O}(L)?m:i).test(function(K){if(K!=null){try{return v.call(K)}catch{}try{return K+""}catch{}}return""}(L));var q}function J(L,q){var K,O,V=L.__data__;return((O=typeof(K=q))=="string"||O=="number"||O=="symbol"||O=="boolean"?K!=="__proto__":K===null)?V[typeof q=="string"?"string":"hash"]:V.map}function oe(L,q){var K=function(O,V){return O==null?void 0:O[V]}(L,q);return G(K)?K:void 0}function se(L,q){if(typeof L!="function"||q&&typeof q!="function")throw new TypeError("Expected a function");var K=function(){var O=arguments,V=q?q.apply(this,O):O[0],Y=K.cache;if(Y.has(V))return Y.get(V);var F=L.apply(this,O);return K.cache=Y.set(V,F),F};return K.cache=new(se.Cache||R),K}function _e(L){var q=typeof L;return!!L&&(q=="object"||q=="function")}E.prototype.clear=function(){this.__data__=w?w(null):{}},E.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},E.prototype.get=function(L){var q=this.__data__;if(w){var K=q[L];return K==="__lodash_hash_undefined__"?void 0:K}return y.call(q,L)?q[L]:void 0},E.prototype.has=function(L){var q=this.__data__;return w?q[L]!==void 0:y.call(q,L)},E.prototype.set=function(L,q){return this.__data__[L]=w&&q===void 0?"__lodash_hash_undefined__":q,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(L){var q=this.__data__,K=x(q,L);return!(K<0)&&(K==q.length-1?q.pop():_.call(q,K,1),!0)},A.prototype.get=function(L){var q=this.__data__,K=x(q,L);return K<0?void 0:q[K][1]},A.prototype.has=function(L){return x(this.__data__,L)>-1},A.prototype.set=function(L,q){var K=this.__data__,O=x(K,L);return O<0?K.push([L,q]):K[O][1]=q,this},R.prototype.clear=function(){this.__data__={hash:new E,map:new(b||A),string:new E}},R.prototype.delete=function(L){return J(this,L).delete(L)},R.prototype.get=function(L){return J(this,L).get(L)},R.prototype.has=function(L){return J(this,L).has(L)},R.prototype.set=function(L,q){return J(this,L).set(L,q),this},se.Cache=R,t.exports=se}).call(this,n(3))},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return d.Date.now()};function g(_){var b=typeof _;return!!_&&(b=="object"||b=="function")}function m(_){if(typeof _=="number")return _;if(function(E){return typeof E=="symbol"||function(A){return!!A&&typeof A=="object"}(E)&&h.call(E)=="[object Symbol]"}(_))return NaN;if(g(_)){var b=typeof _.valueOf=="function"?_.valueOf():_;_=g(b)?b+"":b}if(typeof _!="string")return _===0?_:+_;_=_.replace(i,"");var w=o.test(_);return w||a.test(_)?u(_.slice(2),w?2:8):s.test(_)?NaN:+_}t.exports=function(_,b,w){var E,A,R,x,G,J,oe=0,se=!1,_e=!1,L=!0;if(typeof _!="function")throw new TypeError("Expected a function");function q(j){var $=E,H=A;return E=A=void 0,oe=j,x=_.apply(H,$)}function K(j){return oe=j,G=setTimeout(V,b),se?q(j):x}function O(j){var $=j-J;return J===void 0||$>=b||$<0||_e&&j-oe>=R}function V(){var j=y();if(O(j))return Y(j);G=setTimeout(V,function($){var H=b-($-J);return _e?v(H,R-($-oe)):H}(j))}function Y(j){return G=void 0,L&&E?q(j):(E=A=void 0,x)}function F(){var j=y(),$=O(j);if(E=arguments,A=this,J=j,$){if(G===void 0)return K(J);if(_e)return G=setTimeout(V,b),q(J)}return G===void 0&&(G=setTimeout(V,b)),x}return b=m(b)||0,g(w)&&(se=!!w.leading,R=(_e="maxWait"in w)?p(m(w.maxWait)||0,b):R,L="trailing"in w?!!w.trailing:L),F.cancel=function(){G!==void 0&&clearTimeout(G),oe=0,E=J=A=G=void 0},F.flush=function(){return G===void 0?x:Y(y())},F}}).call(this,n(3))},function(t,e,n){(function(r,i){var s="[object Arguments]",o="[object Map]",a="[object Object]",u="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[o]=g["[object Number]"]=g[a]=g["[object RegExp]"]=g[u]=g["[object String]"]=g["[object WeakMap]"]=!1;var m=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,b=m||_||Function("return this")(),w=e&&!e.nodeType&&e,E=w&&typeof i=="object"&&i&&!i.nodeType&&i,A=E&&E.exports===w&&m.process,R=function(){try{return A&&A.binding("util")}catch{}}(),x=R&&R.isTypedArray;function G(P,W,le,ge){var Fe=-1,Le=P?P.length:0;for(ge&&Le&&(le=P[++Fe]);++Fe<Le;)le=W(le,P[Fe],Fe,P);return le}function J(P,W){for(var le=-1,ge=P?P.length:0;++le<ge;)if(W(P[le],le,P))return!0;return!1}function oe(P,W,le,ge,Fe){return Fe(P,function(Le,Ge,bt){le=ge?(ge=!1,Le):W(le,Le,Ge,bt)}),le}function se(P){var W=!1;if(P!=null&&typeof P.toString!="function")try{W=!!(P+"")}catch{}return W}function _e(P){var W=-1,le=Array(P.size);return P.forEach(function(ge,Fe){le[++W]=[Fe,ge]}),le}function L(P){var W=-1,le=Array(P.size);return P.forEach(function(ge){le[++W]=ge}),le}var q,K,O,V=Array.prototype,Y=Function.prototype,F=Object.prototype,j=b["__core-js_shared__"],$=(q=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",H=Y.toString,B=F.hasOwnProperty,T=F.toString,D=RegExp("^"+H.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=b.Symbol,Z=b.Uint8Array,xe=F.propertyIsEnumerable,Re=V.splice,Me=(K=Object.keys,O=Object,function(P){return K(O(P))}),Se=Gr(b,"DataView"),We=Gr(b,"Map"),ze=Gr(b,"Promise"),U=Gr(b,"Set"),ne=Gr(b,"WeakMap"),ue=Gr(Object,"create"),Ie=La(Se),Ae=La(We),N=La(ze),ie=La(U),he=La(ne),ee=de?de.prototype:void 0,X=ee?ee.valueOf:void 0,pe=ee?ee.toString:void 0;function ve(P){var W=-1,le=P?P.length:0;for(this.clear();++W<le;){var ge=P[W];this.set(ge[0],ge[1])}}function Te(P){var W=-1,le=P?P.length:0;for(this.clear();++W<le;){var ge=P[W];this.set(ge[0],ge[1])}}function Ye(P){var W=-1,le=P?P.length:0;for(this.clear();++W<le;){var ge=P[W];this.set(ge[0],ge[1])}}function ln(P){var W=-1,le=P?P.length:0;for(this.__data__=new Ye;++W<le;)this.add(P[W])}function wt(P){this.__data__=new Te(P)}function Xn(P,W){var le=Io(P)||UP(P)?function(Ge,bt){for(var kt=-1,ct=Array(Ge);++kt<Ge;)ct[kt]=bt(kt);return ct}(P.length,String):[],ge=le.length,Fe=!!ge;for(var Le in P)!W&&!B.call(P,Le)||Fe&&(Le=="length"||MP(Le,ge))||le.push(Le);return le}function C(P,W){for(var le=P.length;le--;)if(VP(P[le][0],W))return le;return-1}ve.prototype.clear=function(){this.__data__=ue?ue(null):{}},ve.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},ve.prototype.get=function(P){var W=this.__data__;if(ue){var le=W[P];return le==="__lodash_hash_undefined__"?void 0:le}return B.call(W,P)?W[P]:void 0},ve.prototype.has=function(P){var W=this.__data__;return ue?W[P]!==void 0:B.call(W,P)},ve.prototype.set=function(P,W){return this.__data__[P]=ue&&W===void 0?"__lodash_hash_undefined__":W,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(P){var W=this.__data__,le=C(W,P);return!(le<0)&&(le==W.length-1?W.pop():Re.call(W,le,1),!0)},Te.prototype.get=function(P){var W=this.__data__,le=C(W,P);return le<0?void 0:W[le][1]},Te.prototype.has=function(P){return C(this.__data__,P)>-1},Te.prototype.set=function(P,W){var le=this.__data__,ge=C(le,P);return ge<0?le.push([P,W]):le[ge][1]=W,this},Ye.prototype.clear=function(){this.__data__={hash:new ve,map:new(We||Te),string:new ve}},Ye.prototype.delete=function(P){return Jn(this,P).delete(P)},Ye.prototype.get=function(P){return Jn(this,P).get(P)},Ye.prototype.has=function(P){return Jn(this,P).has(P)},Ye.prototype.set=function(P,W){return Jn(this,P).set(P,W),this},ln.prototype.add=ln.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},ln.prototype.has=function(P){return this.__data__.has(P)},wt.prototype.clear=function(){this.__data__=new Te},wt.prototype.delete=function(P){return this.__data__.delete(P)},wt.prototype.get=function(P){return this.__data__.get(P)},wt.prototype.has=function(P){return this.__data__.has(P)},wt.prototype.set=function(P,W){var le=this.__data__;if(le instanceof Te){var ge=le.__data__;if(!We||ge.length<199)return ge.push([P,W]),this;le=this.__data__=new Ye(ge)}return le.set(P,W),this};var M,te=(M=function(P,W){return P&&re(P,W,fm)},function(P,W){if(P==null)return P;if(!t1(P))return M(P,W);for(var le=P.length,ge=-1,Fe=Object(P);++ge<le&&W(Fe[ge],ge,Fe)!==!1;);return P}),re=function(P){return function(W,le,ge){for(var Fe=-1,Le=Object(W),Ge=ge(W),bt=Ge.length;bt--;){var kt=Ge[P?bt:++Fe];if(le(Le[kt],kt,Le)===!1)break}return W}}();function ye(P,W){for(var le=0,ge=(W=lm(W,P)?[W]:Rt(W)).length;P!=null&&le<ge;)P=P[cm(W[le++])];return le&&le==ge?P:void 0}function ke(P,W){return P!=null&&W in Object(P)}function $e(P,W,le,ge,Fe){return P===W||(P==null||W==null||!dm(P)&&!hm(W)?P!=P&&W!=W:function(Le,Ge,bt,kt,ct,ut){var di=Io(Le),hi=Io(Ge),Vt="[object Array]",mn="[object Array]";di||(Vt=(Vt=is(Le))==s?a:Vt),hi||(mn=(mn=is(Ge))==s?a:mn);var Kr=Vt==a&&!se(Le),Va=mn==a&&!se(Ge),Co=Vt==mn;if(Co&&!Kr)return ut||(ut=new wt),di||m7(Le)?bn(Le,Ge,bt,kt,ct,ut):function(Et,ft,i1,Ua,pm,Qr,Ms){switch(i1){case"[object DataView]":if(Et.byteLength!=ft.byteLength||Et.byteOffset!=ft.byteOffset)return!1;Et=Et.buffer,ft=ft.buffer;case"[object ArrayBuffer]":return!(Et.byteLength!=ft.byteLength||!Ua(new Z(Et),new Z(ft)));case"[object Boolean]":case"[object Date]":case"[object Number]":return VP(+Et,+ft);case"[object Error]":return Et.name==ft.name&&Et.message==ft.message;case"[object RegExp]":case"[object String]":return Et==ft+"";case o:var Ao=_e;case u:var Id=2&Qr;if(Ao||(Ao=L),Et.size!=ft.size&&!Id)return!1;var mm=Ms.get(Et);if(mm)return mm==ft;Qr|=1,Ms.set(Et,ft);var pl=bn(Ao(Et),Ao(ft),Ua,pm,Qr,Ms);return Ms.delete(Et),pl;case"[object Symbol]":if(X)return X.call(Et)==X.call(ft)}return!1}(Le,Ge,Vt,bt,kt,ct,ut);if(!(2&ct)){var Sd=Kr&&B.call(Le,"__wrapped__"),BP=Va&&B.call(Ge,"__wrapped__");if(Sd||BP){var v7=Sd?Le.value():Le,y7=BP?Ge.value():Ge;return ut||(ut=new wt),bt(v7,y7,kt,ct,ut)}}return Co?(ut||(ut=new wt),function(Et,ft,i1,Ua,pm,Qr){var Ms=2&pm,Ao=fm(Et),Id=Ao.length,mm=fm(ft).length;if(Id!=mm&&!Ms)return!1;for(var pl=Id;pl--;){var Po=Ao[pl];if(!(Ms?Po in ft:B.call(ft,Po)))return!1}var zP=Qr.get(Et);if(zP&&Qr.get(ft))return zP==ft;var gm=!0;Qr.set(Et,ft),Qr.set(ft,Et);for(var s1=Ms;++pl<Id;){Po=Ao[pl];var vm=Et[Po],ym=ft[Po];if(Ua)var qP=Ms?Ua(ym,vm,Po,ft,Et,Qr):Ua(vm,ym,Po,Et,ft,Qr);if(!(qP===void 0?vm===ym||i1(vm,ym,Ua,pm,Qr):qP)){gm=!1;break}s1||(s1=Po=="constructor")}if(gm&&!s1){var _m=Et.constructor,wm=ft.constructor;_m==wm||!("constructor"in Et)||!("constructor"in ft)||typeof _m=="function"&&_m instanceof _m&&typeof wm=="function"&&wm instanceof wm||(gm=!1)}return Qr.delete(Et),Qr.delete(ft),gm}(Le,Ge,bt,kt,ct,ut)):!1}(P,W,$e,le,ge,Fe))}function Je(P){return!(!dm(P)||function(W){return!!$&&$ in W}(P))&&(jP(P)||se(P)?D:v).test(La(P))}function lt(P){return typeof P=="function"?P:P==null?g7:typeof P=="object"?Io(P)?function(ge,Fe){return lm(ge)&&FP(Fe)?LP(cm(ge),Fe):function(Le){var Ge=function(bt,kt,ct){var ut=bt==null?void 0:ye(bt,kt);return ut===void 0?ct:ut}(Le,ge);return Ge===void 0&&Ge===Fe?function(bt,kt){return bt!=null&&function(ct,ut,di){ut=lm(ut,ct)?[ut]:Rt(ut);for(var hi,Vt=-1,mn=ut.length;++Vt<mn;){var Kr=cm(ut[Vt]);if(!(hi=ct!=null&&di(ct,Kr)))break;ct=ct[Kr]}return hi||!!(mn=ct?ct.length:0)&&n1(mn)&&MP(Kr,mn)&&(Io(ct)||UP(ct))}(bt,kt,ke)}(Le,ge):$e(Fe,Ge,void 0,3)}}(P[0],P[1]):function(ge){var Fe=function(Le){for(var Ge=fm(Le),bt=Ge.length;bt--;){var kt=Ge[bt],ct=Le[kt];Ge[bt]=[kt,ct,FP(ct)]}return Ge}(ge);return Fe.length==1&&Fe[0][2]?LP(Fe[0][0],Fe[0][1]):function(Le){return Le===ge||function(Ge,bt,kt,ct){var ut=kt.length,di=ut,hi=!ct;if(Ge==null)return!di;for(Ge=Object(Ge);ut--;){var Vt=kt[ut];if(hi&&Vt[2]?Vt[1]!==Ge[Vt[0]]:!(Vt[0]in Ge))return!1}for(;++ut<di;){var mn=(Vt=kt[ut])[0],Kr=Ge[mn],Va=Vt[1];if(hi&&Vt[2]){if(Kr===void 0&&!(mn in Ge))return!1}else{var Co=new wt;if(ct)var Sd=ct(Kr,Va,mn,Ge,bt,Co);if(!(Sd===void 0?$e(Va,Kr,ct,3,Co):Sd))return!1}}return!0}(Le,ge,Fe)}}(P):lm(W=P)?(le=cm(W),function(ge){return ge==null?void 0:ge[le]}):function(ge){return function(Fe){return ye(Fe,ge)}}(W);var W,le}function Lt(P){if(le=(W=P)&&W.constructor,ge=typeof le=="function"&&le.prototype||F,W!==ge)return Me(P);var W,le,ge,Fe=[];for(var Le in Object(P))B.call(P,Le)&&Le!="constructor"&&Fe.push(Le);return Fe}function Rt(P){return Io(P)?P:p7(P)}function bn(P,W,le,ge,Fe,Le){var Ge=2&Fe,bt=P.length,kt=W.length;if(bt!=kt&&!(Ge&&kt>bt))return!1;var ct=Le.get(P);if(ct&&Le.get(W))return ct==W;var ut=-1,di=!0,hi=1&Fe?new ln:void 0;for(Le.set(P,W),Le.set(W,P);++ut<bt;){var Vt=P[ut],mn=W[ut];if(ge)var Kr=Ge?ge(mn,Vt,ut,W,P,Le):ge(Vt,mn,ut,P,W,Le);if(Kr!==void 0){if(Kr)continue;di=!1;break}if(hi){if(!J(W,function(Va,Co){if(!hi.has(Co)&&(Vt===Va||le(Vt,Va,ge,Fe,Le)))return hi.add(Co)})){di=!1;break}}else if(Vt!==mn&&!le(Vt,mn,ge,Fe,Le)){di=!1;break}}return Le.delete(P),Le.delete(W),di}function Jn(P,W){var le,ge,Fe=P.__data__;return((ge=typeof(le=W))=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?le!=="__proto__":le===null)?Fe[typeof W=="string"?"string":"hash"]:Fe.map}function Gr(P,W){var le=function(ge,Fe){return ge==null?void 0:ge[Fe]}(P,W);return Je(le)?le:void 0}var is=function(P){return T.call(P)};function MP(P,W){return!!(W=W??9007199254740991)&&(typeof P=="number"||y.test(P))&&P>-1&&P%1==0&&P<W}function lm(P,W){if(Io(P))return!1;var le=typeof P;return!(le!="number"&&le!="symbol"&&le!="boolean"&&P!=null&&!r1(P))||c.test(P)||!l.test(P)||W!=null&&P in Object(W)}function FP(P){return P==P&&!dm(P)}function LP(P,W){return function(le){return le!=null&&le[P]===W&&(W!==void 0||P in Object(le))}}(Se&&is(new Se(new ArrayBuffer(1)))!="[object DataView]"||We&&is(new We)!=o||ze&&is(ze.resolve())!="[object Promise]"||U&&is(new U)!=u||ne&&is(new ne)!="[object WeakMap]")&&(is=function(P){var W=T.call(P),le=W==a?P.constructor:void 0,ge=le?La(le):void 0;if(ge)switch(ge){case Ie:return"[object DataView]";case Ae:return o;case N:return"[object Promise]";case ie:return u;case he:return"[object WeakMap]"}return W});var p7=e1(function(P){var W;P=(W=P)==null?"":function(ge){if(typeof ge=="string")return ge;if(r1(ge))return pe?pe.call(ge):"";var Fe=ge+"";return Fe=="0"&&1/ge==-1/0?"-0":Fe}(W);var le=[];return d.test(P)&&le.push(""),P.replace(h,function(ge,Fe,Le,Ge){le.push(Le?Ge.replace(p,"$1"):Fe||ge)}),le});function cm(P){if(typeof P=="string"||r1(P))return P;var W=P+"";return W=="0"&&1/P==-1/0?"-0":W}function La(P){if(P!=null){try{return H.call(P)}catch{}try{return P+""}catch{}}return""}function e1(P,W){if(typeof P!="function"||W&&typeof W!="function")throw new TypeError("Expected a function");var le=function(){var ge=arguments,Fe=W?W.apply(this,ge):ge[0],Le=le.cache;if(Le.has(Fe))return Le.get(Fe);var Ge=P.apply(this,ge);return le.cache=Le.set(Fe,Ge),Ge};return le.cache=new(e1.Cache||Ye),le}function VP(P,W){return P===W||P!=P&&W!=W}function UP(P){return function(W){return hm(W)&&t1(W)}(P)&&B.call(P,"callee")&&(!xe.call(P,"callee")||T.call(P)==s)}e1.Cache=Ye;var Io=Array.isArray;function t1(P){return P!=null&&n1(P.length)&&!jP(P)}function jP(P){var W=dm(P)?T.call(P):"";return W=="[object Function]"||W=="[object GeneratorFunction]"}function n1(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=9007199254740991}function dm(P){var W=typeof P;return!!P&&(W=="object"||W=="function")}function hm(P){return!!P&&typeof P=="object"}function r1(P){return typeof P=="symbol"||hm(P)&&T.call(P)=="[object Symbol]"}var m7=x?function(P){return function(W){return P(W)}}(x):function(P){return hm(P)&&n1(P.length)&&!!g[T.call(P)]};function fm(P){return t1(P)?Xn(P):Lt(P)}function g7(P){return P}i.exports=function(P,W,le){var ge=Io(P)?G:oe,Fe=arguments.length<3;return ge(P,lt(W),le,Fe,te)}}).call(this,n(3),n(7)(t))},function(t,e){t.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(n,r){return n>>=0,r=String(r!==void 0?r:" "),this.length>n?String(this):((n-=this.length)>r.length&&(r+=r.repeat(n/r.length)),String(this)+r.slice(0,n))})},function(t,e,n){function r(F,j,$){return j in F?Object.defineProperty(F,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[j]=$,F}function i(F){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]")return Array.from(F)}function s(F){return function(j){if(Array.isArray(j)){for(var $=0,H=new Array(j.length);$<j.length;$++)H[$]=j[$];return H}}(F)||i(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(F){if(Array.isArray(F))return F}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}function l(F,j){for(var $=0;$<j.length;$++){var H=j[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(F,H.key,H)}}function c(F){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(F)}function d(F){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(j){return c(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":c(j)})(F)}function h(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function p(F){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(F)}function v(F,j){return(v=Object.setPrototypeOf||function($,H){return $.__proto__=H,$})(F,j)}n.r(e);var y=n(0),g=n.n(y),m=n(5),_=n.n(m),b=n(4),w=n.n(b),E=n(6),A=n.n(E),R=n(2),x=n.n(R),G=n(1),J=n.n(G);n(8);function oe(F,j){return o(F)||function($,H){var B=[],T=!0,D=!1,de=void 0;try{for(var Z,xe=$[Symbol.iterator]();!(T=(Z=xe.next()).done)&&(B.push(Z.value),!H||B.length!==H);T=!0);}catch(Re){D=!0,de=Re}finally{try{T||xe.return==null||xe.return()}finally{if(D)throw de}}return B}(F,j)||a()}var se=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],_e=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function L(F,j,$,H,B){return!$||B?F+"".padEnd(j.length,".")+" "+H:F+"".padEnd(j.length,".")+" "+$}function q(F,j,$,H,B){var T,D,de=[];return D=j===!0,[(T=[]).concat.apply(T,s(F.map(function(Z){var xe={name:Z[0],regions:Z[1],iso2:Z[2],countryCode:Z[3],dialCode:Z[3],format:L($,Z[3],Z[4],H,B),priority:Z[5]||0},Re=[];return Z[6]&&Z[6].map(function(Me){var Se=function(We){for(var ze=1;ze<arguments.length;ze++){var U=arguments[ze]!=null?arguments[ze]:{},ne=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(ne=ne.concat(Object.getOwnPropertySymbols(U).filter(function(ue){return Object.getOwnPropertyDescriptor(U,ue).enumerable}))),ne.forEach(function(ue){r(We,ue,U[ue])})}return We}({},xe);Se.dialCode=Z[3]+Me,Se.isAreaCode=!0,Se.areaCodeLength=Me.length,Re.push(Se)}),Re.length>0?(xe.mainCode=!0,D||j.constructor.name==="Array"&&j.includes(Z[2])?(xe.hasAreaCodes=!0,[xe].concat(Re)):(de=de.concat(Re),[xe])):[xe]}))),de]}function K(F,j,$,H){if($!==null){var B=Object.keys($),T=Object.values($);B.forEach(function(D,de){if(H)return F.push([D,T[de]]);var Z=F.findIndex(function(Re){return Re[0]===D});if(Z===-1){var xe=[D];xe[j]=T[de],F.push(xe)}else F[Z][j]=T[de]})}}function O(F,j){return j.length===0?F:F.map(function($){var H=j.findIndex(function(T){return T[0]===$[2]});if(H===-1)return $;var B=j[H];return B[1]&&($[4]=B[1]),B[3]&&($[5]=B[3]),B[2]&&($[6]=B[2]),$})}var V=function F(j,$,H,B,T,D,de,Z,xe,Re,Me,Se,We,ze){u(this,F),this.filterRegions=function(ee,X){if(typeof ee=="string"){var pe=ee;return X.filter(function(ve){return ve.regions.some(function(Te){return Te===pe})})}return X.filter(function(ve){return ee.map(function(Te){return ve.regions.some(function(Ye){return Ye===Te})}).some(function(Te){return Te})})},this.sortTerritories=function(ee,X){var pe=[].concat(s(ee),s(X));return pe.sort(function(ve,Te){return ve.name<Te.name?-1:ve.name>Te.name?1:0}),pe},this.getFilteredCountryList=function(ee,X,pe){return ee.length===0?X:pe?ee.map(function(ve){var Te=X.find(function(Ye){return Ye.iso2===ve});if(Te)return Te}).filter(function(ve){return ve}):X.filter(function(ve){return ee.some(function(Te){return Te===ve.iso2})})},this.localizeCountries=function(ee,X,pe){for(var ve=0;ve<ee.length;ve++)X[ee[ve].iso2]!==void 0?ee[ve].localName=X[ee[ve].iso2]:X[ee[ve].name]!==void 0&&(ee[ve].localName=X[ee[ve].name]);return pe||ee.sort(function(Te,Ye){return Te.localName<Ye.localName?-1:Te.localName>Ye.localName?1:0}),ee},this.getCustomAreas=function(ee,X){for(var pe=[],ve=0;ve<X.length;ve++){var Te=JSON.parse(JSON.stringify(ee));Te.dialCode+=X[ve],pe.push(Te)}return pe},this.excludeCountries=function(ee,X){return X.length===0?ee:ee.filter(function(pe){return!X.includes(pe.iso2)})};var U=function(ee,X,pe){var ve=[];return K(ve,1,ee,!0),K(ve,3,X),K(ve,2,pe),ve}(Z,xe,Re),ne=O(JSON.parse(JSON.stringify(se)),U),ue=O(JSON.parse(JSON.stringify(_e)),U),Ie=oe(q(ne,j,Se,We,ze),2),Ae=Ie[0],N=Ie[1];if($){var ie=oe(q(ue,j,Se,We,ze),2),he=ie[0];ie[1],Ae=this.sortTerritories(he,Ae)}H&&(Ae=this.filterRegions(H,Ae)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(B,Ae,de.includes("onlyCountries")),D),Me,de.includes("onlyCountries")),this.preferredCountries=T.length===0?[]:this.localizeCountries(this.getFilteredCountryList(T,Ae,de.includes("preferredCountries")),Me,de.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(B,N),D)},Y=function(F){function j(B){var T;u(this,j),(T=function(U,ne){return!ne||d(ne)!=="object"&&typeof ne!="function"?h(U):ne}(this,p(j).call(this,B))).getProbableCandidate=w()(function(U){return U&&U.length!==0?T.state.onlyCountries.filter(function(ne){return x()(ne.name.toLowerCase(),U.toLowerCase())},h(h(T)))[0]:null}),T.guessSelectedCountry=w()(function(U,ne,ue,Ie){var Ae;if(T.props.enableAreaCodes===!1&&(Ie.some(function(he){if(x()(U,he.dialCode))return ue.some(function(ee){if(he.iso2===ee.iso2&&ee.mainCode)return Ae=ee,!0}),!0}),Ae))return Ae;var N=ue.find(function(he){return he.iso2==ne});if(U.trim()==="")return N;var ie=ue.reduce(function(he,ee){return x()(U,ee.dialCode)&&(ee.dialCode.length>he.dialCode.length||ee.dialCode.length===he.dialCode.length&&ee.priority<he.priority)?ee:he},{dialCode:"",priority:10001},h(h(T)));return ie.name?ie:N}),T.updateCountry=function(U){var ne,ue=T.state.onlyCountries;(ne=U.indexOf(0)>="0"&&U.indexOf(0)<="9"?ue.find(function(Ie){return Ie.dialCode==+U}):ue.find(function(Ie){return Ie.iso2==U}))&&ne.dialCode&&T.setState({selectedCountry:ne,formattedNumber:T.props.disableCountryCode?"":T.formatNumber(ne.dialCode,ne)})},T.scrollTo=function(U,ne){if(U){var ue=T.dropdownRef;if(ue&&document.body){var Ie=ue.offsetHeight,Ae=ue.getBoundingClientRect().top+document.body.scrollTop,N=Ae+Ie,ie=U,he=ie.getBoundingClientRect(),ee=ie.offsetHeight,X=he.top+document.body.scrollTop,pe=X+ee,ve=X-Ae+ue.scrollTop,Te=Ie/2-ee/2;if(T.props.enableSearch?X<Ae+32:X<Ae)ne&&(ve-=Te),ue.scrollTop=ve;else if(pe>N){ne&&(ve+=Te);var Ye=Ie-ee;ue.scrollTop=ve-Ye}}}},T.scrollToTop=function(){var U=T.dropdownRef;U&&document.body&&(U.scrollTop=0)},T.formatNumber=function(U,ne){if(!ne)return U;var ue,Ie=ne.format,Ae=T.props,N=Ae.disableCountryCode,ie=Ae.enableAreaCodeStretch,he=Ae.enableLongNumbers,ee=Ae.autoFormat;if(N?((ue=Ie.split(" ")).shift(),ue=ue.join(" ")):ie&&ne.isAreaCode?((ue=Ie.split(" "))[1]=ue[1].replace(/\.+/,"".padEnd(ne.areaCodeLength,".")),ue=ue.join(" ")):ue=Ie,!U||U.length===0)return N?"":T.props.prefix;if(U&&U.length<2||!ue||!ee)return N?U:T.props.prefix+U;var X,pe=A()(ue,function(ve,Te){if(ve.remainingText.length===0)return ve;if(Te!==".")return{formattedText:ve.formattedText+Te,remainingText:ve.remainingText};var Ye,ln=o(Ye=ve.remainingText)||i(Ye)||a(),wt=ln[0],Xn=ln.slice(1);return{formattedText:ve.formattedText+wt,remainingText:Xn}},{formattedText:"",remainingText:U.split("")});return(X=he?pe.formattedText+pe.remainingText.join(""):pe.formattedText).includes("(")&&!X.includes(")")&&(X+=")"),X},T.cursorToEnd=function(){var U=T.numberInputRef;if(document.activeElement===U){U.focus();var ne=U.value.length;U.value.charAt(ne-1)===")"&&(ne-=1),U.setSelectionRange(ne,ne)}},T.getElement=function(U){return T["flag_no_".concat(U)]},T.getCountryData=function(){return T.state.selectedCountry?{name:T.state.selectedCountry.name||"",dialCode:T.state.selectedCountry.dialCode||"",countryCode:T.state.selectedCountry.iso2||"",format:T.state.selectedCountry.format||""}:{}},T.handleFlagDropdownClick=function(U){if(U.preventDefault(),T.state.showDropdown||!T.props.disabled){var ne=T.state,ue=ne.preferredCountries,Ie=ne.onlyCountries,Ae=ne.selectedCountry,N=T.concatPreferredCountries(ue,Ie).findIndex(function(ie){return ie.dialCode===Ae.dialCode&&ie.iso2===Ae.iso2});T.setState({showDropdown:!T.state.showDropdown,highlightCountryIndex:N},function(){T.state.showDropdown&&T.scrollTo(T.getElement(T.state.highlightCountryIndex))})}},T.handleInput=function(U){var ne=U.target.value,ue=T.props,Ie=ue.prefix,Ae=ue.onChange,N=T.props.disableCountryCode?"":Ie,ie=T.state.selectedCountry,he=T.state.freezeSelection;if(!T.props.countryCodeEditable){var ee=Ie+(ie.hasAreaCodes?T.state.onlyCountries.find(function(te){return te.iso2===ie.iso2&&te.mainCode}).dialCode:ie.dialCode);if(ne.slice(0,ee.length)!==ee)return}if(ne===Ie)return Ae&&Ae("",T.getCountryData(),U,""),T.setState({formattedNumber:""});if(!(ne.replace(/\D/g,"").length>15&&(T.props.enableLongNumbers===!1||typeof T.props.enableLongNumbers=="number"&&ne.replace(/\D/g,"").length>T.props.enableLongNumbers))&&ne!==T.state.formattedNumber){U.preventDefault?U.preventDefault():U.returnValue=!1;var X=T.props.country,pe=T.state,ve=pe.onlyCountries,Te=pe.selectedCountry,Ye=pe.hiddenAreaCodes;if(Ae&&U.persist(),ne.length>0){var ln=ne.replace(/\D/g,"");(!T.state.freezeSelection||Te&&Te.dialCode.length>ln.length)&&(ie=T.props.disableCountryGuess?Te:T.guessSelectedCountry(ln.substring(0,6),X,ve,Ye)||Te,he=!1),N=T.formatNumber(ln,ie),ie=ie.dialCode?ie:Te}var wt=U.target.selectionStart,Xn=U.target.selectionStart,C=T.state.formattedNumber,M=N.length-C.length;T.setState({formattedNumber:N,freezeSelection:he,selectedCountry:ie},function(){M>0&&(Xn-=M),N.charAt(N.length-1)==")"?T.numberInputRef.setSelectionRange(N.length-1,N.length-1):Xn>0&&C.length>=N.length?T.numberInputRef.setSelectionRange(Xn,Xn):wt<C.length&&T.numberInputRef.setSelectionRange(wt,wt),Ae&&Ae(N.replace(/[^0-9]+/g,""),T.getCountryData(),U,N)})}},T.handleInputClick=function(U){T.setState({showDropdown:!1}),T.props.onClick&&T.props.onClick(U,T.getCountryData())},T.handleDoubleClick=function(U){var ne=U.target.value.length;U.target.setSelectionRange(0,ne)},T.handleFlagItemClick=function(U,ne){var ue=T.state.selectedCountry,Ie=T.state.onlyCountries.find(function(he){return he==U});if(Ie){var Ae=T.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),N=Ae.length>1?Ae.replace(ue.dialCode,Ie.dialCode):Ie.dialCode,ie=T.formatNumber(N.replace(/\D/g,""),Ie);T.setState({showDropdown:!1,selectedCountry:Ie,freezeSelection:!0,formattedNumber:ie,searchValue:""},function(){T.cursorToEnd(),T.props.onChange&&T.props.onChange(ie.replace(/[^0-9]+/g,""),T.getCountryData(),ne,ie)})}},T.handleInputFocus=function(U){T.numberInputRef&&T.numberInputRef.value===T.props.prefix&&T.state.selectedCountry&&!T.props.disableCountryCode&&T.setState({formattedNumber:T.props.prefix+T.state.selectedCountry.dialCode},function(){T.props.jumpCursorToEnd&&setTimeout(T.cursorToEnd,0)}),T.setState({placeholder:""}),T.props.onFocus&&T.props.onFocus(U,T.getCountryData()),T.props.jumpCursorToEnd&&setTimeout(T.cursorToEnd,0)},T.handleInputBlur=function(U){U.target.value||T.setState({placeholder:T.props.placeholder}),T.props.onBlur&&T.props.onBlur(U,T.getCountryData())},T.handleInputCopy=function(U){if(T.props.copyNumbersOnly){var ne=window.getSelection().toString().replace(/[^0-9]+/g,"");U.clipboardData.setData("text/plain",ne),U.preventDefault()}},T.getHighlightCountryIndex=function(U){var ne=T.state.highlightCountryIndex+U;return ne<0||ne>=T.state.onlyCountries.length+T.state.preferredCountries.length?ne-U:T.props.enableSearch&&ne>T.getSearchFilteredCountries().length?0:ne},T.searchCountry=function(){var U=T.getProbableCandidate(T.state.queryString)||T.state.onlyCountries[0],ne=T.state.onlyCountries.findIndex(function(ue){return ue==U})+T.state.preferredCountries.length;T.scrollTo(T.getElement(ne),!0),T.setState({queryString:"",highlightCountryIndex:ne})},T.handleKeydown=function(U){var ne=T.props.keys,ue=U.target.className;if(ue.includes("selected-flag")&&U.which===ne.ENTER&&!T.state.showDropdown)return T.handleFlagDropdownClick(U);if(ue.includes("form-control")&&(U.which===ne.ENTER||U.which===ne.ESC))return U.target.blur();if(T.state.showDropdown&&!T.props.disabled&&(!ue.includes("search-box")||U.which===ne.UP||U.which===ne.DOWN||U.which===ne.ENTER||U.which===ne.ESC&&U.target.value==="")){U.preventDefault?U.preventDefault():U.returnValue=!1;var Ie=function(Ae){T.setState({highlightCountryIndex:T.getHighlightCountryIndex(Ae)},function(){T.scrollTo(T.getElement(T.state.highlightCountryIndex),!0)})};switch(U.which){case ne.DOWN:Ie(1);break;case ne.UP:Ie(-1);break;case ne.ENTER:T.props.enableSearch?T.handleFlagItemClick(T.getSearchFilteredCountries()[T.state.highlightCountryIndex]||T.getSearchFilteredCountries()[0],U):T.handleFlagItemClick([].concat(s(T.state.preferredCountries),s(T.state.onlyCountries))[T.state.highlightCountryIndex],U);break;case ne.ESC:case ne.TAB:T.setState({showDropdown:!1},T.cursorToEnd);break;default:(U.which>=ne.A&&U.which<=ne.Z||U.which===ne.SPACE)&&T.setState({queryString:T.state.queryString+String.fromCharCode(U.which)},T.state.debouncedQueryStingSearcher)}}},T.handleInputKeyDown=function(U){var ne=T.props,ue=ne.keys,Ie=ne.onEnterKeyPress,Ae=ne.onKeyDown;U.which===ue.ENTER&&Ie&&Ie(U),Ae&&Ae(U)},T.handleClickOutside=function(U){T.dropdownRef&&!T.dropdownContainerRef.contains(U.target)&&T.state.showDropdown&&T.setState({showDropdown:!1})},T.handleSearchChange=function(U){var ne=U.currentTarget.value,ue=T.state,Ie=ue.preferredCountries,Ae=ue.selectedCountry,N=0;if(ne===""&&Ae){var ie=T.state.onlyCountries;N=T.concatPreferredCountries(Ie,ie).findIndex(function(he){return he==Ae}),setTimeout(function(){return T.scrollTo(T.getElement(N))},100)}T.setState({searchValue:ne,highlightCountryIndex:N})},T.concatPreferredCountries=function(U,ne){return U.length>0?s(new Set(U.concat(ne))):ne},T.getDropdownCountryName=function(U){return U.localName||U.name},T.getSearchFilteredCountries=function(){var U=T.state,ne=U.preferredCountries,ue=U.onlyCountries,Ie=U.searchValue,Ae=T.props.enableSearch,N=T.concatPreferredCountries(ne,ue),ie=Ie.trim().toLowerCase().replace("+","");if(Ae&&ie){if(/^\d+$/.test(ie))return N.filter(function(X){var pe=X.dialCode;return["".concat(pe)].some(function(ve){return ve.toLowerCase().includes(ie)})});var he=N.filter(function(X){var pe=X.iso2;return["".concat(pe)].some(function(ve){return ve.toLowerCase().includes(ie)})}),ee=N.filter(function(X){var pe=X.name,ve=X.localName;return X.iso2,["".concat(pe),"".concat(ve||"")].some(function(Te){return Te.toLowerCase().includes(ie)})});return T.scrollToTop(),s(new Set([].concat(he,ee)))}return N},T.getCountryDropdownList=function(){var U=T.state,ne=U.preferredCountries,ue=U.highlightCountryIndex,Ie=U.showDropdown,Ae=U.searchValue,N=T.props,ie=N.disableDropdown,he=N.prefix,ee=T.props,X=ee.enableSearch,pe=ee.searchNotFound,ve=ee.disableSearchIcon,Te=ee.searchClass,Ye=ee.searchStyle,ln=ee.searchPlaceholder,wt=ee.autocompleteSearch,Xn=T.getSearchFilteredCountries().map(function(te,re){var ye=ue===re,ke=J()({country:!0,preferred:te.iso2==="us"||te.iso2==="gb",active:te.iso2==="us",highlight:ye}),$e="flag ".concat(te.iso2);return g.a.createElement("li",Object.assign({ref:function(Je){return T["flag_no_".concat(re)]=Je},key:"flag_no_".concat(re),"data-flag-key":"flag_no_".concat(re),className:ke,"data-dial-code":"1",tabIndex:ie?"-1":"0","data-country-code":te.iso2,onClick:function(Je){return T.handleFlagItemClick(te,Je)},role:"option"},ye?{"aria-selected":!0}:{}),g.a.createElement("div",{className:$e}),g.a.createElement("span",{className:"country-name"},T.getDropdownCountryName(te)),g.a.createElement("span",{className:"dial-code"},te.format?T.formatNumber(te.dialCode,te):he+te.dialCode))}),C=g.a.createElement("li",{key:"dashes",className:"divider"});ne.length>0&&(!X||X&&!Ae.trim())&&Xn.splice(ne.length,0,C);var M=J()(r({"country-list":!0,hide:!Ie},T.props.dropdownClass,!0));return g.a.createElement("ul",{ref:function(te){return!X&&te&&te.focus(),T.dropdownRef=te},className:M,style:T.props.dropdownStyle,role:"listbox",tabIndex:"0"},X&&g.a.createElement("li",{className:J()(r({search:!0},Te,Te))},!ve&&g.a.createElement("span",{className:J()(r({"search-emoji":!0},"".concat(Te,"-emoji"),Te)),role:"img","aria-label":"Magnifying glass"},""),g.a.createElement("input",{className:J()(r({"search-box":!0},"".concat(Te,"-box"),Te)),style:Ye,type:"search",placeholder:ln,autoFocus:!0,autoComplete:wt?"on":"off",value:Ae,onChange:T.handleSearchChange})),Xn.length>0?Xn:g.a.createElement("li",{className:"no-entries-message"},g.a.createElement("span",null,pe)))};var D,de=new V(B.enableAreaCodes,B.enableTerritories,B.regions,B.onlyCountries,B.preferredCountries,B.excludeCountries,B.preserveOrder,B.masks,B.priority,B.areaCodes,B.localization,B.prefix,B.defaultMask,B.alwaysDefaultMask),Z=de.onlyCountries,xe=de.preferredCountries,Re=de.hiddenAreaCodes,Me=B.value?B.value.replace(/\D/g,""):"";D=B.disableInitialCountryGuess?0:Me.length>1?T.guessSelectedCountry(Me.substring(0,6),B.country,Z,Re)||0:B.country&&Z.find(function(U){return U.iso2==B.country})||0;var Se,We=Me.length<2&&D&&!x()(Me,D.dialCode)?D.dialCode:"";Se=Me===""&&D===0?"":T.formatNumber((B.disableCountryCode?"":We)+Me,D.name?D:void 0);var ze=Z.findIndex(function(U){return U==D});return T.state={showDropdown:B.showDropdown,formattedNumber:Se,onlyCountries:Z,preferredCountries:xe,hiddenAreaCodes:Re,selectedCountry:D,highlightCountryIndex:ze,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:_()(T.searchCountry,250),searchValue:""},T}var $,H;return function(B,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(T&&T.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),T&&v(B,T)}(j,F),$=j,(H=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(B,T,D){B.country!==this.props.country?this.updateCountry(this.props.country):B.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(B){if(B===null)return this.setState({selectedCountry:0,formattedNumber:""});var T=this.state,D=T.onlyCountries,de=T.selectedCountry,Z=T.hiddenAreaCodes,xe=this.props,Re=xe.country,Me=xe.prefix;if(B==="")return this.setState({selectedCountry:de,formattedNumber:""});var Se,We,ze=B.replace(/\D/g,"");if(de&&x()(B,Me+de.dialCode))We=this.formatNumber(ze,de),this.setState({formattedNumber:We});else{var U=(Se=this.props.disableCountryGuess?de:this.guessSelectedCountry(ze.substring(0,6),Re,D,Z)||de)&&x()(ze,Me+Se.dialCode)?Se.dialCode:"";We=this.formatNumber((this.props.disableCountryCode?"":U)+ze,Se||void 0),this.setState({selectedCountry:Se,formattedNumber:We})}}},{key:"render",value:function(){var B,T,D,de=this,Z=this.state,xe=Z.onlyCountries,Re=Z.selectedCountry,Me=Z.showDropdown,Se=Z.formattedNumber,We=Z.hiddenAreaCodes,ze=this.props,U=ze.disableDropdown,ne=ze.renderStringAsFlag,ue=ze.isValid,Ie=ze.defaultErrorMessage,Ae=ze.specialLabel;if(typeof ue=="boolean")T=ue;else{var N=ue(Se.replace(/\D/g,""),Re,xe,We);typeof N=="boolean"?(T=N)===!1&&(D=Ie):(T=!1,D=N)}var ie=J()((r(B={},this.props.containerClass,!0),r(B,"react-tel-input",!0),B)),he=J()({arrow:!0,up:Me}),ee=J()(r({"form-control":!0,"invalid-number":!T,open:Me},this.props.inputClass,!0)),X=J()({"selected-flag":!0,open:Me}),pe=J()(r({"flag-dropdown":!0,"invalid-number":!T,open:Me},this.props.buttonClass,!0)),ve="flag ".concat(Re&&Re.iso2);return g.a.createElement("div",{className:"".concat(ie," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Ae&&g.a.createElement("div",{className:"special-label"},Ae),D&&g.a.createElement("div",{className:"invalid-number-message"},D),g.a.createElement("input",Object.assign({className:ee,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Se,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Te){de.numberInputRef=Te,typeof de.props.inputProps.ref=="function"?de.props.inputProps.ref(Te):typeof de.props.inputProps.ref=="object"&&(de.props.inputProps.ref.current=Te)}})),g.a.createElement("div",{className:pe,style:this.props.buttonStyle,ref:function(Te){return de.dropdownContainerRef=Te}},ne?g.a.createElement("div",{className:X},ne):g.a.createElement("div",{onClick:U?void 0:this.handleFlagDropdownClick,className:X,title:Re?"".concat(Re.localName||Re.name,": + ").concat(Re.dialCode):"",tabIndex:U?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Me||void 0},g.a.createElement("div",{className:ve},!U&&g.a.createElement("div",{className:he}))),Me&&this.getCountryDropdownList()))}}])&&l($.prototype,H),j}(g.a.Component);Y.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=Y}]);const APe=Rn(CPe),q_=t=>{const[e,n,r]=k9(t),{label:i,placeholder:s,defaultValue:o}=t,{touched:a,error:u}=n,{setValue:l}=r,c=(d,h)=>{const p={dialCode:h.dialCode,countryCode:h.countryCode,country:h.name,value:d};l(p)};return k("div",{className:"input-group",children:[a&&u?f("span",{className:"label-input label-error",children:(u==null?void 0:u.value)||(u==null?void 0:u.dialCode)}):f("label",{className:"label-input",htmlFor:e.name,children:i}),f(APe,{name:e.name,country:"ph",inputClass:"input-form d-block",style:{border:a&&u?"1px solid red":"1px solid #cacaca"},inputExtraProps:{required:!0},onChange:c,placeholder:s,value:o.value})]})};q_.defaultProps={label:"Mobile Number",placeholder:"09254461351"};q_.propTypes={label:I.string,placeholder:I.string,defaultValue:I.object.isRequired};const kj=({field:t,form:{touched:e,errors:n},label:r,...i})=>k("div",{className:"input-group",children:[e[t.name]&&n[t.name]?f("span",{className:"label-input label-error",children:n[t.name]}):f("label",{className:"label-input",htmlFor:t.name,children:r}),f("textarea",{name:t.name,cols:30,rows:4,id:t.name,className:`input-form ${e[t.name]&&n[t.name]&&"input-error"}`,...t,...i})]});kj.propTypes={label:I.string.isRequired,field:I.object.isRequired,form:I.object.isRequired};const Oj=({isLoading:t,authProvider:e})=>{const n=ci(),{values:r,submitForm:i}=To(),s=Xe(u=>u.darkMode),a=Object.values(s)[0];return k("div",{className:`user-profile-details ${a?"dark-mode":""}`,children:[f(Er,{disabled:t,name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:cr,style:{textTransform:"capitalize"}}),f(Er,{disabled:e!=="password"||t,name:"email",type:"email",label:"* Email Address",placeholder:"test@example.com",component:cr}),f(Er,{disabled:t,name:"address",type:"text",label:"Address (Will be used for checkout)",placeholder:"#245 Brgy. Maligalig, Arayat Pampanga, Philippines",component:cr,style:{textTransform:"capitalize"}}),f(q_,{defaultValue:r.mobile,name:"mobile",disabled:t,label:"Mobile Number (Will be used for checkout)"}),f("br",{}),k("div",{className:"edit-user-action",children:[k("button",{className:"button button-muted w-100-mobile",disabled:t,onClick:()=>n.push(Ly),type:"button",children:[f(w0,{})," Back to Profile"]}),k("button",{className:"button w-100-mobile",disabled:t,onClick:i,type:"button",children:[t?f(hr,{}):f(_p,{}),"",t?"Updating Profile":"Update Profile"]})]})]})};Oj.propTypes={isLoading:I.bool.isRequired,authProvider:I.string.isRequired};const PPe=ho().shape({fullname:mt().min(4,"Full name should be at least 4 characters.").max(60,"Full name should be only be 4 characters long.").required("Full name is required"),email:mt().email("Email is not valid.").required("Email is required."),address:mt(),mobile:ho().shape({country:mt(),countryCode:mt(),dialCode:mt(),value:mt()})}),RPe=()=>{Yn("Edit Account | Salinaka"),$n();const t=wA(),e=zt();S.useEffect(()=>()=>{e(Mr(!1))},[]);const{profile:n,auth:r,isLoading:i}=Xe(h=>({profile:h.profile,auth:h.auth,isLoading:h.app.loading})),s={fullname:n.fullname||"",email:n.email||"",address:n.address||"",mobile:n.mobile||{}},{imageFile:o,isFileLoading:a,onFileChange:u}=U5({avatar:{},banner:{}}),l=(h,p={})=>{e(rde({updates:{fullname:h.fullname,email:h.email,address:h.address,mobile:h.mobile,avatar:n.avatar,banner:n.banner},files:{bannerFile:o.banner.file,avatarFile:o.avatar.file},credentials:p}))},c=(h,p)=>{p&&l(h,{email:h.email,password:p})};return f(Yu,{children:k("div",{className:"edit-user",children:[f("h3",{className:"text-center",children:"Edit Account Details"}),f(md,{initialValues:s,validateOnChange:!0,validationSchema:PPe,onSubmit:h=>{(Object.keys(h).some(v=>n[v]!==h[v])||(o.banner.file||o.avatar.file))&&(h.email!==n.email?t.onOpenModal():l(h))},children:()=>k(_n,{children:[k("div",{className:"user-profile-banner",children:[k("div",{className:"user-profile-banner-wrapper",children:[f(Ni,{alt:"Banner",className:"user-profile-banner-img",src:o.banner.url||n.banner}),a?f("div",{className:"loading-wrapper",children:f(hr,{})}):k("label",{className:"edit-button edit-banner-button",htmlFor:"edit-banner",children:[f("input",{accept:"image/x-png,image/jpeg",disabled:i,hidden:!0,id:"edit-banner",onChange:h=>u(h,{name:"banner",type:"single"}),type:"file"}),f(Nk,{})]})]}),k("div",{className:"user-profile-avatar-wrapper",children:[f(Ni,{alt:"Avatar",className:"user-profile-img",src:o.avatar.url||n.avatar}),a?f("div",{className:"loading-wrapper",children:f(hr,{})}):k("label",{className:"edit-button edit-avatar-button",htmlFor:"edit-avatar",children:[f("input",{accept:"image/x-png,image/jpeg",disabled:i,hidden:!0,id:"edit-avatar",onChange:h=>u(h,{name:"avatar",type:"single"}),type:"file"}),f(Nk,{})]})]})]}),f(Oj,{authProvider:r.provider,isLoading:i}),f($8,{onConfirmUpdate:c,modal:t})]})})]})})},kPe="modulepreload",OPe=function(t){return"/"+t},yD={},H_=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=OPe(s),s in yD)return;yD[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":kPe,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},xj=t=>{const{children:e}=t,[n,r]=S.useState(e[0].props.index||0),i=u=>r(u),s=Xe(u=>u.darkMode),a=Object.values(s)[0];return k("div",{className:`user-tab ${a?"dark-mode":""}`,children:[f("div",{className:`user-tab-nav ${a?"dark-mode":""}`,children:f("ul",{className:`user-tab-menu ${a?"dark-mode":""}`,children:e.map(u=>f("li",{className:`user-tab-item  ${u.props.index===n?"user-tab-active":""} ${a?"dark-mode":""} user-tab-item`,role:"presentation",onClick:()=>i(u.props.index),children:u.props.label},u.props.label))})}),f("div",{className:"user-tab-content",children:e.map(u=>u.props.index!==n?null:u.props.children)})]})};xj.propTypes={children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};const xPe=S.lazy(()=>H_(()=>import("./UserAccountTab-6df34091.js"),[])),NPe=S.lazy(()=>H_(()=>import("./UserOrdersTab-ba6c8074.js"),[])),_D=()=>k("div",{className:"loader",style:{minHeight:"80vh"},children:[f(hr,{}),f("h6",{children:"Loading ... "})]}),DPe=()=>($n(),Yn("My Account | PF HENRY & CO."),k(xj,{children:[f("div",{index:0,label:"Account",children:f(S.Suspense,{fallback:f(_D,{}),children:f(xPe,{})})}),f("div",{index:2,label:"My Orders",children:f(S.Suspense,{fallback:f(_D,{}),children:f(NPe,{})})})]})),$Pe=t=>({type:iI,payload:t}),MPe=t=>({type:YF,payload:t}),FPe=t=>({type:oI,payload:t}),LPe=t=>({type:sI,payload:{searchKey:t}}),VPe=t=>({type:QF,payload:t}),wD=()=>({type:eL}),UPe=t=>({type:XF,payload:t}),jPe=t=>({type:aI,payload:t}),BPe=t=>({type:JF,payload:t}),zPe=(t,e)=>({type:uI,payload:{id:t,updates:e}}),qPe=t=>({type:ZF,payload:t}),HPe=S.lazy(()=>H_(()=>Promise.resolve().then(()=>Gj),void 0)),WPe=()=>{$n(),Yn("Add New Product | PF HENSRY & CO.");const t=Xe(r=>r.app.loading),e=zt(),n=r=>{e(FPe(r))};return k("div",{className:"product-form-container",children:[f("h2",{children:"Add New Product"}),f(S.Suspense,{fallback:k("div",{className:"loader",style:{minHeight:"80vh"},children:[f("h6",{children:"Loading ... "}),f("br",{}),f(hr,{})]}),children:f(HPe,{isLoading:t,onSubmit:n,product:{name:"",brand:"",price:0,maxQuantity:0,description:"",keywords:[],sizes:[],image:"",isFeatured:!1,isRecommended:!1,availableColors:[],imageCollection:[]}})})]})},GPe=Ia(WPe),W_=({filteredProductsCount:t})=>{const e=Xe(h=>h.filter,gh),r=["brand","minPrice","maxPrice","sortBy","keyword"].some(h=>!!e[h]),i=zt(),s=Xe(h=>h.darkMode),a=Object.values(s)[0],u=()=>{i(fh({keyword:""}))},l=()=>{i(fh({minPrice:0,maxPrice:0}))},c=()=>{i(fh({brand:""}))},d=()=>{i(fh({sortBy:""}))};return r?k(_n,{children:[f("div",{className:`product-list-header ${a?"dark-mode":""}`,children:f("div",{className:`product-list-header-title ${a?"dark-mode":""}`,children:f("h5",{children:t>0&&`Found ${t} ${t>1?"products":"product"}`})})}),k("div",{className:`product-applied-filters ${a?"dark-mode":""}`,children:[e.keyword&&k("div",{className:`pill-wrapper ${a?"dark-mode":""}`,children:[f("span",{className:"d-block",children:"Keyword"}),k("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.keyword}),f("div",{className:"pill-remove",onClick:u,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(zm,{})})})]})]}),e.brand&&k("div",{className:`pill-wrapper ${a?"dark-mode":""}`,children:[f("span",{className:"d-block",children:"Brand"}),k("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.brand}),f("div",{className:"pill-remove",onClick:c,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(zm,{})})})]})]}),(!!e.minPrice||!!e.maxPrice)&&k("div",{className:`pill-wrapper ${a?"dark-mode":""}`,children:[f("span",{className:"d-block",children:"Price Range"}),k("div",{className:"pill padding-right-l",children:[k("h5",{className:"pill-content margin-0",children:["$",e.minPrice,"- $",e.maxPrice]}),f("div",{className:"pill-remove",onClick:l,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(zm,{})})})]})]}),e.sortBy&&k("div",{className:`pill-wrapper ${a?"dark-mode":""}`,children:[f("span",{className:"d-block",children:"Sort By"}),k("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.sortBy==="price-desc"?"Price High - Low":e.sortBy==="price-asc"?"Price Low - High":e.sortBy==="name-desc"?"Name Z - A":"Name A - Z"}),f("div",{className:"pill-remove",onClick:d,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(zm,{})})})]})]})]})]}):null};W_.defaultProps={filteredProductsCount:0};W_.propTypes={filteredProductsCount:I.number};var Td={},Ii={};function KPe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function QPe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}var Nj=function(){function t(n){this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.before=null}var e=t.prototype;return e.insert=function(r){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=QPe(this),s;this.tags.length===0?s=this.before:s=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,s),this.tags.push(i)}var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=KPe(o);try{var u=r.charCodeAt(1)===105&&r.charCodeAt(0)===64;a.insertRule(r,u?0:a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}();function YPe(t){function e($,H,B,T,D){for(var de=0,Z=0,xe=0,Re=0,Me,Se,We=0,ze=0,U,ne=U=Me=0,ue=0,Ie=0,Ae=0,N=0,ie=B.length,he=ie-1,ee,X="",pe="",ve="",Te="",Ye;ue<ie;){if(Se=B.charCodeAt(ue),ue===he&&Z+Re+xe+de!==0&&(Z!==0&&(Se=Z===47?10:47),Re=xe=de=0,ie++,he++),Z+Re+xe+de===0){if(ue===he&&(0<Ie&&(X=X.replace(h,"")),0<X.trim().length)){switch(Se){case 32:case 9:case 59:case 13:case 10:break;default:X+=B.charAt(ue)}Se=59}switch(Se){case 123:for(X=X.trim(),Me=X.charCodeAt(0),U=1,N=++ue;ue<ie;){switch(Se=B.charCodeAt(ue)){case 123:U++;break;case 125:U--;break;case 47:switch(Se=B.charCodeAt(ue+1)){case 42:case 47:e:{for(ne=ue+1;ne<he;++ne)switch(B.charCodeAt(ne)){case 47:if(Se===42&&B.charCodeAt(ne-1)===42&&ue+2!==ne){ue=ne+1;break e}break;case 10:if(Se===47){ue=ne+1;break e}}ue=ne}}break;case 91:Se++;case 40:Se++;case 34:case 39:for(;ue++<he&&B.charCodeAt(ue)!==Se;);}if(U===0)break;ue++}switch(U=B.substring(N,ue),Me===0&&(Me=(X=X.replace(d,"").trim()).charCodeAt(0)),Me){case 64:switch(0<Ie&&(X=X.replace(h,"")),Se=X.charCodeAt(1),Se){case 100:case 109:case 115:case 45:Ie=H;break;default:Ie=K}if(U=e(H,Ie,U,Se,D+1),N=U.length,0<V&&(Ie=n(K,X,Ae),Ye=a(3,U,Ie,H,_e,se,N,Se,D,T),X=Ie.join(""),Ye!==void 0&&(N=(U=Ye.trim()).length)===0&&(Se=0,U="")),0<N)switch(Se){case 115:X=X.replace(A,o);case 100:case 109:case 45:U=X+"{"+U+"}";break;case 107:X=X.replace(_,"$1 $2"),U=X+"{"+U+"}",U=q===1||q===2&&s("@"+U,3)?"@-webkit-"+U+"@"+U:"@"+U;break;default:U=X+U,T===112&&(U=(pe+=U,""))}else U="";break;default:U=e(H,n(H,X,Ae),U,T,D+1)}ve+=U,U=Ae=Ie=ne=Me=0,X="",Se=B.charCodeAt(++ue);break;case 125:case 59:if(X=(0<Ie?X.replace(h,""):X).trim(),1<(N=X.length))switch(ne===0&&(Me=X.charCodeAt(0),Me===45||96<Me&&123>Me)&&(N=(X=X.replace(" ",":")).length),0<V&&(Ye=a(1,X,H,$,_e,se,pe.length,T,D,T))!==void 0&&(N=(X=Ye.trim()).length)===0&&(X="\0\0"),Me=X.charCodeAt(0),Se=X.charCodeAt(1),Me){case 0:break;case 64:if(Se===105||Se===99){Te+=X+B.charAt(ue);break}default:X.charCodeAt(N-1)!==58&&(pe+=i(X,Me,Se,X.charCodeAt(2)))}Ae=Ie=ne=Me=0,X="",Se=B.charCodeAt(++ue)}}switch(Se){case 13:case 10:Z===47?Z=0:1+Me===0&&T!==107&&0<X.length&&(Ie=1,X+="\0"),0<V*F&&a(0,X,H,$,_e,se,pe.length,T,D,T),se=1,_e++;break;case 59:case 125:if(Z+Re+xe+de===0){se++;break}default:switch(se++,ee=B.charAt(ue),Se){case 9:case 32:if(Re+de+Z===0)switch(We){case 44:case 58:case 9:case 32:ee="";break;default:Se!==32&&(ee=" ")}break;case 0:ee="\\0";break;case 12:ee="\\f";break;case 11:ee="\\v";break;case 38:Re+Z+de===0&&(Ie=Ae=1,ee="\f"+ee);break;case 108:if(Re+Z+de+L===0&&0<ne)switch(ue-ne){case 2:We===112&&B.charCodeAt(ue-3)===58&&(L=We);case 8:ze===111&&(L=ze)}break;case 58:Re+Z+de===0&&(ne=ue);break;case 44:Z+xe+Re+de===0&&(Ie=1,ee+="\r");break;case 34:case 39:Z===0&&(Re=Re===Se?0:Re===0?Se:Re);break;case 91:Re+Z+xe===0&&de++;break;case 93:Re+Z+xe===0&&de--;break;case 41:Re+Z+de===0&&xe--;break;case 40:if(Re+Z+de===0){if(Me===0)switch(2*We+3*ze){case 533:break;default:Me=1}xe++}break;case 64:Z+xe+Re+de+ne+U===0&&(U=1);break;case 42:case 47:if(!(0<Re+de+xe))switch(Z){case 0:switch(2*Se+3*B.charCodeAt(ue+1)){case 235:Z=47;break;case 220:N=ue,Z=42}break;case 42:Se===47&&We===42&&N+2!==ue&&(B.charCodeAt(N+2)===33&&(pe+=B.substring(N,ue+1)),ee="",Z=0)}}Z===0&&(X+=ee)}ze=We,We=Se,ue++}if(N=pe.length,0<N){if(Ie=H,0<V&&(Ye=a(2,pe,Ie,$,_e,se,N,T,D,T),Ye!==void 0&&(pe=Ye).length===0))return Te+pe+ve;if(pe=Ie.join(",")+"{"+pe+"}",q*L!==0){switch(q!==2||s(pe,2)||(L=0),L){case 111:pe=pe.replace(w,":-moz-$1")+pe;break;case 112:pe=pe.replace(b,"::-webkit-input-$1")+pe.replace(b,"::-moz-$1")+pe.replace(b,":-ms-input-$1")+pe}L=0}}return Te+pe+ve}function n($,H,B){var T=H.trim().split(g);H=T;var D=T.length,de=$.length;switch(de){case 0:case 1:var Z=0;for($=de===0?"":$[0]+" ";Z<D;++Z)H[Z]=r($,H[Z],B).trim();break;default:var xe=Z=0;for(H=[];Z<D;++Z)for(var Re=0;Re<de;++Re)H[xe++]=r($[Re]+" ",T[Z],B).trim()}return H}function r($,H,B){var T=H.charCodeAt(0);switch(33>T&&(T=(H=H.trim()).charCodeAt(0)),T){case 38:return H.replace(m,"$1"+$.trim());case 58:return $.trim()+H.replace(m,"$1"+$.trim());default:if(0<1*B&&0<H.indexOf("\f"))return H.replace(m,($.charCodeAt(0)===58?"":"$1")+$.trim())}return $+H}function i($,H,B,T){var D=$+";",de=2*H+3*B+4*T;if(de===944){$=D.indexOf(":",9)+1;var Z=D.substring($,D.length-1).trim();return Z=D.substring(0,$).trim()+Z+";",q===1||q===2&&s(Z,1)?"-webkit-"+Z+Z:Z}if(q===0||q===2&&!s(D,1))return D;switch(de){case 1015:return D.charCodeAt(10)===97?"-webkit-"+D+D:D;case 951:return D.charCodeAt(3)===116?"-webkit-"+D+D:D;case 963:return D.charCodeAt(5)===110?"-webkit-"+D+D:D;case 1009:if(D.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+D+D;case 978:return"-webkit-"+D+"-moz-"+D+D;case 1019:case 983:return"-webkit-"+D+"-moz-"+D+"-ms-"+D+D;case 883:if(D.charCodeAt(8)===45)return"-webkit-"+D+D;if(0<D.indexOf("image-set(",11))return D.replace(oe,"$1-webkit-$2")+D;break;case 932:if(D.charCodeAt(4)===45)switch(D.charCodeAt(5)){case 103:return"-webkit-box-"+D.replace("-grow","")+"-webkit-"+D+"-ms-"+D.replace("grow","positive")+D;case 115:return"-webkit-"+D+"-ms-"+D.replace("shrink","negative")+D;case 98:return"-webkit-"+D+"-ms-"+D.replace("basis","preferred-size")+D}return"-webkit-"+D+"-ms-"+D+D;case 964:return"-webkit-"+D+"-ms-flex-"+D+D;case 1023:if(D.charCodeAt(8)!==99)break;return Z=D.substring(D.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Z+"-webkit-"+D+"-ms-flex-pack"+Z+D;case 1005:return v.test(D)?D.replace(p,":-webkit-")+D.replace(p,":-moz-")+D:D;case 1e3:switch(Z=D.substring(13).trim(),H=Z.indexOf("-")+1,Z.charCodeAt(0)+Z.charCodeAt(H)){case 226:Z=D.replace(E,"tb");break;case 232:Z=D.replace(E,"tb-rl");break;case 220:Z=D.replace(E,"lr");break;default:return D}return"-webkit-"+D+"-ms-"+Z+D;case 1017:if(D.indexOf("sticky",9)===-1)break;case 975:switch(H=(D=$).length-10,Z=(D.charCodeAt(H)===33?D.substring(0,H):D).substring($.indexOf(":",7)+1).trim(),de=Z.charCodeAt(0)+(Z.charCodeAt(7)|0)){case 203:if(111>Z.charCodeAt(8))break;case 115:D=D.replace(Z,"-webkit-"+Z)+";"+D;break;case 207:case 102:D=D.replace(Z,"-webkit-"+(102<de?"inline-":"")+"box")+";"+D.replace(Z,"-webkit-"+Z)+";"+D.replace(Z,"-ms-"+Z+"box")+";"+D}return D+";";case 938:if(D.charCodeAt(5)===45)switch(D.charCodeAt(6)){case 105:return Z=D.replace("-items",""),"-webkit-"+D+"-webkit-box-"+Z+"-ms-flex-"+Z+D;case 115:return"-webkit-"+D+"-ms-flex-item-"+D.replace(x,"")+D;default:return"-webkit-"+D+"-ms-flex-line-pack"+D.replace("align-content","").replace(x,"")+D}break;case 973:case 989:if(D.charCodeAt(3)!==45||D.charCodeAt(4)===122)break;case 931:case 953:if(J.test($)===!0)return(Z=$.substring($.indexOf(":")+1)).charCodeAt(0)===115?i($.replace("stretch","fill-available"),H,B,T).replace(":fill-available",":stretch"):D.replace(Z,"-webkit-"+Z)+D.replace(Z,"-moz-"+Z.replace("fill-",""))+D;break;case 962:if(D="-webkit-"+D+(D.charCodeAt(5)===102?"-ms-"+D:"")+D,B+T===211&&D.charCodeAt(13)===105&&0<D.indexOf("transform",10))return D.substring(0,D.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+D}return D}function s($,H){var B=$.indexOf(H===1?":":"{"),T=$.substring(0,H!==3?B:10);return B=$.substring(B+1,$.length-1),Y(H!==2?T:T.replace(G,"$1"),B,H)}function o($,H){var B=i(H,H.charCodeAt(0),H.charCodeAt(1),H.charCodeAt(2));return B!==H+";"?B.replace(R," or ($1)").substring(4):"("+H+")"}function a($,H,B,T,D,de,Z,xe,Re,Me){for(var Se=0,We=H,ze;Se<V;++Se)switch(ze=O[Se].call(c,$,We,B,T,D,de,Z,xe,Re,Me)){case void 0:case!1:case!0:case null:break;default:We=ze}if(We!==H)return We}function u($){switch($){case void 0:case null:V=O.length=0;break;default:if(typeof $=="function")O[V++]=$;else if(typeof $=="object")for(var H=0,B=$.length;H<B;++H)u($[H]);else F=!!$|0}return u}function l($){return $=$.prefix,$!==void 0&&(Y=null,$?typeof $!="function"?q=1:(q=2,Y=$):q=0),l}function c($,H){var B=$;if(33>B.charCodeAt(0)&&(B=B.trim()),j=B,B=[j],0<V){var T=a(-1,H,B,B,_e,se,0,0,0,0);T!==void 0&&typeof T=="string"&&(H=T)}var D=e(K,B,H,0,0);return 0<V&&(T=a(-2,D,B,B,_e,se,D.length,0,0,0),T!==void 0&&(D=T)),j="",L=0,se=_e=1,D}var d=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,v=/zoo|gra/,y=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,w=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,A=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,x=/-self|flex-/g,G=/[^]*?(:[rp][el]a[\w-]+)[^]*/,J=/stretch|:\s*\w+\-(?:conte|avail)/,oe=/([^-])(image-set\()/,se=1,_e=1,L=0,q=1,K=[],O=[],V=0,Y=null,F=0,j="";return c.use=u,c.set=l,t!==void 0&&l(t),c}var kT="/*|*/",XPe=kT+"}";function JPe(t){t&&Ny.current.insert(t+"}")}var Ny={current:null},ZPe=function(e,n,r,i,s,o,a,u,l,c){switch(e){case 1:{switch(n.charCodeAt(0)){case 64:return Ny.current.insert(n+";"),"";case 108:if(n.charCodeAt(2)===98)return""}break}case 2:{if(u===0)return n+kT;break}case 3:switch(u){case 102:case 112:return Ny.current.insert(r[0]+n),"";default:return n+(c===0?kT:"")}case-2:n.split(XPe).forEach(JPe)}},eRe=function(e){e===void 0&&(e={});var n=e.key||"css",r;e.prefix!==void 0&&(r={prefix:e.prefix});var i=new YPe(r),s={},o;{o=e.container||document.head;var a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,function(c){var d=c.getAttribute("data-emotion-"+n);d.split(" ").forEach(function(h){s[h]=!0}),c.parentNode!==o&&o.appendChild(c)})}var u;i.use(e.stylisPlugins)(ZPe),u=function(d,h,p,v){var y=h.name;Ny.current=p,i(d,h.styles),v&&(l.inserted[y]=!0)};var l={key:n,sheet:new Nj({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return l},tRe=!0;function Dj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]):r+=i+" "}),r}var RP=function(e,n,r){var i=e.key+"-"+n.name;if((r===!1||tRe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles),e.inserted[n.name]===void 0){var s=n;do e.insert("."+i,s,e.sheet,!0),s=s.next;while(s!==void 0)}};function nRe(t){var e={};return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rRe=/[A-Z]|^ms/g,iRe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$j=function(e){return e.charCodeAt(1)===45},bD=function(e){return e!=null&&typeof e!="boolean"},qw=nRe(function(t){return $j(t)?t:t.replace(rRe,"-$&").toLowerCase()}),ED=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iRe,function(r,i,s){return cs={name:i,styles:s,next:cs},i})}return G8[e]!==1&&!$j(e)&&typeof n=="number"&&n!==0?n+"px":n};function ep(t,e,n,r){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return cs={name:n.name,styles:n.styles,next:cs},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)cs={name:i.name,styles:i.styles,next:cs},i=i.next;var s=n.styles+";";return s}return sRe(t,e,n)}case"function":{if(t!==void 0){var o=cs,a=n(t);return cs=o,ep(t,e,a,r)}break}}if(e==null)return n;var u=e[n];return u!==void 0&&!r?u:n}function sRe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ep(t,e,n[i],!1);else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":bD(o)&&(r+=qw(s)+":"+ED(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)bD(o[a])&&(r+=qw(s)+":"+ED(s,o[a])+";");else{var u=ep(t,e,o,!1);switch(s){case"animation":case"animationName":{r+=qw(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var TD=/label:\s*([^\s;\n{]+)\s*;/g,cs,tp=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";cs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=ep(r,n,o,!1)):s+=o[0];for(var a=1;a<e.length;a++)s+=ep(r,n,e[a],s.charCodeAt(s.length-1)===46),i&&(s+=o[a]);TD.lastIndex=0;for(var u="",l;(l=TD.exec(s))!==null;)u+="-"+l[1];var c=W8(s)+u;return{name:c,styles:s,next:cs}},kP=Object.prototype.hasOwnProperty,Mj=S.createContext(typeof HTMLElement<"u"?eRe():null),G_=S.createContext({}),oRe=Mj.Provider,K_=function(e){var n=function(i,s){return S.createElement(Mj.Consumer,null,function(o){return e(i,o,s)})};return S.forwardRef(n)},OT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",aRe=function(e,n){var r={};for(var i in n)kP.call(n,i)&&(r[i]=n[i]);return r[OT]=e,r},uRe=function(){return null},SD=function(e,n,r,i){var s=r===null?n.css:n.css(r);typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var o=n[OT],a=[s],u="";typeof n.className=="string"?u=Dj(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var l=tp(a);RP(e,l,typeof o=="string"),u+=e.key+"-"+l.name;var c={};for(var d in n)kP.call(n,d)&&d!=="css"&&d!==OT&&(c[d]=n[d]);c.ref=i,c.className=u;var h=S.createElement(o,c),p=S.createElement(uRe,null);return S.createElement(S.Fragment,null,p,h)},lRe=K_(function(t,e,n){return typeof t.css=="function"?S.createElement(G_.Consumer,null,function(r){return SD(e,t,r,n)}):SD(e,t,null,n)});function Fj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return tp(e)}var ID=function(e,n){var r=arguments;if(n==null||!kP.call(n,"css"))return S.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=lRe,s[1]=aRe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return S.createElement.apply(null,s)},cRe=K_(function(t,e){var n=t.styles;if(typeof n=="function")return S.createElement(G_.Consumer,null,function(i){var s=tp([n(i)]);return S.createElement(CD,{serialized:s,cache:e})});var r=tp([n]);return S.createElement(CD,{serialized:r,cache:e})}),CD=function(t){Qi(e,t);function e(r,i,s){return t.call(this,r,i,s)||this}var n=e.prototype;return n.componentDidMount=function(){this.sheet=new Nj({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(this.props.serialized.next!==void 0&&RP(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},e}(S.Component),dRe=function(){var e=Fj.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},hRe=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=t(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function fRe(t,e,n){var r=[],i=Dj(t,r,n);return r.length<2?n:i+e(r)}var pRe=function(){return null},mRe=K_(function(t,e){return S.createElement(G_.Consumer,null,function(n){var r=!1,i=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=tp(d,e.registered);return RP(e,p,!1),e.key+"-"+p.name},s=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return fRe(e.registered,i,hRe(d))},o={css:i,cx:s,theme:n},a=t.children(o);r=!0;var u=S.createElement(pRe,null);return S.createElement(S.Fragment,null,u,a)})});const gRe=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider:oRe,ClassNames:mRe,Global:cRe,ThemeContext:G_,createElement:ID,css:Fj,jsx:ID,keyframes:dRe,withEmotionCache:K_},Symbol.toStringTag,{value:"Module"})),Lj=BD(gRe);Object.defineProperty(Ii,"__esModule",{value:!0});Ii.default=zj;Ii.skeletonStyles=Ii.skeletonKeyframes=Ii.defaultHighlightColor=Ii.defaultBaseColor=void 0;vRe(S);var Ql=Lj;function vRe(t){return t&&t.__esModule?t:{default:t}}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yRe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(n,!0).forEach(function(r){_Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(){var t=wRe([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return Vj=function(){return t},t}function wRe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var rv="#eee";Ii.defaultBaseColor=rv;var Uj="#f5f5f5";Ii.defaultHighlightColor=Uj;var jj=function(e,n){return(0,Ql.keyframes)(Vj(),n>0?"".concat(Math.floor(1/(e+n)*e*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Ii.skeletonKeyframes=jj;var Bj=(0,Ql.css)("background-color:",rv,";background-image:linear-gradient( 90deg,",rv,",",Uj,",",rv," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Ii.skeletonStyles=Bj;function zj(t){for(var e=t.count,n=t.duration,r=t.width,i=t.wrapper,s=t.height,o=t.circle,a=t.delay,u=t.style,l=t.className,c=[],d=0;d<e;d++){var h={};r!==null&&(h.width=r),s!==null&&(h.height=s),r!==null&&s!==null&&o&&(h.borderRadius="50%");var p="react-loading-skeleton";l&&(p+=" "+l),c.push((0,Ql.jsx)("span",{key:d,className:p,css:(0,Ql.css)(Bj," animation:",jj(n,a)," ",n+a,"s ease-in-out infinite;label:Skeleton;"),style:yRe({},u,{},h)},""))}return(0,Ql.jsx)("span",null,i?c.map(function(v,y){return(0,Ql.jsx)(i,{key:y},v,"")}):c)}zj.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0};var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.default=void 0;var bRe=ERe(S),PD=Lj,RD=Ii;function qj(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return qj=function(){return t},t}function ERe(t){if(t&&t.__esModule)return t;if(t===null||Qh(t)!=="object"&&typeof t!="function")return{default:t};var e=qj();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Qh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qh=function(n){return typeof n}:Qh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qh(t)}function TRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SRe(t,e,n){return e&&kD(t.prototype,e),n&&kD(t,n),t}function IRe(t,e){return e&&(Qh(e)==="object"||typeof e=="function")?e:CRe(t)}function CRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xT(t){return xT=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xT(t)}function ARe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},NT(t,e)}function PRe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hj=function(t){ARe(e,t);function e(){return TRe(this,e),IRe(this,xT(e).apply(this,arguments))}return SRe(e,[{key:"render",value:function(){var r=this.props,i=r.color,s=r.highlightColor,o=r.children,a=(0,PD.css)(".react-loading-skeleton{background-color:",i,";background-image:linear-gradient( 90deg,",i,",",s,",",i," );};label:SkeletonTheme;");return(0,PD.jsx)("div",{css:a},o)}}]),e}(bRe.Component);Q_.default=Hj;PRe(Hj,"defaultProps",{color:RD.defaultBaseColor,highlightColor:RD.defaultHighlightColor});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"SkeletonTheme",{enumerable:!0,get:function(){return n.default}});var e=r(Ii),n=r(Q_);function r(i){return i&&i.__esModule?i:{default:i}}})(Td);const _r=Rn(Td),DT=({product:t})=>{const e=ci(),n=()=>{t&&e.push(`/product/${t.id}`)},r=Xe(o=>o.darkMode),s=Object.values(r)[0];return f(Td.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:k("div",{className:`product-display ${s?"dark-mode":""}`,onClick:n,role:"presentation",children:[f("div",{className:"product-display-img",style:s?{backgroundColor:"black",borderRadius:"50em"}:{},children:t.image?f(Ni,{className:`product-card-img${s?"dark-mode":""}`,src:t.image}):f(_r,{width:"100%",height:"100%"})}),k("div",{className:`product-display-details ${s?"dark-mode":""}`,children:[f("h2",{children:t.name||f(_r,{width:80})}),f("p",{className:"text-subtle text-italic",children:t.brand||f(_r,{width:40})})]})]})})};DT.propTypes={product:I.shape({image:I.string,name:I.string,id:I.string,brand:I.string}).isRequired};const Dy=({product:t,isItemOnBasket:e,addToBasket:n})=>{const r=ci(),i=Xe(c=>c.darkMode),o=Object.values(i)[0],a=()=>{t&&t.id&&r.push(`/product/${t.id}`)},u=e?e(t.id):!1,l=()=>{n&&n({...t,selectedSize:t.sizes[0]})};return f(Td.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:k("div",{className:`product-card ${t.id?"":"product-loading"}`,style:{border:t&&u?"1px solid #a6a5a5":"",boxShadow:t&&u?"0 10px 15px rgba(0, 0, 0, .07)":"none"},children:[u&&f(_p,{className:"fa fa-check product-card-check"}),k("div",{className:`product-card-content ${o?"dark-mode":""}`,onClick:a,role:"presentation",children:[f("div",{className:`product-card-img-wrapper ${o?"dark-mode":""}`,children:t.image?f(Ni,{alt:t.name,className:`product-card-img ${o?"dark-mode":""}`,src:t.image}):f(_r,{width:"100%",height:"90%"})}),k("div",{className:`product-details ${o?"dark-mode":""}`,children:[f("h5",{className:"product-card-name text-overflow-ellipsis margin-auto",children:t.name||f(_r,{width:80})}),f("p",{className:`product-card-brand ${o?"dark-mode":""}`,children:t.brand||f(_r,{width:60})}),f("h4",{className:"product-card-price",children:t.price?oo(t.price):f(_r,{width:40})})]})]}),t.id&&f("button",{className:`product-card-button button-small button button-block ${u?"button-border button-border-gray":""}`,onClick:l,type:"button",children:u?"Remove from basket":"Add to basket"})]})})};Dy.defaultProps={isItemOnBasket:void 0,addToBasket:void 0};Dy.propTypes={product:I.object.isRequired,isItemOnBasket:I.func,addToBasket:I.func};const OP=({products:t})=>{const{addToBasket:e,isItemOnBasket:n}=DL(),r=Xe(o=>o.darkMode),s=Object.values(r)[0];return f("div",{className:`product-grid ${s?"dark-mode":""}`,children:t.length===0?new Array(12).fill({}).map((o,a)=>f(Dy,{product:o},`product-skeleton ${a}`)):t.map(o=>f(Dy,{isItemOnBasket:n,addToBasket:e,product:o},o.id))})};OP.propTypes={products:I.array.isRequired};const Y_=t=>{const{products:e,filteredProducts:n,isLoading:r,requestStatus:i,children:s}=t,[o,a]=S.useState(!1),u=zt(),l=()=>{a(!0),u($Pe(e.lastRefKey))};return S.useEffect(()=>((e.items.length===0||!e.lastRefKey)&&l(),window.scrollTo(0,0),()=>u(Mr(!1))),[]),S.useEffect(()=>{a(!1)},[e.lastRefKey]),n.length===0&&!r?f(Zi,{message:(i==null?void 0:i.message)||"No products found."}):n.length===0&&i?f(Zi,{message:(i==null?void 0:i.message)||"Something went wrong :(",action:l,buttonLabel:"Try Again"}):k(Yu,{children:[s,e.items.length<e.total&&f("div",{className:"d-flex-center padding-l",children:f("button",{className:"button button-small",disabled:o,onClick:l,type:"button",children:o?"Fetching Items...":"Show More Items"})})]})};Y_.defaultProps={requestStatus:null};Y_.propTypes={products:I.object.isRequired,filteredProducts:I.array.isRequired,isLoading:I.bool.isRequired,requestStatus:I.string,children:I.oneOfType([I.arrayOf(I.node),I.node]).isRequired};const Gu=({products:t,skeletonCount:e})=>{const n=Xe(s=>s.darkMode),i=Object.values(n)[0];return f("div",{className:`product-display-grid ${i?"dark-mode":""}`,children:t.length===0?new Array(e).fill({}).map((s,o)=>f(DT,{product:s},`product-skeleton ${o}`)):t.map(s=>f(DT,{product:s},s.id))})};Gu.defaultProps={skeletonCount:4};Gu.propTypes={products:I.array.isRequired,skeletonCount:I.number};const RRe=[{value:"Salt Maalat",label:"Salt Maalat"},{value:"Betsin Maalat",label:"Betsin Maalat"},{value:"Black Kibal",label:"Black Kibal"}],kRe=ho().shape({name:mt().required("Product name is required.").max(60,"Product name must only be less than 60 characters."),brand:mt().required("Brand name is required."),price:Jg().positive("Price is invalid.").integer("Price should be an integer.").required("Price is required."),description:mt().required("Description is required."),maxQuantity:Jg().positive("Max quantity is invalid.").integer("Max quantity should be an integer.").required("Max quantity is required."),keywords:Zg().of(mt()).min(1,"Please enter at least 1 keyword for this product."),sizes:Zg().of(Jg()).min(1,"Please enter a size for this product."),isFeatured:Yf(),isRecommended:Yf(),availableColors:Zg().of(mt().required()).min(1,"Please add a default color for this product.")}),Wj=({product:t,onSubmit:e,isLoading:n})=>{const r={name:(t==null?void 0:t.name)||"",brand:(t==null?void 0:t.brand)||"",price:(t==null?void 0:t.price)||0,maxQuantity:(t==null?void 0:t.maxQuantity)||0,description:(t==null?void 0:t.description)||"",keywords:(t==null?void 0:t.keywords)||[],sizes:(t==null?void 0:t.sizes)||[],isFeatured:(t==null?void 0:t.isFeatured)||!1,isRecommended:(t==null?void 0:t.isRecommended)||!1,availableColors:(t==null?void 0:t.availableColors)||[]},{imageFile:i,isFileLoading:s,onFileChange:o,removeImage:a}=U5({image:{},imageCollection:(t==null?void 0:t.imageCollection)||[]});return f("div",{children:f(md,{initialValues:r,validateOnChange:!0,validationSchema:kRe,onSubmit:l=>{var c;i.image.file||t.imageUrl?e({...l,quantity:1,name_lower:l.name.toLowerCase(),dateAdded:new Date().getTime(),image:((c=i==null?void 0:i.image)==null?void 0:c.file)||t.imageUrl,imageCollection:i.imageCollection}):alert("Product thumbnail image is required.")},children:({values:l,setValues:c})=>k(gd,{className:"product-form",children:[k("div",{className:"product-form-inputs",children:[k("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"name",type:"text",label:"* Product Name",placeholder:"Gago",style:{textTransform:"capitalize"},component:cr})}),"",f("div",{className:"product-form-field",children:f(Kh,{defaultValue:{label:l.brand,value:l.brand},name:"brand",iid:"brand",options:RRe,disabled:n,placeholder:"Select/Create Brand",label:"* Brand"})})]}),f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"description",id:"description",rows:3,label:"* Product Description",component:kj})}),k("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"price",id:"price",type:"number",label:"* Price",component:cr})}),"",f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"maxQuantity",type:"number",id:"maxQuantity",label:"* Max Quantity",component:cr})})]}),k("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Kh,{defaultValue:l.keywords.map(d=>({value:d,label:d})),name:"keywords",iid:"keywords",isMulti:!0,disabled:n,placeholder:"Create/Select Keywords",label:"* Keywords"})}),"",f("div",{className:"product-form-field",children:f(Kh,{defaultValue:l.keywords.map(d=>({value:d,label:d})),name:"sizes",iid:"sizes",type:"number",isMulti:!0,disabled:n,placeholder:"Create/Select Sizes",label:"* Sizes (Millimeter)"})})]}),f("div",{className:"product-form-field",children:f(Qme,{name:"availableColors",disabled:n,component:M8})}),k("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"Image Collection"}),!s&&k("label",{htmlFor:"product-input-file-collection",children:[f("input",{disabled:n,hidden:!0,id:"product-input-file-collection",multiple:!0,onChange:d=>o(d,{name:"imageCollection",type:"multiple"}),readOnly:n,type:"file"}),"Choose Images"]})]}),f("div",{className:"product-form-collection",children:f(_n,{children:i.imageCollection.length>=1&&i.imageCollection.map(d=>k("div",{className:"product-form-collection-image",children:[f(Ni,{alt:"",src:d.url}),f("button",{className:"product-form-delete-image",onClick:()=>a({id:d.id,name:"imageCollection"}),title:"Delete Image",type:"button",children:f("i",{className:"fa fa-times-circle"})})]},d.id))})}),f("br",{}),k("div",{className:"d-flex",children:[k("div",{className:"product-form-field",children:[f("input",{checked:l.isFeatured,className:"",id:"featured",onChange:d=>c({...l,isFeatured:d.target.checked}),type:"checkbox"}),f("label",{htmlFor:"featured",children:f("h5",{className:"d-flex-grow-1 margin-0",children:" Add to Featured "})})]}),k("div",{className:"product-form-field",children:[f("input",{checked:l.isRecommended,className:"",id:"recommended",onChange:d=>c({...l,isRecommended:d.target.checked}),type:"checkbox"}),f("label",{htmlFor:"recommended",children:f("h5",{className:"d-flex-grow-1 margin-0",children:" Add to Recommended "})})]})]}),f("br",{}),f("br",{}),f("br",{}),f("div",{className:"product-form-field product-form-submit",children:k("button",{className:"button",disabled:n,type:"submit",children:[n?f(hr,{}):f(_p,{}),"",n?"Saving Product":"Save Product"]})})]}),k("div",{className:"product-form-file",children:[k("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"* Thumbnail"}),!s&&k("label",{htmlFor:"product-input-file",children:[f("input",{disabled:n,hidden:!0,id:"product-input-file",onChange:d=>o(d,{name:"image",type:"single"}),readOnly:n,type:"file"}),"Choose Image"]})]}),f("div",{className:"product-form-image-wrapper",children:(i.image.url||t.image)&&f(Ni,{alt:"",className:"product-form-image-preview",src:i.image.url||t.image})})]})]})})})};Wj.propTypes={product:I.shape({name:I.string,brand:I.string,price:I.number,maxQuantity:I.number,description:I.string,keywords:I.arrayOf(I.string),imageCollection:I.arrayOf(I.object),sizes:I.arrayOf(I.string),image:I.string,imageUrl:I.string,isFeatured:I.bool,isRecommended:I.bool,availableColors:I.arrayOf(I.string)}).isRequired,onSubmit:I.func.isRequired,isLoading:I.bool.isRequired};const Gj=Object.freeze(Object.defineProperty({__proto__:null,default:Wj},Symbol.toStringTag,{value:"Module"})),Kj=({product:t})=>{const e=zt(),n=ci(),r=S.useRef(null),i=()=>{n.push(`${UD}/${t.id}`)},s=()=>{r.current.classList.toggle("item-active")},o=()=>{e(jPe(t.id)),Ei("Item successfully deleted"),r.current.classList.remove("item-active")},a=()=>{r.current.classList.remove("item-active")};return f(Td.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:k("div",{className:`item item-products ${!t.id&&"item-loading"}`,ref:r,children:[k("div",{className:"grid grid-count-6",children:[f("div",{className:"grid-col item-img-wrapper",children:t.image?f(Ni,{alt:t.name,className:"item-img",src:t.image}):f(_r,{width:50,height:30})}),f("div",{className:"grid-col",children:f("span",{className:"text-overflow-ellipsis",children:t.name||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.brand||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.price?oo(t.price):f(_r,{width:30})})}),f("div",{className:"grid-col",children:f("span",{children:t.dateAdded?wK(t.dateAdded):f(_r,{width:30})})}),f("div",{className:"grid-col",children:f("span",{children:t.maxQuantity||f(_r,{width:20})})})]}),t.id&&k("div",{className:"item-action",children:[f("button",{className:"button button-border button-small",onClick:i,type:"button",children:"Edit"}),"",f("button",{className:"button button-border button-small button-danger",onClick:s,type:"button",children:"Delete"}),k("div",{className:"item-action-confirm",children:[f("h5",{children:"Are you sure you want to delete this?"}),f("button",{className:"button button-small button-border",onClick:a,type:"button",children:"No"}),"",f("button",{className:"button button-small button-danger",onClick:o,type:"button",children:"Yes"})]})]})]})})};Kj.propTypes={product:I.shape({id:I.string,name:I.string,brand:I.string,price:I.number,maxQuantity:I.number,description:I.string,keywords:I.arrayOf(I.string),imageCollection:I.arrayOf(I.object),sizes:I.arrayOf(I.string),image:I.string,imageUrl:I.string,isFeatured:I.bool,isRecommended:I.bool,dateAdded:I.number,availableColors:I.arrayOf(I.string)}).isRequired};const OD=Ia(Kj),Qj=t=>{const{productsCount:e,totalProductsCount:n}=t,r=ci();return k("div",{className:"product-admin-header",children:[k("h3",{className:"product-admin-header-title",children:["Products  (",`${e} / ${n}`,")"]}),f(RA,{}),"",f(T_,{children:k("button",{className:"button-muted button-small",type:"button",children:[f(GF,{}),"More Filters"]})}),k("button",{className:"button button-small",onClick:()=>r.push(LT),type:"button",children:[f(KF,{})," Add New Product"]})]})};Qj.propTypes={productsCount:I.number.isRequired,totalProductsCount:I.number.isRequired};const Yj=({filteredProducts:t})=>k("div",{children:[t.length>0&&k("div",{className:"grid grid-product grid-count-6",children:[f("div",{className:"grid-col"}),f("div",{className:"grid-col",children:f("h5",{children:"Name"})}),f("div",{className:"grid-col",children:f("h5",{children:"Brand"})}),f("div",{className:"grid-col",children:f("h5",{children:"Price"})}),f("div",{className:"grid-col",children:f("h5",{children:"Date Added"})}),f("div",{className:"grid-col",children:f("h5",{children:"Qty"})})]}),t.length===0?new Array(10).fill({}).map((e,n)=>f(OD,{product:e},`product-skeleton ${n}`)):t.map(e=>f(OD,{product:e},e.id))]});Yj.propTypes={filteredProducts:I.array.isRequired};const ORe=t=>async e=>{try{await firestore.collection("users").doc(t).update({role:"ADMIN"}),e({type:IL,payload:{uid:t,newRole:"ADMIN"}})}catch(n){console.error("Error changing user role:",n)}};I.array.isRequired;const xRe=({user:t})=>{const e=zt();ci();const n=S.useRef(null),r=()=>{},i=()=>{n.current.classList.toggle("item-active")},s=()=>{e(removeUser(t.id)),Ei("User successfully deleted"),n.current.classList.remove("item-active")},o=()=>{n.current.classList.remove("item-active")},a=()=>{e(ORe(t.id)),Ei("User role changed to ADMIN")};return f(Td.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:k("div",{className:`item item-users ${!t.id&&"item-loading"}`,ref:n,children:[k("div",{className:"grid grid-count-6",children:[f("div",{className:"grid-col",children:f("span",{className:"text-overflow-ellipsis",children:t.name||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.email||f(_r,{width:50})})})]}),t.id&&k("div",{className:"item-action",children:[f("button",{className:"button button-border button-small",onClick:r,type:"button",children:"Edit"}),"",f("button",{className:"button button-border button-small button-danger",onClick:i,type:"button",children:"Delete"}),"",f("button",{className:"button button-border button-small",onClick:a,type:"button",children:"Change to ADMIN"}),k("div",{className:"item-action-confirm",children:[f("h5",{children:"Are you sure you want to delete this user?"}),f("button",{className:"button button-small button-border",onClick:o,type:"button",children:"No"}),"",f("button",{className:"button button-small button-danger",onClick:s,type:"button",children:"Yes"})]})]})]})})};Ia(xRe);I.number.isRequired,I.number.isRequired;const NRe=()=>{Yn("Product List | HENRY & CO. Admin"),$n();const t=Xe(e=>({filteredProducts:z5(e.products.items,e.filter),requestStatus:e.app.requestStatus,isLoading:e.app.loading,products:e.products}));return k(Yu,{children:[f(Qj,{productsCount:t.products.items.length,totalProductsCount:t.products.total}),f("div",{className:"product-admin-items",children:k(Y_,{...t,children:[f(W_,{filter:t.filter}),f(Yj,{filteredProducts:t.filteredProducts})]})})]})},Xj=Ia(NRe);function Jj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Jj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Qo(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Jj(t))&&(r&&(r+=" "),r+=e);return r}const iv=t=>typeof t=="number"&&!isNaN(t),$y=t=>typeof t=="string",ti=t=>typeof t=="function",sv=t=>$y(t)||ti(t)?t:null,Hw=t=>S.isValidElement(t)||$y(t)||ti(t)||iv(t);function DRe(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function X_(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:u,preventExitTransition:l,done:c,nodeRef:d,isIn:h}=o;const p=r?`${e}--${u}`:e,v=r?`${n}--${u}`:n,y=S.useRef(0);return S.useLayoutEffect(()=>{const g=d.current,m=p.split(" "),_=b=>{b.target===d.current&&(g.dispatchEvent(new Event("d")),g.removeEventListener("animationend",_),g.removeEventListener("animationcancel",_),y.current===0&&b.type!=="animationcancel"&&g.classList.remove(...m))};g.classList.add(...m),g.addEventListener("animationend",_),g.addEventListener("animationcancel",_)},[]),S.useEffect(()=>{const g=d.current,m=()=>{g.removeEventListener("animationend",m),i?DRe(g,c,s):c()};h||(l?m():(y.current=1,g.className+=` ${v}`,g.addEventListener("animationend",m)))},[h]),f(_n,{children:a})}}function xD(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const vu={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},mg=t=>{let{theme:e,type:n,...r}=t;return f("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ww={info:function(t){return f(mg,{...t,children:f("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"})})},warning:function(t){return f(mg,{...t,children:f("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"})})},success:function(t){return f(mg,{...t,children:f("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"})})},error:function(t){return f(mg,{...t,children:f("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"})})},spinner:function(){return f("div",{className:"Toastify__spinner"})}};function $Re(t){const[,e]=S.useReducer(p=>p+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function u(p){let{containerId:v}=p;const{limit:y}=a.props;!y||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function l(p){r(v=>p==null?[]:v.filter(y=>y!==p))}function c(){const{toastContent:p,toastProps:v,staleId:y}=a.queue.shift();h(p,v,y)}function d(p,v){let{delay:y,staleId:g,...m}=v;if(!Hw(p)||function(se){return!i.current||a.props.enableMultiContainer&&se.containerId!==a.props.containerId||s.has(se.toastId)&&se.updateId==null}(m))return;const{toastId:_,updateId:b,data:w}=m,{props:E}=a,A=()=>l(_),R=b==null;R&&a.count++;const x={...E,style:E.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(se=>{let[_e,L]=se;return L!=null})),toastId:_,updateId:b,data:w,closeToast:A,isIn:!1,className:sv(m.className||E.toastClassName),bodyClassName:sv(m.bodyClassName||E.bodyClassName),progressClassName:sv(m.progressClassName||E.progressClassName),autoClose:!m.isLoading&&(G=m.autoClose,J=E.autoClose,G===!1||iv(G)&&G>0?G:J),deleteToast(){const se=xD(s.get(_),"removed");s.delete(_),vu.emit(4,se);const _e=a.queue.length;if(a.count=_==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),_e>0){const L=_==null?a.props.limit:1;if(_e===1||L===1)a.displayedToast++,c();else{const q=L>_e?_e:L;a.displayedToast=q;for(let K=0;K<q;K++)c()}}else e()}};var G,J;x.iconOut=function(se){let{theme:_e,type:L,isLoading:q,icon:K}=se,O=null;const V={theme:_e,type:L};return K===!1||(ti(K)?O=K(V):S.isValidElement(K)?O=S.cloneElement(K,V):$y(K)||iv(K)?O=K:q?O=Ww.spinner():(Y=>Y in Ww)(L)&&(O=Ww[L](V))),O}(x),ti(m.onOpen)&&(x.onOpen=m.onOpen),ti(m.onClose)&&(x.onClose=m.onClose),x.closeButton=E.closeButton,m.closeButton===!1||Hw(m.closeButton)?x.closeButton=m.closeButton:m.closeButton===!0&&(x.closeButton=!Hw(E.closeButton)||E.closeButton);let oe=p;S.isValidElement(p)&&!$y(p.type)?oe=S.cloneElement(p,{closeToast:A,toastProps:x,data:w}):ti(p)&&(oe=p({closeToast:A,toastProps:x,data:w})),E.limit&&E.limit>0&&a.count>E.limit&&R?a.queue.push({toastContent:oe,toastProps:x,staleId:g}):iv(y)?setTimeout(()=>{h(oe,x,g)},y):h(oe,x,g)}function h(p,v,y){const{toastId:g}=v;y&&s.delete(y);const m={content:p,props:v};s.set(g,m),r(_=>[..._,g].filter(b=>b!==y)),vu.emit(4,xD(m,m.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=t.containerId,vu.cancelEmit(3).on(0,d).on(1,p=>i.current&&l(p)).on(5,u).emit(2,a),()=>{s.clear(),vu.emit(3,a)}),[]),S.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const v=new Map,y=Array.from(s.values());return t.newestOnTop&&y.reverse(),y.forEach(g=>{const{position:m}=g.props;v.has(m)||v.set(m,[]),v.get(m).push(g)}),Array.from(v,g=>p(g[0],g[1]))},containerRef:i,isToastActive:o}}function ND(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function DD(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function MRe(t){const[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(t),{autoClose:u,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;function p(w){if(t.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",_),document.addEventListener("touchmove",m),document.addEventListener("touchend",_);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=ND(w.nativeEvent),o.y=DD(w.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function v(w){if(o.boundingRect){const{top:E,bottom:A,left:R,right:x}=o.boundingRect;w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=R&&o.x<=x&&o.y>=E&&o.y<=A?g():y()}}function y(){n(!0)}function g(){n(!1)}function m(w){const E=s.current;o.canDrag&&E&&(o.didMove=!0,e&&g(),o.x=ND(w),o.y=DD(w),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",_);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${t.draggableDirection}(0)`,w.style.opacity="1"}}S.useEffect(()=>{a.current=t}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),ti(t.onOpen)&&t.onOpen(S.isValidElement(t.children)&&t.children.props),()=>{const w=a.current;ti(w.onClose)&&w.onClose(S.isValidElement(w.children)&&w.children.props)}),[]),S.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",y),window.addEventListener("blur",g)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",g))}),[t.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:v,onTouchEnd:v};return u&&l&&(b.onMouseEnter=g,b.onMouseLeave=y),h&&(b.onClick=w=>{d&&d(w),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:b}}function Zj(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return f("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r,children:f("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:f("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}function FRe(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:l,rtl:c,isIn:d,theme:h}=t;const p=s||u&&l===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};u&&(v.transform=`scaleX(${l})`);const y=Qo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),g=ti(o)?o({rtl:c,type:i,defaultClassName:y}):Qo(y,o);return React.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:v,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{d&&r()}})}const LRe=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=MRe(t),{closeButton:s,children:o,autoClose:a,onClick:u,type:l,hideProgressBar:c,closeToast:d,transition:h,position:p,className:v,style:y,bodyClassName:g,bodyStyle:m,progressClassName:_,progressStyle:b,updateId:w,role:E,progress:A,rtl:R,toastId:x,deleteToast:G,isIn:J,isLoading:oe,iconOut:se,closeOnClick:_e,theme:L}=t,q=Qo("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":_e}),K=ti(v)?v({rtl:R,position:p,type:l,defaultClassName:q}):Qo(q,v),O=!!A||!a,V={closeToast:d,type:l,theme:L};let Y=null;return s===!1||(Y=ti(s)?s(V):S.isValidElement(s)?S.cloneElement(s,V):Zj(V)),Be.createElement(h,{isIn:J,done:G,position:p,preventExitTransition:n,nodeRef:r},k("div",{id:x,onClick:u,className:K,...i,style:y,ref:r,children:[k("div",{...J&&{role:E},className:ti(g)?g({type:l}):Qo("Toastify__toast-body",g),style:m,children:[se!=null&&f("div",{className:Qo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe}),children:se}),f("div",{children:o})]}),Y,f(FRe,{...w&&!O?{key:`pb-${w}`}:{},rtl:R,theme:L,delay:a,isRunning:e,isIn:J,closeToast:d,hide:c,type:l,style:b,className:_,controlledProgress:O,progress:A||0})]}))},J_=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},VRe=X_(J_("bounce",!0));X_(J_("slide",!0));X_(J_("zoom"));X_(J_("flip"));const $D=S.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=$Re(t),{className:s,style:o,rtl:a,containerId:u}=t;function l(c){const d=Qo("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return ti(s)?s({position:c,rtl:a,defaultClassName:d}):Qo(d,sv(s))}return S.useEffect(()=>{e&&(e.current=r.current)},[]),f("div",{ref:r,className:"Toastify",id:u,children:n((c,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return f("div",{className:l(c),style:h,children:d.map((p,v)=>{let{content:y,props:g}=p;return S.createElement(LRe,{...g,isIn:i(g.toastId),style:{...g.style,"--nth":v+1,"--len":d.length},key:`toast-${g.key}`},y)})},`container-${c}`)})})});$D.displayName="ToastContainer",$D.defaultProps={position:"top-right",transition:VRe,autoClose:5e3,closeButton:Zj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let MD,Gw=new Map,FD=[];vu.on(2,t=>{MD=t.containerId||t,Gw.set(MD,t),FD.forEach(e=>{vu.emit(0,e.content,e.options)}),FD=[]}).on(3,t=>{Gw.delete(t.containerId||t),Gw.size===0&&vu.off(0).off(1).off(5)});const URe=({user:t,onEdit:e,onDelete:n,onChangeRole:r})=>(S.useState(!1),S.useState({...t}),k("div",{children:[f("h3",{children:t.role==="ADMIN"?"ADMIN":"USER"}),k("p",{children:["Nombre: ",t.name]}),k("p",{children:["Email: ",t.email]}),f("button",{onClick:()=>n(t.id),children:"DELETE"})]}));const jRe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(!1),[o,a]=S.useState(""),[,u]=S.useState();S.useEffect(()=>{(async()=>{try{const p=await qt.firestore().collection("users").get(),v=[];p.forEach(y=>{v.push({id:y.id,...y.data()})}),e(v),r(!1)}catch(h){console.error("Error fetching users:",h),r(!1)}})()},[]);const l=async d=>{try{await qt.firestore().collection("users").doc(d).delete(),console.log("User deleted:",d),e(h=>h.filter(p=>p.id!==d))}catch(h){console.error("Error deleting user:",h)}},c=(d,h)=>{try{qt.firestore().collection("users").doc(d).update({role:h}).then(()=>{e(p=>p.map(v=>v.id===d?{...v,role:h}:v)),s(!0),a(`Rol cambiado a ${h}`),u(Date.now())}),console.log("User role changed:",d,h)}catch(p){console.error("Error changing user role:",p)}};return k("div",{className:"user-list-container",children:[" ",f("h2",{children:"Users"}),n?f("p",{children:"Loading users..."}):f("ul",{children:t.map(d=>f("li",{children:f(URe,{user:d,onDelete:()=>l(d.id),onChangeRole:h=>c(d.id,h)})},d.id))})]})},BRe=()=>(Yn("Welcome | Admin Dashboard"),$n(),k("div",{className:"loader",children:[f("h2",{children:"Admin"}),f(Xj,{}),f(jRe,{})]})),zRe=S.lazy(()=>H_(()=>Promise.resolve().then(()=>Gj),void 0)),e7=({match:t})=>{Yn("Edit Product | Salinaka"),$n();const{product:e,error:n,isLoading:r}=j5(t.params.id),i=zt(),s=o=>{i(zPe(e.id,o))};return k("div",{className:"product-form-container",children:[n&&f(so,{to:"/dashboard/products"}),f("h2",{children:"Edit Product"}),e&&f(S.Suspense,{fallback:k("div",{className:"loader",style:{minHeight:"80vh"},children:[f("h6",{children:"Loading ... "}),f("br",{}),f(hr,{})]}),children:f(zRe,{isLoading:r,onSubmit:s,product:e})})]})};e7.propTypes={match:I.shape({params:I.shape({id:I.string})}).isRequired};const qRe=Ia(e7),HRe=()=>{const{authStatus:t,isAuthenticating:e}=Xe(h=>({isAuthenticating:h.app.isAuthenticating,authStatus:h.app.authStatus})),n=zt(),r=Xu(),[i,s]=S.useState({}),[o,a]=S.useState(!1),[u,l]=S.useState({});$n(),Yn("Forgot Password | Salinaka"),S.useEffect(()=>{r&&(s(t),a(e))},[t,e]);const c=(h,p)=>{l({email:h,error:p})},d=()=>{u.email&&!u.error&&n(vK(u.email))};return k("div",{className:"forgot_password",children:[(i==null?void 0:i.message)&&f("h5",{className:`text-center ${t!=null&&t.success?"toast-success":"toast-error"}`,children:t.message}),f("h2",{children:"Forgot Your Password?"}),f("p",{children:"Enter your email address and we will send you a password reset email."}),f("br",{}),f("input",{field:"email",required:!0,className:"input-form",label:"* Email",maxLength:40,onChange:c,placeholder:"Enter your email",readOnly:o||(t==null?void 0:t.success),type:"email",style:{width:"100%"}}),f("br",{}),f("br",{}),k("button",{className:"button w-100-mobile",disabled:o||(t==null?void 0:t.success),onClick:d,type:"button",children:[o?f(hr,{}):f(_p,{}),"",o?"Sending Password Reset Email":"Send Password Reset Email"]})]})},WRe=ho().shape({email:mt().email("Email is not valid.").required("Email is required."),password:mt().required("Password is required.")}),t7=({history:t})=>{const{authStatus:e,isAuthenticating:n}=Xe(a=>({authStatus:a.app.authStatus,isAuthenticating:a.app.isAuthenticating})),r=zt();$n(),Yn("Sign In | PF HENRY & CO."),S.useEffect(()=>()=>{r(ji(null)),r(Ko(!1))},[]);const i=()=>t.push(Yl),s=a=>{r(cK(a.email,a.password))},o=a=>{n&&a.preventDefault()};return k("div",{className:"auth-content",children:[(e==null?void 0:e.success)&&f("div",{className:"loader",children:k("h3",{className:"toast-success auth-success",children:[e.message,f(hr,{})]})}),!(e!=null&&e.success)&&k(_n,{children:[(e==null?void 0:e.message)&&f("h5",{className:"text-center toast-error",children:e==null?void 0:e.message}),k("div",{className:`auth ${(e==null?void 0:e.message)&&!(e!=null&&e.success)&&"input-error"}`,children:[k("div",{className:"auth-main",children:[f("h3",{children:"Sign in to PF HENRY & CO."}),f("br",{}),f("div",{className:"auth-wrapper",children:f(md,{initialValues:{email:"",password:""},validateOnChange:!0,validationSchema:WRe,onSubmit:s,children:()=>k(gd,{children:[f("div",{className:"auth-field",children:f(Er,{disabled:n,name:"email",type:"email",label:"Email",placeholder:"test@example.com",component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:n,name:"password",type:"password",label:"Password",placeholder:"Your Password",component:cr})}),f("br",{}),k("div",{className:"auth-field auth-action",children:[f(Sr,{onClick:o,style:{textDecoration:"underline"},to:VT,children:f("span",{children:"Forgot password?"})}),k("button",{className:"button auth-button",disabled:n,type:"submit",children:[n?"Signing In":"Sign In","",n?f(hr,{}):f(yp,{})]})]})]})})})]}),f("div",{className:"auth-divider",children:f("h6",{children:"OR"})}),f(kA,{isLoading:n})]}),k("div",{className:"auth-message",children:[f("span",{className:"auth-info",children:f("strong",{children:"Don't have an account?"})}),f("button",{className:"button button-small button-border button-border-gray button-icon",disabled:n,onClick:i,type:"button",children:"Sign Up"})]})]})]})};t7.propTypes={history:I.shape({push:I.func}).isRequired};const GRe=ho().shape({email:mt().email("Email is not valid.").required("Email is required."),password:mt().required("Password is required.").min(8,"Password length should be at least 8 characters.").matches(/[A-Z\W]/g,"Password should contain at least 1 uppercase letter."),fullname:mt().required("Full name is required.").min(4,"Name should be at least 4 characters.")}),n7=({history:t})=>{const{isAuthenticating:e,authStatus:n}=Xe(o=>({isAuthenticating:o.app.isAuthenticating,authStatus:o.app.authStatus})),r=zt();$n(),Yn("Sign Up | PF HENRY & CO."),S.useEffect(()=>()=>{r(ji(null)),r(Ko(!1))},[]);const i=()=>t.push(zi),s=o=>{r(fK({fullname:o.fullname.trim(),email:o.email.trim().toLowerCase(),password:o.password.trim()}))};return k("div",{className:"auth-content",children:[(n==null?void 0:n.success)&&f("div",{className:"loader",children:k("h3",{className:"toast-success auth-success",children:[n==null?void 0:n.message,f(hr,{})]})}),!(n!=null&&n.success)&&k(_n,{children:[(n==null?void 0:n.message)&&f("h5",{className:"text-center toast-error",children:n==null?void 0:n.message}),k("div",{className:`auth ${(n==null?void 0:n.message)&&!(n!=null&&n.success)&&"input-error"}`,children:[k("div",{className:"auth-main",children:[f("h3",{children:"Sign up to PF HENRY & CO."}),f(md,{initialValues:{fullname:"",email:"",password:""},validateOnChange:!0,validationSchema:GRe,onSubmit:s,children:()=>k(gd,{children:[f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"fullname",type:"text",label:"* Full Name",placeholder:"John Doe",style:{textTransform:"capitalize"},component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"email",type:"email",label:"* Email",placeholder:"test@example.com",component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"password",type:"password",label:"* Password",placeholder:"Your Password",component:cr})}),f("br",{}),f("div",{className:"auth-field auth-action auth-action-signup",children:k("button",{className:"button auth-button",disabled:e,type:"submit",children:[e?"Signing Up":"Sign Up","",e?f(hr,{}):f(yp,{})]})})]})})]}),f("div",{className:"auth-divider",children:f("h6",{children:"OR"})}),f(kA,{isLoading:e})]}),k("div",{className:"auth-message",children:[f("span",{className:"auth-info",children:f("strong",{children:"Already have an account?"})}),f("button",{className:"button button-small button-border button-border-gray",disabled:e,onClick:i,type:"button",children:"Sign In"})]})]})]})};n7.propTypes={history:I.shape({push:I.func}).isRequired};const Z_=({current:t})=>{const e=n=>t===n?"is-active-step":n<t?"is-done-step":"";return f("div",{className:"checkout-header",children:k("ul",{className:"checkout-header-menu",children:[f("li",{className:`checkout-header-list ${e(1)}`,children:k("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"1"})}),f("h6",{className:"checkout-header-subtitle",children:"Order Summary"})]})}),f("li",{className:`checkout-header-list ${e(2)}`,children:k("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"2"})}),f("h6",{className:"checkout-header-subtitle",children:"Shipping Details"})]})}),f("li",{className:`checkout-header-list ${e(3)}`,children:k("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"3"})}),f("h6",{className:"checkout-header-subtitle",children:"Payment"})]})})]})})};Z_.propTypes={current:I.number.isRequired};const xP=t=>Ia(e=>{const n=Xe(s=>({isAuth:!!s.auth.id&&!!s.auth.role,basket:s.basket,shipping:s.checkout.shipping,payment:s.checkout.payment,profile:s.profile})),r=n.shipping.isInternational?50:0,i=OL(n.basket.map(s=>s.price*s.quantity));return n.isAuth?n.basket.length===0?f(so,{to:"/"}):n.isAuth&&n.basket.length!==0?f(t,{...e,basket:n.basket,payment:n.payment,profile:n.profile,shipping:n.shipping,subtotal:Number(i+r)}):null:f(so,{to:zi})}),r7=({basket:t,subtotal:e})=>{Yn("Check Out Step 1 | PF HENRY & CO."),$n();const n=zt(),r=ci(),i=()=>r.push("/"),s=()=>r.push(Uy);return k("div",{className:"checkout",children:[f(Z_,{current:1}),k("div",{className:"checkout-step-1",children:[f("h3",{className:"text-center",children:"Order Summary"}),f("span",{className:"d-block text-center",children:"Review items in your basket."}),f("br",{}),f("div",{className:"checkout-items",children:t.map(o=>f(S_,{basket:t,dispatch:n,product:o},o.id))}),f("br",{}),k("div",{className:"basket-total text-right",children:[f("p",{className:"basket-total-title",children:"Subtotal:"}),f("h2",{className:"basket-total-amount",children:oo(e)})]}),f("br",{}),k("div",{className:"checkout-shipping-action",children:[k("button",{className:"button button-muted",onClick:i,type:"button",children:[f(WG,{})," Continue Shopping"]}),k("button",{className:"button",onClick:s,type:"submit",children:["Next Step ",f(yp,{})]})]})]})]})};r7.propTypes={basket:I.arrayOf(I.object).isRequired,subtotal:I.number.isRequired};const KRe=xP(r7),QRe=()=>{const{values:t}=To();return f("div",{className:"checkout-shipping-wrapper",children:k("div",{className:"checkout-shipping-form",children:[k("div",{className:"checkout-fieldset",children:[f("div",{className:"d-block checkout-field",children:f(Er,{name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:cr,style:{textTransform:"capitalize"}})}),f("div",{className:"d-block checkout-field",children:f(Er,{name:"email",type:"email",label:"* Email Address",placeholder:"Enter your email address",component:cr})})]}),k("div",{className:"checkout-fieldset",children:[f("div",{className:"d-block checkout-field",children:f(Er,{name:"address",type:"text",label:"* Shipping Address",placeholder:"Enter full shipping address",component:cr})}),f("div",{className:"d-block checkout-field",children:f(q_,{name:"mobile",defaultValue:t.mobile})})]}),f("div",{className:"checkout-fieldset"})]})})},i7=({subtotal:t})=>{const{values:e}=To();return f("div",{className:"checkout-total d-flex-end padding-right-m",children:f("table",{children:k("tbody",{children:[f("tr",{}),f("tr",{children:f("td",{children:f("h4",{className:"basket-total-amount text-subtle text-right margin-0",children:oo(t)})})}),k("tr",{children:[f("td",{children:f("span",{className:"d-block margin-0 padding-right-s text-right",children:"Total: "})}),f("td",{children:f("h2",{className:"basket-total-amount text-right",children:oo(Number(t)+(e.isInternational?50:0))})})]})]})})})};i7.propTypes={subtotal:I.number.isRequired};const YRe=ho().shape({fullname:mt().required("Full name is required.").min(2,"Full name must be at least 2 characters long.").max(60,"Full name must only be less than 60 characters."),email:mt().email("Email is not valid.").required("Email is required."),address:mt().required("Shipping address is required."),mobile:ho().shape({country:mt(),countryCode:mt(),dialCode:mt().required("Mobile number is required"),value:mt().required("Mobile number is required")}).required("Mobile number is required."),isInternational:Yf(),isDone:Yf()}),s7=({profile:t,shipping:e,subtotal:n})=>{Yn("Check Out Step 2 | PF HENRY & CO."),$n();const r=zt(),i=ci(),s={fullname:e.fullname||t.fullname||"",email:e.email||t.email||"",address:e.address||t.address||"",mobile:e.mobile||t.mobile||{},isInternational:e.isInternational||!1,isDone:e.isDone||!1};return f(Yu,{children:k("div",{className:"checkout",children:[f(Z_,{current:2}),k("div",{className:"checkout-step-2",children:[f("h3",{className:"text-center",children:"Shipping Details"}),f(md,{initialValues:s,validateOnChange:!0,validationSchema:YRe,onSubmit:a=>{r(ede({fullname:a.fullname,email:a.email,address:a.address,mobile:a.mobile,isInternational:a.isInternational,isDone:!0})),i.push(UT)},children:()=>k(gd,{children:[f(QRe,{}),f("br",{}),f(i7,{subtotal:n}),f("br",{}),k("div",{className:"checkout-shipping-action",children:[k("button",{className:"button button-muted",onClick:()=>i.push(gc),type:"button",children:[f(w0,{})," Go Back"]}),k("button",{className:"button button-icon",type:"submit",children:["Next Step ",f(yp,{})]})]})]})})]})]})})};s7.propTypes={subtotal:I.number.isRequired,profile:I.shape({fullname:I.string,email:I.string,address:I.string,mobile:I.object}).isRequired,shipping:I.shape({fullname:I.string,email:I.string,address:I.string,mobile:I.object,isInternational:I.bool,isDone:I.bool}).isRequired};const XRe=xP(s7),JRe=t=>({type:dL,payload:t}),ZRe=window.paypal.Buttons.driver("react",{React:Be,ReactDOM:cH});function eke({subtotal:t}){S.useState(5);const e=ci(),n=zt(),{basket:r,purchasedItems:i}=Xe(u=>({basket:u.basket,purchasedItems:u.purchasedItems}));console.log(i);const s=(u,l)=>l.order.create({purchase_units:[{amount:{currency_code:"USD",value:`${t}`}}],description:"Gafas"}),o=(u,l)=>l.order.capture(a());function a(){n(JRe([r])),e.push(jT)}return f("center",{children:k("div",{children:[r.length>0&&r.map(u=>f(S_,{basket:r,dispatch:n,product:u},u.id)),f(ZRe,{createOrder:(u,l)=>s(u,l),onApprove:(u,l)=>o(u,l),style:{layout:"vertical",color:"black",shape:"rect",size:"small"}})]})})}const tke=({subtotal:t})=>{const{values:e,setValues:n}=To();return f("div",{className:` ${e.type==="paypal"?"is-selected-payment":""}`,children:f(eke,{subtotal:t})})},o7=({isInternational:t,subtotal:e})=>{const{values:n,submitForm:r}=To(),i=ci(),s=zt(),o=()=>{const{cardnumber:a,ccv:u,...l}=n;s(tde({...l})),i.push(Uy)};return k(_n,{children:[k("div",{className:"basket-total text-right",children:[f("p",{className:"basket-total-title",children:"Total:"}),f("h2",{className:"basket-total-amount",children:oo(e+(t?50:0))})]}),f("br",{}),f("div",{className:"checkout-shipping-action",children:k("button",{className:"button button-muted",onClick:()=>o(),type:"button",children:[f(w0,{})," Go Back"]})})]})};o7.propTypes={isInternational:I.bool.isRequired,subtotal:I.number.isRequired};const nke=ho().shape({name:mt().min(4,"Name should be at least 4 characters.").required("Name is required"),cardnumber:mt().min(13,"Card number should be 13-19 digits long").max(19,"Card number should only be 13-19 digits long").required("Card number is required."),expiry:mP().required("Credit card expiry is required."),ccv:mt().min(3,"CCV length should be 3-4 digit").max(4,"CCV length should only be 3-4 digit").required("CCV is required."),type:mt().required("Please select paymend mode")}),a7=({shipping:t,payment:e,subtotal:n})=>{Yn("Check Out Final Step | PF HENRY & CO."),$n();const r={name:e.name||"",cardnumber:e.cardnumber||"",expiry:e.expiry||"",ccv:e.ccv||"",type:e.type||"paypal"},i=()=>{Ei("Feature not ready yet :)","info")};return!t||!t.isDone?f(so,{to:gc}):k("div",{className:"checkout",children:[f(Z_,{current:3}),f(md,{initialValues:r,validateOnChange:!0,validationSchema:nke,validate:s=>{s.type==="paypal"&&Ei("Feature not ready yet :)","info")},onSubmit:i,children:()=>k(gd,{className:"checkout-step-3",children:[f(tke,{subtotal:n}),f(o7,{subtotal:n})]})})]})};a7.propTypes={shipping:I.shape({isDone:I.bool,isInternational:I.bool}).isRequired,payment:I.shape({name:I.string,cardnumber:I.string,expiry:I.string,ccv:I.string,type:I.string}).isRequired,subtotal:I.number.isRequired};const rke=xP(a7),ike=()=>f("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"80vh",marginLeft:"20px"},children:f("div",{style:{fontSize:"24px",color:"#333",marginBottom:"10px",marginLeft:"500px"},children:f("p",{children:"Your payment has been made!"})})});const za="/assets/github-6d6ef7be.png",qa="/assets/linkedin-9eb6ffcf.png",ske="/assets/engin-cc3993cf.jpg",oke="/assets/gabo-0dc8bdef.jpg",ake="/assets/agusto-c63d9766.jpg",uke="/assets/danny-0ae8485d.jpg",lke="/assets/jonney-ce9415fe.jpg",cke="/assets/alejandro-4ee1803a.jpg",dke="/assets/alan-0cd2738c.jpg",hke=()=>{const t=Xe(r=>r.darkMode),n=Object.values(t)[0];return k("div",{className:`about-us ${n?"dark-mode-about-us":""}`,children:[k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:ske,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Hasan Engin Kubat"}),f("a",{className:"social-links",href:"https://github.com/hasanenginkubat",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/hasan-engin-kubat-621173255/",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),k("div",{className:`profile ${n?"dark-mode-profile":""}`,children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:ake,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Agusto Herrera"}),f("a",{className:"social-links",href:"https://github.com/Augusto-AI",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/augusto-herrera-velasquez-36679060/",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:uke,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Jose Daniel Lopez Galindo"}),f("a",{className:"social-links",href:"https://github.com/Danylopgali",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/jose-daniel-l%C3%B3pez-galindo-a4b858242",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:lke,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Jonny Daney Sierra Vergara"}),f("a",{className:"social-links",href:"https://github.com/daneysierra",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/jonny-daney-sierra-vergara-819359143",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:oke,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Gabriel Yopasa Angulo"}),f("a",{className:"social-links",href:"https://github.com/GaboYopasa",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://co.linkedin.com/in/gabriel-yopasa-angulo-208665265",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:cke,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Alejandro Garcia"}),f("a",{className:"social-links",href:"https://github.com/sabinux",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/alejandro-garcia-6179b9260/",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]}),f("div",{className:"left",children:k("div",{className:"profile",children:[f("h2",{className:"fullstack",style:n?{color:"white"}:{},children:"Full Stack Web Developer"}),f("img",{src:dke,alt:"Hasan Engin Kubat"}),f("h2",{style:n?{color:"white"}:{},children:"Alan Zalazar"}),f("a",{className:"social-links",href:"https://github.com/AlanZalazar",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:za,alt:"GitHub"})}),f("a",{className:"social-links",href:"https://www.linkedin.com/in/alan-zalazar-36495a258/",target:"_blank",rel:"noopener noreferrer",children:f("img",{src:qa,alt:"LinkedIn"})})]})})]})},u7=({history:t})=>($n(),k("div",{className:"page-not-found",children:[f("h1",{children:":( Page you are looking for doesn't exists."}),f("br",{}),f("button",{className:"button",onClick:t.goBack,type:"button",children:"Go back"})]}));u7.propTypes={history:I.shape({goBack:I.func}).isRequired};const fke="/assets/banner-guy-0729a23e.png",pke=()=>{Yn("Featured Products | PF HENRY & CO."),$n();const{featuredProducts:t,fetchFeaturedProducts:e,isLoading:n,error:r}=V5(),i=Xe(a=>a.darkMode),o=Object.values(i)[0];return f("main",{className:`content ${o?"dark-mode":""}`,children:k("div",{className:`home ${o?"darkMode":""}`,children:[k("div",{className:`banner ${o?"darkMode":""}`,children:[f("div",{className:`banner-desc ${o?"text-thin-darkmode":""}`,children:f("h1",{style:o?{color:"white"}:{},children:"Featured Products"})}),f("div",{className:"banner-img",children:f("img",{src:fke,alt:""})})]}),f("div",{className:`display ${o?"darkMode":""}`,children:f("div",{className:"product-display-grid",children:r&&!n?f(Zi,{message:r,action:e,buttonLabel:"Try Again"}):f(Gu,{products:t,skeletonCount:6})})})]})})},mke="/assets/banner-girl-cc69a475.png",gke=()=>{Yn("PF HENRY & CO. | Home"),$n();const t=Xe(d=>d.darkMode),n=Object.values(t)[0],{featuredProducts:r,fetchFeaturedProducts:i,isLoading:s,error:o}=V5(6),{recommendedProducts:a,fetchRecommendedProducts:u,isLoading:l,error:c}=bA(6);return f("main",{className:`content ${n?"dark-mode":""}`,children:k("div",{className:`home ${n?"darkMode":""}`,children:[k("div",{className:`banner ${n?"darkMode":""}`,children:[k("div",{className:"banner-desc",children:[k("h1",{className:`text-thin ${n?"text-thin-darkmode":""}`,children:[f("strong",{children:"See"}),"everything with",f("strong",{children:"Clarity"})]}),f("p",{className:`text-thin ${n?"text-thin-darkmode":""}`,children:"Buying eyewear should leave you happy and good-looking, with money in your pocket. Glasses, sunglasses, and contactsweve got your eyes covered."}),f("br",{}),k(Sr,{to:mc,className:"button",children:["Shop Now ",f(yp,{})]})]}),f("div",{className:"banner-img",children:f("img",{src:mke,alt:""})})]}),k("div",{className:`display ${n?"text-thin-darkmode":""}`,children:[k("div",{className:`display-header ${n?"text-thin-darkmode":""}`,children:[f("h1",{className:`text-thin ${n?"text-thin-darkmode":""}`,children:"Featured Products"}),f(Sr,{to:FT,children:"See All"})]}),o&&!s?f(Zi,{message:o,action:i,buttonLabel:"Try Again"}):f(Gu,{products:r,skeletonCount:6})]}),k("div",{className:`display ${n?"dark-mode":""}`,children:[k("div",{className:"display-header",children:[f("h1",{className:`text-thin ${n?"text-thin-darkmode":""}`,children:"Recommended Products"}),f(Sr,{to:Fy,children:"See All"})]}),c&&!l?f(Zi,{message:c,action:u,buttonLabel:"Try Again"}):f(Gu,{products:a,skeletonCount:6})]})]})})},vke="/assets/banner-girl-1-23493f87.png",yke=()=>{Yn("Recommended Products | HP HENRY & CO."),$n();const t=Xe(a=>a.darkMode),n=Object.values(t)[0],{recommendedProducts:r,fetchRecommendedProducts:i,isLoading:s,error:o}=bA();return f("main",{className:`content ${n?"dark-mode":""}`,children:k("div",{className:`home ${n?"darkMode":""}`,children:[k("div",{className:`banner ${n?"darkMode":""}`,children:[f("div",{className:`banner-desc ${n?"text-thin-darkmode":""}`,children:f("h1",{style:n?{color:"white"}:{},children:"Recommended Products"})}),f("div",{className:"banner-img",children:f("img",{src:vke,alt:""})})]}),f("div",{className:"display",children:f("div",{className:"product-display-grid",children:o&&!s?f(Zi,{message:o,action:i,buttonLabel:"Try Again"}):f(Gu,{products:r,skeletonCount:6})})})]})})},l7=({match:t})=>{const{searchKey:e}=t.params,n=zt(),r=Xu(!0),i=Xe(s=>({isLoading:s.app.loading,products:s.products.searchedProducts.items,basket:s.basket,requestStatus:s.app.requestStatus}));return S.useEffect(()=>{r&&!i.isLoading&&n(LPe(e))},[e]),S.useEffect(()=>()=>{n(Wf(""))},[]),i.requestStatus&&!i.isLoading?f("main",{className:"content",children:f(Zi,{message:i.requestStatus,desc:"Try using correct filters or keyword."})}):!i.requestStatus&&!i.isLoading?f(Yu,{children:f("main",{className:"content",children:k("section",{className:"product-list-wrapper product-list-search",children:[!i.requestStatus&&f("div",{className:"product-list-header",children:f("div",{className:"product-list-header-title",children:f("h5",{children:`Found ${i.products.length} ${i.products.length>1?"products":"product"} with keyword ${e}`})})}),f(OP,{products:i.products})]})})}):f("main",{className:"content",children:k("div",{className:"loader",children:[f("h4",{children:"Searching Product..."}),f("br",{}),f(hr,{style:{fontSize:"3rem"}})]})})};l7.propTypes={match:I.shape({params:I.shape({searchKey:I.string})}).isRequired};const _ke=()=>{Yn("Shop | HP HENRY & CO."),$n();const t=Xe(i=>({filteredProducts:z5(i.products.items,i.filter),products:i.products,requestStatus:i.app.requestStatus,isLoading:i.app.loading}),gh),e=Xe(i=>i.darkMode),r=Object.values(e)[0];return f("main",{className:`content ${r?"dark-mode":""}`,children:k("section",{className:`product-list-wrapper ${r?"dark-mode":""}`,children:[f(W_,{filteredProductsCount:t.filteredProducts.length}),f(Y_,{...t,children:f(OP,{products:t.filteredProducts})})]})})};var wke=Rj(PP);const bke=wke,Eke=()=>{const{id:t}=YH(),{product:e,isLoading:n,error:r}=j5(t),{addToBasket:i,isItemOnBasket:s}=DL();$n(),Yn(`View ${(e==null?void 0:e.name)||"Item"}`);const[o,a]=S.useState((e==null?void 0:e.image)||""),[u,l]=S.useState(""),[c,d]=S.useState(""),{recommendedProducts:h,fetchRecommendedProducts:p,isLoading:v,error:y}=bA(6),g=S.useRef(null);S.useEffect(()=>{a(e==null?void 0:e.image)},[e]);const m=w=>{l(w.value)},_=w=>{d(w),g.current&&(g.current.value=w)},b=()=>{i({...e,selectedColor:c,selectedSize:u||e.sizes[0]})};return k("main",{className:"content",children:[n&&k("div",{className:"loader",children:[f("h4",{children:"Loading Product..."}),f("br",{}),f(hr,{style:{fontSize:"3rem"}})]}),r&&f(Zi,{message:r}),e&&!n&&k("div",{className:"product-view",children:[f(Sr,{to:mc,children:k("h3",{className:"button-link d-inline-flex",children:[f(w0,{})," Back to shop"]})}),k("div",{className:"product-modal",children:[e.imageCollection.length!==0&&f("div",{className:"product-modal-image-collection",children:e.imageCollection.map(w=>f("div",{className:"product-modal-image-collection-wrapper",onClick:()=>a(w.url),role:"presentation",children:f(Ni,{className:"product-modal-image-collection-img",src:w.url})},w.id))}),k("div",{className:"product-modal-image-wrapper",children:[c&&f("input",{type:"color",disabled:!0,ref:g,id:"color-overlay"}),f(Ni,{alt:e.name,className:"product-modal-image",src:o})]}),k("div",{className:"product-modal-details",children:[f("br",{}),f("span",{className:"text-subtle",children:e.brand}),f("h1",{className:"margin-top-0",children:e.name}),f("span",{children:e.description}),f("br",{}),f("br",{}),f("div",{className:"divider"}),f("br",{}),k("div",{children:[f("span",{className:"text-subtle",children:"Lens Width and Frame Size"}),f("br",{}),f("br",{}),f(bke,{placeholder:"--Select Size--",onChange:m,options:e.sizes.sort((w,E)=>w<E?-1:1).map(w=>({label:`${w} mm`,value:w})),styles:{menu:w=>({...w,zIndex:10})}})]}),f("br",{}),e.availableColors.length>=1&&k("div",{children:[f("span",{className:"text-subtle",children:"Choose Color"}),f("br",{}),f("br",{}),f(kL,{availableColors:e.availableColors,onSelectedColorChange:_})]}),f("h1",{children:oo(e.price)}),f("div",{className:"product-modal-action",children:f("button",{className:`button button-small ${s(e.id)?"button-border button-border-gray":""}`,onClick:b,type:"button",children:s(e.id)?"Remove From Basket":"Add To Basket"})})]})]}),k("div",{style:{marginTop:"10rem"},children:[k("div",{className:"display-header",children:[f("h1",{children:"Recommended"}),f(Sr,{to:Fy,children:"See All"})]}),y&&!v?f(Zi,{message:r,action:p,buttonLabel:"Try Again"}):f(Gu,{products:h,skeletonCount:3})]})]})]})},NP=({isAuth:t,role:e,component:n,...r})=>f(as,{...r,component:i=>t&&e==="ADMIN"?k(_n,{children:[f(yK,{}),k("main",{className:"content-admin",children:[f(_K,{}),f("div",{className:"content-admin-wrapper",children:f(n,{...i})})]})]}):f(so,{to:"/"})}),Tke=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""});NP.defaultProps={isAuth:!1,role:"USER"};NP.propTypes={isAuth:I.bool,role:I.string,component:I.func.isRequired,rest:I.any};const gg=nS(Tke)(NP),DP=({isAuth:t,role:e,component:n,...r})=>f(as,{...r,component:i=>t&&e==="USER"?f("main",{className:"content",children:f(n,{...i})}):t&&e==="ADMIN"?f(so,{to:Vy}):f(so,{to:{pathname:zi,state:{from:i.location}}})});DP.defaultProps={isAuth:!1,role:"USER"};DP.propTypes={isAuth:I.bool,role:I.string,component:I.func.isRequired,rest:I.any};const Ske=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""}),Sl=nS(Ske)(DP),$P=({isAuth:t,role:e,component:n,path:r,...i})=>f(as,{...i,render:s=>{const{from:o}=s.location.state||{from:{pathname:"/"}};return t&&e==="ADMIN"?f(so,{to:Vy}):t&&e==="USER"&&(r===zi||r===Yl)?f(so,{to:o}):f("main",{className:"content",children:f(n,{...s})})}});$P.defaultProps={isAuth:!1,role:"USER",path:"/"};$P.propTypes={isAuth:I.bool,role:I.string,component:I.func.isRequired,path:I.string,rest:I.any};const Ike=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""}),vg=nS(Ike)($P),np=TF(),Cke=()=>f(vp,{history:np,children:k(_n,{children:[f(que,{}),f(Bue,{}),k(QH,{children:[f(as,{component:_ke,exact:!0,path:mc}),f(as,{component:l7,exact:!0,path:jD}),f(as,{component:gke,exact:!0,path:My}),f(as,{component:pke,exact:!0,path:FT}),f(as,{component:yke,exact:!0,path:Fy}),f(vg,{component:n7,path:Yl}),f(vg,{component:t7,exact:!0,path:zi}),f(vg,{component:HRe,path:VT}),f(as,{component:Eke,path:S7}),f(Sl,{component:DPe,exact:!0,path:Ly}),f(Sl,{component:RPe,exact:!0,path:E7}),f(Sl,{component:KRe,path:gc}),f(Sl,{component:ike,path:jT}),f(as,{component:hke,path:Kw}),f(Sl,{component:XRe,path:Uy}),f(Sl,{component:rke,path:UT}),f(gg,{component:BRe,exact:!0,path:Vy}),f(gg,{component:Xj,path:mh}),f(gg,{component:GPe,path:LT}),f(gg,{component:qRe,path:`${UD}/:id`}),f(vg,{component:u7})]}),f(jue,{})]})});function*Il(t){const e={success:!1,type:"auth",isError:!0};switch(yield Ve(Ko(!1)),t.code){case"auth/network-request-failed":yield Ve(ji({...e,message:"Network error has occured. Please try again."}));break;case"auth/email-already-in-use":yield Ve(ji({...e,message:"Email is already in use. Please use another email"}));break;case"auth/wrong-password":yield Ve(ji({...e,message:"Incorrect email or password"}));break;case"auth/user-not-found":yield Ve(ji({...e,message:"Incorrect email or password"}));break;case"auth/reset-password-error":yield Ve(ji({...e,message:"Failed to send password reset email. Did you type your email correctly?"}));break;default:yield Ve(ji({...e,message:t.message}));break}}function*Ha(){yield Ve(Ko()),yield Ve(ji({}))}function*Ake({type:t,payload:e}){switch(t){case lI:try{yield Ha(),yield nt(it.signIn,e.email,e.password)}catch(n){yield Il(n)}break;case hI:try{yield Ha(),yield nt(it.signInWithGoogle)}catch(n){yield Il(n)}break;case fI:try{yield Ha(),yield nt(it.signInWithFacebook)}catch(n){yield Il(n)}break;case mL:try{yield Ha(),yield nt(it.signInWithGithub)}catch(n){yield Il(n)}break;case cI:try{yield Ha();const n=yield nt(it.createAccount,e.email,e.password),i={fullname:e.fullname.split(" ").map(s=>s[0].toUpperCase().concat(s.substring(1))).join(" "),avatar:Ix,banner:Cx,email:e.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:n.user.metadata.creationTime||new Date().getTime()};yield nt(it.addUser,n.user.uid,i),yield Ve(Aw(i)),yield Ve(Ko(!1))}catch(n){yield Il(n)}break;case dI:{try{yield Ha(),yield nt(it.signOut),yield Ve(NL()),yield Ve(Ax()),yield Ve(B5()),yield Ve(nde()),yield Ve($k()),yield Ve(Ko(!1)),yield nt(np.push,zi)}catch(n){console.log(n)}break}case gI:{try{yield Ha(),yield nt(it.passwordReset,e),yield Ve(ji({success:!0,type:"reset",message:"Password reset email has been sent to your provided email."})),yield Ve(Ko(!1))}catch{Il({code:"auth/reset-password-error"})}break}case pI:{const n=yield nt(it.getUser,e.uid);if(n.data()){const r=n.data();yield Ve(Aw(r)),yield Ve(Mk(r.basket)),yield Ve(Mk(r.basket)),yield Ve(Dk({id:e.uid,role:r.role,provider:e.providerData[0].providerId}))}else if(e.providerData[0].providerId!=="password"&&!n.data()){const r={fullname:e.displayName?e.displayName:"User",avatar:e.photoURL?e.photoURL:Ix,banner:Cx,email:e.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:e.metadata.creationTime};yield nt(it.addUser,e.uid,r),yield Ve(Aw(r)),yield Ve(Dk({id:e.uid,role:r.role,provider:e.providerData[0].providerId}))}yield Ve(ji({success:!0,type:"auth",isError:!1,message:"Successfully signed in. Redirecting..."})),yield Ve(Ko(!1));break}case mI:{yield Ve(Ax()),yield Ve($k());break}case gL:{try{yield nt(it.setAuthPersistence)}catch(n){console.log(n)}break}default:throw new Error("Unexpected Action Type.")}}function*eh(){yield Ve(Mr(!0)),yield Ve(Wf(null))}function*Wa(t){yield Ve(Mr(!1)),yield Ve(Wf((t==null?void 0:t.message)||"Failed to fetch products")),console.log("ERROR: ",t)}function*Cl(t,e,n){t&&(yield nt(np.push,t)),yield nt(Ei,e,n)}function*Pke({type:t,payload:e}){switch(t){case iI:try{yield eh();const n=yield nT(),r=yield nt(it.getProducts,e);r.products.length===0?Wa("No items found."):(yield Ve(MPe({products:r.products,lastKey:r.lastKey?r.lastKey:n.products.lastRefKey,total:r.total?r.total:n.products.total})),yield Ve(Wf(""))),yield Ve(Mr(!1))}catch(n){console.log(n),yield Wa(n)}break;case oI:{try{yield eh();const{imageCollection:n}=e,r=yield nt(it.generateKey),i=yield nt(it.storeImage,r,"products",e.image),s={id:r,url:i};let o=[];if(n.length!==0){const u=yield ag(n.map(()=>it.generateKey));o=(yield ag(n.map((c,d)=>it.storeImage(u[d](),"products",c.file)))).map((c,d)=>({id:u[d](),url:c}))}const a={...e,image:i,imageCollection:[s,...o]};yield nt(it.addProduct,r,a),yield Ve(UPe({id:r,...a})),yield Cl(mh,"Item succesfully added","success"),yield Ve(Mr(!1))}catch(n){yield Wa(n),yield Cl(void 0,`Item failed to add: ${n==null?void 0:n.message}`,"error")}break}case uI:{try{yield eh();const{image:n,imageCollection:r}=e.updates;let i={...e.updates};if(n.constructor===File&&typeof n=="object"){try{yield nt(it.deleteImage,e.id)}catch(o){console.error("Failed to delete image ",o)}const s=yield nt(it.storeImage,e.id,"products",n);i={...i,image:s}}if(r.length>1){const s=[],o=[];r.forEach(c=>{c.file?o.push(c):s.push(c)});const a=yield ag(o.map(()=>it.generateKey)),l=(yield ag(o.map((c,d)=>it.storeImage(a[d](),"products",c.file)))).map((c,d)=>({id:a[d](),url:c}));i={...i,imageCollection:[...s,...l]}}else i={...i,imageCollection:[{id:new Date().getTime(),url:i.image}]};yield nt(it.editProduct,e.id,i),yield Ve(qPe({id:e.id,updates:i})),yield Cl(mh,"Item succesfully edited","success"),yield Ve(Mr(!1))}catch(n){yield Wa(n),yield Cl(void 0,`Item failed to edit: ${n.message}`,"error")}break}case aI:{try{yield eh(),yield nt(it.removeProduct,e),yield Ve(BPe(e)),yield Ve(Mr(!1)),yield Cl(mh,"Item succesfully removed","success")}catch(n){yield Wa(n),yield Cl(void 0,`Item failed to remove: ${n.message}`,"error")}break}case sI:{try{yield eh(),yield Ve(wD());const n=yield nT(),r=yield nt(it.searchProducts,e.searchKey);r.products.length===0?(yield Wa({message:"No product found."}),yield Ve(wD())):(yield Ve(VPe({products:r.products,lastKey:r.lastKey?r.lastKey:n.products.searchedProducts.lastRefKey,total:r.total?r.total:n.products.searchedProducts.total})),yield Ve(Wf(""))),yield Ve(Mr(!1))}catch(n){yield Wa(n)}break}default:throw new Error(`Unexpected action type ${t}`)}}function*Rke({type:t,payload:e}){switch(t){case vL:{try{yield Ve(Mr(!1)),yield nt(it.updateEmail,e.password,e.newEmail),yield Ve(Mr(!1)),yield nt(np.push,"/profile"),yield nt(Ei,"Email Updated Successfully!","success")}catch(n){console.log(n.message)}break}case vI:{try{const n=yield nT(),{email:r,password:i}=e.credentials,{avatarFile:s,bannerFile:o}=e.files;if(yield Ve(Mr(!0)),r&&i&&r!==n.profile.email&&(yield nt(it.updateEmail,i,r)),s||o){const a=o?yield nt(it.storeImage,n.auth.id,"banner",o):e.updates.banner,u=s?yield nt(it.storeImage,n.auth.id,"avatar",s):e.updates.avatar,l={...e.updates,avatar:u,banner:a};yield nt(it.updateProfile,n.auth.id,l),yield Ve(Px(l))}else yield nt(it.updateProfile,n.auth.id,e.updates),yield Ve(Px(e.updates));yield Ve(Mr(!1)),yield nt(np.push,Ly),yield nt(Ei,"Profile Updated Successfully!","success")}catch(n){console.log(n),yield Ve(Mr(!1)),n.code==="auth/wrong-password"?yield nt(Ei,"Wrong password, profile update failed :(","error"):yield nt(Ei,`:( Failed to update profile. ${n.message?n.message:""}`,"error")}break}default:throw new Error("Unexpected action type.")}}function*kke(){yield Cw([lI,cI,dI,hI,fI,mL,tK,pI,mI,gL,gI],Ake),yield Cw([oI,sI,aI,uI,iI],Pke),yield Cw([vL,vI],Rke)}const LD=Mce(),Oke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xA,xke={key:"root",storage:vU,whitelist:["auth","profile","basket","checkout","purchasedItems","darkMode"]},Nke=()=>{const t=OA(ple(xke,Yce),Oke(Que(LD))),e=wle(t);return LD.run(kke),{store:t,persistor:e}};var c7={exports:{}};(function(t){(function(){function e(C,M,te){return C.call.apply(C.bind,arguments)}function n(C,M,te){if(!C)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,re),C.apply(M,ye)}}return function(){return C.apply(M,arguments)}}function r(C,M,te){return r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:n,r.apply(null,arguments)}var i=Date.now||function(){return+new Date};function s(C,M){this.a=C,this.o=M||C,this.c=this.o.document}var o=!!window.FontFace;function a(C,M,te,re){if(M=C.c.createElement(M),te)for(var ye in te)te.hasOwnProperty(ye)&&(ye=="style"?M.style.cssText=te[ye]:M.setAttribute(ye,te[ye]));return re&&M.appendChild(C.c.createTextNode(re)),M}function u(C,M,te){C=C.c.getElementsByTagName(M)[0],C||(C=document.documentElement),C.insertBefore(te,C.lastChild)}function l(C){C.parentNode&&C.parentNode.removeChild(C)}function c(C,M,te){M=M||[],te=te||[];for(var re=C.className.split(/\s+/),ye=0;ye<M.length;ye+=1){for(var ke=!1,$e=0;$e<re.length;$e+=1)if(M[ye]===re[$e]){ke=!0;break}ke||re.push(M[ye])}for(M=[],ye=0;ye<re.length;ye+=1){for(ke=!1,$e=0;$e<te.length;$e+=1)if(re[ye]===te[$e]){ke=!0;break}ke||M.push(re[ye])}C.className=M.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(C,M){for(var te=C.className.split(/\s+/),re=0,ye=te.length;re<ye;re++)if(te[re]==M)return!0;return!1}function h(C){return C.o.location.hostname||C.a.location.hostname}function p(C,M,te){function re(){Je&&ye&&ke&&(Je($e),Je=null)}M=a(C,"link",{rel:"stylesheet",href:M,media:"all"});var ye=!1,ke=!0,$e=null,Je=te||null;o?(M.onload=function(){ye=!0,re()},M.onerror=function(){ye=!0,$e=Error("Stylesheet failed to load"),re()}):setTimeout(function(){ye=!0,re()},0),u(C,"head",M)}function v(C,M,te,re){var ye=C.c.getElementsByTagName("head")[0];if(ye){var ke=a(C,"script",{src:M}),$e=!1;return ke.onload=ke.onreadystatechange=function(){$e||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||($e=!0,te&&te(null),ke.onload=ke.onreadystatechange=null,ke.parentNode.tagName=="HEAD"&&ye.removeChild(ke))},ye.appendChild(ke),setTimeout(function(){$e||($e=!0,te&&te(Error("Script load timeout")))},re||5e3),ke}return null}function y(){this.a=0,this.c=null}function g(C){return C.a++,function(){C.a--,_(C)}}function m(C,M){C.c=M,_(C)}function _(C){C.a==0&&C.c&&(C.c(),C.c=null)}function b(C){this.a=C||"-"}b.prototype.c=function(C){for(var M=[],te=0;te<arguments.length;te++)M.push(arguments[te].replace(/[\W_]+/g,"").toLowerCase());return M.join(this.a)};function w(C,M){this.c=C,this.f=4,this.a="n";var te=(M||"n4").match(/^([nio])([1-9])$/i);te&&(this.a=te[1],this.f=parseInt(te[2],10))}function E(C){return x(C)+" "+(C.f+"00")+" 300px "+A(C.c)}function A(C){var M=[];C=C.split(/,\s*/);for(var te=0;te<C.length;te++){var re=C[te].replace(/['"]/g,"");re.indexOf(" ")!=-1||/^\d/.test(re)?M.push("'"+re+"'"):M.push(re)}return M.join(",")}function R(C){return C.a+C.f}function x(C){var M="normal";return C.a==="o"?M="oblique":C.a==="i"&&(M="italic"),M}function G(C){var M=4,te="n",re=null;return C&&((re=C.match(/(normal|oblique|italic)/i))&&re[1]&&(te=re[1].substr(0,1).toLowerCase()),(re=C.match(/([1-9]00|normal|bold)/i))&&re[1]&&(/bold/i.test(re[1])?M=7:/[1-9]00/.test(re[1])&&(M=parseInt(re[1].substr(0,1),10)))),te+M}function J(C,M){this.c=C,this.f=C.o.document.documentElement,this.h=M,this.a=new b("-"),this.j=M.events!==!1,this.g=M.classes!==!1}function oe(C){C.g&&c(C.f,[C.a.c("wf","loading")]),_e(C,"loading")}function se(C){if(C.g){var M=d(C.f,C.a.c("wf","active")),te=[],re=[C.a.c("wf","loading")];M||te.push(C.a.c("wf","inactive")),c(C.f,te,re)}_e(C,"inactive")}function _e(C,M,te){C.j&&C.h[M]&&(te?C.h[M](te.c,R(te)):C.h[M]())}function L(){this.c={}}function q(C,M,te){var re=[],ye;for(ye in M)if(M.hasOwnProperty(ye)){var ke=C.c[ye];ke&&re.push(ke(M[ye],te))}return re}function K(C,M){this.c=C,this.f=M,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function O(C){u(C.c,"body",C.a)}function V(C){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+A(C.c)+";"+("font-style:"+x(C)+";font-weight:"+(C.f+"00")+";")}function Y(C,M,te,re,ye,ke){this.g=C,this.j=M,this.a=re,this.c=te,this.f=ye||3e3,this.h=ke||void 0}Y.prototype.start=function(){var C=this.c.o.document,M=this,te=i(),re=new Promise(function($e,Je){function lt(){i()-te>=M.f?Je():C.fonts.load(E(M.a),M.h).then(function(Lt){1<=Lt.length?$e():setTimeout(lt,25)},function(){Je()})}lt()}),ye=null,ke=new Promise(function($e,Je){ye=setTimeout(Je,M.f)});Promise.race([ke,re]).then(function(){ye&&(clearTimeout(ye),ye=null),M.g(M.a)},function(){M.j(M.a)})};function F(C,M,te,re,ye,ke,$e){this.v=C,this.B=M,this.c=te,this.a=re,this.s=$e||"BESbswy",this.f={},this.w=ye||3e3,this.u=ke||null,this.m=this.j=this.h=this.g=null,this.g=new K(this.c,this.s),this.h=new K(this.c,this.s),this.j=new K(this.c,this.s),this.m=new K(this.c,this.s),C=new w(this.a.c+",serif",R(this.a)),C=V(C),this.g.a.style.cssText=C,C=new w(this.a.c+",sans-serif",R(this.a)),C=V(C),this.h.a.style.cssText=C,C=new w("serif",R(this.a)),C=V(C),this.j.a.style.cssText=C,C=new w("sans-serif",R(this.a)),C=V(C),this.m.a.style.cssText=C,O(this.g),O(this.h),O(this.j),O(this.m)}var j={D:"serif",C:"sans-serif"},$=null;function H(){if($===null){var C=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);$=!!C&&(536>parseInt(C[1],10)||parseInt(C[1],10)===536&&11>=parseInt(C[2],10))}return $}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=i(),T(this)};function B(C,M,te){for(var re in j)if(j.hasOwnProperty(re)&&M===C.f[j[re]]&&te===C.f[j[re]])return!0;return!1}function T(C){var M=C.g.a.offsetWidth,te=C.h.a.offsetWidth,re;(re=M===C.f.serif&&te===C.f["sans-serif"])||(re=H()&&B(C,M,te)),re?i()-C.A>=C.w?H()&&B(C,M,te)&&(C.u===null||C.u.hasOwnProperty(C.a.c))?de(C,C.v):de(C,C.B):D(C):de(C,C.v)}function D(C){setTimeout(r(function(){T(this)},C),50)}function de(C,M){setTimeout(r(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),M(this.a)},C),0)}function Z(C,M,te){this.c=C,this.a=M,this.f=0,this.m=this.j=!1,this.s=te}var xe=null;Z.prototype.g=function(C){var M=this.a;M.g&&c(M.f,[M.a.c("wf",C.c,R(C).toString(),"active")],[M.a.c("wf",C.c,R(C).toString(),"loading"),M.a.c("wf",C.c,R(C).toString(),"inactive")]),_e(M,"fontactive",C),this.m=!0,Re(this)},Z.prototype.h=function(C){var M=this.a;if(M.g){var te=d(M.f,M.a.c("wf",C.c,R(C).toString(),"active")),re=[],ye=[M.a.c("wf",C.c,R(C).toString(),"loading")];te||re.push(M.a.c("wf",C.c,R(C).toString(),"inactive")),c(M.f,re,ye)}_e(M,"fontinactive",C),Re(this)};function Re(C){--C.f==0&&C.j&&(C.m?(C=C.a,C.g&&c(C.f,[C.a.c("wf","active")],[C.a.c("wf","loading"),C.a.c("wf","inactive")]),_e(C,"active")):se(C.a))}function Me(C){this.j=C,this.a=new L,this.h=0,this.f=this.g=!0}Me.prototype.load=function(C){this.c=new s(this.j,C.context||this.j),this.g=C.events!==!1,this.f=C.classes!==!1,We(this,new J(this.c,C),C)};function Se(C,M,te,re,ye){var ke=--C.h==0;(C.f||C.g)&&setTimeout(function(){var $e=ye||null,Je=re||null||{};if(te.length===0&&ke)se(M.a);else{M.f+=te.length,ke&&(M.j=ke);var lt,Lt=[];for(lt=0;lt<te.length;lt++){var Rt=te[lt],bn=Je[Rt.c],Jn=M.a,Gr=Rt;if(Jn.g&&c(Jn.f,[Jn.a.c("wf",Gr.c,R(Gr).toString(),"loading")]),_e(Jn,"fontloading",Gr),Jn=null,xe===null)if(window.FontFace){var Gr=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),is=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);xe=Gr?42<parseInt(Gr[1],10):!is}else xe=!1;xe?Jn=new Y(r(M.g,M),r(M.h,M),M.c,Rt,M.s,bn):Jn=new F(r(M.g,M),r(M.h,M),M.c,Rt,M.s,$e,bn),Lt.push(Jn)}for(lt=0;lt<Lt.length;lt++)Lt[lt].start()}},0)}function We(C,M,te){var ye=[],re=te.timeout;oe(M);var ye=q(C.a,te,C.c),ke=new Z(C.c,M,re);for(C.h=ye.length,M=0,te=ye.length;M<te;M++)ye[M].load(function($e,Je,lt){Se(C,ke,$e,Je,lt)})}function ze(C,M){this.c=C,this.a=M}ze.prototype.load=function(C){function M(){if(ke["__mti_fntLst"+re]){var $e=ke["__mti_fntLst"+re](),Je=[],lt;if($e)for(var Lt=0;Lt<$e.length;Lt++){var Rt=$e[Lt].fontfamily;$e[Lt].fontStyle!=null&&$e[Lt].fontWeight!=null?(lt=$e[Lt].fontStyle+$e[Lt].fontWeight,Je.push(new w(Rt,lt))):Je.push(new w(Rt))}C(Je)}else setTimeout(function(){M()},50)}var te=this,re=te.a.projectId,ye=te.a.version;if(re){var ke=te.c.o;v(this.c,(te.a.api||"https://fast.fonts.net/jsapi")+"/"+re+".js"+(ye?"?v="+ye:""),function($e){$e?C([]):(ke["__MonotypeConfiguration__"+re]=function(){return te.a},M())}).id="__MonotypeAPIScript__"+re}else C([])};function U(C,M){this.c=C,this.a=M}U.prototype.load=function(C){var M,te,re=this.a.urls||[],ye=this.a.families||[],ke=this.a.testStrings||{},$e=new y;for(M=0,te=re.length;M<te;M++)p(this.c,re[M],g($e));var Je=[];for(M=0,te=ye.length;M<te;M++)if(re=ye[M].split(":"),re[1])for(var lt=re[1].split(","),Lt=0;Lt<lt.length;Lt+=1)Je.push(new w(re[0],lt[Lt]));else Je.push(new w(re[0]));m($e,function(){C(Je,ke)})};function ne(C,M){C?this.c=C:this.c=ue,this.a=[],this.f=[],this.g=M||""}var ue="https://fonts.googleapis.com/css";function Ie(C,M){for(var te=M.length,re=0;re<te;re++){var ye=M[re].split(":");ye.length==3&&C.f.push(ye.pop());var ke="";ye.length==2&&ye[1]!=""&&(ke=":"),C.a.push(ye.join(ke))}}function Ae(C){if(C.a.length==0)throw Error("No fonts to load!");if(C.c.indexOf("kit=")!=-1)return C.c;for(var M=C.a.length,te=[],re=0;re<M;re++)te.push(C.a[re].replace(/ /g,"+"));return M=C.c+"?family="+te.join("%7C"),0<C.f.length&&(M+="&subset="+C.f.join(",")),0<C.g.length&&(M+="&text="+encodeURIComponent(C.g)),M}function N(C){this.f=C,this.a=[],this.c={}}var ie={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},he={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},X=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function pe(C){for(var M=C.f.length,te=0;te<M;te++){var re=C.f[te].split(":"),ye=re[0].replace(/\+/g," "),ke=["n4"];if(2<=re.length){var $e,Je=re[1];if($e=[],Je)for(var Je=Je.split(","),lt=Je.length,Lt=0;Lt<lt;Lt++){var Rt;if(Rt=Je[Lt],Rt.match(/^[\w-]+$/)){var bn=X.exec(Rt.toLowerCase());if(bn==null)Rt="";else{if(Rt=bn[2],Rt=Rt==null||Rt==""?"n":ee[Rt],bn=bn[1],bn==null||bn=="")bn="4";else var Jn=he[bn],bn=Jn||(isNaN(bn)?"4":bn.substr(0,1));Rt=[Rt,bn].join("")}}else Rt="";Rt&&$e.push(Rt)}0<$e.length&&(ke=$e),re.length==3&&(re=re[2],$e=[],re=re?re.split(","):$e,0<re.length&&(re=ie[re[0]])&&(C.c[ye]=re))}for(C.c[ye]||(re=ie[ye])&&(C.c[ye]=re),re=0;re<ke.length;re+=1)C.a.push(new w(ye,ke[re]))}}function ve(C,M){this.c=C,this.a=M}var Te={Arimo:!0,Cousine:!0,Tinos:!0};ve.prototype.load=function(C){var M=new y,te=this.c,re=new ne(this.a.api,this.a.text),ye=this.a.families;Ie(re,ye);var ke=new N(ye);pe(ke),p(te,Ae(re),g(M)),m(M,function(){C(ke.a,ke.c,Te)})};function Ye(C,M){this.c=C,this.a=M}Ye.prototype.load=function(C){var M=this.a.id,te=this.c.o;M?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+M+".js",function(re){if(re)C([]);else if(te.Typekit&&te.Typekit.config&&te.Typekit.config.fn){re=te.Typekit.config.fn;for(var ye=[],ke=0;ke<re.length;ke+=2)for(var $e=re[ke],Je=re[ke+1],lt=0;lt<Je.length;lt++)ye.push(new w($e,Je[lt]));try{te.Typekit.load({events:!1,classes:!1,async:!0})}catch{}C(ye)}},2e3):C([])};function ln(C,M){this.c=C,this.f=M,this.a=[]}ln.prototype.load=function(C){var M=this.f.id,te=this.c.o,re=this;M?(te.__webfontfontdeckmodule__||(te.__webfontfontdeckmodule__={}),te.__webfontfontdeckmodule__[M]=function(ye,ke){for(var $e=0,Je=ke.fonts.length;$e<Je;++$e){var lt=ke.fonts[$e];re.a.push(new w(lt.name,G("font-weight:"+lt.weight+";font-style:"+lt.style)))}C(re.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+M+".js",function(ye){ye&&C([])})):C([])};var wt=new Me(window);wt.a.c.custom=function(C,M){return new U(M,C)},wt.a.c.fontdeck=function(C,M){return new ln(M,C)},wt.a.c.monotype=function(C,M){return new ze(M,C)},wt.a.c.typekit=function(C,M){return new Ye(M,C)},wt.a.c.google=function(C,M){return new ve(M,C)};var Xn={load:r(wt.load,wt)};t.exports?t.exports=Xn:(window.WebFont=Xn,window.WebFontConfig&&wt.load(window.WebFontConfig))})()})(c7);var Dke=c7.exports;const $ke=Rn(Dke);function ov(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ov=function(n){return typeof n}:ov=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ov(t)}function Mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fke(t,e,n){return e&&VD(t.prototype,e),n&&VD(t,n),t}function Lke(t,e){return e&&(ov(e)==="object"||typeof e=="function")?e:av(t)}function $T(t){return $T=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$T(t)}function av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MT(t,e)}function MT(t,e){return MT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},MT(t,e)}function uv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d7=function(t){Vke(e,t);function e(){var n,r;Mke(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Lke(this,(n=$T(e)).call.apply(n,[this].concat(s))),uv(av(r),"state",{bootstrapped:!1}),uv(av(r),"_unsubscribe",void 0),uv(av(r),"handlePersistorState",function(){var a=r.props.persistor,u=a.getState(),l=u.bootstrapped;l&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Fke(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(S.PureComponent);uv(d7,"defaultProps",{children:null,loading:null});class Uke extends S.Component{componentDidMount(){(function(e,n){var r={appId:"13484d078b1b1bbce071f41bfe1b7ff09",popupWidget:!0,automaticChatOpenOnNavigation:!0},i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="https://widget.kommunicate.io/v2/kommunicate.app";var s=document.getElementsByTagName("head")[0];s.appendChild(i),window.kommunicate=n,n._globals=r})(document,window.kommunicate||{})}render(){return f("div",{})}}const h7=({store:t,persistor:e})=>f(S.StrictMode,{children:k(tB,{store:t,children:[f(Uke,{}),f(d7,{loading:f(cU,{}),persistor:e,children:f(Cke,{})})]})});h7.propTypes={store:I.any.isRequired,persistor:I.any.isRequired};$ke.load({google:{families:["Tajawal"]}});const{store:ph,persistor:jke}=Nke(),Bke=ph.getState().darkMode,f7=document.getElementById("app"),zke=Object.values(Bke),qke=zke[0];Kc.render(f(cU,{}),f7);it.auth.onAuthStateChanged(t=>{t?ph.dispatch(mK(t)):ph.dispatch(gK("Failed to authenticate"));const e=()=>{ph.dispatch(lU())};Kc.render(f(h7,{store:ph,persistor:jke,darkModelo:qke,handleToggleDarkMode:e}),f7)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{E7 as A,Ni as I,I as P,Be as R,k as a,wK as d,f as j,Xe as u,Ia as w};
