var Gj=Object.defineProperty;var Kj=(t,e,n)=>e in t?Gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ft=(t,e,n)=>(Kj(t,typeof e!="symbol"?e+"":e,n),n);function Qj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ay="/",cc="/shop",ES="/featured",Py="/recommended",Ry="/account",Yj="/account/edit",Oy="/admin/dashboard",lh="/admin/products",Xj="/admin/users",SS="/admin/add",_D="/admin/edit",wD="/search/:searchKey",Bi="/signin",Hl="/signup",TS="/forgot_password",dc="/checkout/step1",ky="/checkout/step2",IS="/checkout/step3",Jj="/product/:id",CS="/success",Zj="/dasboard/orders",AS="/assets/logo-full-19758d39.png";var gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ED={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Symbol.for("react.element"),eB=Symbol.for("react.portal"),tB=Symbol.for("react.fragment"),nB=Symbol.for("react.strict_mode"),rB=Symbol.for("react.profiler"),iB=Symbol.for("react.provider"),sB=Symbol.for("react.context"),oB=Symbol.for("react.forward_ref"),aB=Symbol.for("react.suspense"),uB=Symbol.for("react.memo"),lB=Symbol.for("react.lazy"),kP=Symbol.iterator;function cB(t){return t===null||typeof t!="object"?null:(t=kP&&t[kP]||t["@@iterator"],typeof t=="function"?t:null)}var SD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TD=Object.assign,ID={};function Uc(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||SD}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CD(){}CD.prototype=Uc.prototype;function PS(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||SD}var RS=PS.prototype=new CD;RS.constructor=PS;TD(RS,Uc.prototype);RS.isPureReactComponent=!0;var xP=Array.isArray,AD=Object.prototype.hasOwnProperty,OS={current:null},PD={key:!0,ref:!0,__self:!0,__source:!0};function RD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)AD.call(e,r)&&!PD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xf,type:t,key:s,ref:o,props:i,_owner:OS.current}}function dB(t,e){return{$$typeof:Xf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xf}function hB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NP=/\/+/g;function G0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hB(""+t.key):e.toString(36)}function hg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xf:case eB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+G0(o,0):r,xP(i)?(n="",t!=null&&(n=t.replace(NP,"$&/")+"/"),hg(i,e,n,"",function(l){return l})):i!=null&&(kS(i)&&(i=dB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(NP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xP(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+G0(s,a);o+=hg(s,e,n,u,i)}else if(u=cB(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+G0(s,a++),o+=hg(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vm(t,e,n){if(t==null)return t;var r=[],i=0;return hg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},fg={transition:null},pB={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:fg,ReactCurrentOwner:OS};et.Children={map:vm,forEach:function(t,e,n){vm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vm(t,function(){e++}),e},toArray:function(t){return vm(t,function(e){return e})||[]},only:function(t){if(!kS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=Uc;et.Fragment=tB;et.Profiler=rB;et.PureComponent=PS;et.StrictMode=nB;et.Suspense=aB;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pB;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=OS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)AD.call(e,u)&&!PD.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Xf,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:sB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iB,_context:t},t.Consumer=t};et.createElement=RD;et.createFactory=function(t){var e=RD.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:oB,render:t}};et.isValidElement=kS;et.lazy=function(t){return{$$typeof:lB,_payload:{_status:-1,_result:t},_init:fB}};et.memo=function(t,e){return{$$typeof:uB,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=fg.transition;fg.transition={};try{t()}finally{fg.transition=e}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(t,e){return Pr.current.useCallback(t,e)};et.useContext=function(t){return Pr.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};et.useEffect=function(t,e){return Pr.current.useEffect(t,e)};et.useId=function(){return Pr.current.useId()};et.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Pr.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};et.useRef=function(t){return Pr.current.useRef(t)};et.useState=function(t){return Pr.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Pr.current.useTransition()};et.version="18.2.0";ED.exports=et;var C=ED.exports;const qe=Pn(C),DP=Qj({__proto__:null,default:qe},[C]);var OD={exports:{}},mB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gB=mB,vB=gB;function kD(){}function xD(){}xD.resetWarningCache=kD;var yB=function(){function t(r,i,s,o,a,u){if(u!==vB){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xD,resetWarningCache:kD};return n.PropTypes=n,n};OD.exports=yB();var xy=OD.exports;const T=Pn(xy);var Js=qe.createContext(null);function _B(t){t()}var ND=_B,wB=function(e){return ND=e},bB=function(){return ND};function EB(){var t=bB(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var FP={notify:function(){},get:function(){return[]}};function xS(t,e){var n,r=FP;function i(d){return u(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=EB())}function l(){n&&(n(),n=void 0,r.clear(),r=FP)}var c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:function(){return r}};return c}var tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,DD={exports:{}},Ny={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB=C,TB=Symbol.for("react.element"),IB=Symbol.for("react.fragment"),CB=Object.prototype.hasOwnProperty,AB=SB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PB={key:!0,ref:!0,__self:!0,__source:!0};function FD(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CB.call(e,r)&&!PB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TB,type:t,key:s,ref:o,props:i,_owner:AB.current}}Ny.Fragment=IB;Ny.jsx=FD;Ny.jsxs=FD;DD.exports=Ny;var NS=DD.exports;const Cn=NS.Fragment,f=NS.jsx,O=NS.jsxs;function RB(t){var e=t.store,n=t.context,r=t.children,i=C.useMemo(function(){var a=xS(e);return{store:e,subscription:a}},[e]),s=C.useMemo(function(){return e.getState()},[e]);tv(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||Js;return f(o.Provider,{value:i,children:r})}function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}function Wi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MD={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn=typeof Symbol=="function"&&Symbol.for,DS=Rn?Symbol.for("react.element"):60103,FS=Rn?Symbol.for("react.portal"):60106,Dy=Rn?Symbol.for("react.fragment"):60107,Fy=Rn?Symbol.for("react.strict_mode"):60108,My=Rn?Symbol.for("react.profiler"):60114,$y=Rn?Symbol.for("react.provider"):60109,Ly=Rn?Symbol.for("react.context"):60110,MS=Rn?Symbol.for("react.async_mode"):60111,Vy=Rn?Symbol.for("react.concurrent_mode"):60111,Uy=Rn?Symbol.for("react.forward_ref"):60112,jy=Rn?Symbol.for("react.suspense"):60113,OB=Rn?Symbol.for("react.suspense_list"):60120,By=Rn?Symbol.for("react.memo"):60115,zy=Rn?Symbol.for("react.lazy"):60116,kB=Rn?Symbol.for("react.block"):60121,xB=Rn?Symbol.for("react.fundamental"):60117,NB=Rn?Symbol.for("react.responder"):60118,DB=Rn?Symbol.for("react.scope"):60119;function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DS:switch(t=t.type,t){case MS:case Vy:case Dy:case My:case Fy:case jy:return t;default:switch(t=t&&t.$$typeof,t){case Ly:case Uy:case zy:case By:case $y:return t;default:return e}}case FS:return e}}}function $D(t){return oi(t)===Vy}yt.AsyncMode=MS;yt.ConcurrentMode=Vy;yt.ContextConsumer=Ly;yt.ContextProvider=$y;yt.Element=DS;yt.ForwardRef=Uy;yt.Fragment=Dy;yt.Lazy=zy;yt.Memo=By;yt.Portal=FS;yt.Profiler=My;yt.StrictMode=Fy;yt.Suspense=jy;yt.isAsyncMode=function(t){return $D(t)||oi(t)===MS};yt.isConcurrentMode=$D;yt.isContextConsumer=function(t){return oi(t)===Ly};yt.isContextProvider=function(t){return oi(t)===$y};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DS};yt.isForwardRef=function(t){return oi(t)===Uy};yt.isFragment=function(t){return oi(t)===Dy};yt.isLazy=function(t){return oi(t)===zy};yt.isMemo=function(t){return oi(t)===By};yt.isPortal=function(t){return oi(t)===FS};yt.isProfiler=function(t){return oi(t)===My};yt.isStrictMode=function(t){return oi(t)===Fy};yt.isSuspense=function(t){return oi(t)===jy};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dy||t===Vy||t===My||t===Fy||t===jy||t===OB||typeof t=="object"&&t!==null&&(t.$$typeof===zy||t.$$typeof===By||t.$$typeof===$y||t.$$typeof===Ly||t.$$typeof===Uy||t.$$typeof===xB||t.$$typeof===NB||t.$$typeof===DB||t.$$typeof===kB)};yt.typeOf=oi;MD.exports=yt;var FB=MD.exports,$S=FB,MB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$B={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LS={};LS[$S.ForwardRef]=LB;LS[$S.Memo]=LD;function MP(t){return $S.isMemo(t)?LD:LS[t.$$typeof]||MB}var VB=Object.defineProperty,UB=Object.getOwnPropertyNames,$P=Object.getOwnPropertySymbols,jB=Object.getOwnPropertyDescriptor,BB=Object.getPrototypeOf,LP=Object.prototype;function VD(t,e,n){if(typeof e!="string"){if(LP){var r=BB(e);r&&r!==LP&&VD(t,r,n)}var i=UB(e);$P&&(i=i.concat($P(e)));for(var s=MP(t),o=MP(e),a=0;a<i.length;++a){var u=i[a];if(!$B[u]&&!(n&&n[u])&&!(o&&o[u])&&!(s&&s[u])){var l=jB(e,u);try{VB(t,u,l)}catch{}}}}return t}var zB=VD;const nv=Pn(zB);var UD={exports:{}},St={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=60103,Hy=60106,Jf=60107,Zf=60108,ep=60114,tp=60109,np=60110,rp=60112,ip=60113,VS=60120,sp=60115,op=60116,jD=60121,BD=60122,zD=60117,qD=60129,HD=60131;if(typeof Symbol=="function"&&Symbol.for){var Mn=Symbol.for;qy=Mn("react.element"),Hy=Mn("react.portal"),Jf=Mn("react.fragment"),Zf=Mn("react.strict_mode"),ep=Mn("react.profiler"),tp=Mn("react.provider"),np=Mn("react.context"),rp=Mn("react.forward_ref"),ip=Mn("react.suspense"),VS=Mn("react.suspense_list"),sp=Mn("react.memo"),op=Mn("react.lazy"),jD=Mn("react.block"),BD=Mn("react.server.block"),zD=Mn("react.fundamental"),qD=Mn("react.debug_trace_mode"),HD=Mn("react.legacy_hidden")}function Zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qy:switch(t=t.type,t){case Jf:case ep:case Zf:case ip:case VS:return t;default:switch(t=t&&t.$$typeof,t){case np:case rp:case op:case sp:case tp:return t;default:return e}}case Hy:return e}}}var qB=tp,HB=qy,WB=rp,GB=Jf,KB=op,QB=sp,YB=Hy,XB=ep,JB=Zf,ZB=ip;St.ContextConsumer=np;St.ContextProvider=qB;St.Element=HB;St.ForwardRef=WB;St.Fragment=GB;St.Lazy=KB;St.Memo=QB;St.Portal=YB;St.Profiler=XB;St.StrictMode=JB;St.Suspense=ZB;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Zi(t)===np};St.isContextProvider=function(t){return Zi(t)===tp};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy};St.isForwardRef=function(t){return Zi(t)===rp};St.isFragment=function(t){return Zi(t)===Jf};St.isLazy=function(t){return Zi(t)===op};St.isMemo=function(t){return Zi(t)===sp};St.isPortal=function(t){return Zi(t)===Hy};St.isProfiler=function(t){return Zi(t)===ep};St.isStrictMode=function(t){return Zi(t)===Zf};St.isSuspense=function(t){return Zi(t)===ip};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jf||t===ep||t===qD||t===Zf||t===ip||t===VS||t===HD||typeof t=="object"&&t!==null&&(t.$$typeof===op||t.$$typeof===sp||t.$$typeof===tp||t.$$typeof===np||t.$$typeof===rp||t.$$typeof===zD||t.$$typeof===jD||t[0]===BD)};St.typeOf=Zi;UD.exports=St;var e7=UD.exports,t7=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],n7=["reactReduxForwardedRef"],r7=[],i7=[null,null];function s7(t,e){var n=t[1];return[e.payload,n+1]}function VP(t,e,n){tv(function(){return t.apply(void 0,e)},n)}function o7(t,e,n,r,i,s,o){t.current=r,e.current=i,n.current=!1,s.current&&(s.current=null,o())}function a7(t,e,n,r,i,s,o,a,u,l){if(t){var c=!1,d=null,h=function(){if(!c){var y=e.getState(),g,v;try{g=r(y,i.current)}catch(_){v=_,d=_}v||(d=null),g===s.current?o.current||u():(s.current=g,a.current=g,o.current=!0,l({type:"STORE_UPDATED",payload:{error:v}}))}};n.onStateChange=h,n.trySubscribe(),h();var p=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return p}}var u7=function(){return[null,0]};function l7(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(b){return"ConnectAdvanced("+b+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,u=a===void 0?void 0:a,l=n.shouldHandleStateChanges,c=l===void 0?!0:l,d=n.storeKey,h=d===void 0?"store":d;n.withRef;var p=n.forwardRef,m=p===void 0?!1:p,y=n.context,g=y===void 0?Js:y,v=Wi(n,t7),_=g;return function(w){var E=w.displayName||w.name||"Component",A=i(E),R=je({},v,{getDisplayName:i,methodName:o,renderCountProp:u,shouldHandleStateChanges:c,storeKey:h,displayName:A,wrappedComponentName:E,WrappedComponent:w}),$=v.pure;function Q(j){return t(j.dispatch,R)}var te=$?C.useMemo:function(j){return j()};function ce(j){var W=C.useMemo(function(){var Ae=j.reactReduxForwardedRef,k=Wi(j,n7);return[j.context,Ae,k]},[j]),ee=W[0],F=W[1],U=W[2],Y=C.useMemo(function(){return ee&&ee.Consumer&&e7.isContextConsumer(qe.createElement(ee.Consumer,null))?ee:_},[ee,_]),M=C.useContext(Y),V=!!j.store&&!!j.store.getState&&!!j.store.dispatch;M&&M.store;var N=V?j.store:M.store,q=C.useMemo(function(){return Q(N)},[N]),B=C.useMemo(function(){if(!c)return i7;var Ae=xS(N,V?null:M.subscription),k=Ae.notifyNestedSubs.bind(Ae);return[Ae,k]},[N,V,M]),S=B[0],x=B[1],le=C.useMemo(function(){return V?M:je({},M,{subscription:S})},[V,M,S]),X=C.useReducer(s7,r7,u7),xe=X[0],Re=xe[0],Me=X[1];if(Re&&Re.error)throw Re.error;var Te=C.useRef(),We=C.useRef(U),Be=C.useRef(),L=C.useRef(!1),ne=te(function(){return Be.current&&U===We.current?Be.current:q(N.getState(),U)},[N,Re,U]);VP(o7,[We,Te,L,U,ne,Be,x]),VP(a7,[c,N,S,q,We,Te,L,Be,x,Me],[N,S,q]);var oe=C.useMemo(function(){return f(w,{...ne,ref:F})},[F,w,ne]),Ie=C.useMemo(function(){return c?f(Y.Provider,{value:le,children:oe}):oe},[Y,oe,le]);return Ie}var de=$?qe.memo(ce):ce;if(de.WrappedComponent=w,de.displayName=ce.displayName=A,m){var Ee=qe.forwardRef(function(W,ee){return f(de,{...W,reactReduxForwardedRef:ee})});return Ee.displayName=A,Ee.WrappedComponent=w,nv(Ee,w)}return nv(de,w)}}function UP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ch(t,e){if(UP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!UP(t[n[i]],e[n[i]]))return!1;return!0}function c7(t,e){var n={},r=function(o){var a=t[o];typeof a=="function"&&(n[o]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function US(t){return function(n,r){var i=t(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function jP(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function WD(t,e){return function(r,i){i.displayName;var s=function(a,u){return s.dependsOnOwnProps?s.mapToProps(a,u):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,u){s.mapToProps=t,s.dependsOnOwnProps=jP(t);var l=s(a,u);return typeof l=="function"&&(s.mapToProps=l,s.dependsOnOwnProps=jP(l),l=s(a,u)),l},s}}function d7(t){return typeof t=="function"?WD(t):void 0}function h7(t){return t?void 0:US(function(e){return{dispatch:e}})}function f7(t){return t&&typeof t=="object"?US(function(e){return c7(t,e)}):void 0}const p7=[d7,h7,f7];function m7(t){return typeof t=="function"?WD(t):void 0}function g7(t){return t?void 0:US(function(){return{}})}const v7=[m7,g7];function y7(t,e,n){return je({},n,t,e)}function _7(t){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,a;return function(l,c,d){var h=t(l,c,d);return o?(!i||!s(h,a))&&(a=h):(o=!0,a=h),a}}}function w7(t){return typeof t=="function"?_7(t):void 0}function b7(t){return t?void 0:function(){return y7}}const E7=[w7,b7];var S7=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function T7(t,e,n,r){return function(s,o){return n(t(s,o),e(r,o),o)}}function I7(t,e,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,a=i.areStatePropsEqual,u=!1,l,c,d,h,p;function m(b,w){return l=b,c=w,d=t(l,c),h=e(r,c),p=n(d,h,c),u=!0,p}function y(){return d=t(l,c),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function g(){return t.dependsOnOwnProps&&(d=t(l,c)),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function v(){var b=t(l,c),w=!a(b,d);return d=b,w&&(p=n(d,h,c)),p}function _(b,w){var E=!o(w,c),A=!s(b,l);return l=b,c=w,E&&A?y():E?g():A?v():p}return function(w,E){return u?_(w,E):m(w,E)}}function C7(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=Wi(e,S7),o=n(t,s),a=r(t,s),u=i(t,s),l=s.pure?I7:T7;return l(o,a,u,t,s)}var A7=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function K0(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function P7(t,e){return t===e}function R7(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?l7:n,i=e.mapStateToPropsFactories,s=i===void 0?v7:i,o=e.mapDispatchToPropsFactories,a=o===void 0?p7:o,u=e.mergePropsFactories,l=u===void 0?E7:u,c=e.selectorFactory,d=c===void 0?C7:c;return function(p,m,y,g){g===void 0&&(g={});var v=g,_=v.pure,b=_===void 0?!0:_,w=v.areStatesEqual,E=w===void 0?P7:w,A=v.areOwnPropsEqual,R=A===void 0?ch:A,$=v.areStatePropsEqual,Q=$===void 0?ch:$,te=v.areMergedPropsEqual,ce=te===void 0?ch:te,de=Wi(v,A7),Ee=K0(p,s,"mapStateToProps"),j=K0(m,a,"mapDispatchToProps"),W=K0(y,l,"mergeProps");return r(d,je({methodName:"connect",getDisplayName:function(F){return"Connect("+F+")"},shouldHandleStateChanges:!!p,initMapStateToProps:Ee,initMapDispatchToProps:j,initMergeProps:W,pure:b,areStatesEqual:E,areOwnPropsEqual:R,areStatePropsEqual:Q,areMergedPropsEqual:ce},de))}}const jS=R7();function GD(){var t=C.useContext(Js);return t}function KD(t){t===void 0&&(t=Js);var e=t===Js?GD:function(){return C.useContext(t)};return function(){var r=e(),i=r.store;return i}}var O7=KD();function k7(t){t===void 0&&(t=Js);var e=t===Js?O7:KD(t);return function(){var r=e();return r.dispatch}}var tn=k7(),x7=function(e,n){return e===n};function N7(t,e,n,r){var i=C.useReducer(function(m){return m+1},0),s=i[1],o=C.useMemo(function(){return xS(n,r)},[n,r]),a=C.useRef(),u=C.useRef(),l=C.useRef(),c=C.useRef(),d=n.getState(),h;try{if(t!==u.current||d!==l.current||a.current){var p=t(d);c.current===void 0||!e(p,c.current)?h=p:h=c.current}else h=c.current}catch(m){throw a.current&&(m.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),m}return tv(function(){u.current=t,l.current=d,c.current=h,a.current=void 0}),tv(function(){function m(){try{var y=n.getState();if(y===l.current)return;var g=u.current(y);if(e(g,c.current))return;c.current=g,l.current=y}catch(v){a.current=v}s()}return o.onStateChange=m,o.trySubscribe(),m(),function(){return o.tryUnsubscribe()}},[n,o]),h}function D7(t){t===void 0&&(t=Js);var e=t===Js?GD:function(){return C.useContext(t)};return function(r,i){i===void 0&&(i=x7);var s=e(),o=s.store,a=s.subscription,u=N7(r,i,o,a);return C.useDebugValue(u),u}}var On=D7(),QD={exports:{}},ai={},YD={exports:{}},XD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var M=U.length;U.push(Y);e:for(;0<M;){var V=M-1>>>1,N=U[V];if(0<i(N,Y))U[V]=Y,U[M]=N,M=V;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],M=U.pop();if(M!==Y){U[0]=M;e:for(var V=0,N=U.length,q=N>>>1;V<q;){var B=2*(V+1)-1,S=U[B],x=B+1,le=U[x];if(0>i(S,M))x<N&&0>i(le,S)?(U[V]=le,U[x]=M,V=x):(U[V]=S,U[B]=M,V=B);else if(x<N&&0>i(le,M))U[V]=le,U[x]=M,V=x;else break e}}return Y}function i(U,Y){var M=U.sortIndex-Y.sortIndex;return M!==0?M:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,p=!1,m=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=U)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function w(U){if(y=!1,b(U),!m)if(n(u)!==null)m=!0,ee(E);else{var Y=n(l);Y!==null&&F(w,Y.startTime-U)}}function E(U,Y){m=!1,y&&(y=!1,v($),$=-1),p=!0;var M=h;try{for(b(Y),d=n(u);d!==null&&(!(d.expirationTime>Y)||U&&!ce());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var N=V(d.expirationTime<=Y);Y=t.unstable_now(),typeof N=="function"?d.callback=N:d===n(u)&&r(u),b(Y)}else r(u);d=n(u)}if(d!==null)var q=!0;else{var B=n(l);B!==null&&F(w,B.startTime-Y),q=!1}return q}finally{d=null,h=M,p=!1}}var A=!1,R=null,$=-1,Q=5,te=-1;function ce(){return!(t.unstable_now()-te<Q)}function de(){if(R!==null){var U=t.unstable_now();te=U;var Y=!0;try{Y=R(!0,U)}finally{Y?Ee():(A=!1,R=null)}}else A=!1}var Ee;if(typeof _=="function")Ee=function(){_(de)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=de,Ee=function(){W.postMessage(null)}}else Ee=function(){g(de,0)};function ee(U){R=U,A||(A=!0,Ee())}function F(U,Y){$=g(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ee(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var M=h;h=Y;try{return U()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var M=h;h=U;try{return Y()}finally{h=M}},t.unstable_scheduleCallback=function(U,Y,M){var V=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,U={id:c++,callback:Y,priorityLevel:U,startTime:M,expirationTime:N,sortIndex:-1},M>V?(U.sortIndex=M,e(l,U),n(u)===null&&U===n(l)&&(y?(v($),$=-1):y=!0,F(w,M-V))):(U.sortIndex=N,e(u,U),m||p||(m=!0,ee(E))),U},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(U){var Y=h;return function(){var M=h;h=Y;try{return U.apply(this,arguments)}finally{h=M}}}})(XD);YD.exports=XD;var F7=YD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=C,ri=F7;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZD=new Set,qh={};function zu(t,e){hc(t,e),hc(t+"Capture",e)}function hc(t,e){for(qh[t]=e,t=0;t<e.length;t++)ZD.add(e[t])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dw=Object.prototype.hasOwnProperty,M7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BP={},zP={};function $7(t){return Dw.call(zP,t)?!0:Dw.call(BP,t)?!1:M7.test(t)?zP[t]=!0:(BP[t]=!0,!1)}function L7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V7(t,e,n,r){if(e===null||typeof e>"u"||L7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var BS=/[\-:]([a-z])/g;function zS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(BS,zS);Kn[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(BS,zS);Kn[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(BS,zS);Kn[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function qS(t,e,n,r){var i=Kn.hasOwnProperty(e)?Kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V7(e,n,i,r)&&(n=null),r||i===null?$7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=JD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ym=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),eF=Symbol.for("react.provider"),tF=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),$w=Symbol.for("react.suspense_list"),GS=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),nF=Symbol.for("react.offscreen"),qP=Symbol.iterator;function bd(t){return t===null||typeof t!="object"?null:(t=qP&&t[qP]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,Q0;function Yd(t){if(Q0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Q0=e&&e[1]||""}return`
`+Q0+t}var Y0=!1;function X0(t,e){if(!t||Y0)return"";Y0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Y0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yd(t):""}function U7(t){switch(t.tag){case 5:return Yd(t.type);case 16:return Yd("Lazy");case 13:return Yd("Suspense");case 19:return Yd("SuspenseList");case 0:case 2:case 15:return t=X0(t.type,!1),t;case 11:return t=X0(t.type.render,!1),t;case 1:return t=X0(t.type,!0),t;default:return""}}function Lw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rl:return"Fragment";case Pl:return"Portal";case Fw:return"Profiler";case HS:return"StrictMode";case Mw:return"Suspense";case $w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tF:return(t.displayName||"Context")+".Consumer";case eF:return(t._context.displayName||"Context")+".Provider";case WS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GS:return e=t.displayName||null,e!==null?e:Lw(t.type)||"Memo";case No:e=t._payload,t=t._init;try{return Lw(t(e))}catch{}}return null}function j7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lw(e);case 8:return e===HS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B7(t){var e=rF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _m(t){t._valueTracker||(t._valueTracker=B7(t))}function iF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function HP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sF(t,e){e=e.checked,e!=null&&qS(t,"checked",e,!1)}function Uw(t,e){sF(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jw(t,e.type,n):e.hasOwnProperty("defaultValue")&&jw(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jw(t,e,n){(e!=="number"||rv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xd=Array.isArray;function Wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Xd(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function oF(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wm,uF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wm=wm||document.createElement("div"),wm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z7=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(t){z7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dh[e]=dh[t]})});function lF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dh.hasOwnProperty(t)&&dh[t]?(""+e).trim():e+"px"}function cF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var q7=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qw(t,e){if(e){if(q7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Hw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=null;function KS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gw=null,Gl=null,Kl=null;function QP(t){if(t=lp(t)){if(typeof Gw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Yy(e),Gw(t.stateNode,t.type,e))}}function dF(t){Gl?Kl?Kl.push(t):Kl=[t]:Gl=t}function hF(){if(Gl){var t=Gl,e=Kl;if(Kl=Gl=null,QP(t),e)for(t=0;t<e.length;t++)QP(e[t])}}function fF(t,e){return t(e)}function pF(){}var J0=!1;function mF(t,e,n){if(J0)return t(e,n);J0=!0;try{return fF(t,e,n)}finally{J0=!1,(Gl!==null||Kl!==null)&&(pF(),hF())}}function Wh(t,e){var n=t.stateNode;if(n===null)return null;var r=Yy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Kw=!1;if(Zs)try{var Ed={};Object.defineProperty(Ed,"passive",{get:function(){Kw=!0}}),window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Kw=!1}function H7(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var hh=!1,iv=null,sv=!1,Qw=null,W7={onError:function(t){hh=!0,iv=t}};function G7(t,e,n,r,i,s,o,a,u){hh=!1,iv=null,H7.apply(W7,arguments)}function K7(t,e,n,r,i,s,o,a,u){if(G7.apply(this,arguments),hh){if(hh){var l=iv;hh=!1,iv=null}else throw Error(fe(198));sv||(sv=!0,Qw=l)}}function qu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YP(t){if(qu(t)!==t)throw Error(fe(188))}function Q7(t){var e=t.alternate;if(!e){if(e=qu(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return YP(i),t;if(s===r)return YP(i),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function vF(t){return t=Q7(t),t!==null?yF(t):null}function yF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yF(t);if(e!==null)return e;t=t.sibling}return null}var _F=ri.unstable_scheduleCallback,XP=ri.unstable_cancelCallback,Y7=ri.unstable_shouldYield,X7=ri.unstable_requestPaint,rn=ri.unstable_now,J7=ri.unstable_getCurrentPriorityLevel,QS=ri.unstable_ImmediatePriority,wF=ri.unstable_UserBlockingPriority,ov=ri.unstable_NormalPriority,Z7=ri.unstable_LowPriority,bF=ri.unstable_IdlePriority,Wy=null,Ss=null;function ez(t){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Wy,t,void 0,(t.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:rz,tz=Math.log,nz=Math.LN2;function rz(t){return t>>>=0,t===0?32:31-(tz(t)/nz|0)|0}var bm=64,Em=4194304;function Jd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function av(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jd(a):(s&=o,s!==0&&(r=Jd(s)))}else o=n&~i,o!==0?r=Jd(o):s!==0&&(r=Jd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zi(e),i=1<<n,r|=t[n],e&=~i;return r}function iz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zi(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=iz(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Yw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EF(){var t=bm;return bm<<=1,!(bm&4194240)&&(bm=64),t}function Z0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ap(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zi(e),t[e]=n}function oz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function YS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function SF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TF,XS,IF,CF,AF,Xw=!1,Sm=[],Ko=null,Qo=null,Yo=null,Gh=new Map,Kh=new Map,Mo=[],az="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JP(t,e){switch(t){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":Gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(e.pointerId)}}function Sd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lp(e),e!==null&&XS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uz(t,e,n,r,i){switch(e){case"focusin":return Ko=Sd(Ko,t,e,n,r,i),!0;case"dragenter":return Qo=Sd(Qo,t,e,n,r,i),!0;case"mouseover":return Yo=Sd(Yo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gh.set(s,Sd(Gh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kh.set(s,Sd(Kh.get(s)||null,t,e,n,r,i)),!0}return!1}function PF(t){var e=iu(t.target);if(e!==null){var n=qu(e);if(n!==null){if(e=n.tag,e===13){if(e=gF(n),e!==null){t.blockedOn=e,AF(t.priority,function(){IF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ww=r,n.target.dispatchEvent(r),Ww=null}else return e=lp(n),e!==null&&XS(e),t.blockedOn=n,!1;e.shift()}return!0}function ZP(t,e,n){pg(t)&&n.delete(e)}function lz(){Xw=!1,Ko!==null&&pg(Ko)&&(Ko=null),Qo!==null&&pg(Qo)&&(Qo=null),Yo!==null&&pg(Yo)&&(Yo=null),Gh.forEach(ZP),Kh.forEach(ZP)}function Td(t,e){t.blockedOn===e&&(t.blockedOn=null,Xw||(Xw=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,lz)))}function Qh(t){function e(i){return Td(i,t)}if(0<Sm.length){Td(Sm[0],t);for(var n=1;n<Sm.length;n++){var r=Sm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ko!==null&&Td(Ko,t),Qo!==null&&Td(Qo,t),Yo!==null&&Td(Yo,t),Gh.forEach(e),Kh.forEach(e),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)PF(n),n.blockedOn===null&&Mo.shift()}var Ql=co.ReactCurrentBatchConfig,uv=!0;function cz(t,e,n,r){var i=gt,s=Ql.transition;Ql.transition=null;try{gt=1,JS(t,e,n,r)}finally{gt=i,Ql.transition=s}}function dz(t,e,n,r){var i=gt,s=Ql.transition;Ql.transition=null;try{gt=4,JS(t,e,n,r)}finally{gt=i,Ql.transition=s}}function JS(t,e,n,r){if(uv){var i=Jw(t,e,n,r);if(i===null)l1(t,e,r,lv,n),JP(t,r);else if(uz(i,t,e,n,r))r.stopPropagation();else if(JP(t,r),e&4&&-1<az.indexOf(t)){for(;i!==null;){var s=lp(i);if(s!==null&&TF(s),s=Jw(t,e,n,r),s===null&&l1(t,e,r,lv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else l1(t,e,r,null,n)}}var lv=null;function Jw(t,e,n,r){if(lv=null,t=KS(r),t=iu(t),t!==null)if(e=qu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lv=t,null}function RF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J7()){case QS:return 1;case wF:return 4;case ov:case Z7:return 16;case bF:return 536870912;default:return 16}default:return 16}}var Uo=null,ZS=null,mg=null;function OF(){if(mg)return mg;var t,e=ZS,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mg=i.slice(t,1<r?1-r:void 0)}function gg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tm(){return!0}function eR(){return!1}function ui(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tm:eR,this.isPropagationStopped=eR,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eT=ui(jc),up=Wt({},jc,{view:0,detail:0}),hz=ui(up),e1,t1,Id,Gy=Wt({},up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Id&&(Id&&t.type==="mousemove"?(e1=t.screenX-Id.screenX,t1=t.screenY-Id.screenY):t1=e1=0,Id=t),e1)},movementY:function(t){return"movementY"in t?t.movementY:t1}}),tR=ui(Gy),fz=Wt({},Gy,{dataTransfer:0}),pz=ui(fz),mz=Wt({},up,{relatedTarget:0}),n1=ui(mz),gz=Wt({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),vz=ui(gz),yz=Wt({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_z=ui(yz),wz=Wt({},jc,{data:0}),nR=ui(wz),bz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ez={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sz[t])?!!e[t]:!1}function tT(){return Tz}var Iz=Wt({},up,{key:function(t){if(t.key){var e=bz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ez[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tT,charCode:function(t){return t.type==="keypress"?gg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cz=ui(Iz),Az=Wt({},Gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rR=ui(Az),Pz=Wt({},up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tT}),Rz=ui(Pz),Oz=Wt({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),kz=ui(Oz),xz=Wt({},Gy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nz=ui(xz),Dz=[9,13,27,32],nT=Zs&&"CompositionEvent"in window,fh=null;Zs&&"documentMode"in document&&(fh=document.documentMode);var Fz=Zs&&"TextEvent"in window&&!fh,kF=Zs&&(!nT||fh&&8<fh&&11>=fh),iR=String.fromCharCode(32),sR=!1;function xF(t,e){switch(t){case"keyup":return Dz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function Mz(t,e){switch(t){case"compositionend":return NF(e);case"keypress":return e.which!==32?null:(sR=!0,iR);case"textInput":return t=e.data,t===iR&&sR?null:t;default:return null}}function $z(t,e){if(Ol)return t==="compositionend"||!nT&&xF(t,e)?(t=OF(),mg=ZS=Uo=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kF&&e.locale!=="ko"?null:e.data;default:return null}}var Lz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lz[t.type]:e==="textarea"}function DF(t,e,n,r){dF(r),e=cv(e,"onChange"),0<e.length&&(n=new eT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ph=null,Yh=null;function Vz(t){HF(t,0)}function Ky(t){var e=Nl(t);if(iF(e))return t}function Uz(t,e){if(t==="change")return e}var FF=!1;if(Zs){var r1;if(Zs){var i1="oninput"in document;if(!i1){var aR=document.createElement("div");aR.setAttribute("oninput","return;"),i1=typeof aR.oninput=="function"}r1=i1}else r1=!1;FF=r1&&(!document.documentMode||9<document.documentMode)}function uR(){ph&&(ph.detachEvent("onpropertychange",MF),Yh=ph=null)}function MF(t){if(t.propertyName==="value"&&Ky(Yh)){var e=[];DF(e,Yh,t,KS(t)),mF(Vz,e)}}function jz(t,e,n){t==="focusin"?(uR(),ph=e,Yh=n,ph.attachEvent("onpropertychange",MF)):t==="focusout"&&uR()}function Bz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ky(Yh)}function zz(t,e){if(t==="click")return Ky(e)}function qz(t,e){if(t==="input"||t==="change")return Ky(e)}function Hz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:Hz;function Xh(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dw.call(e,i)||!Gi(t[i],e[i]))return!1}return!0}function lR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cR(t,e){var n=lR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lR(n)}}function $F(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$F(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LF(){for(var t=window,e=rv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rv(t.document)}return e}function rT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wz(t){var e=LF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$F(n.ownerDocument.documentElement,n)){if(r!==null&&rT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cR(n,s);var o=cR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gz=Zs&&"documentMode"in document&&11>=document.documentMode,kl=null,Zw=null,mh=null,eb=!1;function dR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eb||kl==null||kl!==rv(r)||(r=kl,"selectionStart"in r&&rT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mh&&Xh(mh,r)||(mh=r,r=cv(Zw,"onSelect"),0<r.length&&(e=new eT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kl)))}function Im(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xl={animationend:Im("Animation","AnimationEnd"),animationiteration:Im("Animation","AnimationIteration"),animationstart:Im("Animation","AnimationStart"),transitionend:Im("Transition","TransitionEnd")},s1={},VF={};Zs&&(VF=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Qy(t){if(s1[t])return s1[t];if(!xl[t])return t;var e=xl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VF)return s1[t]=e[n];return t}var UF=Qy("animationend"),jF=Qy("animationiteration"),BF=Qy("animationstart"),zF=Qy("transitionend"),qF=new Map,hR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){qF.set(t,e),zu(e,[t])}for(var o1=0;o1<hR.length;o1++){var a1=hR[o1],Kz=a1.toLowerCase(),Qz=a1[0].toUpperCase()+a1.slice(1);wa(Kz,"on"+Qz)}wa(UF,"onAnimationEnd");wa(jF,"onAnimationIteration");wa(BF,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(zF,"onTransitionEnd");hc("onMouseEnter",["mouseout","mouseover"]);hc("onMouseLeave",["mouseout","mouseover"]);hc("onPointerEnter",["pointerout","pointerover"]);hc("onPointerLeave",["pointerout","pointerover"]);zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zd));function fR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K7(r,e,void 0,t),t.currentTarget=null}function HF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;fR(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;fR(i,a,l),s=u}}}if(sv)throw t=Qw,sv=!1,Qw=null,t}function Ot(t,e){var n=e[sb];n===void 0&&(n=e[sb]=new Set);var r=t+"__bubble";n.has(r)||(WF(e,t,2,!1),n.add(r))}function u1(t,e,n){var r=0;e&&(r|=4),WF(n,t,r,e)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[Cm]){t[Cm]=!0,ZD.forEach(function(n){n!=="selectionchange"&&(Yz.has(n)||u1(n,!1,t),u1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cm]||(e[Cm]=!0,u1("selectionchange",!1,e))}}function WF(t,e,n,r){switch(RF(e)){case 1:var i=cz;break;case 4:i=dz;break;default:i=JS}n=i.bind(null,e,n,t),i=void 0,!Kw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function l1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=iu(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mF(function(){var l=s,c=KS(n),d=[];e:{var h=qF.get(t);if(h!==void 0){var p=eT,m=t;switch(t){case"keypress":if(gg(n)===0)break e;case"keydown":case"keyup":p=Cz;break;case"focusin":m="focus",p=n1;break;case"focusout":m="blur",p=n1;break;case"beforeblur":case"afterblur":p=n1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rz;break;case UF:case jF:case BF:p=vz;break;case zF:p=kz;break;case"scroll":p=hz;break;case"wheel":p=Nz;break;case"copy":case"cut":case"paste":p=_z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rR}var y=(e&4)!==0,g=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var _=l,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=Wh(_,v),w!=null&&y.push(Zh(_,w,b)))),g)break;_=_.return}0<y.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ww&&(m=n.relatedTarget||n.fromElement)&&(iu(m)||m[eo]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?iu(m):null,m!==null&&(g=qu(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(y=tR,w="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=rR,w="onPointerLeave",v="onPointerEnter",_="pointer"),g=p==null?h:Nl(p),b=m==null?h:Nl(m),h=new y(w,_+"leave",p,n,c),h.target=g,h.relatedTarget=b,w=null,iu(c)===l&&(y=new y(v,_+"enter",m,n,c),y.target=b,y.relatedTarget=g,w=y),g=w,p&&m)t:{for(y=p,v=m,_=0,b=y;b;b=cl(b))_++;for(b=0,w=v;w;w=cl(w))b++;for(;0<_-b;)y=cl(y),_--;for(;0<b-_;)v=cl(v),b--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=cl(y),v=cl(v)}y=null}else y=null;p!==null&&pR(d,h,p,y,!1),m!==null&&g!==null&&pR(d,g,m,y,!0)}}e:{if(h=l?Nl(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Uz;else if(oR(h))if(FF)E=qz;else{E=Bz;var A=jz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=zz);if(E&&(E=E(t,l))){DF(d,E,n,c);break e}A&&A(t,h,l),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&jw(h,"number",h.value)}switch(A=l?Nl(l):window,t){case"focusin":(oR(A)||A.contentEditable==="true")&&(kl=A,Zw=l,mh=null);break;case"focusout":mh=Zw=kl=null;break;case"mousedown":eb=!0;break;case"contextmenu":case"mouseup":case"dragend":eb=!1,dR(d,n,c);break;case"selectionchange":if(Gz)break;case"keydown":case"keyup":dR(d,n,c)}var R;if(nT)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ol?xF(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(kF&&n.locale!=="ko"&&(Ol||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ol&&(R=OF()):(Uo=c,ZS="value"in Uo?Uo.value:Uo.textContent,Ol=!0)),A=cv(l,$),0<A.length&&($=new nR($,t,null,n,c),d.push({event:$,listeners:A}),R?$.data=R:(R=NF(n),R!==null&&($.data=R)))),(R=Fz?Mz(t,n):$z(t,n))&&(l=cv(l,"onBeforeInput"),0<l.length&&(c=new nR("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=R))}HF(d,e)})}function Zh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wh(t,n),s!=null&&r.unshift(Zh(t,s,i)),s=Wh(t,e),s!=null&&r.push(Zh(t,s,i))),t=t.return}return r}function cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Wh(n,s),u!=null&&o.unshift(Zh(n,u,a))):i||(u=Wh(n,s),u!=null&&o.push(Zh(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Xz=/\r\n?/g,Jz=/\u0000|\uFFFD/g;function mR(t){return(typeof t=="string"?t:""+t).replace(Xz,`
`).replace(Jz,"")}function Am(t,e,n){if(e=mR(e),mR(t)!==e&&n)throw Error(fe(425))}function dv(){}var tb=null,nb=null;function rb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ib=typeof setTimeout=="function"?setTimeout:void 0,Zz=typeof clearTimeout=="function"?clearTimeout:void 0,gR=typeof Promise=="function"?Promise:void 0,eq=typeof queueMicrotask=="function"?queueMicrotask:typeof gR<"u"?function(t){return gR.resolve(null).then(t).catch(tq)}:ib;function tq(t){setTimeout(function(){throw t})}function c1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qh(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bc=Math.random().toString(36).slice(2),ls="__reactFiber$"+Bc,ef="__reactProps$"+Bc,eo="__reactContainer$"+Bc,sb="__reactEvents$"+Bc,nq="__reactListeners$"+Bc,rq="__reactHandles$"+Bc;function iu(t){var e=t[ls];if(e)return e;for(var n=t.parentNode;n;){if(e=n[eo]||n[ls]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vR(t);t!==null;){if(n=t[ls])return n;t=vR(t)}return e}t=n,n=t.parentNode}return null}function lp(t){return t=t[ls]||t[eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Yy(t){return t[ef]||null}var ob=[],Dl=-1;function ba(t){return{current:t}}function Ft(t){0>Dl||(t.current=ob[Dl],ob[Dl]=null,Dl--)}function It(t,e){Dl++,ob[Dl]=t.current,t.current=e}var oa={},dr=ba(oa),Br=ba(!1),Eu=oa;function fc(t,e){var n=t.type.contextTypes;if(!n)return oa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function hv(){Ft(Br),Ft(dr)}function yR(t,e,n){if(dr.current!==oa)throw Error(fe(168));It(dr,e),It(Br,n)}function GF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,j7(t)||"Unknown",i));return Wt({},n,r)}function fv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oa,Eu=dr.current,It(dr,t),It(Br,Br.current),!0}function _R(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=GF(t,e,Eu),r.__reactInternalMemoizedMergedChildContext=t,Ft(Br),Ft(dr),It(dr,t)):Ft(Br),It(Br,n)}var Ls=null,Xy=!1,d1=!1;function KF(t){Ls===null?Ls=[t]:Ls.push(t)}function iq(t){Xy=!0,KF(t)}function Ea(){if(!d1&&Ls!==null){d1=!0;var t=0,e=gt;try{var n=Ls;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ls=null,Xy=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(t+1)),_F(QS,Ea),i}finally{gt=e,d1=!1}}return null}var Fl=[],Ml=0,pv=null,mv=0,vi=[],yi=0,Su=null,Bs=1,zs="";function za(t,e){Fl[Ml++]=mv,Fl[Ml++]=pv,pv=t,mv=e}function QF(t,e,n){vi[yi++]=Bs,vi[yi++]=zs,vi[yi++]=Su,Su=t;var r=Bs;t=zs;var i=32-zi(r)-1;r&=~(1<<i),n+=1;var s=32-zi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-zi(e)+i|n<<i|r,zs=s+t}else Bs=1<<s|n<<i|r,zs=t}function iT(t){t.return!==null&&(za(t,1),QF(t,1,0))}function sT(t){for(;t===pv;)pv=Fl[--Ml],Fl[Ml]=null,mv=Fl[--Ml],Fl[Ml]=null;for(;t===Su;)Su=vi[--yi],vi[yi]=null,zs=vi[--yi],vi[yi]=null,Bs=vi[--yi],vi[yi]=null}var ti=null,Zr=null,Vt=!1,Vi=null;function YF(t,e){var n=wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ti=t,Zr=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ti=t,Zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Su!==null?{id:Bs,overflow:zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ti=t,Zr=null,!0):!1;default:return!1}}function ab(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ub(t){if(Vt){var e=Zr;if(e){var n=e;if(!wR(t,e)){if(ab(t))throw Error(fe(418));e=Xo(n.nextSibling);var r=ti;e&&wR(t,e)?YF(r,n):(t.flags=t.flags&-4097|2,Vt=!1,ti=t)}}else{if(ab(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Vt=!1,ti=t}}}function bR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ti=t}function Pm(t){if(t!==ti)return!1;if(!Vt)return bR(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rb(t.type,t.memoizedProps)),e&&(e=Zr)){if(ab(t))throw XF(),Error(fe(418));for(;e;)YF(t,e),e=Xo(e.nextSibling)}if(bR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=ti?Xo(t.stateNode.nextSibling):null;return!0}function XF(){for(var t=Zr;t;)t=Xo(t.nextSibling)}function pc(){Zr=ti=null,Vt=!1}function oT(t){Vi===null?Vi=[t]:Vi.push(t)}var sq=co.ReactCurrentBatchConfig;function Mi(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gv=ba(null),vv=null,$l=null,aT=null;function uT(){aT=$l=vv=null}function lT(t){var e=gv.current;Ft(gv),t._currentValue=e}function lb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yl(t,e){vv=t,aT=$l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($r=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(aT!==t)if(t={context:t,memoizedValue:e,next:null},$l===null){if(vv===null)throw Error(fe(308));$l=t,vv.dependencies={lanes:0,firstContext:t}}else $l=$l.next=t;return e}var su=null;function cT(t){su===null?su=[t]:su.push(t)}function JF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cT(e)):(n.next=i.next,i.next=n),e.interleaved=n,to(t,r)}function to(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Do=!1;function dT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,to(t,n)}return i=r.interleaved,i===null?(e.next=e,cT(r)):(e.next=i.next,i.next=e),r.interleaved=e,to(t,n)}function vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}function ER(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yv(t,e,n,r){var i=t.updateQueue;Do=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Wt({},d,h);break e;case 2:Do=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Iu|=o,t.lanes=o,t.memoizedState=d}}function SR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var eM=new JD.Component().refs;function cb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jy={isMounted:function(t){return(t=t._reactInternals)?qu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sr(),i=ea(t),s=Gs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jo(t,s,i),e!==null&&(qi(e,t,i,r),vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sr(),i=ea(t),s=Gs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jo(t,s,i),e!==null&&(qi(e,t,i,r),vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sr(),r=ea(t),i=Gs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jo(t,i,r),e!==null&&(qi(e,t,r,n),vg(e,t,r))}};function TR(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xh(n,r)||!Xh(i,s):!0}function tM(t,e,n){var r=!1,i=oa,s=e.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=zr(e)?Eu:dr.current,r=e.contextTypes,s=(r=r!=null)?fc(t,i):oa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function IR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jy.enqueueReplaceState(e,e.state,null)}function db(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eM,dT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=zr(e)?Eu:dr.current,i.context=fc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jy.enqueueReplaceState(i,i.state,null),yv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Rm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CR(t){var e=t._init;return e(t._payload)}function nM(t){function e(v,_){if(t){var b=v.deletions;b===null?(v.deletions=[_],v.flags|=16):b.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=ta(v,_),v.index=0,v.sibling=null,v}function s(v,_,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<_?(v.flags|=2,_):b):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,b,w){return _===null||_.tag!==6?(_=y1(b,v.mode,w),_.return=v,_):(_=i(_,b),_.return=v,_)}function u(v,_,b,w){var E=b.type;return E===Rl?c(v,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===No&&CR(E)===_.type)?(w=i(_,b.props),w.ref=Cd(v,_,b),w.return=v,w):(w=Sg(b.type,b.key,b.props,null,v.mode,w),w.ref=Cd(v,_,b),w.return=v,w)}function l(v,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=_1(b,v.mode,w),_.return=v,_):(_=i(_,b.children||[]),_.return=v,_)}function c(v,_,b,w,E){return _===null||_.tag!==7?(_=pu(b,v.mode,w,E),_.return=v,_):(_=i(_,b),_.return=v,_)}function d(v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=y1(""+_,v.mode,b),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ym:return b=Sg(_.type,_.key,_.props,null,v.mode,b),b.ref=Cd(v,null,_),b.return=v,b;case Pl:return _=_1(_,v.mode,b),_.return=v,_;case No:var w=_._init;return d(v,w(_._payload),b)}if(Xd(_)||bd(_))return _=pu(_,v.mode,b,null),_.return=v,_;Rm(v,_)}return null}function h(v,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(v,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ym:return b.key===E?u(v,_,b,w):null;case Pl:return b.key===E?l(v,_,b,w):null;case No:return E=b._init,h(v,_,E(b._payload),w)}if(Xd(b)||bd(b))return E!==null?null:c(v,_,b,w,null);Rm(v,b)}return null}function p(v,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(_,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ym:return v=v.get(w.key===null?b:w.key)||null,u(_,v,w,E);case Pl:return v=v.get(w.key===null?b:w.key)||null,l(_,v,w,E);case No:var A=w._init;return p(v,_,b,A(w._payload),E)}if(Xd(w)||bd(w))return v=v.get(b)||null,c(_,v,w,E,null);Rm(_,w)}return null}function m(v,_,b,w){for(var E=null,A=null,R=_,$=_=0,Q=null;R!==null&&$<b.length;$++){R.index>$?(Q=R,R=null):Q=R.sibling;var te=h(v,R,b[$],w);if(te===null){R===null&&(R=Q);break}t&&R&&te.alternate===null&&e(v,R),_=s(te,_,$),A===null?E=te:A.sibling=te,A=te,R=Q}if($===b.length)return n(v,R),Vt&&za(v,$),E;if(R===null){for(;$<b.length;$++)R=d(v,b[$],w),R!==null&&(_=s(R,_,$),A===null?E=R:A.sibling=R,A=R);return Vt&&za(v,$),E}for(R=r(v,R);$<b.length;$++)Q=p(R,v,$,b[$],w),Q!==null&&(t&&Q.alternate!==null&&R.delete(Q.key===null?$:Q.key),_=s(Q,_,$),A===null?E=Q:A.sibling=Q,A=Q);return t&&R.forEach(function(ce){return e(v,ce)}),Vt&&za(v,$),E}function y(v,_,b,w){var E=bd(b);if(typeof E!="function")throw Error(fe(150));if(b=E.call(b),b==null)throw Error(fe(151));for(var A=E=null,R=_,$=_=0,Q=null,te=b.next();R!==null&&!te.done;$++,te=b.next()){R.index>$?(Q=R,R=null):Q=R.sibling;var ce=h(v,R,te.value,w);if(ce===null){R===null&&(R=Q);break}t&&R&&ce.alternate===null&&e(v,R),_=s(ce,_,$),A===null?E=ce:A.sibling=ce,A=ce,R=Q}if(te.done)return n(v,R),Vt&&za(v,$),E;if(R===null){for(;!te.done;$++,te=b.next())te=d(v,te.value,w),te!==null&&(_=s(te,_,$),A===null?E=te:A.sibling=te,A=te);return Vt&&za(v,$),E}for(R=r(v,R);!te.done;$++,te=b.next())te=p(R,v,$,te.value,w),te!==null&&(t&&te.alternate!==null&&R.delete(te.key===null?$:te.key),_=s(te,_,$),A===null?E=te:A.sibling=te,A=te);return t&&R.forEach(function(de){return e(v,de)}),Vt&&za(v,$),E}function g(v,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Rl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ym:e:{for(var E=b.key,A=_;A!==null;){if(A.key===E){if(E=b.type,E===Rl){if(A.tag===7){n(v,A.sibling),_=i(A,b.props.children),_.return=v,v=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===No&&CR(E)===A.type){n(v,A.sibling),_=i(A,b.props),_.ref=Cd(v,A,b),_.return=v,v=_;break e}n(v,A);break}else e(v,A);A=A.sibling}b.type===Rl?(_=pu(b.props.children,v.mode,w,b.key),_.return=v,v=_):(w=Sg(b.type,b.key,b.props,null,v.mode,w),w.ref=Cd(v,_,b),w.return=v,v=w)}return o(v);case Pl:e:{for(A=b.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(v,_.sibling),_=i(_,b.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=_1(b,v.mode,w),_.return=v,v=_}return o(v);case No:return A=b._init,g(v,_,A(b._payload),w)}if(Xd(b))return m(v,_,b,w);if(bd(b))return y(v,_,b,w);Rm(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,b),_.return=v,v=_):(n(v,_),_=y1(b,v.mode,w),_.return=v,v=_),o(v)):n(v,_)}return g}var mc=nM(!0),rM=nM(!1),cp={},Ts=ba(cp),tf=ba(cp),nf=ba(cp);function ou(t){if(t===cp)throw Error(fe(174));return t}function hT(t,e){switch(It(nf,e),It(tf,t),It(Ts,cp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zw(e,t)}Ft(Ts),It(Ts,e)}function gc(){Ft(Ts),Ft(tf),Ft(nf)}function iM(t){ou(nf.current);var e=ou(Ts.current),n=zw(e,t.type);e!==n&&(It(tf,t),It(Ts,n))}function fT(t){tf.current===t&&(Ft(Ts),Ft(tf))}var Bt=ba(0);function _v(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h1=[];function pT(){for(var t=0;t<h1.length;t++)h1[t]._workInProgressVersionPrimary=null;h1.length=0}var yg=co.ReactCurrentDispatcher,f1=co.ReactCurrentBatchConfig,Tu=0,qt=null,gn=null,bn=null,wv=!1,gh=!1,rf=0,oq=0;function Zn(){throw Error(fe(321))}function mT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gi(t[n],e[n]))return!1;return!0}function gT(t,e,n,r,i,s){if(Tu=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yg.current=t===null||t.memoizedState===null?cq:dq,t=n(r,i),gh){s=0;do{if(gh=!1,rf=0,25<=s)throw Error(fe(301));s+=1,bn=gn=null,e.updateQueue=null,yg.current=hq,t=n(r,i)}while(gh)}if(yg.current=bv,e=gn!==null&&gn.next!==null,Tu=0,bn=gn=qt=null,wv=!1,e)throw Error(fe(300));return t}function vT(){var t=rf!==0;return rf=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?qt.memoizedState=bn=t:bn=bn.next=t,bn}function Ri(){if(gn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=bn===null?qt.memoizedState:bn.next;if(e!==null)bn=e,gn=t;else{if(t===null)throw Error(fe(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},bn===null?qt.memoizedState=bn=t:bn=bn.next=t}return bn}function sf(t,e){return typeof e=="function"?e(t):e}function p1(t){var e=Ri(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Tu&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,qt.lanes|=c,Iu|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Gi(r,e.memoizedState)||($r=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,Iu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m1(t){var e=Ri(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gi(s,e.memoizedState)||($r=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sM(){}function oM(t,e){var n=qt,r=Ri(),i=e(),s=!Gi(r.memoizedState,i);if(s&&(r.memoizedState=i,$r=!0),r=r.queue,yT(lM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,of(9,uM.bind(null,n,r,i,e),void 0,null),Tn===null)throw Error(fe(349));Tu&30||aM(n,e,i)}return i}function aM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uM(t,e,n,r){e.value=n,e.getSnapshot=r,cM(e)&&dM(t)}function lM(t,e,n){return n(function(){cM(e)&&dM(t)})}function cM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gi(t,n)}catch{return!0}}function dM(t){var e=to(t,1);e!==null&&qi(e,t,1,-1)}function AR(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:t},e.queue=t,t=t.dispatch=lq.bind(null,qt,t),[e.memoizedState,t]}function of(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hM(){return Ri().memoizedState}function _g(t,e,n,r){var i=ss();qt.flags|=t,i.memoizedState=of(1|e,n,void 0,r===void 0?null:r)}function Zy(t,e,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(gn!==null){var o=gn.memoizedState;if(s=o.destroy,r!==null&&mT(r,o.deps)){i.memoizedState=of(e,n,s,r);return}}qt.flags|=t,i.memoizedState=of(1|e,n,s,r)}function PR(t,e){return _g(8390656,8,t,e)}function yT(t,e){return Zy(2048,8,t,e)}function fM(t,e){return Zy(4,2,t,e)}function pM(t,e){return Zy(4,4,t,e)}function mM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gM(t,e,n){return n=n!=null?n.concat([t]):null,Zy(4,4,mM.bind(null,e,t),n)}function _T(){}function vM(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yM(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _M(t,e,n){return Tu&21?(Gi(n,e)||(n=EF(),qt.lanes|=n,Iu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$r=!0),t.memoizedState=n)}function aq(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=f1.transition;f1.transition={};try{t(!1),e()}finally{gt=n,f1.transition=r}}function wM(){return Ri().memoizedState}function uq(t,e,n){var r=ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bM(t))EM(e,n);else if(n=JF(t,e,n,r),n!==null){var i=Sr();qi(n,t,r,i),SM(n,e,r)}}function lq(t,e,n){var r=ea(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bM(t))EM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gi(a,o)){var u=e.interleaved;u===null?(i.next=i,cT(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=JF(t,e,i,r),n!==null&&(i=Sr(),qi(n,t,r,i),SM(n,e,r))}}function bM(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function EM(t,e){gh=wv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}var bv={readContext:Pi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},cq={readContext:Pi,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:PR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_g(4194308,4,mM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _g(4194308,4,t,e)},useInsertionEffect:function(t,e){return _g(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uq.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:AR,useDebugValue:_T,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=AR(!1),e=t[0];return t=aq.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,i=ss();if(Vt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Tn===null)throw Error(fe(349));Tu&30||aM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,PR(lM.bind(null,r,s,t),[t]),r.flags|=2048,of(9,uM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ss(),e=Tn.identifierPrefix;if(Vt){var n=zs,r=Bs;n=(r&~(1<<32-zi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dq={readContext:Pi,useCallback:vM,useContext:Pi,useEffect:yT,useImperativeHandle:gM,useInsertionEffect:fM,useLayoutEffect:pM,useMemo:yM,useReducer:p1,useRef:hM,useState:function(){return p1(sf)},useDebugValue:_T,useDeferredValue:function(t){var e=Ri();return _M(e,gn.memoizedState,t)},useTransition:function(){var t=p1(sf)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:sM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1},hq={readContext:Pi,useCallback:vM,useContext:Pi,useEffect:yT,useImperativeHandle:gM,useInsertionEffect:fM,useLayoutEffect:pM,useMemo:yM,useReducer:m1,useRef:hM,useState:function(){return m1(sf)},useDebugValue:_T,useDeferredValue:function(t){var e=Ri();return gn===null?e.memoizedState=t:_M(e,gn.memoizedState,t)},useTransition:function(){var t=m1(sf)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:sM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1};function vc(t,e){try{var n="",r=e;do n+=U7(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function g1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fq=typeof WeakMap=="function"?WeakMap:Map;function TM(t,e,n){n=Gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sv||(Sv=!0,Eb=r),hb(t,e)},n}function IM(t,e,n){n=Gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hb(t,e),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function RR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Aq.bind(null,t,e,n),e.then(t,t))}function OR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gs(-1,1),e.tag=2,Jo(n,e,1))),n.lanes|=1),t)}var pq=co.ReactCurrentOwner,$r=!1;function pr(t,e,n,r){e.child=t===null?rM(e,null,n,r):mc(e,t.child,n,r)}function xR(t,e,n,r,i){n=n.render;var s=e.ref;return Yl(e,i),r=gT(t,e,n,r,s,i),n=vT(),t!==null&&!$r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):(Vt&&n&&iT(e),e.flags|=1,pr(t,e,r,i),e.child)}function NR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!AT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CM(t,e,s,r,i)):(t=Sg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xh,n(o,r)&&t.ref===e.ref)return no(t,e,i)}return e.flags|=1,t=ta(s,r),t.ref=e.ref,t.return=e,e.child=t}function CM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xh(s,r)&&t.ref===e.ref)if($r=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($r=!0);else return e.lanes=t.lanes,no(t,e,i)}return fb(t,e,n,r,i)}function AM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Vl,Xr),Xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Vl,Xr),Xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,It(Vl,Xr),Xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,It(Vl,Xr),Xr|=r;return pr(t,e,i,n),e.child}function PM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fb(t,e,n,r,i){var s=zr(n)?Eu:dr.current;return s=fc(e,s),Yl(e,i),n=gT(t,e,n,r,s,i),r=vT(),t!==null&&!$r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):(Vt&&r&&iT(e),e.flags|=1,pr(t,e,n,i),e.child)}function DR(t,e,n,r,i){if(zr(n)){var s=!0;fv(e)}else s=!1;if(Yl(e,i),e.stateNode===null)wg(t,e),tM(e,n,r),db(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Pi(l):(l=zr(n)?Eu:dr.current,l=fc(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&IR(e,o,r,l),Do=!1;var h=e.memoizedState;o.state=h,yv(e,r,o,i),u=e.memoizedState,a!==r||h!==u||Br.current||Do?(typeof c=="function"&&(cb(e,n,c,r),u=e.memoizedState),(a=Do||TR(e,n,a,r,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZF(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Mi(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pi(u):(u=zr(n)?Eu:dr.current,u=fc(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&IR(e,o,r,u),Do=!1,h=e.memoizedState,o.state=h,yv(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Br.current||Do?(typeof p=="function"&&(cb(e,n,p,r),m=e.memoizedState),(l=Do||TR(e,n,l,r,h,m,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return pb(t,e,n,r,s,i)}function pb(t,e,n,r,i,s){PM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_R(e,n,!1),no(t,e,s);r=e.stateNode,pq.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mc(e,t.child,null,s),e.child=mc(e,null,a,s)):pr(t,e,a,s),e.memoizedState=r.state,i&&_R(e,n,!0),e.child}function RM(t){var e=t.stateNode;e.pendingContext?yR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yR(t,e.context,!1),hT(t,e.containerInfo)}function FR(t,e,n,r,i){return pc(),oT(i),e.flags|=256,pr(t,e,n,r),e.child}var mb={dehydrated:null,treeContext:null,retryLane:0};function gb(t){return{baseLanes:t,cachePool:null,transitions:null}}function OM(t,e,n){var r=e.pendingProps,i=Bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It(Bt,i&1),t===null)return ub(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=n_(o,r,0,null),t=pu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gb(n),e.memoizedState=mb,t):wT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mq(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ta(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ta(a,s):(s=pu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mb,r}return s=t.child,t=s.sibling,r=ta(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wT(t,e){return e=n_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Om(t,e,n,r){return r!==null&&oT(r),mc(e,t.child,null,n),t=wT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=g1(Error(fe(422))),Om(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=n_({mode:"visible",children:r.children},i,0,null),s=pu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mc(e,t.child,null,o),e.child.memoizedState=gb(o),e.memoizedState=mb,s);if(!(e.mode&1))return Om(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(fe(419)),r=g1(s,r,void 0),Om(t,e,o,r)}if(a=(o&t.childLanes)!==0,$r||a){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,to(t,i),qi(r,t,i,-1))}return CT(),r=g1(Error(fe(421))),Om(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Pq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zr=Xo(i.nextSibling),ti=e,Vt=!0,Vi=null,t!==null&&(vi[yi++]=Bs,vi[yi++]=zs,vi[yi++]=Su,Bs=t.id,zs=t.overflow,Su=e),e=wT(e,r.children),e.flags|=4096,e)}function MR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lb(t.return,e,n)}function v1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=Bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&MR(t,n,e);else if(t.tag===19)MR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_v(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),v1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_v(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}v1(e,!0,n,null,s);break;case"together":v1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function no(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Iu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gq(t,e,n){switch(e.tag){case 3:RM(e),pc();break;case 5:iM(e);break;case 1:zr(e.type)&&fv(e);break;case 4:hT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;It(gv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Bt,Bt.current&1),e.flags|=128,null):n&e.child.childLanes?OM(t,e,n):(It(Bt,Bt.current&1),t=no(t,e,n),t!==null?t.sibling:null);It(Bt,Bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Bt,Bt.current),r)break;return null;case 22:case 23:return e.lanes=0,AM(t,e,n)}return no(t,e,n)}var xM,vb,NM,DM;xM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vb=function(){};NM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ou(Ts.current);var s=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),s=[];break;case"select":i=Wt({},i,{value:void 0}),r=Wt({},r,{value:void 0}),s=[];break;case"textarea":i=Bw(t,i),r=Bw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dv)}qw(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(qh.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(qh.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};DM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ad(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vq(t,e,n){var r=e.pendingProps;switch(sT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return zr(e.type)&&hv(),er(e),null;case 3:return r=e.stateNode,gc(),Ft(Br),Ft(dr),pT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vi!==null&&(Ib(Vi),Vi=null))),vb(t,e),er(e),null;case 5:fT(e);var i=ou(nf.current);if(n=e.type,t!==null&&e.stateNode!=null)NM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return er(e),null}if(t=ou(Ts.current),Pm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ls]=e,r[ef]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<Zd.length;i++)Ot(Zd[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":HP(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":GP(r,s),Ot("invalid",r)}qw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",""+a]):qh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":_m(r),WP(r,s,!0);break;case"textarea":_m(r),KP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ls]=e,t[ef]=r,xM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hw(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zd.length;i++)Ot(Zd[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":HP(t,r),i=Vw(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Wt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":GP(t,r),i=Bw(t,r),Ot("invalid",t);break;default:i=r}qw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?cF(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uF(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Hh(t,u):typeof u=="number"&&Hh(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qh.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&qS(t,s,u,o))}switch(n){case"input":_m(t),WP(t,r,!1);break;case"textarea":_m(t),KP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)DM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=ou(nf.current),ou(Ts.current),Pm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ls]=e,(s=r.nodeValue!==n)&&(t=ti,t!==null))switch(t.tag){case 3:Am(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=e,e.stateNode=r}return er(e),null;case 13:if(Ft(Bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Zr!==null&&e.mode&1&&!(e.flags&128))XF(),pc(),e.flags|=98560,s=!1;else if(s=Pm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[ls]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else Vi!==null&&(Ib(Vi),Vi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?vn===0&&(vn=3):CT())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return gc(),vb(t,e),t===null&&Jh(e.stateNode.containerInfo),er(e),null;case 10:return lT(e.type._context),er(e),null;case 17:return zr(e.type)&&hv(),er(e),null;case 19:if(Ft(Bt),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ad(s,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_v(t),o!==null){for(e.flags|=128,Ad(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&rn()>yc&&(e.flags|=128,r=!0,Ad(s,!1),e.lanes=4194304)}else{if(!r)if(t=_v(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vt)return er(e),null}else 2*rn()-s.renderingStartTime>yc&&n!==1073741824&&(e.flags|=128,r=!0,Ad(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rn(),e.sibling=null,n=Bt.current,It(Bt,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return IT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function yq(t,e){switch(sT(e),e.tag){case 1:return zr(e.type)&&hv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gc(),Ft(Br),Ft(dr),pT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fT(e),null;case 13:if(Ft(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Bt),null;case 4:return gc(),null;case 10:return lT(e.type._context),null;case 22:case 23:return IT(),null;case 24:return null;default:return null}}var km=!1,sr=!1,_q=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function yb(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var $R=!1;function wq(t,e){if(tb=uv,t=LF(),rT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++c===r&&(u=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nb={focusedElem:t,selectionRange:n},uv=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,g=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mi(e.type,y),g);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Qt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return m=$R,$R=!1,m}function vh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yb(e,n,s)}i=i.next}while(i!==r)}}function e_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _b(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FM(t){var e=t.alternate;e!==null&&(t.alternate=null,FM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[ef],delete e[sb],delete e[nq],delete e[rq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MM(t){return t.tag===5||t.tag===3||t.tag===4}function LR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dv));else if(r!==4&&(t=t.child,t!==null))for(wb(t,e,n),t=t.sibling;t!==null;)wb(t,e,n),t=t.sibling}function bb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bb(t,e,n),t=t.sibling;t!==null;)bb(t,e,n),t=t.sibling}var Vn=null,Li=!1;function Ao(t,e,n){for(n=n.child;n!==null;)$M(t,e,n),n=n.sibling}function $M(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Wy,n)}catch{}switch(n.tag){case 5:sr||Ll(n,e);case 6:var r=Vn,i=Li;Vn=null,Ao(t,e,n),Vn=r,Li=i,Vn!==null&&(Li?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Li?(t=Vn,n=n.stateNode,t.nodeType===8?c1(t.parentNode,n):t.nodeType===1&&c1(t,n),Qh(t)):c1(Vn,n.stateNode));break;case 4:r=Vn,i=Li,Vn=n.stateNode.containerInfo,Li=!0,Ao(t,e,n),Vn=r,Li=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yb(n,e,o),i=i.next}while(i!==r)}Ao(t,e,n);break;case 1:if(!sr&&(Ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}Ao(t,e,n);break;case 21:Ao(t,e,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Ao(t,e,n),sr=r):Ao(t,e,n);break;default:Ao(t,e,n)}}function VR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _q),e.forEach(function(r){var i=Rq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,Li=!1;break e;case 3:Vn=a.stateNode.containerInfo,Li=!0;break e;case 4:Vn=a.stateNode.containerInfo,Li=!0;break e}a=a.return}if(Vn===null)throw Error(fe(160));$M(s,o,i),Vn=null,Li=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Qt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LM(e,t),e=e.sibling}function LM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),is(t),r&4){try{vh(3,t,t.return),e_(3,t)}catch(y){Qt(t,t.return,y)}try{vh(5,t,t.return)}catch(y){Qt(t,t.return,y)}}break;case 1:Ni(e,t),is(t),r&512&&n!==null&&Ll(n,n.return);break;case 5:if(Ni(e,t),is(t),r&512&&n!==null&&Ll(n,n.return),t.flags&32){var i=t.stateNode;try{Hh(i,"")}catch(y){Qt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sF(i,s),Hw(a,o);var l=Hw(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?cF(i,d):c==="dangerouslySetInnerHTML"?uF(i,d):c==="children"?Hh(i,d):qS(i,c,d,l)}switch(a){case"input":Uw(i,s);break;case"textarea":oF(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wl(i,!!s.multiple,s.defaultValue,!0):Wl(i,!!s.multiple,s.multiple?[]:"",!1))}i[ef]=s}catch(y){Qt(t,t.return,y)}}break;case 6:if(Ni(e,t),is(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Qt(t,t.return,y)}}break;case 3:if(Ni(e,t),is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qh(e.containerInfo)}catch(y){Qt(t,t.return,y)}break;case 4:Ni(e,t),is(t);break;case 13:Ni(e,t),is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ST=rn())),r&4&&VR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sr=(l=sr)||c,Ni(e,t),sr=l):Ni(e,t),is(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Pe=t,c=t.child;c!==null;){for(d=Pe=c;Pe!==null;){switch(h=Pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:vh(4,h,h.return);break;case 1:Ll(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Qt(r,n,y)}}break;case 5:Ll(h,h.return);break;case 22:if(h.memoizedState!==null){jR(d);continue}}p!==null?(p.return=h,Pe=p):jR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=lF("display",o))}catch(y){Qt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){Qt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ni(e,t),is(t),r&4&&VR(t);break;case 21:break;default:Ni(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MM(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hh(i,""),r.flags&=-33);var s=LR(t);bb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LR(t);wb(t,a,o);break;default:throw Error(fe(161))}}catch(u){Qt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bq(t,e,n){Pe=t,VM(t)}function VM(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||km;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||sr;a=km;var l=sr;if(km=o,(sr=u)&&!l)for(Pe=i;Pe!==null;)o=Pe,u=o.child,o.tag===22&&o.memoizedState!==null?BR(i):u!==null?(u.return=o,Pe=u):BR(i);for(;s!==null;)Pe=s,VM(s),s=s.sibling;Pe=i,km=a,sr=l}UR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):UR(t)}}function UR(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||e_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&SR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}SR(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Qh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}sr||e.flags&512&&_b(e)}catch(h){Qt(e,e.return,h)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function jR(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function BR(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e_(4,e)}catch(u){Qt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Qt(e,i,u)}}var s=e.return;try{_b(e)}catch(u){Qt(e,s,u)}break;case 5:var o=e.return;try{_b(e)}catch(u){Qt(e,o,u)}}}catch(u){Qt(e,e.return,u)}if(e===t){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var Eq=Math.ceil,Ev=co.ReactCurrentDispatcher,bT=co.ReactCurrentOwner,Ii=co.ReactCurrentBatchConfig,st=0,Tn=null,hn=null,qn=0,Xr=0,Vl=ba(0),vn=0,af=null,Iu=0,t_=0,ET=0,yh=null,Fr=null,ST=0,yc=1/0,$s=null,Sv=!1,Eb=null,Zo=null,xm=!1,jo=null,Tv=0,_h=0,Sb=null,bg=-1,Eg=0;function Sr(){return st&6?rn():bg!==-1?bg:bg=rn()}function ea(t){return t.mode&1?st&2&&qn!==0?qn&-qn:sq.transition!==null?(Eg===0&&(Eg=EF()),Eg):(t=gt,t!==0||(t=window.event,t=t===void 0?16:RF(t.type)),t):1}function qi(t,e,n,r){if(50<_h)throw _h=0,Sb=null,Error(fe(185));ap(t,n,r),(!(st&2)||t!==Tn)&&(t===Tn&&(!(st&2)&&(t_|=n),vn===4&&$o(t,qn)),qr(t,r),n===1&&st===0&&!(e.mode&1)&&(yc=rn()+500,Xy&&Ea()))}function qr(t,e){var n=t.callbackNode;sz(t,e);var r=av(t,t===Tn?qn:0);if(r===0)n!==null&&XP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XP(n),e===1)t.tag===0?iq(zR.bind(null,t)):KF(zR.bind(null,t)),eq(function(){!(st&6)&&Ea()}),n=null;else{switch(SF(r)){case 1:n=QS;break;case 4:n=wF;break;case 16:n=ov;break;case 536870912:n=bF;break;default:n=ov}n=GM(n,UM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UM(t,e){if(bg=-1,Eg=0,st&6)throw Error(fe(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=av(t,t===Tn?qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Iv(t,r);else{e=r;var i=st;st|=2;var s=BM();(Tn!==t||qn!==e)&&($s=null,yc=rn()+500,fu(t,e));do try{Iq();break}catch(a){jM(t,a)}while(1);uT(),Ev.current=s,st=i,hn!==null?e=0:(Tn=null,qn=0,e=vn)}if(e!==0){if(e===2&&(i=Yw(t),i!==0&&(r=i,e=Tb(t,i))),e===1)throw n=af,fu(t,0),$o(t,r),qr(t,rn()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!Sq(i)&&(e=Iv(t,r),e===2&&(s=Yw(t),s!==0&&(r=s,e=Tb(t,s))),e===1))throw n=af,fu(t,0),$o(t,r),qr(t,rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:qa(t,Fr,$s);break;case 3:if($o(t,r),(r&130023424)===r&&(e=ST+500-rn(),10<e)){if(av(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ib(qa.bind(null,t,Fr,$s),e);break}qa(t,Fr,$s);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eq(r/1960))-r,10<r){t.timeoutHandle=ib(qa.bind(null,t,Fr,$s),r);break}qa(t,Fr,$s);break;case 5:qa(t,Fr,$s);break;default:throw Error(fe(329))}}}return qr(t,rn()),t.callbackNode===n?UM.bind(null,t):null}function Tb(t,e){var n=yh;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),t=Iv(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&Ib(e)),t}function Ib(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function Sq(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~ET,e&=~t_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zi(e),r=1<<n;t[n]=-1,e&=~r}}function zR(t){if(st&6)throw Error(fe(327));Xl();var e=av(t,0);if(!(e&1))return qr(t,rn()),null;var n=Iv(t,e);if(t.tag!==0&&n===2){var r=Yw(t);r!==0&&(e=r,n=Tb(t,r))}if(n===1)throw n=af,fu(t,0),$o(t,e),qr(t,rn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qa(t,Fr,$s),qr(t,rn()),null}function TT(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(yc=rn()+500,Xy&&Ea())}}function Cu(t){jo!==null&&jo.tag===0&&!(st&6)&&Xl();var e=st;st|=1;var n=Ii.transition,r=gt;try{if(Ii.transition=null,gt=1,t)return t()}finally{gt=r,Ii.transition=n,st=e,!(st&6)&&Ea()}}function IT(){Xr=Vl.current,Ft(Vl)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zz(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(sT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hv();break;case 3:gc(),Ft(Br),Ft(dr),pT();break;case 5:fT(r);break;case 4:gc();break;case 13:Ft(Bt);break;case 19:Ft(Bt);break;case 10:lT(r.type._context);break;case 22:case 23:IT()}n=n.return}if(Tn=t,hn=t=ta(t.current,null),qn=Xr=e,vn=0,af=null,ET=t_=Iu=0,Fr=yh=null,su!==null){for(e=0;e<su.length;e++)if(n=su[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}su=null}return t}function jM(t,e){do{var n=hn;try{if(uT(),yg.current=bv,wv){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wv=!1}if(Tu=0,bn=gn=qt=null,gh=!1,rf=0,bT.current=null,n===null||n.return===null){vn=1,af=e,hn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=qn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=OR(o);if(p!==null){p.flags&=-257,kR(p,o,a,s,e),p.mode&1&&RR(s,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(u),e.updateQueue=y}else m.add(u);break e}else{if(!(e&1)){RR(s,l,e),CT();break e}u=Error(fe(426))}}else if(Vt&&a.mode&1){var g=OR(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),kR(g,o,a,s,e),oT(vc(u,a));break e}}s=u=vc(u,a),vn!==4&&(vn=2),yh===null?yh=[s]:yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=TM(s,u,e);ER(s,v);break e;case 1:a=u;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zo===null||!Zo.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=IM(s,a,e);ER(s,w);break e}}s=s.return}while(s!==null)}qM(n)}catch(E){e=E,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(1)}function BM(){var t=Ev.current;return Ev.current=bv,t===null?bv:t}function CT(){(vn===0||vn===3||vn===2)&&(vn=4),Tn===null||!(Iu&268435455)&&!(t_&268435455)||$o(Tn,qn)}function Iv(t,e){var n=st;st|=2;var r=BM();(Tn!==t||qn!==e)&&($s=null,fu(t,e));do try{Tq();break}catch(i){jM(t,i)}while(1);if(uT(),st=n,Ev.current=r,hn!==null)throw Error(fe(261));return Tn=null,qn=0,vn}function Tq(){for(;hn!==null;)zM(hn)}function Iq(){for(;hn!==null&&!Y7();)zM(hn)}function zM(t){var e=WM(t.alternate,t,Xr);t.memoizedProps=t.pendingProps,e===null?qM(t):hn=e,bT.current=null}function qM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yq(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,hn=null;return}}else if(n=vq(n,e,Xr),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);vn===0&&(vn=5)}function qa(t,e,n){var r=gt,i=Ii.transition;try{Ii.transition=null,gt=1,Cq(t,e,n,r)}finally{Ii.transition=i,gt=r}return null}function Cq(t,e,n,r){do Xl();while(jo!==null);if(st&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oz(t,s),t===Tn&&(hn=Tn=null,qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xm||(xm=!0,GM(ov,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=gt;gt=1;var a=st;st|=4,bT.current=null,wq(t,n),LM(n,t),Wz(nb),uv=!!tb,nb=tb=null,t.current=n,bq(n),X7(),st=a,gt=o,Ii.transition=s}else t.current=n;if(xm&&(xm=!1,jo=t,Tv=i),s=t.pendingLanes,s===0&&(Zo=null),ez(n.stateNode),qr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sv)throw Sv=!1,t=Eb,Eb=null,t;return Tv&1&&t.tag!==0&&Xl(),s=t.pendingLanes,s&1?t===Sb?_h++:(_h=0,Sb=t):_h=0,Ea(),null}function Xl(){if(jo!==null){var t=SF(Tv),e=Ii.transition,n=gt;try{if(Ii.transition=null,gt=16>t?16:t,jo===null)var r=!1;else{if(t=jo,jo=null,Tv=0,st&6)throw Error(fe(331));var i=st;for(st|=4,Pe=t.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Pe=l;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:vh(8,c,s)}var d=c.child;if(d!==null)d.return=c,Pe=d;else for(;Pe!==null;){c=Pe;var h=c.sibling,p=c.return;if(FM(c),c===l){Pe=null;break}if(h!==null){h.return=p,Pe=h;break}Pe=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vh(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Pe=v;break e}Pe=s.return}}var _=t.current;for(Pe=_;Pe!==null;){o=Pe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Pe=b;else e:for(o=_;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e_(9,a)}}catch(E){Qt(a,a.return,E)}if(a===o){Pe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Pe=w;break e}Pe=a.return}}if(st=i,Ea(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Wy,t)}catch{}r=!0}return r}finally{gt=n,Ii.transition=e}}return!1}function qR(t,e,n){e=vc(n,e),e=TM(t,e,1),t=Jo(t,e,1),e=Sr(),t!==null&&(ap(t,1,e),qr(t,e))}function Qt(t,e,n){if(t.tag===3)qR(t,t,n);else for(;e!==null;){if(e.tag===3){qR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){t=vc(n,t),t=IM(e,t,1),e=Jo(e,t,1),t=Sr(),e!==null&&(ap(e,1,t),qr(e,t));break}}e=e.return}}function Aq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(qn&n)===n&&(vn===4||vn===3&&(qn&130023424)===qn&&500>rn()-ST?fu(t,0):ET|=n),qr(t,e)}function HM(t,e){e===0&&(t.mode&1?(e=Em,Em<<=1,!(Em&130023424)&&(Em=4194304)):e=1);var n=Sr();t=to(t,e),t!==null&&(ap(t,e,n),qr(t,n))}function Pq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HM(t,n)}function Rq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),HM(t,n)}var WM;WM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)$r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $r=!1,gq(t,e,n);$r=!!(t.flags&131072)}else $r=!1,Vt&&e.flags&1048576&&QF(e,mv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wg(t,e),t=e.pendingProps;var i=fc(e,dr.current);Yl(e,n),i=gT(null,e,r,t,i,n);var s=vT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(s=!0,fv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dT(e),i.updater=Jy,e.stateNode=i,i._reactInternals=e,db(e,r,t,n),e=pb(null,e,r,!0,s,n)):(e.tag=0,Vt&&s&&iT(e),pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kq(r),t=Mi(r,t),i){case 0:e=fb(null,e,r,t,n);break e;case 1:e=DR(null,e,r,t,n);break e;case 11:e=xR(null,e,r,t,n);break e;case 14:e=NR(null,e,r,Mi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),fb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),DR(t,e,r,i,n);case 3:e:{if(RM(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZF(t,e),yv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vc(Error(fe(423)),e),e=FR(t,e,r,n,i);break e}else if(r!==i){i=vc(Error(fe(424)),e),e=FR(t,e,r,n,i);break e}else for(Zr=Xo(e.stateNode.containerInfo.firstChild),ti=e,Vt=!0,Vi=null,n=rM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pc(),r===i){e=no(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return iM(e),t===null&&ub(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rb(r,i)?o=null:s!==null&&rb(r,s)&&(e.flags|=32),PM(t,e),pr(t,e,o,n),e.child;case 6:return t===null&&ub(e),null;case 13:return OM(t,e,n);case 4:return hT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mc(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),xR(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,It(gv,r._currentValue),r._currentValue=o,s!==null)if(Gi(s.value,o)){if(s.children===i.children&&!Br.current){e=no(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Gs(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),lb(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lb(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yl(e,n),i=Pi(i),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,i=Mi(r,e.pendingProps),i=Mi(r.type,i),NR(t,e,r,i,n);case 15:return CM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),wg(t,e),e.tag=1,zr(r)?(t=!0,fv(e)):t=!1,Yl(e,n),tM(e,r,i),db(e,r,i,n),pb(null,e,r,!0,t,n);case 19:return kM(t,e,n);case 22:return AM(t,e,n)}throw Error(fe(156,e.tag))};function GM(t,e){return _F(t,e)}function Oq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(t,e,n,r){return new Oq(t,e,n,r)}function AT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kq(t){if(typeof t=="function")return AT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WS)return 11;if(t===GS)return 14}return 2}function ta(t,e){var n=t.alternate;return n===null?(n=wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")AT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rl:return pu(n.children,i,s,e);case HS:o=8,i|=8;break;case Fw:return t=wi(12,n,e,i|2),t.elementType=Fw,t.lanes=s,t;case Mw:return t=wi(13,n,e,i),t.elementType=Mw,t.lanes=s,t;case $w:return t=wi(19,n,e,i),t.elementType=$w,t.lanes=s,t;case nF:return n_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eF:o=10;break e;case tF:o=9;break e;case WS:o=11;break e;case GS:o=14;break e;case No:o=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=wi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function pu(t,e,n,r){return t=wi(7,t,r,e),t.lanes=n,t}function n_(t,e,n,r){return t=wi(22,t,r,e),t.elementType=nF,t.lanes=n,t.stateNode={isHidden:!1},t}function y1(t,e,n){return t=wi(6,t,null,e),t.lanes=n,t}function _1(t,e,n){return e=wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z0(0),this.expirationTimes=Z0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function PT(t,e,n,r,i,s,o,a,u){return t=new xq(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dT(s),t}function Nq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KM(t){if(!t)return oa;t=t._reactInternals;e:{if(qu(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(zr(n))return GF(t,n,e)}return e}function QM(t,e,n,r,i,s,o,a,u){return t=PT(n,r,!0,t,i,s,o,a,u),t.context=KM(null),n=t.current,r=Sr(),i=ea(n),s=Gs(r,i),s.callback=e??null,Jo(n,s,i),t.current.lanes=i,ap(t,i,r),qr(t,r),t}function r_(t,e,n,r){var i=e.current,s=Sr(),o=ea(i);return n=KM(n),e.context===null?e.context=n:e.pendingContext=n,e=Gs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jo(i,e,o),t!==null&&(qi(t,i,o,s),vg(t,i,o)),o}function Cv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RT(t,e){HR(t,e),(t=t.alternate)&&HR(t,e)}function Dq(){return null}var YM=typeof reportError=="function"?reportError:function(t){console.error(t)};function OT(t){this._internalRoot=t}i_.prototype.render=OT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));r_(t,e,null,null)};i_.prototype.unmount=OT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cu(function(){r_(null,t,null,null)}),e[eo]=null}};function i_(t){this._internalRoot=t}i_.prototype.unstable_scheduleHydration=function(t){if(t){var e=CF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&PF(t)}};function kT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WR(){}function Fq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Cv(o);s.call(l)}}var o=QM(e,r,t,0,null,!1,!1,"",WR);return t._reactRootContainer=o,t[eo]=o.current,Jh(t.nodeType===8?t.parentNode:t),Cu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Cv(u);a.call(l)}}var u=PT(t,0,!1,null,null,!1,!1,"",WR);return t._reactRootContainer=u,t[eo]=u.current,Jh(t.nodeType===8?t.parentNode:t),Cu(function(){r_(e,u,n,r)}),u}function o_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Cv(o);a.call(u)}}r_(e,o,t,i)}else o=Fq(n,e,t,i,r);return Cv(o)}TF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jd(e.pendingLanes);n!==0&&(YS(e,n|1),qr(e,rn()),!(st&6)&&(yc=rn()+500,Ea()))}break;case 13:Cu(function(){var r=to(t,1);if(r!==null){var i=Sr();qi(r,t,1,i)}}),RT(t,1)}};XS=function(t){if(t.tag===13){var e=to(t,134217728);if(e!==null){var n=Sr();qi(e,t,134217728,n)}RT(t,134217728)}};IF=function(t){if(t.tag===13){var e=ea(t),n=to(t,e);if(n!==null){var r=Sr();qi(n,t,e,r)}RT(t,e)}};CF=function(){return gt};AF=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};Gw=function(t,e,n){switch(e){case"input":if(Uw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yy(r);if(!i)throw Error(fe(90));iF(r),Uw(r,i)}}}break;case"textarea":oF(t,n);break;case"select":e=n.value,e!=null&&Wl(t,!!n.multiple,e,!1)}};fF=TT;pF=Cu;var Mq={usingClientEntryPoint:!1,Events:[lp,Nl,Yy,dF,hF,TT]},Pd={findFiberByHostInstance:iu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$q={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vF(t),t===null?null:t.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||Dq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{Wy=Nm.inject($q),Ss=Nm}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mq;ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kT(e))throw Error(fe(200));return Nq(t,e,null,n)};ai.createRoot=function(t,e){if(!kT(t))throw Error(fe(299));var n=!1,r="",i=YM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=PT(t,1,!1,null,null,n,!1,r,i),t[eo]=e.current,Jh(t.nodeType===8?t.parentNode:t),new OT(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=vF(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return Cu(t)};ai.hydrate=function(t,e,n){if(!s_(e))throw Error(fe(200));return o_(null,t,e,!0,n)};ai.hydrateRoot=function(t,e,n){if(!kT(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QM(e,null,t,1,n??null,i,!1,s,o),t[eo]=e.current,Jh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i_(e)};ai.render=function(t,e,n){if(!s_(e))throw Error(fe(200));return o_(null,t,e,!1,n)};ai.unmountComponentAtNode=function(t){if(!s_(t))throw Error(fe(40));return t._reactRootContainer?(Cu(function(){o_(null,null,t,!1,function(){t._reactRootContainer=null,t[eo]=null})}),!0):!1};ai.unstable_batchedUpdates=TT;ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s_(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return o_(t,e,n,!1,r)};ai.version="18.2.0-next-9e3b772b8-20220608";function XM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XM)}catch(t){console.error(t)}}XM(),QD.exports=ai;var zc=QD.exports;const Lq=Pn(zc);wB(zc.unstable_batchedUpdates);function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Av(t,e)}function Ki(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Av(t,e)}function Dm(t){return t.charAt(0)==="/"}function w1(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Vq(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Dm(t),s=e&&Dm(e),o=i||s;if(t&&Dm(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var l=0,c=r.length;c>=0;c--){var d=r[c];d==="."?w1(r,c):d===".."?(w1(r,c),l++):l&&(w1(r,c),l--)}if(!o)for(;l--;l)r.unshift("..");o&&r[0]!==""&&(!r[0]||!Dm(r[0]))&&r.unshift("");var h=r.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function GR(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Tg(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,s){return Tg(i,e[s])});if(typeof t=="object"||typeof e=="object"){var n=GR(t),r=GR(e);return n!==t||r!==e?Tg(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return Tg(t[i],e[i])})}return!1}var Uq=!0;function xT(t,e){if(!Uq){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var jq=!0,b1="Invariant failed";function ho(t,e){if(!t){if(jq)throw new Error(b1);var n=typeof e=="function"?e():e,r=n?b1+": "+n:b1;throw new Error(r)}}function wh(t){return t.charAt(0)==="/"?t:"/"+t}function KR(t){return t.charAt(0)==="/"?t.substr(1):t}function Bq(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function JM(t,e){return Bq(t,e)?t.substr(e.length):t}function ZM(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function zq(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function kr(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function wr(t,e,n,r){var i;typeof t=="string"?(i=zq(t),i.state=e):(i=je({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Vq(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function qq(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Tg(t.state,e.state)}function NT(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,u,l){if(t!=null){var c=typeof t=="function"?t(o,a):t;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(o){var a=!0;function u(){a&&o.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(l){return l!==u})}}function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var e$=!!(typeof window<"u"&&window.document&&window.document.createElement);function t$(t,e){e(window.confirm(t))}function Hq(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Wq(){return window.navigator.userAgent.indexOf("Trident")===-1}function Gq(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Kq(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var QR="popstate",YR="hashchange";function XR(){try{return window.history.state||{}}catch{return{}}}function n$(t){t===void 0&&(t={}),e$||ho(!1);var e=window.history,n=Hq(),r=!Wq(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,u=a===void 0?t$:a,l=i.keyLength,c=l===void 0?6:l,d=t.basename?ZM(wh(t.basename)):"";function h(Y){var M=Y||{},V=M.key,N=M.state,q=window.location,B=q.pathname,S=q.search,x=q.hash,le=B+S+x;return d&&(le=JM(le,d)),wr(le,N,V)}function p(){return Math.random().toString(36).substr(2,c)}var m=NT();function y(Y){je(U,Y),U.length=e.length,m.notifyListeners(U.location,U.action)}function g(Y){Kq(Y)||b(h(Y.state))}function v(){b(h(XR()))}var _=!1;function b(Y){if(_)_=!1,y();else{var M="POP";m.confirmTransitionTo(Y,M,u,function(V){V?y({action:M,location:Y}):w(Y)})}}function w(Y){var M=U.location,V=A.indexOf(M.key);V===-1&&(V=0);var N=A.indexOf(Y.key);N===-1&&(N=0);var q=V-N;q&&(_=!0,te(q))}var E=h(XR()),A=[E.key];function R(Y){return d+kr(Y)}function $(Y,M){var V="PUSH",N=wr(Y,M,p(),U.location);m.confirmTransitionTo(N,V,u,function(q){if(q){var B=R(N),S=N.key,x=N.state;if(n)if(e.pushState({key:S,state:x},null,B),o)window.location.href=B;else{var le=A.indexOf(U.location.key),X=A.slice(0,le+1);X.push(N.key),A=X,y({action:V,location:N})}else window.location.href=B}})}function Q(Y,M){var V="REPLACE",N=wr(Y,M,p(),U.location);m.confirmTransitionTo(N,V,u,function(q){if(q){var B=R(N),S=N.key,x=N.state;if(n)if(e.replaceState({key:S,state:x},null,B),o)window.location.replace(B);else{var le=A.indexOf(U.location.key);le!==-1&&(A[le]=N.key),y({action:V,location:N})}else window.location.replace(B)}})}function te(Y){e.go(Y)}function ce(){te(-1)}function de(){te(1)}var Ee=0;function j(Y){Ee+=Y,Ee===1&&Y===1?(window.addEventListener(QR,g),r&&window.addEventListener(YR,v)):Ee===0&&(window.removeEventListener(QR,g),r&&window.removeEventListener(YR,v))}var W=!1;function ee(Y){Y===void 0&&(Y=!1);var M=m.setPrompt(Y);return W||(j(1),W=!0),function(){return W&&(W=!1,j(-1)),M()}}function F(Y){var M=m.appendListener(Y);return j(1),function(){j(-1),M()}}var U={length:e.length,action:"POP",location:E,createHref:R,push:$,replace:Q,go:te,goBack:ce,goForward:de,block:ee,listen:F};return U}var JR="hashchange",Qq={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+KR(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:KR,decodePath:wh},slash:{encodePath:wh,decodePath:wh}};function r$(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Rd(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Yq(t){window.location.hash=t}function E1(t){window.location.replace(r$(window.location.href)+"#"+t)}function Xq(t){t===void 0&&(t={}),e$||ho(!1);var e=window.history;Gq();var n=t,r=n.getUserConfirmation,i=r===void 0?t$:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?ZM(wh(t.basename)):"",u=Qq[o],l=u.encodePath,c=u.decodePath;function d(){var M=c(Rd());return a&&(M=JM(M,a)),wr(M)}var h=NT();function p(M){je(Y,M),Y.length=e.length,h.notifyListeners(Y.location,Y.action)}var m=!1,y=null;function g(M,V){return M.pathname===V.pathname&&M.search===V.search&&M.hash===V.hash}function v(){var M=Rd(),V=l(M);if(M!==V)E1(V);else{var N=d(),q=Y.location;if(!m&&g(q,N)||y===kr(N))return;y=null,_(N)}}function _(M){if(m)m=!1,p();else{var V="POP";h.confirmTransitionTo(M,V,i,function(N){N?p({action:V,location:M}):b(M)})}}function b(M){var V=Y.location,N=R.lastIndexOf(kr(V));N===-1&&(N=0);var q=R.lastIndexOf(kr(M));q===-1&&(q=0);var B=N-q;B&&(m=!0,ce(B))}var w=Rd(),E=l(w);w!==E&&E1(E);var A=d(),R=[kr(A)];function $(M){var V=document.querySelector("base"),N="";return V&&V.getAttribute("href")&&(N=r$(window.location.href)),N+"#"+l(a+kr(M))}function Q(M,V){var N="PUSH",q=wr(M,void 0,void 0,Y.location);h.confirmTransitionTo(q,N,i,function(B){if(B){var S=kr(q),x=l(a+S),le=Rd()!==x;if(le){y=S,Yq(x);var X=R.lastIndexOf(kr(Y.location)),xe=R.slice(0,X+1);xe.push(S),R=xe,p({action:N,location:q})}else p()}})}function te(M,V){var N="REPLACE",q=wr(M,void 0,void 0,Y.location);h.confirmTransitionTo(q,N,i,function(B){if(B){var S=kr(q),x=l(a+S),le=Rd()!==x;le&&(y=S,E1(x));var X=R.indexOf(kr(Y.location));X!==-1&&(R[X]=S),p({action:N,location:q})}})}function ce(M){e.go(M)}function de(){ce(-1)}function Ee(){ce(1)}var j=0;function W(M){j+=M,j===1&&M===1?window.addEventListener(JR,v):j===0&&window.removeEventListener(JR,v)}var ee=!1;function F(M){M===void 0&&(M=!1);var V=h.setPrompt(M);return ee||(W(1),ee=!0),function(){return ee&&(ee=!1,W(-1)),V()}}function U(M){var V=h.appendListener(M);return W(1),function(){W(-1),V()}}var Y={length:e.length,action:"POP",location:A,createHref:$,push:Q,replace:te,go:ce,goBack:de,goForward:Ee,block:F,listen:U};return Y}function ZR(t,e,n){return Math.min(Math.max(t,e),n)}function Jq(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,u=a===void 0?6:a,l=NT();function c($){je(R,$),R.length=R.entries.length,l.notifyListeners(R.location,R.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=ZR(o,0,i.length-1),p=i.map(function($){return typeof $=="string"?wr($,void 0,d()):wr($,void 0,$.key||d())}),m=kr;function y($,Q){var te="PUSH",ce=wr($,Q,d(),R.location);l.confirmTransitionTo(ce,te,n,function(de){if(de){var Ee=R.index,j=Ee+1,W=R.entries.slice(0);W.length>j?W.splice(j,W.length-j,ce):W.push(ce),c({action:te,location:ce,index:j,entries:W})}})}function g($,Q){var te="REPLACE",ce=wr($,Q,d(),R.location);l.confirmTransitionTo(ce,te,n,function(de){de&&(R.entries[R.index]=ce,c({action:te,location:ce}))})}function v($){var Q=ZR(R.index+$,0,R.entries.length-1),te="POP",ce=R.entries[Q];l.confirmTransitionTo(ce,te,n,function(de){de?c({action:te,location:ce,index:Q}):c()})}function _(){v(-1)}function b(){v(1)}function w($){var Q=R.index+$;return Q>=0&&Q<R.entries.length}function E($){return $===void 0&&($=!1),l.setPrompt($)}function A($){return l.appendListener($)}var R={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:m,push:y,replace:g,go:v,goBack:_,goForward:b,canGo:w,block:E,listen:A};return R}var S1=1073741823,eO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function Zq(){var t="__global_unique_id__";return eO[t]=(eO[t]||0)+1}function eH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tH(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function nH(t){return Array.isArray(t)?t[0]:t}function rH(t,e){var n,r,i="__create-react-context-"+Zq()+"__",s=function(a){Ki(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.emitter=tH(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},l.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,m;eH(h,p)?m=0:(m=typeof e=="function"?e(h,p):S1,m|=0,m!==0&&this.emitter.set(d.value,m))}},l.render=function(){return this.props.children},u}(C.Component);s.childContextTypes=(n={},n[i]=T.object.isRequired,n);var o=function(a){Ki(u,a);function u(){var c;return c=a.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(d,h){var p=c.observedBits|0;p&h&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h??S1},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??S1},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return nH(this.props.children)(this.state.value)},u}(C.Component);return o.contextTypes=(r={},r[i]=T.object,r),{Provider:s,Consumer:o}}var iH=qe.createContext||rH,qc={exports:{}},sH=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Pv=sH;qc.exports=o$;qc.exports.parse=DT;qc.exports.compile=aH;qc.exports.tokensToFunction=i$;qc.exports.tokensToRegExp=s$;var oH=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function DT(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=oH.exec(t))!=null;){var u=a[0],l=a[1],c=a.index;if(s+=t.slice(i,c),i=c+u.length,l){s+=l[1];continue}var d=t[i],h=a[2],p=a[3],m=a[4],y=a[5],g=a[6],v=a[7];s&&(n.push(s),s="");var _=h!=null&&d!=null&&d!==h,b=g==="+"||g==="*",w=g==="?"||g==="*",E=a[2]||o,A=m||y;n.push({name:p||r++,prefix:h||"",delimiter:E,optional:w,repeat:b,partial:_,asterisk:!!v,pattern:A?cH(A):v?".*":"[^"+Ig(E)+"]+?"})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function aH(t,e){return i$(DT(t,e),e)}function uH(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function lH(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i$(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",MT(e)));return function(i,s){for(var o="",a=i||{},u=s||{},l=u.pretty?uH:encodeURIComponent,c=0;c<t.length;c++){var d=t[c];if(typeof d=="string"){o+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Pv(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(p=l(h[m]),!n[c].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(m===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?lH(h):l(h),!n[c].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}return o}}function Ig(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function cH(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function FT(t,e){return t.keys=e,t}function MT(t){return t&&t.sensitive?"":"i"}function dH(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return FT(t,e)}function hH(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(o$(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",MT(n));return FT(s,e)}function fH(t,e,n){return s$(DT(t,n),e,n)}function s$(t,e,n){Pv(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Ig(a);else{var u=Ig(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+u+l+")*"),a.optional?a.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",s+=l}}var c=Ig(n.delimiter||"/"),d=s.slice(-c.length)===c;return r||(s=(d?s.slice(0,-c.length):s)+"(?:"+c+"(?=$))?"),i?s+="$":s+=r&&d?"":"(?="+c+"|$)",FT(new RegExp("^"+s,MT(n)),e)}function o$(t,e,n){return Pv(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?dH(t,e):Pv(t)?hH(t,e,n):fH(t,e,n)}var pH=qc.exports;const a$=Pn(pH);var u$=function(e){var n=iH();return n.displayName=e,n},l$=u$("Router-History"),Rs=u$("Router"),dp=function(t){Ki(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return qe.createElement(Rs.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},qe.createElement(l$.Provider,{children:this.props.children||null,value:this.props.history}))},e}(qe.Component);qe.Component;var mH=function(t){Ki(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(qe.Component),T1={},gH=1e4,tO=0;function vH(t){if(T1[t])return T1[t];var e=a$.compile(t);return tO<gH&&(T1[t]=e,tO++),e}function nO(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:vH(t)(e,{pretty:!0})}function ro(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return qe.createElement(Rs.Consumer,null,function(s){s||ho(!1);var o=s.history,a=s.staticContext,u=i?o.push:o.replace,l=wr(e?typeof n=="string"?nO(n,e.params):je({},n,{pathname:nO(n.pathname,e.params)}):n);return a?(u(l),null):f(mH,{onMount:function(){u(l)},onUpdate:function(d,h){var p=wr(h.to);qq(p,je({},l,{key:p.key}))||u(l)},to:n})})}var rO={},yH=1e4,iO=0;function _H(t,e){var n=""+e.end+e.strict+e.sensitive,r=rO[n]||(rO[n]={});if(r[t])return r[t];var i=[],s=a$(t,i,e),o={regexp:s,keys:i};return iO<yH&&(r[t]=o,iO++),o}function $T(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=_H(h,{end:s,strict:a,sensitive:l}),m=p.regexp,y=p.keys,g=m.exec(t);if(!g)return null;var v=g[0],_=g.slice(1),b=t===v;return s&&!b?null:{path:h,url:h==="/"&&v===""?"/":v,isExact:b,params:y.reduce(function(w,E,A){return w[E.name]=_[A],w},{})}},null)}function wH(t){return qe.Children.count(t)===0}var Vs=function(t){Ki(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return qe.createElement(Rs.Consumer,null,function(s){s||ho(!1);var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?$T(o.pathname,i.props):s.match,u=je({},s,{location:o,match:a}),l=i.props,c=l.children,d=l.component,h=l.render;return Array.isArray(c)&&wH(c)&&(c=null),qe.createElement(Rs.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:d?qe.createElement(d,u):h?h(u):null:typeof c=="function"?c(u):null)})},e}(qe.Component);function LT(t){return t.charAt(0)==="/"?t:"/"+t}function bH(t,e){return t?je({},e,{pathname:LT(t)+e.pathname}):e}function EH(t,e){if(!t)return e;var n=LT(t);return e.pathname.indexOf(n)!==0?e:je({},e,{pathname:e.pathname.substr(n.length)})}function sO(t){return typeof t=="string"?t:kr(t)}function I1(t){return function(){ho(!1)}}function oO(){}qe.Component;var SH=function(t){Ki(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return qe.createElement(Rs.Consumer,null,function(s){s||ho(!1);var o=i.props.location||s.location,a,u;return qe.Children.forEach(i.props.children,function(l){if(u==null&&qe.isValidElement(l)){a=l;var c=l.props.path||l.props.from;u=c?$T(o.pathname,je({},l.props,{path:c})):s.match}}),u?qe.cloneElement(a,{location:o,computedMatch:u}):null})},e}(qe.Component);function Sa(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var s=i.wrappedComponentRef,o=Wi(i,["wrappedComponentRef"]);return qe.createElement(Rs.Consumer,null,function(a){return a||ho(!1),f(t,{...o,...a,ref:s})})};return n.displayName=e,n.WrappedComponent=t,nv(n,t)}var VT=qe.useContext;function li(){return VT(l$)}function a_(){return VT(Rs).location}function TH(){var t=VT(Rs).match;return t?t.params:{}}qe.Component;qe.Component;var Cb=function(e,n){return typeof e=="function"?e(n):e},Ab=function(e,n){return typeof e=="string"?wr(e,null,null,n):e},UT=function(e){return e},_c=qe.forwardRef;typeof _c>"u"&&(_c=UT);function IH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var CH=_c(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=Wi(t,["innerRef","navigate","onClick"]),o=s.target,a=je({},s,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!o||o==="_self")&&!IH(l)&&(l.preventDefault(),r())}});return UT!==_c?a.ref=e||n:a.ref=n,f("a",{...a})}),Tr=_c(function(t,e){var n=t.component,r=n===void 0?CH:n,i=t.replace,s=t.to,o=t.innerRef,a=Wi(t,["component","replace","to","innerRef"]);return qe.createElement(Rs.Consumer,null,function(u){u||ho(!1);var l=u.history,c=Ab(Cb(s,u.location),u.location),d=c?l.createHref(c):"",h=je({},a,{href:d,navigate:function(){var m=Cb(s,u.location),y=kr(u.location)===kr(Ab(m)),g=i||y?l.replace:l.push;g(m)}});return UT!==_c?h.ref=e||o:h.innerRef=o,qe.createElement(r,h)})}),c$=function(e){return e},Rv=qe.forwardRef;typeof Rv>"u"&&(Rv=c$);function AH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}var Bo=Rv(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,u=t.exact,l=t.isActive,c=t.location,d=t.sensitive,h=t.strict,p=t.style,m=t.to,y=t.innerRef,g=Wi(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return qe.createElement(Rs.Consumer,null,function(v){v||ho(!1);var _=c||v.location,b=Ab(Cb(m,_),_),w=b.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=E?$T(_.pathname,{path:E,exact:u,sensitive:d,strict:h}):null,R=!!(l?l(A,_):A),$=typeof a=="function"?a(R):a,Q=typeof p=="function"?p(R):p;R&&($=AH($,s),Q=je({},Q,o));var te=je({"aria-current":R&&r||null,className:$,style:Q,to:b},g);return c$!==Rv?te.ref=e||y:te.innerRef=y,f(Tr,{...te})})}),PH=C.createContext({});const d$=PH;function RH(t){if(Array.isArray(t))return t}function OH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h$(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function kH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(t,e){return RH(t)||OH(t,e)||h$(t,e)||kH()}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ta(t,e){if(t==null)return{};var n=Wi(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var p$={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var u in s)e.call(s,u)&&s[u]&&r.push(u);else r.push(s.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(p$);var xH=p$.exports;const NH=Pn(xH);function Ci(t,e){DH(t)&&(t="100%");var n=FH(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function DH(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function FH(t){return typeof t=="string"&&t.indexOf("%")!==-1}function MH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Fm(t){return t<=1?"".concat(Number(t)*100,"%"):t}function C1(t){return t.length===1?"0"+t:String(t)}function $H(t,e,n){return{r:Ci(t,255)*255,g:Ci(e,255)*255,b:Ci(n,255)*255}}function A1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LH(t,e,n){var r,i,s;if(t=Ci(t,360),e=Ci(e,100),n=Ci(n,100),e===0)i=n,s=n,r=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=A1(a,o,t+1/3),i=A1(a,o,t),s=A1(a,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function VH(t,e,n){t=Ci(t,255),e=Ci(e,255),n=Ci(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=r,a=r-i,u=r===0?0:a/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:u,v:o}}function UH(t,e,n){t=Ci(t,360)*6,e=Ci(e,100),n=Ci(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6,l=[n,o,s,s,a,n][u],c=[a,n,n,o,s,s][u],d=[s,s,a,n,n,o][u];return{r:l*255,g:c*255,b:d*255}}function jH(t,e,n,r){var i=[C1(Math.round(t).toString(16)),C1(Math.round(e).toString(16)),C1(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function aO(t){return Yr(t)/255}function Yr(t){return parseInt(t,16)}var uO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Od(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=qH(t)),typeof t=="object"&&(Fs(t.r)&&Fs(t.g)&&Fs(t.b)?(e=$H(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fs(t.h)&&Fs(t.s)&&Fs(t.v)?(r=Fm(t.s),i=Fm(t.v),e=UH(t.h,r,i),o=!0,a="hsv"):Fs(t.h)&&Fs(t.s)&&Fs(t.l)&&(r=Fm(t.s),s=Fm(t.l),e=LH(t.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=MH(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var BH="[-\\+]?\\d+%?",zH="[-\\+]?\\d*\\.\\d+%?",zo="(?:".concat(zH,")|(?:").concat(BH,")"),P1="[\\s|\\(]+(".concat(zo,")[,|\\s]+(").concat(zo,")[,|\\s]+(").concat(zo,")\\s*\\)?"),R1="[\\s|\\(]+(".concat(zo,")[,|\\s]+(").concat(zo,")[,|\\s]+(").concat(zo,")[,|\\s]+(").concat(zo,")\\s*\\)?"),Di={CSS_UNIT:new RegExp(zo),rgb:new RegExp("rgb"+P1),rgba:new RegExp("rgba"+R1),hsl:new RegExp("hsl"+P1),hsla:new RegExp("hsla"+R1),hsv:new RegExp("hsv"+P1),hsva:new RegExp("hsva"+R1),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function qH(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(uO[t])t=uO[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Di.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Di.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Di.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Di.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Di.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Di.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Di.hex8.exec(t),n?{r:Yr(n[1]),g:Yr(n[2]),b:Yr(n[3]),a:aO(n[4]),format:e?"name":"hex8"}:(n=Di.hex6.exec(t),n?{r:Yr(n[1]),g:Yr(n[2]),b:Yr(n[3]),format:e?"name":"hex"}:(n=Di.hex4.exec(t),n?{r:Yr(n[1]+n[1]),g:Yr(n[2]+n[2]),b:Yr(n[3]+n[3]),a:aO(n[4]+n[4]),format:e?"name":"hex8"}:(n=Di.hex3.exec(t),n?{r:Yr(n[1]+n[1]),g:Yr(n[2]+n[2]),b:Yr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Fs(t){return!!Di.CSS_UNIT.exec(String(t))}var Mm=2,lO=.16,HH=.05,WH=.05,GH=.15,m$=5,g$=4,KH=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cO(t){var e=t.r,n=t.g,r=t.b,i=VH(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function $m(t){var e=t.r,n=t.g,r=t.b;return"#".concat(jH(e,n,r,!1))}function QH(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function dO(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Mm*e:Math.round(t.h)+Mm*e:r=n?Math.round(t.h)+Mm*e:Math.round(t.h)-Mm*e,r<0?r+=360:r>=360&&(r-=360),r}function hO(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-lO*e:e===g$?r=t.s+lO:r=t.s+HH*e,r>1&&(r=1),n&&e===m$&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function fO(t,e,n){var r;return n?r=t.v+WH*e:r=t.v-GH*e,r>1&&(r=1),Number(r.toFixed(2))}function Rb(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Od(t),i=m$;i>0;i-=1){var s=cO(r),o=$m(Od({h:dO(s,i,!0),s:hO(s,i,!0),v:fO(s,i,!0)}));n.push(o)}n.push($m(r));for(var a=1;a<=g$;a+=1){var u=cO(r),l=$m(Od({h:dO(u,a),s:hO(u,a),v:fO(u,a)}));n.push(l)}return e.theme==="dark"?KH.map(function(c){var d=c.index,h=c.opacity,p=$m(QH(Od(e.backgroundColor||"#141414"),Od(n[d]),h*100));return p}):n}var O1={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Cg={},k1={};Object.keys(O1).forEach(function(t){Cg[t]=Rb(O1[t]),Cg[t].primary=Cg[t][5],k1[t]=Rb(O1[t],{theme:"dark",backgroundColor:"#141414"}),k1[t].primary=k1[t][5]});var YH=Cg.blue;function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function XH(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function JH(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var mO="data-rc-order",gO="data-rc-priority",ZH="rc-util-key",Ob=new Map;function v$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):ZH}function jT(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function eW(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function y$(t){return Array.from((Ob.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function _$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!XH())return null;var n=e.csp,r=e.prepend,i=e.priority,s=i===void 0?0:i,o=eW(r),a=o==="prependQueue",u=document.createElement("style");u.setAttribute(mO,o),a&&s&&u.setAttribute(gO,"".concat(s)),n!=null&&n.nonce&&(u.nonce=n==null?void 0:n.nonce),u.innerHTML=t;var l=jT(e),c=l.firstChild;if(r){if(a){var d=y$(l).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(mO)))return!1;var p=Number(h.getAttribute(gO)||0);return s>=p});if(d.length)return l.insertBefore(u,d[d.length-1].nextSibling),u}l.insertBefore(u,c)}else l.appendChild(u);return u}function tW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=jT(e);return y$(n).find(function(r){return r.getAttribute(v$(e))===t})}function nW(t,e){var n=Ob.get(t);if(!n||!JH(document,n)){var r=_$("",e),i=r.parentNode;Ob.set(t,i),t.removeChild(r)}}function rW(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=jT(n);nW(r,n);var i=tW(e,n);if(i){var s,o;if((s=n.csp)!==null&&s!==void 0&&s.nonce&&i.nonce!==((o=n.csp)===null||o===void 0?void 0:o.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var u=_$(t,n);return u.setAttribute(v$(n),e),u}function w$(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function iW(t){return w$(t)instanceof ShadowRoot}function sW(t){return iW(t)?w$(t):null}var kb={},oW=function(e){};function aW(t,e){}function uW(t,e){}function lW(){kb={}}function b$(t,e,n){!e&&!kb[n]&&(t(!1,n),kb[n]=!0)}function u_(t,e){b$(aW,t,e)}function cW(t,e){b$(uW,t,e)}u_.preMessage=oW;u_.resetWarned=lW;u_.noteOnce=cW;function dW(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function hW(t,e){u_(t,"[@ant-design/icons] ".concat(e))}function vO(t){return uf(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(uf(t.icon)==="object"||typeof t.icon=="function")}function yO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[dW(n)]=r}return e},{})}function xb(t,e,n){return n?qe.createElement(t.tag,gs(gs({key:e},yO(t.attrs)),n),(t.children||[]).map(function(r,i){return xb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):qe.createElement(t.tag,gs({key:e},yO(t.attrs)),(t.children||[]).map(function(r,i){return xb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function E$(t){return Rb(t)[0]}function S$(t){return t?Array.isArray(t)?t:[t]:[]}var fW=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,pW=function(e){var n=C.useContext(d$),r=n.csp,i=n.prefixCls,s=fW;i&&(s=s.replace(/anticon/g,i)),C.useEffect(function(){var o=e.current,a=sW(o);rW(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},mW=["icon","className","onClick","style","primaryColor","secondaryColor"],bh={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function gW(t){var e=t.primaryColor,n=t.secondaryColor;bh.primaryColor=e,bh.secondaryColor=n||E$(e),bh.calculated=!!n}function vW(){return gs({},bh)}var l_=function(e){var n=e.icon,r=e.className,i=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,u=Ta(e,mW),l=C.useRef(),c=bh;if(o&&(c={primaryColor:o,secondaryColor:a||E$(o)}),pW(l),hW(vO(n),"icon should be icon definiton, but got ".concat(n)),!vO(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=gs(gs({},d),{},{icon:d.icon(c.primaryColor,c.secondaryColor)})),xb(d.icon,"svg-".concat(d.name),gs(gs({className:r,onClick:i,style:s,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:l}))};l_.displayName="IconReact";l_.getTwoToneColors=vW;l_.setTwoToneColors=gW;const BT=l_;function T$(t){var e=S$(t),n=f$(e,2),r=n[0],i=n[1];return BT.setTwoToneColors({primaryColor:r,secondaryColor:i})}function yW(){var t=BT.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var _W=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];T$(YH.primary);var c_=C.forwardRef(function(t,e){var n,r=t.className,i=t.icon,s=t.spin,o=t.rotate,a=t.tabIndex,u=t.onClick,l=t.twoToneColor,c=Ta(t,_W),d=C.useContext(d$),h=d.prefixCls,p=h===void 0?"anticon":h,m=d.rootClassName,y=NH(m,p,(n={},pi(n,"".concat(p,"-").concat(i.name),!!i.name),pi(n,"".concat(p,"-spin"),!!s||i.name==="loading"),n),r),g=a;g===void 0&&u&&(g=-1);var v=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,_=S$(l),b=f$(_,2),w=b[0],E=b[1];return f("span",{role:"img","aria-label":i.name,...c,ref:e,tabIndex:g,onClick:u,className:y,children:f(BT,{icon:i,primaryColor:w,secondaryColor:E,style:v})})});c_.displayName="AntdIcon";c_.getTwoToneColor=yW;c_.setTwoToneColor=T$;const kn=c_;var wW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const bW=wW;var EW=function(e,n){return f(kn,{...e,ref:n,icon:bW})};const d_=C.forwardRef(EW);var SW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const TW=SW;var IW=function(e,n){return f(kn,{...e,ref:n,icon:TW})};const hp=C.forwardRef(IW);var CW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const AW=CW;var PW=function(e,n){return f(kn,{...e,ref:n,icon:AW})};const fp=C.forwardRef(PW);var RW={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const OW=RW;var kW=function(e,n){return f(kn,{...e,ref:n,icon:OW})};const Lm=C.forwardRef(kW);var xW={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const NW=xW;var DW=function(e,n){return f(kn,{...e,ref:n,icon:NW})};const I$=C.forwardRef(DW);var FW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const MW=FW;var $W=function(e,n){return f(kn,{...e,ref:n,icon:MW})};const LW=C.forwardRef($W);var VW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const UW=VW;var jW=function(e,n){return f(kn,{...e,ref:n,icon:UW})};const _O=C.forwardRef(jW);var BW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"};const zW=BW;var qW=function(e,n){return f(kn,{...e,ref:n,icon:zW})};const HW=C.forwardRef(qW);var WW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const GW=WW;var KW=function(e,n){return f(kn,{...e,ref:n,icon:GW})};const C$=C.forwardRef(KW);var QW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"};const YW=QW;var XW=function(e,n){return f(kn,{...e,ref:n,icon:YW})};const JW=C.forwardRef(XW);var ZW={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const eG=ZW;var tG=function(e,n){return f(kn,{...e,ref:n,icon:eG})};const hr=C.forwardRef(tG);var nG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const rG=nG;var iG=function(e,n){return f(kn,{...e,ref:n,icon:rG})};const sG=C.forwardRef(iG);var oG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const aG=oG;var uG=function(e,n){return f(kn,{...e,ref:n,icon:aG})};const lG=C.forwardRef(uG);var cG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const dG=cG;var hG=function(e,n){return f(kn,{...e,ref:n,icon:dG})};const A$=C.forwardRef(hG);var fG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const pG=fG;var mG=function(e,n){return f(kn,{...e,ref:n,icon:pG})};const gG=C.forwardRef(mG);var vG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0014.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0015.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 01512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 01-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z"}}]},name:"shop",theme:"outlined"};const yG=vG;var _G=function(e,n){return f(kn,{...e,ref:n,icon:yG})};const wG=C.forwardRef(_G);var bG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"}}]},name:"shopping",theme:"outlined"};const EG=bG;var SG=function(e,n){return f(kn,{...e,ref:n,icon:EG})};const TG=C.forwardRef(SG);var IG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const CG=IG;var AG=function(e,n){return f(kn,{...e,ref:n,icon:CG})};const PG=C.forwardRef(AG),zT="GET_PRODUCTS",qT="SEARCH_PRODUCT",P$="SEARCH_PRODUCT_SUCCESS",R$="GET_PRODUCTS_SUCCESS",HT="ADD_PRODUCT",O$="ADD_PRODUCT_SUCCESS",WT="REMOVE_PRODUCT",k$="REMOVE_PRODUCT_SUCCESS",GT="EDIT_PRODUCT",x$="EDIT_PRODUCT_SUCCESS",N$="CLEAR_SEARCH_STATE",D$="SET_BASKET_ITEMS",F$="ADD_TO_BASKET",M$="REMOVE_FROM_BASKET",$$="CLEAR_BASKET",L$="ADD_QTY_ITEM",V$="MINUS_QTY_ITEM",U$="SET_CHECKOUT_SHIPPING_DETAILS",j$="SET_CHECKOUT_PAYMENT_DETAILS",B$="RESET_CHECKOUT",KT="SIGNIN",z$="SIGNIN_SUCCESS",QT="SIGNUP",YT="SIGNOUT",q$="SIGNOUT_SUCCESS",H$="SET_AUTH_STATUS",XT="SIGNIN_WITH_GOOGLE",JT="SIGNIN_WITH_FACEBOOK",W$="SIGNIN_WITH_GITHUB",RG="ON_AUTHSTATE_CHANGED",G$="SET_AUTH_PERSISTENCE",ZT="ON_AUTHSTATE_SUCCESS",eI="ON_AUTHSTATE_FAIL",tI="RESET_PASSWORD",K$="UPDATE_EMAIL",Q$="SET_PROFILE",nI="UPDATE_PROFILE",Y$="UPDATE_PROFILE_SUCCESS",X$="CLEAR_PROFILE",OG="SET_TEXT_FILTER",kG="SET_BRAND_FILTER",xG="SET_MIN_PRICE_FILTER",NG="SET_MAX_PRICE_FILTER",J$="RESET_FILTER",Z$="APPLY_FILTER",eL="CLEAR_RECENT_SEARCH",tL="REMOVE_SELECTED_RECENT",DG="GET_USER",FG="ADD_USER",MG="DELETE_USER",$G="EDIT_USER",nL="CHANGE_USER_ROLE",rL="LOADING",iL="IS_AUTHENTICATING",sL="SET_REQUEST_STATUS",LG=(t,e)=>({type:KT,payload:{email:t,password:e}}),VG=()=>({type:XT}),UG=()=>({type:JT}),jG=t=>({type:QT,payload:t}),wO=t=>({type:z$,payload:t}),BG=()=>({type:YT}),bO=()=>({type:q$}),zG=t=>({type:ZT,payload:t}),qG=t=>({type:eI,payload:t}),HG=t=>({type:tI,payload:t}),oL=()=>{const{profile:t,isAuthenticating:e}=On(a=>({profile:a.profile,isAuthenticating:a.app.isAuthenticating})),n=C.useRef(null),r=tn(),[i,s]=C.useState(!1);return f("button",{className:`user-nav ${i?"user-sub-open":""}`,onClick:()=>{s(!i)},onKeyDown:()=>{},ref:n,role:"button",tabIndex:0,children:e?O(Cn,{children:[f("span",{children:"Signing Out"}),"",f(hr,{})]}):O(Cn,{children:[f("h5",{className:"text-overflow-ellipsis",children:t.fullname&&t.fullname.split(" ")[0]}),f("div",{className:"user-nav-img-wrapper",children:f("img",{alt:"",className:"user-nav-img",src:t.avatar})}),f(LW,{style:{fontSize:"1.2rem",marginLeft:"1rem"}}),O("div",{className:"user-nav-sub",children:[t.role!=="ADMIN"&&O(Tr,{to:Ry,className:"user-nav-sub-link",children:["View Account",f(PG,{})]}),O("h6",{className:"user-nav-sub-link margin-0 d-flex",onClick:()=>r(BG()),role:"presentation",children:["Sign Out",f(sG,{})]})]})]})})};oL.propTypes={profile:T.object.isRequired};const rI=Sa(oL),WG=()=>{const{isAuthenticating:t,profile:e}=On(n=>({isAuthenticating:n.app.isAuthenticating,profile:n.profile}));return O("nav",{className:"navigation navigation-admin",children:[f("div",{className:"logo",children:O(Tr,{to:Oy,style:{display:"flex",alignItems:"center"},children:[f("img",{alt:"Logo",src:AS}),f("h3",{children:"DASHBOARD"})]})}),f("ul",{className:"navigation-menu",children:f("li",{className:"navigation-menu-item",children:f(rI,{isAuthenticating:t,profile:e})})})]})},GG=()=>f("aside",{className:"sidenavigation",children:O("div",{className:"sidenavigation-wrapper",children:[f("div",{className:"sidenavigation-item",children:f(Bo,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:lh,children:"Products"})}),f("div",{className:"sidenavigation-item",children:f(Bo,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:SS,children:"Add Product"})}),f("div",{className:"sidenavigation-item",children:f(Bo,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:Xj,children:"Users"})}),f("div",{className:"sidenavigation-item",children:f(Bo,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:Zj,children:"rders"})})]})}),iI=({count:t,children:e})=>O("div",{className:"badge",children:[e,t>=1&&f("span",{className:"badge-count",children:t})]});iI.propTypes={count:T.number.isRequired,children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};class Hu extends C.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){console.log(e)}render(){const{hasError:e}=this.state,{children:n}=this.props;return e?f("div",{className:"loader",children:f("h3",{children:":( Algo salio mal!"})}):n}}Hu.propTypes={children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};const aL=({availableColors:t,onSelectedColorChange:e})=>{const[n,r]=C.useState(""),i=s=>{r(s),e(s)};return f("div",{className:"color-chooser",children:t.map(s=>f("div",{className:n===s?"color-item color-item-selected":"color-item",onClick:()=>i(s),style:{backgroundColor:s},role:"presentation"},s))})};aL.propTypes={availableColors:T.arrayOf(T.string).isRequired,onSelectedColorChange:T.func.isRequired};const KG=t=>{const e=new Date(t),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=e.getDate(),i=e.getMonth(),s=e.getFullYear();return`${n[i]} ${r}, ${s}`},io=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),uL=t=>!t||(t==null?void 0:t.length)===0?0:t.reduce((n,r)=>n+r,0).toFixed(2),bi=(t,e="info")=>{const n=document.querySelector(".toast");n&&document.body.removeChild(n);const r=document.createElement("div"),i=document.createElement("span");r.className=`toast ${e==="info"?"toast-info":e==="success"?"toast-success":"toast-error"}`,i.className="toast-msg",i.textContent=t,r.appendChild(i),document.body.appendChild(r),setTimeout(()=>{try{document.body.removeChild(r)}catch(s){console.log(s)}},3e3)},EO=(t=[])=>({type:D$,payload:t}),QG=t=>({type:F$,payload:t}),lL=t=>({type:M$,payload:t}),cL=()=>({type:$$}),YG=t=>({type:L$,payload:t}),XG=t=>({type:V$,payload:t}),dL=()=>{const{basket:t}=On(i=>({basket:i.basket})),e=tn(),n=i=>!!t.find(s=>s.id===i);return{basket:t,isItemOnBasket:n,addToBasket:i=>{n(i.id)?(e(lL(i.id)),bi("Item removed from basket","info")):(e(QG(i)),bi("Item added to basket","success"))}}},Wu=(t=!1)=>{const[e,n]=C.useState(t);return C.useEffect(()=>(n(!0),()=>{n(!1)}),[]),e},Yn=t=>{C.useLayoutEffect(()=>{t?document.title=t:document.title="Salinaka - eCommerce React App"},[t])};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new ZG;const h=s<<2|a>>4;if(r.push(h),l!==64){const p=a<<4&240|l>>2;if(r.push(p),d!==64){const m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eK=function(t){const e=hL(t);return fL.encodeByteArray(e,!0)},Ov=function(t){return eK(t).replace(/\./g,"")},pL=function(t){try{return fL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tK(n)||(t[n]=kv(t[n],e[n]));return t}function tK(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=()=>nK().__FIREBASE_DEFAULTS__,iK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pL(t[1]);return e&&JSON.parse(e)},sI=()=>{try{return rK()||iK()||sK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mL=()=>{var t;return(t=sI())===null||t===void 0?void 0:t.config},oK=t=>{var e;return(e=sI())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ov(JSON.stringify(n)),Ov(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function h_(){var t;const e=(t=sI())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lK(){return typeof self=="object"&&self.self===self}function vL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yL(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cK(){return!h_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lf(){try{return typeof indexedDB=="object"}catch{return!1}}function dK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hK,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ar(i,a,r)}}function fK(t,e){return t.replace(pK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pK=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TO(s)&&TO(o)){if(!Nb(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _L(t,e){const n=new gK(t,e);return n.subscribe.bind(n)}class gK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x1),i.error===void 0&&(i.error=x1),i.complete===void 0&&(i.complete=x1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wK(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_K(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _K(t){return t===Ha?void 0:t}function wK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=[];var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const wL={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},EK=Je.INFO,SK={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},TK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=EK,this._logHandler=TK,this._userLogHandler=null,aI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}function IK(t){aI.forEach(e=>{e.setLogLevel(t)})}function CK(t,e){for(const n of aI){let r=null;e&&e.level&&(r=wL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:Je[s].toLowerCase(),message:a,args:o,type:i.name})}}}const AK=(t,e)=>e.some(n=>t instanceof n);let IO,CO;function PK(){return IO||(IO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RK(){return CO||(CO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bL=new WeakMap,Db=new WeakMap,EL=new WeakMap,N1=new WeakMap,uI=new WeakMap;function OK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(na(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bL.set(n,t)}).catch(()=>{}),uI.set(e,t),e}function kK(t){if(Db.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Db.set(t,e)}let Fb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Db.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xK(t){Fb=t(Fb)}function NK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(D1(this),e,...n);return EL.set(r,e.sort?e.sort():[e]),na(r)}:RK().includes(t)?function(...e){return t.apply(D1(this),e),na(bL.get(this))}:function(...e){return na(t.apply(D1(this),e))}}function DK(t){return typeof t=="function"?NK(t):(t instanceof IDBTransaction&&kK(t),AK(t,PK())?new Proxy(t,Fb):t)}function na(t){if(t instanceof IDBRequest)return OK(t);if(N1.has(t))return N1.get(t);const e=DK(t);return e!==t&&(N1.set(t,e),uI.set(e,t)),e}const D1=t=>uI.get(t);function FK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=na(o);return r&&o.addEventListener("upgradeneeded",u=>{r(na(o.result),u.oldVersion,u.newVersion,na(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const MK=["get","getKey","getAll","getAllKeys","count"],$K=["put","add","delete","clear"],F1=new Map;function AO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(F1.get(e))return F1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$K.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MK.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return F1.set(e,s),s}xK(t=>({...t,get:(e,n,r)=>AO(e,n)||t.get(e,n,r),has:(e,n)=>!!AO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mb="@firebase/app",PO="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new f_("@firebase/app"),UK="@firebase/app-compat",jK="@firebase/analytics-compat",BK="@firebase/analytics",zK="@firebase/app-check-compat",qK="@firebase/app-check",HK="@firebase/auth",WK="@firebase/auth-compat",GK="@firebase/database",KK="@firebase/database-compat",QK="@firebase/functions",YK="@firebase/functions-compat",XK="@firebase/installations",JK="@firebase/installations-compat",ZK="@firebase/messaging",eQ="@firebase/messaging-compat",tQ="@firebase/performance",nQ="@firebase/performance-compat",rQ="@firebase/remote-config",iQ="@firebase/remote-config-compat",sQ="@firebase/storage",oQ="@firebase/storage-compat",aQ="@firebase/firestore",uQ="@firebase/firestore-compat",lQ="firebase",cQ="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]",dQ={[Mb]:"fire-core",[UK]:"fire-core-compat",[BK]:"fire-analytics",[jK]:"fire-analytics-compat",[qK]:"fire-app-check",[zK]:"fire-app-check-compat",[HK]:"fire-auth",[WK]:"fire-auth-compat",[GK]:"fire-rtdb",[KK]:"fire-rtdb-compat",[QK]:"fire-fn",[YK]:"fire-fn-compat",[XK]:"fire-iid",[JK]:"fire-iid-compat",[ZK]:"fire-fcm",[eQ]:"fire-fcm-compat",[tQ]:"fire-perf",[nQ]:"fire-perf-compat",[rQ]:"fire-rc",[iQ]:"fire-rc-compat",[sQ]:"fire-gcs",[oQ]:"fire-gcs-compat",[aQ]:"fire-fst",[uQ]:"fire-fst-compat","fire-js":"fire-js",[lQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Map,cf=new Map;function xv(t,e){try{t.container.addComponent(e)}catch(n){Au.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function SL(t,e){t.container.addOrOverwriteComponent(e)}function so(t){const e=t.name;if(cf.has(e))return Au.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of ua.values())xv(n,t);return!0}function TL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hQ(t,e,n=aa){TL(t,e).clearInstance(n)}function fQ(){cf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ks=new Gu("app","Firebase",pQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mQ=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=cQ;function lI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:aa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=mL()),!n)throw Ks.create("no-options");const s=ua.get(i);if(s){if(Nb(n,s.options)&&Nb(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new bK(i);for(const u of cf.values())o.addComponent(u);const a=new mQ(n,r,o);return ua.set(i,a),a}function gQ(t=aa){const e=ua.get(t);if(!e&&t===aa&&mL())return lI();if(!e)throw Ks.create("no-app",{appName:t});return e}function vQ(){return Array.from(ua.values())}async function IL(t){const e=t.name;ua.has(e)&&(ua.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Ai(t,e,n){var r;let i=(r=dQ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Au.warn(a.join(" "));return}so(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function CL(t,e){if(t!==null&&typeof t!="function")throw Ks.create("invalid-log-argument");CK(t,e)}function AL(t){IK(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="firebase-heartbeat-database",_Q=1,df="firebase-heartbeat-store";let M1=null;function PL(){return M1||(M1=FK(yQ,_Q,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(df)}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),M1}async function wQ(t){try{return await(await PL()).transaction(df).objectStore(df).get(RL(t))}catch(e){if(e instanceof ar)Au.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Au.warn(n.message)}}}async function RO(t,e){try{const r=(await PL()).transaction(df,"readwrite");await r.objectStore(df).put(e,RL(t)),await r.done}catch(n){if(n instanceof ar)Au.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Au.warn(r.message)}}}function RL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ=1024,EQ=30*24*60*60*1e3;class SQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OO();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=EQ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OO(),{heartbeatsToSend:n,unsentEntries:r}=TQ(this._heartbeatsCache.heartbeats),i=Ov(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function OO(){return new Date().toISOString().substring(0,10)}function TQ(t,e=bQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lf()?dK().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wQ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kO(t){return Ov(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(t){so(new Oi("platform-logger",e=>new LK(e),"PRIVATE")),so(new Oi("heartbeat",e=>new SQ(e),"PRIVATE")),Ai(Mb,PO,t),Ai(Mb,PO,"esm2017"),Ai("fire-js","")}CQ("");const AQ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ar,SDK_VERSION:fo,_DEFAULT_ENTRY_NAME:aa,_addComponent:xv,_addOrOverwriteComponent:SL,_apps:ua,_clearComponents:fQ,_components:cf,_getProvider:TL,_registerComponent:so,_removeServiceInstance:hQ,deleteApp:IL,getApp:gQ,getApps:vQ,initializeApp:lI,onLog:CL,registerVersion:Ai,setLogLevel:AL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e,n){this._delegate=e,this.firebase=n,xv(e,new Oi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),IL(this._delegate)))}_getService(e,n=aa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=aa){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){xv(this._delegate,e)}_addOrOverwriteComponent(e){SL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},xO=new Gu("app-compat","Firebase",RQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ai,setLogLevel:AL,onLog:CL,apps:null,SDK_VERSION:fo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:AQ}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||aa,!SO(e,l))throw xO.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const d=lI(l,c);if(SO(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,d=c.replace("-compat","");if(so(l)&&l.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw xO.create("invalid-app-argument",{appName:c});return p[d]()};l.serviceProps!==void 0&&kv(h,l.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,l.multipleInstances?p:[])}}return l.type==="PUBLIC"?n[d]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){const t=OQ(PQ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:OL,extendNamespace:e,createSubscribe:_L,ErrorFactory:Gu,deepExtend:kv});function e(n){kv(t,n)}return t}const kQ=OL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new f_("@firebase/app-compat"),xQ="@firebase/app-compat",NQ="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){Ai(xQ,NQ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(lK()&&self.firebase!==void 0){NO.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&NO.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const nn=kQ;DQ();var FQ="firebase",MQ="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.registerVersion(FQ,MQ,"app-compat");function cI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const kd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},dl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return t!==void 0&&t.getResponse!==void 0}function FO(t){return t!==void 0&&t.enterprise!==void 0}class $Q{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function kL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VQ=LQ,UQ=kL,xL=new Gu("auth","Firebase",kL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new f_("@firebase/auth");function jQ(t,...e){Nv.logLevel<=Je.WARN&&Nv.warn(`Auth (${fo}): ${t}`,...e)}function Ag(t,...e){Nv.logLevel<=Je.ERROR&&Nv.error(`Auth (${fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw dI(t,...e)}function Hn(t,...e){return dI(t,...e)}function NL(t,e,n){const r=Object.assign(Object.assign({},UQ()),{[e]:n});return new Gu("auth","Firebase",r).create(e,{appName:t.name})}function Wc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),NL(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xL.create(t,...e)}function me(t,e,...n){if(!t)throw dI(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ag(e),new Error(e)}function Qi(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hI(){return MO()==="http:"||MO()==="https:"}function MO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hI()||vL()||"connection"in navigator)?navigator.onLine:!0}function zQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qi(n>e,"Short delay should be less than long delay!"),this.isMobile=uK()||oI()}get(){return BQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ=new pp(3e4,6e4);function an(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fn(t,e,n,r,i={}){return FL(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Hc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),DL.fetch()(ML(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function FL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qQ),e);try{const i=new WQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw th(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw th(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw th(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw NL(t,c,l);Qn(t,c)}}catch(i){if(i instanceof ar)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function po(t,e,n,r,i={}){const s=await fn(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ML(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fI(t.config,i):`${t.config.apiScheme}://${i}`}class WQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),HQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GQ(t){return(await fn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function KQ(t,e){return fn(t,"GET","/v2/recaptchaConfig",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e){return fn(t,"POST","/v1/accounts:delete",e)}async function YQ(t,e){return fn(t,"POST","/v1/accounts:update",e)}async function XQ(t,e){return fn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JQ(t,e=!1){const n=ke(t),r=await n.getIdToken(e),i=p_(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Eh($1(i.auth_time)),issuedAtTime:Eh($1(i.iat)),expirationTime:Eh($1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $1(t){return Number(t)*1e3}function p_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=pL(n);return i?JSON.parse(i):(Ag("Failed to decode base64 JWT payload"),null)}catch(i){return Ag("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZQ(t){const e=p_(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&eY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oo(t,XQ(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iY(s.providerUserInfo):[],a=rY(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $L(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function nY(t){const e=ke(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iY(t){return t.map(e=>{var{providerId:n}=e,r=cI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e){const n=await FL(t,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ML(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DL.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sY(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pf;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pf,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $L(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oo(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JQ(this,e)}reload(){return nY(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oo(this,QQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:A,stsTokenManager:R}=n;me(b&&R,e,"internal-error");const $=pf.fromJSON(this.name,R);me(typeof b=="string",e,"internal-error"),Po(d,e.name),Po(h,e.name),me(typeof w=="boolean",e,"internal-error"),me(typeof E=="boolean",e,"internal-error"),Po(p,e.name),Po(m,e.name),Po(y,e.name),Po(g,e.name),Po(v,e.name),Po(_,e.name);const Q=new mu({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:$,createdAt:v,lastLoginAt:_});return A&&Array.isArray(A)&&(Q.providerData=A.map(te=>Object.assign({},te))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,r=!1){const i=new pf;i.updateFromServerResponse(n);const s=new mu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ff(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new Map;function ei(t){Qi(t instanceof Function,"Expected a class definition");let e=$O.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$O.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LL.type="NONE";const wc=LL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t,e,n){return`firebase:${t}:${e}:${n}`}class Jl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gu(this.userKey,i.apiKey,s),this.fullPersistenceKey=gu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jl(ei(wc),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ei(wc);const o=gu(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const d=mu._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Jl(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Jl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BL(e))return"Blackberry";if(zL(e))return"Webos";if(pI(e))return"Safari";if((e.includes("chrome/")||UL(e))&&!e.includes("edge/"))return"Chrome";if(mp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VL(t=Gt()){return/firefox\//i.test(t)}function pI(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UL(t=Gt()){return/crios\//i.test(t)}function jL(t=Gt()){return/iemobile/i.test(t)}function mp(t=Gt()){return/android/i.test(t)}function BL(t=Gt()){return/blackberry/i.test(t)}function zL(t=Gt()){return/webos/i.test(t)}function Gc(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oY(t=Gt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function aY(t=Gt()){var e;return Gc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uY(){return yL()&&document.documentMode===10}function qL(t=Gt()){return Gc(t)||mp(t)||zL(t)||BL(t)||/windows phone/i.test(t)||jL(t)}function lY(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t,e=[]){let n;switch(t){case"Browser":n=LO(Gt());break;case"Worker":n=`${LO(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dY(t,e={}){return fn(t,"GET","/v2/passwordPolicy",an(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=6;class fY{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VO(this),this.idTokenSubscription=new VO(this),this.beforeStateQueue=new cY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dY(this),n=new fY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jt(t){return ke(t)}class VO{constructor(e){this.auth=e,this.observer=null,this.addObserver=_L(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function mI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mY().appendChild(r)})}function WL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const gY="https://www.google.com/recaptcha/enterprise.js?render=",vY="recaptcha-enterprise",yY="NO_RECAPTCHA";class _Y{constructor(e){this.type=vY,this.auth=Jt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new $Q(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;FO(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(yY)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FO(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}mI(gY+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function la(t,e,n,r=!1){const i=new _Y(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function wY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bY(t,e,n){const r=Jt(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=GL(e),{host:o,port:a}=EY(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SY()}function GL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EY(t){const e=GL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:UO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:UO(o)}}}function UO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return fn(t,"POST","/v1/accounts:resetPassword",an(t,e))}async function QL(t,e){return fn(t,"POST","/v1/accounts:update",e)}async function TY(t,e){return fn(t,"POST","/v1/accounts:update",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(t,e){return po(t,"POST","/v1/accounts:signInWithPassword",an(t,e))}async function m_(t,e){return fn(t,"POST","/v1/accounts:sendOobCode",an(t,e))}async function IY(t,e){return m_(t,e)}async function V1(t,e){return m_(t,e)}async function U1(t,e){return m_(t,e)}async function CY(t,e){return m_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){return po(t,"POST","/v1/accounts:signInWithEmailLink",an(t,e))}async function PY(t,e){return po(t,"POST","/v1/accounts:signInWithEmailLink",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Kc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await la(e,r,"signInWithPassword");return L1(e,i)}else return L1(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await la(e,r,"signInWithPassword");return L1(e,s)}else return Promise.reject(i)});case"emailLink":return AY(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return QL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return PY(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e){return po(t,"POST","/v1/accounts:signInWithIdp",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY="http://localhost";class Os extends Kc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cI(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Os(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qs(e,n)}buildRequest(){const e={requestUri:RY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY(t,e){return fn(t,"POST","/v1/accounts:sendVerificationCode",an(t,e))}async function kY(t,e){return po(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,e))}async function xY(t,e){const n=await po(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,e));if(n.temporaryProof)throw th(t,"account-exists-with-different-credential",n);return n}const NY={USER_NOT_FOUND:"user-not-found"};async function DY(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return po(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,n),NY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Kc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new vu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new vu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return kY(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return xY(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return DY(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new vu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MY(t){const e=Ul(eh(t)).link,n=e?Ul(eh(e)).deep_link_id:null,r=Ul(eh(t)).deep_link_id;return(r?Ul(eh(r)).link:null)||r||n||e||t}class g_{constructor(e){var n,r,i,s,o,a;const u=Ul(eh(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=FY((i=u.mode)!==null&&i!==void 0?i:null);me(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=MY(e);try{return new g_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return mf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g_.parseLink(n);return me(r,"argument-error"),mf._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zl extends Qc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return me("providerId"in n&&"signInMethod"in n,"argument-error"),Os._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Os._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Zl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Zl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Zl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Qc{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Qc{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y="http://localhost";class bc extends Kc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qs(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new bc(r,s)}static _create(e,n){return new bc(e,n)}buildRequest(){return{requestUri:$Y,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY="saml.";class Dv extends mo{constructor(e){me(e.startsWith(LY),"argument-error"),super(e)}static credentialFromResult(e){return Dv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Dv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=bc.fromJSON(e);return me(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return bc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Qc{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(t,e){return po(t,"POST","/v1/accounts:signUp",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mu._fromIdTokenResponse(e,r,i),o=jO(r);return new ki({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jO(r);return new ki({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VY(t){var e;const n=Jt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ki({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Pg(n,{returnSecureToken:!0}),i=await ki._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fv(e,n,r,i)}}function YL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fv._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,e){const n=ke(t);await v_(!0,n,e);const{providerUserInfo:r}=await YQ(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=XL(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function gI(t,e,n=!1){const r=await oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ki._forOperation(t,"link",r)}async function v_(t,e,n){await ff(e);const r=XL(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";me(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await oo(t,YL(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=p_(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ki._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e,n=!1){const r="signIn",i=await YL(t,r,e),s=await ki._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function y_(t,e){return ZL(Jt(t),e)}async function e4(t,e){const n=ke(t);return await v_(!1,n,e.providerId),gI(n,e)}async function t4(t,e){return JL(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){return po(t,"POST","/v1/accounts:signInWithCustomToken",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BY(t,e){const n=Jt(t),r=await jY(n,{token:e,returnSecureToken:!0}),i=await ki._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?vI._fromServerResponse(e,n):"totpInfo"in n?yI._fromServerResponse(e,n):Qn(e,"internal-error")}}class vI extends gp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new vI(n)}}class yI extends gp{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new yI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){var r;me(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t){const e=Jt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zY(t,e,n){var r;const i=Jt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await la(i,s,"getOobCode",!0);n&&ec(i,o,n),await V1(i,o)}else n&&ec(i,s,n),await V1(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await la(i,s,"getOobCode",!0);n&&ec(i,a,n),await V1(i,a)}else return Promise.reject(o)})}async function qY(t,e,n){await KL(ke(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_I(t),r})}async function HY(t,e){await TY(ke(t),{oobCode:e})}async function n4(t,e){const n=ke(t),r=await KL(n,{oobCode:e}),i=r.requestType;switch(me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=gp._fromServerResponse(Jt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function WY(t,e){const{data:n}=await n4(ke(t),e);return n.email}async function GY(t,e,n){var r;const i=Jt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await la(i,s,"signUpPassword");o=Pg(i,l)}else o=Pg(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await la(i,s,"signUpPassword");return Pg(i,c)}throw l});const a=await o.catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_I(t),l}),u=await ki._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function KY(t,e,n){return y_(ke(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_I(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(t,e,n){var r;const i=Jt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,u){me(u.handleCodeInApp,i,"argument-error"),u&&ec(i,a,u)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await la(i,s,"getOobCode",!0);o(a,n),await U1(i,a)}else o(s,n),await U1(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await la(i,s,"getOobCode",!0);o(u,n),await U1(i,u)}else return Promise.reject(a)})}function YY(t,e){const n=g_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function XY(t,e,n){const r=ke(t),i=Ia.credentialWithLink(e,n||hf());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),y_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(t,e){return fn(t,"POST","/v1/accounts:createAuthUri",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e){const n=hI()?hf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await JY(ke(t),r);return i||[]}async function eX(t,e){const n=ke(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ec(n.auth,i,e);const{email:s}=await IY(n.auth,i);s!==t.email&&await t.reload()}async function tX(t,e,n){const r=ke(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ec(r.auth,s,n);const{email:o}=await CY(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nX(t,e){return fn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await oo(r,nX(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function iX(t,e){return r4(ke(t),e,null)}function sX(t,e){return r4(ke(t),null,e)}async function r4(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await oo(t,QL(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=p_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new tc(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new aX(s,i);case"github.com":return new uX(s,i);case"google.com":return new lX(s,i);case"twitter.com":return new cX(s,i,t.screenName||null);case"custom":case"anonymous":return new tc(s,null);default:return new tc(s,r,i)}}class tc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class i4 extends tc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class aX extends tc{constructor(e,n){super(e,"facebook.com",n)}}class uX extends i4{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class lX extends tc{constructor(e,n){super(e,"google.com",n)}}class cX extends i4{constructor(e,n,r){super(e,"twitter.com",n,r)}}function dX(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:oX(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new au("enroll",e,n)}static _fromMfaPendingCredential(e){return new au("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return au._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return au._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Jt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>gp._fromServerResponse(r,a));me(i.mfaPendingCredential,r,"internal-error");const o=au._fromMfaPendingCredential(i.mfaPendingCredential);return new wI(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await ki._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return me(n.user,r,"internal-error"),ki._forOperation(n.user,n.operationType,l);default:Qn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function hX(t,e){var n;const r=ke(t),i=e;return me(e.customData.operationType,r,"argument-error"),me((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),wI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:start",an(t,e))}function pX(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:finalize",an(t,e))}function mX(t,e){return fn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",an(t,e))}class bI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>gp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new bI(e)}async getSession(){return au._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await oo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await oo(this.user,mX(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const j1=new WeakMap;function gX(t){const e=ke(t);return j1.has(e)||j1.set(e,bI._fromUser(e)),j1.get(e)}const Mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mv,"1"),this.storage.removeItem(Mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){const t=Gt();return pI(t)||Gc(t)}const yX=1e3,_X=10;class o4 extends s4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vX()&&lY(),this.fallbackToPolling=qL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uY()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_X):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o4.type="LOCAL";const EI=o4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends s4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a4.type="SESSION";const Pu=a4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new __(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await wX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}__.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=vp("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function EX(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function SX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IX(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="firebaseLocalStorageDb",CX=1,$v="firebaseLocalStorage",l4="fbase_key";class yp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function w_(t,e){return t.transaction([$v],e?"readwrite":"readonly").objectStore($v)}function AX(){const t=indexedDB.deleteDatabase(u4);return new yp(t).toPromise()}function $b(){const t=indexedDB.open(u4,CX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($v,{keyPath:l4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($v)?e(r):(r.close(),await AX(),e(await $b()))})})}async function BO(t,e,n){const r=w_(t,!0).put({[l4]:e,value:n});return new yp(r).toPromise()}async function PX(t,e){const n=w_(t,!1).get(e),r=await new yp(n).toPromise();return r===void 0?null:r.value}function zO(t,e){const n=w_(t,!0).delete(e);return new yp(n).toPromise()}const RX=800,OX=3;class c4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $b(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=__._getInstance(IX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SX(),!this.activeServiceWorker)return;this.sender=new bX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $b();return await BO(e,Mv,"1"),await zO(e,Mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=w_(i,!1).getAll();return new yp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c4.type="LOCAL";const gf=c4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(t,e){return fn(t,"POST","/v2/accounts/mfaSignIn:start",an(t,e))}function xX(t,e){return fn(t,"POST","/v2/accounts/mfaSignIn:finalize",an(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=500,DX=6e4,Vm=1e12;class FX{constructor(e){this.auth=e,this.counter=Vm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new MX(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Vm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Vm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Vm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class MX{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=$X(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},DX)},NX))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function $X(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=WL("rcb"),LX=new pp(3e4,6e4),VX="https://www.google.com/recaptcha/api.js?";class UX{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=cn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return me(jX(n),e,"argument-error"),this.shouldResolveImmediately(n)&&DO(cn().grecaptcha)?Promise.resolve(cn().grecaptcha):new Promise((r,i)=>{const s=cn().setTimeout(()=>{i(Hn(e,"network-request-failed"))},LX.get());cn()[B1]=()=>{cn().clearTimeout(s),delete cn()[B1];const a=cn().grecaptcha;if(!a||!DO(a)){i(Hn(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const d=u(l,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${VX}?${Hc({onload:B1,render:"explicit",hl:n})}`;mI(o).catch(()=>{clearTimeout(s),i(Hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=cn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function jX(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class BX{async load(e){return new FX(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="recaptcha",zX={theme:"light",type:"image"};let qX=class{constructor(e,n,r=Object.assign({},zX)){this.parameters=r,this.type=d4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BX:new UX,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=cn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(hI()&&!SI(),this.auth,"internal-error"),await HX(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await GQ(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function HX(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=vu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function WX(t,e,n){const r=Jt(t),i=await b_(r,e,ke(n));return new TI(i,s=>y_(r,s))}async function GX(t,e,n){const r=ke(t);await v_(!1,r,"phone");const i=await b_(r.auth,e,ke(n));return new TI(i,s=>e4(r,s))}async function KX(t,e,n){const r=ke(t),i=await b_(r.auth,e,ke(n));return new TI(i,s=>t4(r,s))}async function b_(t,e,n){var r;const i=await n.verify();try{me(typeof i=="string",t,"argument-error"),me(n.type===d4,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return me(o.type==="enroll",t,"internal-error"),(await fX(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{me(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return me(a,t,"missing-multi-factor-info"),(await kX(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await OY(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function QX(t,e){await gI(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=class Rg{constructor(e){this.providerId=Rg.PROVIDER_ID,this.auth=Jt(e)}verifyPhoneNumber(e,n){return b_(this.auth,e,ke(n))}static credential(e,n){return vu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Rg.credentialFromTaggedObject(n)}static credentialFromError(e){return Rg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?vu._fromTokenResponse(n,r):null}};Ru.PROVIDER_ID="phone";Ru.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e){return e?ei(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends Kc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YX(t){return ZL(t.auth,new II(t),t.bypassAuthState)}function XX(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),JL(n,new II(t),t.bypassAuthState)}async function JX(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),gI(n,new II(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YX;case"linkViaPopup":case"linkViaRedirect":return JX;case"reauthViaPopup":case"reauthViaRedirect":return XX;default:Qn(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX=new pp(2e3,1e4);async function eJ(t,e,n){const r=Jt(t);Wc(t,e,mo);const i=Ku(r,n);return new qs(r,"signInViaPopup",e,i).executeNotNull()}async function tJ(t,e,n){const r=ke(t);Wc(r.auth,e,mo);const i=Ku(r.auth,n);return new qs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function nJ(t,e,n){const r=ke(t);Wc(r.auth,e,mo);const i=Ku(r.auth,n);return new qs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class qs extends h4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZX.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ="pendingRedirect",Sh=new Map;class iJ extends h4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const r=await sJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sJ(t,e){const n=p4(e),r=f4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function CI(t,e){return f4(t)._set(p4(e),"true")}function oJ(){Sh.clear()}function AI(t,e){Sh.set(t._key(),e)}function f4(t){return ei(t._redirectPersistence)}function p4(t){return gu(rJ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(t,e,n){return uJ(t,e,n)}async function uJ(t,e,n){const r=Jt(t);Wc(t,e,mo),await r._initializationPromise;const i=Ku(r,n);return await CI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function lJ(t,e,n){return cJ(t,e,n)}async function cJ(t,e,n){const r=ke(t);Wc(r.auth,e,mo),await r.auth._initializationPromise;const i=Ku(r.auth,n);await CI(i,r.auth);const s=await m4(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function dJ(t,e,n){return hJ(t,e,n)}async function hJ(t,e,n){const r=ke(t);Wc(r.auth,e,mo),await r.auth._initializationPromise;const i=Ku(r.auth,n);await v_(!1,r,e.providerId),await CI(i,r.auth);const s=await m4(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function fJ(t,e){return await Jt(t)._initializationPromise,E_(t,e,!1)}async function E_(t,e,n=!1){const r=Jt(t),i=Ku(r,e),o=await new iJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function m4(t){const e=vp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=10*60*1e3;class g4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(qO(e))}saveEventToCache(e){this.cachedEventUids.add(qO(e)),this.lastProcessedEventTime=Date.now()}}function qO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e={}){return fn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vJ=/^https?/;async function yJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y4(t);for(const n of e)try{if(_J(n))return}catch{}Qn(t,"unauthorized-domain")}function _J(t){const e=hf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vJ.test(n))return!1;if(gJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=new pp(3e4,6e4);function HO(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bJ(t){return new Promise((e,n)=>{var r,i,s;function o(){HO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HO(),n(Hn(t,"network-request-failed"))},timeout:wJ.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)o();else{const a=WL("iframefcb");return cn()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},mI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Og=null,e})}let Og=null;function EJ(t){return Og=Og||bJ(t),Og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ=new pp(5e3,15e3),TJ="__/auth/iframe",IJ="emulator/auth/iframe",CJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PJ(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fI(e,IJ):`https://${t.config.authDomain}/${TJ}`,r={apiKey:e.apiKey,appName:t.name,v:fo},i=AJ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hc(r).slice(1)}`}async function RJ(t){const e=await EJ(t),n=cn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:PJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=cn().setTimeout(()=>{s(o)},SJ.get());function u(){cn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kJ=500,xJ=600,NJ="_blank",DJ="http://localhost";class WO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FJ(t,e,n,r=kJ,i=xJ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},OJ),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Gt().toLowerCase();n&&(a=UL(l)?NJ:n),VL(l)&&(e=e||DJ,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(aY(l)&&a!=="_self")return MJ(e||"",a),new WO(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new WO(d)}function MJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J="__/auth/handler",LJ="emulator/auth/handler",VJ=encodeURIComponent("fac");async function Lb(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fo,eventId:i};if(e instanceof mo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Qc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${VJ}=${encodeURIComponent(u)}`:"";return`${UJ(t)}?${Hc(a).slice(1)}${l}`}function UJ({config:t}){return t.emulator?fI(t,LJ):`https://${t.authDomain}/${$J}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="webStorageSupport";class jJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pu,this._completeRedirectFn=E_,this._overrideRedirectResult=AI}async _openPopup(e,n,r,i){var s;Qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Lb(e,n,r,hf(),i);return FJ(e,o,vp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Lb(e,n,r,hf(),i);return EX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RJ(e),r=new g4(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(z1,{type:z1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[z1];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qL()||pI()||Gc()}}const BJ=jJ;class zJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return vs("unexpected MultiFactorSessionType")}}}class PI extends zJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PI(e)}_finalizeEnroll(e,n,r){return pX(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return xX(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _4{constructor(){}static assertion(e){return PI._fromCredential(e)}}_4.FACTOR_ID="phone";var GO="@firebase/auth",KO="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function WJ(t){so(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HL(t)},l=new pY(r,i,s,u);return wY(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),so(new Oi("auth-internal",e=>{const n=Jt(e.getProvider("auth").getImmediate());return(r=>new qJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(GO,KO,HJ(t)),Ai(GO,KO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=5*60;oK("authIdTokenMaxAge");WJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ=2e3;async function QJ(t,e,n){var r;const{BuildInfo:i}=Ou();Qi(e.sessionId,"AuthEvent did not contain a session ID");const s=await eZ(e.sessionId),o={};return Gc()?o.ibi=i.packageName:mp()?o.apn=i.packageName:Qn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Lb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function YJ(t){const{BuildInfo:e}=Ou(),n={};Gc()?n.iosBundleId=e.packageName:mp()?n.androidPackageName=e.packageName:Qn(t,"operation-not-supported-in-this-environment"),await y4(t,n)}function XJ(t){const{cordova:e}=Ou();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,oY()?"_blank":"_system","location=yes"),n(i)})})}async function JJ(t,e,n){const{cordova:r}=Ou();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Hn(t,"redirect-cancelled-by-user"))},KJ))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),mp()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function ZJ(t){var e,n,r,i,s,o,a,u,l,c;const d=Ou();me(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((u=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((c=(l=d==null?void 0:d.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function eZ(t){const e=tZ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function tZ(t){if(Qi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=20;class rZ extends g4{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function iZ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:aZ(),postBody:null,tenantId:t.tenantId,error:Hn(t,"no-auth-event")}}function sZ(t,e){return Vb()._set(Ub(t),e)}async function QO(t){const e=await Vb()._get(Ub(t));return e&&await Vb()._remove(Ub(t)),e}function oZ(t,e){var n,r;const i=lZ(e);if(i.includes("/__/auth/callback")){const s=kg(i),o=s.firebaseError?uZ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Hn(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function aZ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<nZ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Vb(){return ei(EI)}function Ub(t){return gu("authEvent",t.config.apiKey,t.name)}function uZ(t){try{return JSON.parse(t)}catch{return null}}function lZ(t){const e=kg(t),n=e.link?decodeURIComponent(e.link):void 0,r=kg(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return kg(i).link||i||r||n||t}function kg(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ul(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ=500;class dZ{constructor(){this._redirectPersistence=Pu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E_,this._overrideRedirectResult=AI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new rZ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){ZJ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),oJ(),await this._originValidation(e);const o=iZ(e,r,i);await sZ(e,o);const a=await QJ(e,o,n),u=await XJ(a);return JJ(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ou(),o=setTimeout(async()=>{await QO(e),n.onEvent(YO())},cZ),a=async c=>{clearTimeout(o);const d=await QO(e);let h=null;d&&(c!=null&&c.url)&&(h=oZ(d,c.url)),n.onEvent(h||YO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;Ou().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(d){console.error(d)}}}}const hZ=dZ;function YO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e){Jt(t)._logFramework(e)}var pZ="@firebase/auth-compat",mZ="0.4.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=1e3;function Th(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function vZ(){return Th()==="http:"||Th()==="https:"}function w4(t=Gt()){return!!((Th()==="file:"||Th()==="ionic:"||Th()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yZ(){return oI()||h_()}function _Z(){return yL()&&(document==null?void 0:document.documentMode)===11}function wZ(t=Gt()){return/Edge\/\d+/.test(t)}function bZ(t=Gt()){return _Z()||wZ(t)}function b4(){try{const t=self.localStorage,e=vp();if(t)return t.setItem(e,"1"),t.removeItem(e),bZ()?lf():!0}catch{return RI()&&lf()}return!1}function RI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function q1(){return(vZ()||vL()||w4())&&!yZ()&&b4()&&!RI()}function E4(){return w4()&&typeof document<"u"}async function EZ(){return E4()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},gZ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function SZ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},xd=me,S4="persistence";function TZ(t,e){if(xd(Object.values(Jr).includes(e),t,"invalid-persistence-type"),oI()){xd(e!==Jr.SESSION,t,"unsupported-persistence-type");return}if(h_()){xd(e===Jr.NONE,t,"unsupported-persistence-type");return}if(RI()){xd(e===Jr.NONE||e===Jr.LOCAL&&lf(),t,"unsupported-persistence-type");return}xd(e===Jr.NONE||b4(),t,"unsupported-persistence-type")}async function jb(t){await t._initializationPromise;const e=T4(),n=gu(S4,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function IZ(t,e){const n=T4();if(!n)return[];const r=gu(S4,t,e);switch(n.getItem(r)){case Jr.NONE:return[wc];case Jr.LOCAL:return[gf,Pu];case Jr.SESSION:return[Pu];default:return[]}}function T4(){var t;try{return((t=SZ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=me;class qo{constructor(){this.browserResolver=ei(BJ),this.cordovaResolver=ei(hZ),this.underlyingResolver=null,this._redirectPersistence=Pu,this._completeRedirectFn=E_,this._overrideRedirectResult=AI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return E4()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return CZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await EZ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return t.unwrap()}function AZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t){return C4(t)}function RZ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new OZ(t,hX(t,e))}else if(r){const i=C4(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function C4(t){const{_tokenResponse:e}=t instanceof ar?t.customData:t;if(!e)return null;if(!(t instanceof ar)&&"temporaryProof"in e&&"phoneNumber"in e)return Ru.credentialFromResult(t);const n=e.providerId;if(!n||n===kd.PASSWORD)return null;let r;switch(n){case kd.GOOGLE:r=ds;break;case kd.FACEBOOK:r=cs;break;case kd.GITHUB:r=hs;break;case kd.TWITTER:r=fs;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?bc._create(n,a):Os._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Zl(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof ar?r.credentialFromError(t):r.credentialFromResult(t)}function xr(t,e){return e.catch(n=>{throw n instanceof ar&&RZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:PZ(n),additionalUserInfo:dX(n),user:S_.getOrCreate(i)}})}async function Bb(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>xr(t,n.confirm(r))}}class OZ{constructor(e,n){this.resolver=n,this.auth=AZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xr(I4(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_=class nh{constructor(e){this._delegate=e,this.multiFactor=gX(e)}static getOrCreate(e){return nh.USER_MAP.has(e)||nh.USER_MAP.set(e,new nh(e)),nh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xr(this.auth,e4(this._delegate,e))}async linkWithPhoneNumber(e,n){return Bb(this.auth,GX(this._delegate,e,n))}async linkWithPopup(e){return xr(this.auth,nJ(this._delegate,e,qo))}async linkWithRedirect(e){return await jb(Jt(this.auth)),dJ(this._delegate,e,qo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xr(this.auth,t4(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Bb(this.auth,KX(this._delegate,e,n))}reauthenticateWithPopup(e){return xr(this.auth,tJ(this._delegate,e,qo))}async reauthenticateWithRedirect(e){return await jb(Jt(this.auth)),lJ(this._delegate,e,qo)}sendEmailVerification(e){return eX(this._delegate,e)}async unlink(e){return await UY(this._delegate,e),this}updateEmail(e){return iX(this._delegate,e)}updatePassword(e){return sX(this._delegate,e)}updatePhoneNumber(e){return QX(this._delegate,e)}updateProfile(e){return rX(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return tX(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};S_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=me;class zb{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Nd(r,"invalid-api-key",{appName:e.name}),Nd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?qo:void 0;this._delegate=n.initialize({options:{persistence:kZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(VQ),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?S_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){bY(this._delegate,e,n)}applyActionCode(e){return HY(this._delegate,e)}checkActionCode(e){return n4(this._delegate,e)}confirmPasswordReset(e,n){return qY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return xr(this._delegate,GY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ZY(this._delegate,e)}isSignInWithEmailLink(e){return YY(this._delegate,e)}async getRedirectResult(){Nd(q1(),this._delegate,"operation-not-supported-in-this-environment");const e=await fJ(this._delegate,qo);return e?xr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){fZ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=XO(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=XO(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return QY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return zY(this._delegate,e,n||void 0)}async setPersistence(e){TZ(this._delegate,e);let n;switch(e){case Jr.SESSION:n=Pu;break;case Jr.LOCAL:n=await ei(gf)._isAvailable()?gf:EI;break;case Jr.NONE:n=wc;break;default:return Qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xr(this._delegate,VY(this._delegate))}signInWithCredential(e){return xr(this._delegate,y_(this._delegate,e))}signInWithCustomToken(e){return xr(this._delegate,BY(this._delegate,e))}signInWithEmailAndPassword(e,n){return xr(this._delegate,KY(this._delegate,e,n))}signInWithEmailLink(e,n){return xr(this._delegate,XY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Bb(this._delegate,WX(this._delegate,e,n))}async signInWithPopup(e){return Nd(q1(),this._delegate,"operation-not-supported-in-this-environment"),xr(this._delegate,eJ(this._delegate,e,qo))}async signInWithRedirect(e){return Nd(q1(),this._delegate,"operation-not-supported-in-this-environment"),await jb(this._delegate),aJ(this._delegate,e,qo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return WY(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}zb.Persistence=Jr;function XO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&S_.getOrCreate(o)),error:e,complete:n}}function kZ(t,e){const n=IZ(t,e);if(typeof self<"u"&&!n.includes(gf)&&n.push(gf),typeof window<"u")for(const r of[EI,Pu])n.includes(r)||n.push(r);return n.includes(wc)||n.push(wc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.providerId="phone",this._delegate=new Ru(I4(nn.auth()))}static credential(e,n){return Ru.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}OI.PHONE_SIGN_IN_METHOD=Ru.PHONE_SIGN_IN_METHOD;OI.PROVIDER_ID=Ru.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=me;class NZ{constructor(e,n,r=nn.app()){var i;xZ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new qX(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ="auth-compat";function FZ(t){t.INTERNAL.registerComponent(new Oi(DZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new zb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dl.EMAIL_SIGNIN,PASSWORD_RESET:dl.PASSWORD_RESET,RECOVER_EMAIL:dl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:dl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:dl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:dl.VERIFY_EMAIL}},EmailAuthProvider:Ia,FacebookAuthProvider:cs,GithubAuthProvider:hs,GoogleAuthProvider:ds,OAuthProvider:Zl,SAMLAuthProvider:Dv,PhoneAuthProvider:OI,PhoneMultiFactorGenerator:_4,RecaptchaVerifier:NZ,TwitterAuthProvider:fs,Auth:zb,AuthCredential:Kc,Error:ar}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(pZ,mZ)}FZ(nn);var MZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be,kI=kI||{},ze=MZ||self;function T_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _p(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $Z(t){return Object.prototype.hasOwnProperty.call(t,H1)&&t[H1]||(t[H1]=++LZ)}var H1="closure_uid_"+(1e9*Math.random()>>>0),LZ=0;function VZ(t,e,n){return t.call.apply(t.bind,arguments)}function UZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ur=VZ:ur=UZ,ur.apply(null,arguments)}function Um(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ca(){this.s=this.s,this.o=this.o}var jZ=0;Ca.prototype.s=!1;Ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jZ!=0)&&$Z(this)};Ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(T_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lr.prototype.h=function(){this.defaultPrevented=!0};var BZ=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ze.addEventListener("test",()=>{},e),ze.removeEventListener("test",()=>{},e)}catch{}return t}();function vf(t){return/^[\s\xa0]*$/.test(t)}function I_(){var t=ze.navigator;return t&&(t=t.userAgent)?t:""}function ps(t){return I_().indexOf(t)!=-1}function NI(t){return NI[" "](t),t}NI[" "]=function(){};function zZ(t,e){var n=Fee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qZ=ps("Opera"),Ec=ps("Trident")||ps("MSIE"),P4=ps("Edge"),qb=P4||Ec,R4=ps("Gecko")&&!(I_().toLowerCase().indexOf("webkit")!=-1&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),HZ=I_().toLowerCase().indexOf("webkit")!=-1&&!ps("Edge");function O4(){var t=ze.document;return t?t.documentMode:void 0}var Hb;e:{var W1="",G1=function(){var t=I_();if(R4)return/rv:([^\);]+)(\)|;)/.exec(t);if(P4)return/Edge\/([\d\.]+)/.exec(t);if(Ec)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HZ)return/WebKit\/(\S+)/.exec(t);if(qZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(G1&&(W1=G1?G1[1]:""),Ec){var K1=O4();if(K1!=null&&K1>parseFloat(W1)){Hb=String(K1);break e}}Hb=W1}var Wb;if(ze.document&&Ec){var ZO=O4();Wb=ZO||parseInt(Hb,10)||void 0}else Wb=void 0;var WZ=Wb;function yf(t,e){if(lr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(R4){e:{try{NI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yf.$.h.call(this)}}xn(yf,lr);var GZ={2:"touch",3:"pen",4:"mouse"};yf.prototype.h=function(){yf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wp="closure_listenable_"+(1e6*Math.random()|0),KZ=0;function QZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++KZ,this.fa=this.ia=!1}function C_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function DI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function k4(t){const e={};for(const n in t)e[n]=t[n];return e}const ek="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x4(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ek.length;s++)n=ek[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function A_(t){this.src=t,this.g={},this.h=0}A_.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Kb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new QZ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=A4(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(C_(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Kb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var FI="closure_lm_"+(1e6*Math.random()|0),Q1={};function N4(t,e,n,r,i){if(r&&r.once)return F4(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)N4(t,e[s],n,r,i);return null}return n=LI(n),t&&t[wp]?t.O(e,n,_p(r)?!!r.capture:!!r,i):D4(t,e,n,!1,r,i)}function D4(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_p(i)?!!i.capture:!!i,a=$I(t);if(a||(t[FI]=a=new A_(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=XZ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BZ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($4(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XZ(){function t(n){return e.call(t.src,t.listener,n)}const e=JZ;return t}function F4(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)F4(t,e[s],n,r,i);return null}return n=LI(n),t&&t[wp]?t.P(e,n,_p(r)?!!r.capture:!!r,i):D4(t,e,n,!0,r,i)}function M4(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)M4(t,e[s],n,r,i);else r=_p(r)?!!r.capture:!!r,n=LI(n),t&&t[wp]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Kb(s,n,r,i),-1<n&&(C_(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$I(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kb(e,n,r,i)),(n=-1<t?e[t]:null)&&MI(n))}function MI(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[wp])Gb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($4(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$I(e))?(Gb(n,t),n.h==0&&(n.src=null,e[FI]=null)):C_(t)}}}function $4(t){return t in Q1?Q1[t]:Q1[t]="on"+t}function JZ(t,e){if(t.fa)t=!0;else{e=new yf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MI(t),t=n.call(r,e)}return t}function $I(t){return t=t[FI],t instanceof A_?t:null}var Y1="__closure_events_fn_"+(1e9*Math.random()>>>0);function LI(t){return typeof t=="function"?t:(t[Y1]||(t[Y1]=function(e){return t.handleEvent(e)}),t[Y1])}function An(){Ca.call(this),this.i=new A_(this),this.S=this,this.J=null}xn(An,Ca);An.prototype[wp]=!0;An.prototype.removeEventListener=function(t,e,n,r){M4(this,t,e,n,r)};function Wn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lr(e,t);else if(e instanceof lr)e.target=e.target||t;else{var i=e;e=new lr(r,t),x4(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=jm(o,r,!0,e)&&i}if(o=e.g=t,i=jm(o,r,!0,e)&&i,i=jm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=jm(o,r,!1,e)&&i}An.prototype.N=function(){if(An.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)C_(n[r]);delete t.g[e],t.h--}}this.J=null};An.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};An.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function jm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Gb(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var VI=ze.JSON.stringify;class ZZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function eee(){var t=UI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class tee{constructor(){this.h=this.g=null}add(e,n){const r=L4.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var L4=new ZZ(()=>new nee,t=>t.reset());class nee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ree(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iee(t){ze.setTimeout(()=>{throw t},0)}let _f,wf=!1,UI=new tee,V4=()=>{const t=ze.Promise.resolve(void 0);_f=()=>{t.then(see)}};var see=()=>{for(var t;t=eee();){try{t.h.call(t.g)}catch(n){iee(n)}var e=L4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wf=!1};function P_(t,e){An.call(this),this.h=t||1,this.g=e||ze,this.j=ur(this.qb,this),this.l=Date.now()}xn(P_,An);be=P_.prototype;be.ga=!1;be.T=null;be.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(jI(this),this.start()))}};be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jI(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}be.N=function(){P_.$.N.call(this),jI(this),delete this.g};function BI(t,e,n){if(typeof t=="function")n&&(t=ur(t,n));else if(t&&typeof t.handleEvent=="function")t=ur(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ze.setTimeout(t,e||0)}function U4(t){t.g=BI(()=>{t.g=null,t.i&&(t.i=!1,U4(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class oee extends Ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:U4(this)}N(){super.N(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bf(t){Ca.call(this),this.h=t,this.g={}}xn(bf,Ca);var tk=[];function j4(t,e,n,r){Array.isArray(n)||(n&&(tk[0]=n.toString()),n=tk);for(var i=0;i<n.length;i++){var s=N4(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function B4(t){DI(t.g,function(e,n){this.g.hasOwnProperty(n)&&MI(e)},t),t.g={}}bf.prototype.N=function(){bf.$.N.call(this),B4(this)};bf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function R_(){this.g=!0}R_.prototype.Ea=function(){this.g=!1};function aee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function uee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function jl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cee(t,n)+(r?" "+r:"")})}function lee(t,e){t.info(function(){return"TIMEOUT: "+e})}R_.prototype.info=function(){};function cee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return VI(n)}catch{return e}}var Qu={},nk=null;function O_(){return nk=nk||new An}Qu.Ta="serverreachability";function z4(t){lr.call(this,Qu.Ta,t)}xn(z4,lr);function Ef(t){const e=O_();Wn(e,new z4(e))}Qu.STAT_EVENT="statevent";function q4(t,e){lr.call(this,Qu.STAT_EVENT,t),this.stat=e}xn(q4,lr);function br(t){const e=O_();Wn(e,new q4(e,t))}Qu.Ua="timingevent";function H4(t,e){lr.call(this,Qu.Ua,t),this.size=e}xn(H4,lr);function bp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){t()},e)}var k_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},W4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zI(){}zI.prototype.h=null;function rk(t){return t.h||(t.h=t.i())}function G4(){}var Ep={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qI(){lr.call(this,"d")}xn(qI,lr);function HI(){lr.call(this,"c")}xn(HI,lr);var Qb;function x_(){}xn(x_,zI);x_.prototype.g=function(){return new XMLHttpRequest};x_.prototype.i=function(){return{}};Qb=new x_;function Sp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bf(this),this.P=dee,t=qb?125:void 0,this.V=new P_(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new K4}function K4(){this.i=null,this.g="",this.h=!1}var dee=45e3,Yb={},Lv={};be=Sp.prototype;be.setTimeout=function(t){this.P=t};function Xb(t,e,n){t.L=1,t.v=D_(ao(e)),t.s=n,t.S=!0,Q4(t,null)}function Q4(t,e){t.G=Date.now(),Tp(t),t.A=ao(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),rV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new K4,t.g=TV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new oee(ur(t.Pa,t,t.g),t.O)),j4(t.U,t.g,"readystatechange",t.nb),e=t.I?k4(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ef(),aee(t.j,t.u,t.A,t.m,t.W,t.s)}be.nb=function(t){t=t.target;const e=this.M;e&&ys(t)==3?e.l():this.Pa(t)};be.Pa=function(t){try{if(t==this.g)e:{const c=ys(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||qb||this.g&&(this.h.h||this.g.ja()||ak(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Ef(3):Ef(2)),N_(this);var n=this.g.da();this.ca=n;t:if(Y4(this)){var r=ak(this.g);t="";var i=r.length,s=ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uu(this),Ih(this);var o="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,uee(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vf(a)){var l=a;break t}}l=null}if(n=l)jl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jb(this,n);else{this.i=!1,this.o=3,br(12),uu(this),Ih(this);break e}}this.S?(X4(this,c,o),qb&&this.i&&c==3&&(j4(this.U,this.V,"tick",this.mb),this.V.start())):(jl(this.j,this.m,o,null),Jb(this,o)),c==4&&uu(this),this.i&&!this.J&&(c==4?wV(this.l,this):(this.i=!1,Tp(this)))}else xee(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),uu(this),Ih(this)}}}catch{}finally{}};function Y4(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function X4(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=hee(t,n),i==Lv){e==4&&(t.o=4,br(14),r=!1),jl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yb){t.o=4,br(15),jl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else jl(t.j,t.m,i,null),Jb(t,i);Y4(t)&&i!=Lv&&i!=Yb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,br(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XI(e),e.M=!0,br(11))):(jl(t.j,t.m,n,"[Invalid Chunked Response]"),uu(t),Ih(t))}be.mb=function(){if(this.g){var t=ys(this.g),e=this.g.ja();this.C<e.length&&(N_(this),X4(this,t,e),this.i&&t!=4&&Tp(this))}};function hee(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Lv:(n=Number(e.substring(n,r)),isNaN(n)?Yb:(r+=1,r+n>e.length?Lv:(e=e.slice(r,r+n),t.C=r+n,e)))}be.cancel=function(){this.J=!0,uu(this)};function Tp(t){t.Y=Date.now()+t.P,J4(t,t.P)}function J4(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=bp(ur(t.lb,t),e)}function N_(t){t.B&&(ze.clearTimeout(t.B),t.B=null)}be.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lee(this.j,this.A),this.L!=2&&(Ef(),br(17)),uu(this),this.o=2,Ih(this)):J4(this,this.Y-t)};function Ih(t){t.l.H==0||t.J||wV(t.l,t)}function uu(t){N_(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jI(t.V),B4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zb(n.i,t))){if(!t.K&&Zb(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)jv(n),L_(n);else break e;YI(n),br(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bp(ur(n.ib,n),6e3));if(1>=oV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lu(n,11)}else if((t.K||n.g==t)&&jv(n),!vf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(WI(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Nt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=SV(r,r.J?r.pa:null,r.Y),o.K){aV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(N_(a),Tp(a)),r.g=o}else yV(r);0<n.j.length&&V_(n)}else l[0]!="stop"&&l[0]!="close"||lu(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?lu(n,7):QI(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ef(4)}catch{}}function fee(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(T_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function pee(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(T_(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Z4(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(T_(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=pee(t),r=fee(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yu){this.h=t.h,Vv(this,t.j),this.s=t.s,this.g=t.g,Uv(this,t.m),this.l=t.l;var e=t.i,n=new Sf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ik(this,n),this.o=t.o}else t&&(e=String(t).match(eV))?(this.h=!1,Vv(this,e[1]||"",!0),this.s=rh(e[2]||""),this.g=rh(e[3]||"",!0),Uv(this,e[4]),this.l=rh(e[5]||"",!0),ik(this,e[6]||"",!0),this.o=rh(e[7]||"")):(this.h=!1,this.i=new Sf(null,this.h))}yu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ih(e,sk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ih(e,sk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ih(n,n.charAt(0)=="/"?yee:vee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ih(n,wee)),t.join("")};function ao(t){return new yu(t)}function Vv(t,e,n){t.j=n?rh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ik(t,e,n){e instanceof Sf?(t.i=e,bee(t.i,t.h)):(n||(e=ih(e,_ee)),t.i=new Sf(e,t.h))}function Nt(t,e,n){t.i.set(e,n)}function D_(t){return Nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ih(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sk=/[#\/\?@]/g,vee=/[#\?:]/g,yee=/[#\?]/g,_ee=/[#\?@]/g,wee=/#/g;function Sf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Aa(t){t.g||(t.g=new Map,t.h=0,t.i&&mee(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}be=Sf.prototype;be.add=function(t,e){Aa(this),this.i=null,t=Yc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tV(t,e){Aa(t),e=Yc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nV(t,e){return Aa(t),e=Yc(t,e),t.g.has(e)}be.forEach=function(t,e){Aa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};be.ta=function(){Aa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};be.Z=function(t){Aa(this);let e=[];if(typeof t=="string")nV(this,t)&&(e=e.concat(this.g.get(Yc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};be.set=function(t,e){return Aa(this),this.i=null,t=Yc(this,t),nV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};be.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rV(t,e,n){tV(t,e),0<n.length&&(t.i=null,t.g.set(Yc(t,e),xI(n)),t.h+=n.length)}be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Yc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bee(t,e){e&&!t.j&&(Aa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tV(this,r),rV(this,i,n))},t)),t.j=e}var Eee=class{constructor(t,e){this.g=t,this.map=e}};function iV(t){this.l=t||See,ze.PerformanceNavigationTiming?(t=ze.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ze.g&&ze.g.Ka&&ze.g.Ka()&&ze.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var See=10;function sV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oV(t){return t.h?1:t.g?t.g.size:0}function Zb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function WI(t,e){t.g?t.g.add(e):t.h=e}function aV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iV.prototype.cancel=function(){if(this.i=uV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xI(t.i)}var Tee=class{stringify(t){return ze.JSON.stringify(t,void 0)}parse(t){return ze.JSON.parse(t,void 0)}};function Iee(){this.g=new Tee}function Cee(t,e,n){const r=n||"";try{Z4(t,function(i,s){let o=i;_p(i)&&(o=VI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Aee(t,e){const n=new R_;if(ze.Image){const r=new Image;r.onload=Um(Bm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Um(Bm,n,r,"TestLoadImage: error",!1,e),r.onabort=Um(Bm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Um(Bm,n,r,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function F_(t){this.l=t.ec||null,this.j=t.ob||!1}xn(F_,zI);F_.prototype.g=function(){return new M_(this.l,this.j)};F_.prototype.i=function(t){return function(){return t}}({});function M_(t,e){An.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=GI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xn(M_,An);var GI=0;be=M_.prototype;be.open=function(t,e){if(this.readyState!=GI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tf(this)};be.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ip(this)),this.readyState=GI};be.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tf(this)),this.g&&(this.readyState=3,Tf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}be.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ip(this):Tf(this),this.readyState==3&&lV(this)}};be.Za=function(t){this.g&&(this.response=this.responseText=t,Ip(this))};be.Ya=function(t){this.g&&(this.response=t,Ip(this))};be.ka=function(){this.g&&Ip(this)};function Ip(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tf(t)}be.setRequestHeader=function(t,e){this.v.append(t,e)};be.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};be.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(M_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Pee=ze.JSON.parse;function Zt(t){An.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cV,this.L=this.M=!1}xn(Zt,An);var cV="",Ree=/^https?$/i,Oee=["POST","PUT"];be=Zt.prototype;be.Oa=function(t){this.M=t};be.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qb.g(),this.C=this.u?rk(this.u):rk(Qb),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ok(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ze.FormData&&t instanceof ze.FormData,!(0<=A4(Oee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fV(this),0<this.B&&((this.L=kee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=BI(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ok(this,s)}};function kee(t){return Ec&&typeof t.timeout=="number"&&t.ontimeout!==void 0}be.ua=function(){typeof kI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))};function ok(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dV(t),$_(t)}function dV(t){t.F||(t.F=!0,Wn(t,"complete"),Wn(t,"error"))}be.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wn(this,"complete"),Wn(this,"abort"),$_(this))};be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$_(this,!0)),Zt.$.N.call(this)};be.La=function(){this.s||(this.G||this.v||this.l?hV(this):this.kb())};be.kb=function(){hV(this)};function hV(t){if(t.h&&typeof kI<"u"&&(!t.C[1]||ys(t)!=4||t.da()!=2)){if(t.v&&ys(t)==4)BI(t.La,0,t);else if(Wn(t,"readystatechange"),ys(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eV)[1]||null;!i&&ze.self&&ze.self.location&&(i=ze.self.location.protocol.slice(0,-1)),r=!Ree.test(i?i.toLowerCase():"")}n=r}if(n)Wn(t,"complete"),Wn(t,"success");else{t.m=6;try{var s=2<ys(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",dV(t)}}finally{$_(t)}}}}function $_(t,e){if(t.g){fV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wn(t,"ready");try{n.onreadystatechange=r}catch{}}}function fV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ze.clearTimeout(t.A),t.A=null)}be.isActive=function(){return!!this.g};function ys(t){return t.g?t.g.readyState:0}be.da=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}};be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};be.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Pee(e)}};function ak(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xee(t){const e={};t=(t.g&&2<=ys(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(vf(t[r]))continue;var n=ree(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}YZ(e,function(r){return r.join(", ")})}be.Ia=function(){return this.m};be.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pV(t){let e="";return DI(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function KI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Nt(t,e,n))}function Dd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mV(t){this.Ga=0,this.j=[],this.l=new R_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,t),this.hb=Dd("retryDelaySeedMs",1e4,t),this.eb=Dd("forwardChannelMaxRetries",2,t),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iV(t&&t.concurrentRequestLimit),this.Ja=new Iee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}be=mV.prototype;be.ra=8;be.H=1;function QI(t){if(gV(t),t.H==3){var e=t.W++,n=ao(t.I);if(Nt(n,"SID",t.K),Nt(n,"RID",e),Nt(n,"TYPE","terminate"),Cp(t,n),e=new Sp(t,t.l,e),e.L=2,e.v=D_(ao(n)),n=!1,ze.navigator&&ze.navigator.sendBeacon)try{n=ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ze.Image&&(new Image().src=e.v,n=!0),n||(e.g=TV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tp(e)}EV(t)}function L_(t){t.g&&(XI(t),t.g.cancel(),t.g=null)}function gV(t){L_(t),t.u&&(ze.clearTimeout(t.u),t.u=null),jv(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ze.clearTimeout(t.m),t.m=null)}function V_(t){if(!sV(t.i)&&!t.m){t.m=!0;var e=t.Na;_f||V4(),wf||(_f(),wf=!0),UI.add(e,t),t.C=0}}function Nee(t,e){return oV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bp(ur(t.Na,t,e),bV(t,t.C)),t.C++,!0)}be.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Sp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=k4(s),x4(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vV(this,i,e),n=ao(this.I),Nt(n,"RID",t),Nt(n,"CVER",22),this.F&&Nt(n,"X-HTTP-Session-Id",this.F),Cp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pV(s)))+"&"+e:this.o&&KI(n,this.o,s)),WI(this.i,i),this.bb&&Nt(n,"TYPE","init"),this.P?(Nt(n,"$req",e),Nt(n,"SID","null"),i.aa=!0,Xb(i,n,null)):Xb(i,n,e),this.H=2}}else this.H==3&&(t?uk(this,t):this.j.length==0||sV(this.i)||uk(this))};function uk(t,e){var n;e?n=e.m:n=t.W++;const r=ao(t.I);Nt(r,"SID",t.K),Nt(r,"RID",n),Nt(r,"AID",t.V),Cp(t,r),t.o&&t.s&&KI(r,t.o,t.s),n=new Sp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),WI(t.i,n),Xb(n,r,e)}function Cp(t,e){t.na&&DI(t.na,function(n,r){Nt(e,r,n)}),t.h&&Z4({},function(n,r){Nt(e,r,n)})}function vV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ur(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Cee(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_f||V4(),wf||(_f(),wf=!0),UI.add(e,t),t.A=0}}function YI(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bp(ur(t.Ma,t),bV(t,t.A)),t.A++,!0)}be.Ma=function(){if(this.u=null,_V(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bp(ur(this.jb,this),t)}};be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),L_(this),_V(this))};function XI(t){t.B!=null&&(ze.clearTimeout(t.B),t.B=null)}function _V(t){t.g=new Sp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ao(t.wa);Nt(e,"RID","rpc"),Nt(e,"SID",t.K),Nt(e,"AID",t.V),Nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Nt(e,"TO",t.qa),Nt(e,"TYPE","xmlhttp"),Cp(t,e),t.o&&t.s&&KI(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=D_(ao(e)),n.s=null,n.S=!0,Q4(n,t)}be.ib=function(){this.v!=null&&(this.v=null,L_(this),YI(this),br(19))};function jv(t){t.v!=null&&(ze.clearTimeout(t.v),t.v=null)}function wV(t,e){var n=null;if(t.g==e){jv(t),XI(t),t.g=null;var r=2}else if(Zb(t.i,e))n=e.F,aV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=O_(),Wn(r,new H4(r,n)),V_(t)}else yV(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Nee(t,e)||r==2&&YI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lu(t,5);break;case 4:lu(t,10);break;case 3:lu(t,6);break;default:lu(t,2)}}}function bV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ur(t.pb,t);n||(n=new yu("//www.google.com/images/cleardot.gif"),ze.location&&ze.location.protocol=="http"||Vv(n,"https"),D_(n)),Aee(n.toString(),r)}else br(2);t.H=0,t.h&&t.h.za(e),EV(t),gV(t)}be.pb=function(t){t?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))};function EV(t){if(t.H=0,t.ma=[],t.h){const e=uV(t.i);(e.length!=0||t.j.length!=0)&&(JO(t.ma,e),JO(t.ma,t.j),t.i.i.length=0,xI(t.j),t.j.length=0),t.h.ya()}}function SV(t,e,n){var r=n instanceof yu?ao(n):new yu(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uv(r,r.m);else{var i=ze.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new yu(null);r&&Vv(s,r),e&&(s.g=e),i&&Uv(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Nt(r,n,e),Nt(r,"VER",t.ra),Cp(t,r),r}function TV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Zt(new F_({ob:!0})):new Zt(t.va),e.Oa(t.J),e}be.isActive=function(){return!!this.h&&this.h.isActive(this)};function IV(){}be=IV.prototype;be.Ba=function(){};be.Aa=function(){};be.za=function(){};be.ya=function(){};be.isActive=function(){return!0};be.Va=function(){};function Bv(){if(Ec&&!(10<=Number(WZ)))throw Error("Environmental error: no available transport.")}Bv.prototype.g=function(t,e){return new ii(t,e)};function ii(t,e){An.call(this),this.g=new mV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!vf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xc(this)}xn(ii,An);ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;br(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=SV(t,null,t.Y),V_(t)};ii.prototype.close=function(){QI(this.g)};ii.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=VI(t),t=n);e.j.push(new Eee(e.fb++,t)),e.H==3&&V_(e)};ii.prototype.N=function(){this.g.h=null,delete this.j,QI(this.g),delete this.g,ii.$.N.call(this)};function CV(t){qI.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xn(CV,qI);function AV(){HI.call(this),this.status=1}xn(AV,HI);function Xc(t){this.g=t}xn(Xc,IV);Xc.prototype.Ba=function(){Wn(this.g,"a")};Xc.prototype.Aa=function(t){Wn(this.g,new CV(t))};Xc.prototype.za=function(t){Wn(this.g,new AV)};Xc.prototype.ya=function(){Wn(this.g,"b")};function Dee(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xn(Yi,Dee);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function X1(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)X1(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){X1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){X1(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Fee={};function JI(t){return-128<=t&&128>t?zZ(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function _s(t){if(isNaN(t)||!isFinite(t))return nc;if(0>t)return Bn(_s(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eE;return new vt(e,0)}function PV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bn(PV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_s(Math.pow(e,8)),r=nc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_s(Math.pow(e,s)),r=r.R(s).add(_s(o))):(r=r.R(n),r=r.add(_s(o)))}return r}var eE=4294967296,nc=JI(0),tE=JI(1),lk=JI(16777216);be=vt.prototype;be.ea=function(){if(_i(this))return-Bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eE+r)*e,e*=eE}return t};be.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hs(this))return"0";if(_i(this))return"-"+Bn(this).toString(t);for(var e=_s(Math.pow(t,6)),n=this,r="";;){var i=qv(n,e).g;n=zv(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};be.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _i(t){return t.h==-1}be.X=function(t){return t=zv(this,t),_i(t)?-1:Hs(t)?0:1};function Bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new vt(n,~t.h).add(tE)}be.abs=function(){return _i(this)?Bn(this):this};be.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function zv(t,e){return t.add(Bn(e))}be.R=function(t){if(Hs(this)||Hs(t))return nc;if(_i(this))return _i(t)?Bn(this).R(Bn(t)):Bn(Bn(this).R(t));if(_i(t))return Bn(this.R(Bn(t)));if(0>this.X(lk)&&0>t.X(lk))return _s(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,zm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,zm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new vt(n,0)};function zm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fd(t,e){this.g=t,this.h=e}function qv(t,e){if(Hs(e))throw Error("division by zero");if(Hs(t))return new Fd(nc,nc);if(_i(t))return e=qv(Bn(t),e),new Fd(Bn(e.g),Bn(e.h));if(_i(e))return e=qv(t,Bn(e)),new Fd(Bn(e.g),e.h);if(30<t.g.length){if(_i(t)||_i(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tE,r=e;0>=r.X(t);)n=ck(n),r=ck(r);var i=hl(n,1),s=hl(r,1);for(r=hl(r,2),n=hl(n,2);!Hs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=hl(r,1),n=hl(n,1)}return e=zv(t,i.R(e)),new Fd(i,e)}for(i=nc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=_s(n),o=s.R(e);_i(o)||0<o.X(t);)n-=r,s=_s(n),o=s.R(e);Hs(s)&&(s=tE),i=i.add(s),t=zv(t,o)}return new Fd(i,t)}be.gb=function(t){return qv(this,t).h};be.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new vt(n,this.h&t.h)};be.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new vt(n,this.h|t.h)};be.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new vt(n,this.h^t.h)};function ck(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new vt(n,t.h)}function hl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new vt(i,t.h)}Bv.prototype.createWebChannel=Bv.prototype.g;ii.prototype.send=ii.prototype.u;ii.prototype.open=ii.prototype.m;ii.prototype.close=ii.prototype.close;k_.NO_ERROR=0;k_.TIMEOUT=8;k_.HTTP_ERROR=6;W4.COMPLETE="complete";G4.EventType=Ep;Ep.OPEN="a";Ep.CLOSE="b";Ep.ERROR="c";Ep.MESSAGE="d";An.prototype.listen=An.prototype.O;Zt.prototype.listenOnce=Zt.prototype.P;Zt.prototype.getLastError=Zt.prototype.Sa;Zt.prototype.getLastErrorCode=Zt.prototype.Ia;Zt.prototype.getStatus=Zt.prototype.da;Zt.prototype.getResponseJson=Zt.prototype.Wa;Zt.prototype.getResponseText=Zt.prototype.ja;Zt.prototype.send=Zt.prototype.ha;Zt.prototype.setWithCredentials=Zt.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=_s;vt.fromString=PV;var Mee=function(){return new Bv},$ee=function(){return O_()},J1=k_,Lee=W4,Vee=Qu,dk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qm=G4,Uee=Zt,jee=Yi,rc=vt;const hk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new f_("@firebase/firestore");function El(){return ca.logLevel}function Bee(t){ca.setLogLevel(t)}function ue(t,...e){if(ca.logLevel<=Je.DEBUG){const n=e.map(ZI);ca.debug(`Firestore (${Jc}): ${t}`,...n)}}function sn(t,...e){if(ca.logLevel<=Je.ERROR){const n=e.map(ZI);ca.error(`Firestore (${Jc}): ${t}`,...n)}}function Xi(t,...e){if(ca.logLevel<=Je.WARN){const n=e.map(ZI);ca.warn(`Firestore (${Jc}): ${t}`,...n)}}function ZI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function De(t,e){t||Ce()}function zee(t,e){t||Ce()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class Hee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wee{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new In;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new In,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new In)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new RV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new En(e)}}class Gee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Qee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Sc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function kV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new jt(0,0))}static max(){return new Ne(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return If.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof If?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends If{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const Jee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends If{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return Jee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function nE(t){return t.fields.find(e=>e.kind===2)}function Wa(t){return t.fields.filter(e=>e.kind!==2)}Hv.UNKNOWN_ID=-1;class xg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cf(0,si.min())}}function xV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new si(i,_e.empty(),e)}function NV(t){return new si(t.readTime,t.key,-1)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(Ne.min(),_e.empty(),-1)}static max(){return new si(Ne.max(),_e.empty(),-1)}}function eC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==DV)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new In,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new Ch(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=tC(r.target.error);this.m.reject(new Ch(e,i))}}static open(e,n,r,i){try{return new U_(n,e.transaction(i,r))}catch(s){throw new Ch(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ete(n)}}class ji{constructor(e,n,r){this.name=e,this.version=n,this.S=r,ji.D(Gt())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),Ja(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!lf())return!1;if(ji.v())return!0;const e=Gt(),n=ji.D(e),r=0<n&&n<10,i=ji.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ch(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new se(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new se(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ch(e,o))},i.onupgradeneeded=s=>{ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=U_.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.p(),l)).catch(l=>(a.abort(l),z.reject(l))).toPromise();return u.catch(()=>{}),await a.g,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Zee{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return Ja(this.q.delete())}}class Ch extends se{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ra(t){return t.name==="IndexedDbTransactionError"}class ete{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ja(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),Ja(this.store.add(e))}get(e){return Ja(this.store.get(e)).next(n=>(n===void 0&&(n=null),ue("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),Ja(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),Ja(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new z((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=tC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Zee(a),l=n(a.primaryKey,a.value,u);if(l instanceof z){const c=l.catch(d=>(u.done(),z.reject(d)));r.push(c)}u.isDone?i():u.U===null?a.continue():a.continue(u.U)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ja(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=tC(r.target.error);n(i)}})}let fk=!1;function tC(t){const e=ji.D(Gt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fk||(fk=!0,setTimeout(()=>{throw r},0)),r}}return t}class tte{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ue("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Ra(n)?ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Pa(n)}await this.te(6e4)})}}class nte{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return ue("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(a=>(ue("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=NV(s);eC(o,r)>0&&(r=o)}),new si(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lr.ae=-1;function Ap(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function MV(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pk(e)),e=rte(t.get(n),e);return pk(e)}function rte(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function pk(t){return t+""}function ws(t){const e=t.length;if(De(e>=2),e===2)return De(t.charAt(0)===""&&t.charAt(1)===""),it.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ce(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ce()}s=o+2}return new it(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){return[t,Ir(e)]}function $V(t,e,n){return[t,Ir(e),n]}const ite={},ste=["prefixPath","collectionGroup","readTime","documentId"],ote=["prefixPath","collectionGroup","documentId"],ate=["collectionGroup","readTime","prefixPath","documentId"],ute=["canonicalId","targetId"],lte=["targetId","path"],cte=["path","targetId"],dte=["collectionId","parent"],hte=["indexId","uid"],fte=["uid","sequenceNumber"],pte=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mte=["indexId","uid","orderedDocumentKey"],gte=["userId","collectionPath","documentId"],vte=["userId","collectionPath","largestBatchId"],yte=["userId","collectionGroup","largestBatchId"],LV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_te=[...LV,"documentOverlays"],VV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UV=VV,wte=[...UV,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends FV{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=we(t);return ji.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hm(this.root,e,this.comparator,!0)}}class Hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=s??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vk(this.data.getIterator())}getIteratorFrom(e){return new vk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class vk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new Ct(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BV("Invalid base64 string: "+s):s}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const Ete=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(De(!!t),typeof t=="string"){let e=0;const n=Ete.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nC(t){const e=t.mapValue.fields.__previous_value__;return j_(e)?nC(e):e}function Pf(t){const e=da(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dg={nullValue:"NULL_VALUE"};function ku(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j_(t)?4:zV(t)?9007199254740991:10:Ce()}function ks(t,e){if(t===e)return!0;const n=ku(t);if(n!==ku(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pf(t).isEqual(Pf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=da(i.timestampValue),a=da(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Af(o)===Af(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Sc(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gk(o)!==gk(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ks(o[u],a[u])))return!1;return!0}(t,e);default:return Ce()}}function Rf(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function pa(t,e){if(t===e)return 0;const n=ku(t),r=ku(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),u=Yt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return yk(t.timestampValue,e.timestampValue);case 4:return yk(Pf(t),Pf(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),u=ha(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Ke(a[l],u[l]);if(c!==0)return c}return Ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ke(Yt(s.latitude),Yt(o.latitude));return a!==0?a:Ke(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=pa(a[l],u[l]);if(c)return c}return Ke(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ho.mapValue&&o===Ho.mapValue)return 0;if(s===Ho.mapValue)return 1;if(o===Ho.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const h=Ke(u[d],c[d]);if(h!==0)return h;const p=pa(a[u[d]],l[c[d]]);if(p!==0)return p}return Ke(u.length,c.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function yk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=da(t),r=da(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function Tc(t){return iE(t)}function iE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=iE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${iE(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function xu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sE(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function _k(t){return!!t&&"nullValue"in t}function wk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fg(t){return!!t&&"mapValue"in t}function Ah(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ah(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ah(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Tte(t){return"nullValue"in t?Dg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?xu(fa.empty(),_e.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ce()}function Ite(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?xu(fa.empty(),_e.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ho:Ce()}function bk(t,e){const n=pa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Ek(t,e){const n=pa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ah(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zn(Ah(this.value))}}function qV(t){const e=[];return Yu(t.fields,(n,r)=>{const i=new Xt([n]);if(Fg(r)){const s=qV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,Ne.min(),Ne.min(),Ne.min(),zn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,Ne.min(),Ne.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,Ne.min(),Ne.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.position=e,this.inclusive=n}}function Sk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=pa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{}class Ze extends HV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ate(e,n,r):n==="array-contains"?new Ote(e,r):n==="in"?new XV(e,r):n==="not-in"?new kte(e,r):n==="array-contains-any"?new xte(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pte(e,r):new Rte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pa(n,this.value)):n!==null&&ku(this.value)===ku(n)&&this.matchesComparison(pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mt extends HV{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mt(e,n)}matches(e){return Ic(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ic(t){return t.op==="and"}function oE(t){return t.op==="or"}function rC(t){return WV(t)&&Ic(t)}function WV(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function aE(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Tc(t.value);if(rC(t))return t.filters.map(e=>aE(e)).join(",");{const e=t.filters.map(n=>aE(n)).join(",");return`${t.op}(${e})`}}function GV(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&ks(r.value,i.value)}(t,e):t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&GV(o,i.filters[a]),!0):!1}(t,e):void Ce()}function KV(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function QV(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Tc(n.value)}`}(t):t instanceof mt?function(n){return n.op.toString()+" {"+n.getFilters().map(QV).join(" ,")+"}"}(t):"Filter"}class Ate extends Ze{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pte extends Ze{constructor(e,n){super(e,"in",n),this.keys=YV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rte extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=YV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Ote extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&Rf(n.arrayValue,this.value)}}class XV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rf(this.value.arrayValue,n)}}class kte extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rf(this.value.arrayValue,n)}}class xte extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function uE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nte(t,e,n,r,i,s,o)}function Nu(t){const e=we(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tc(r)).join(",")),e.he=n}return e.he}function Pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tk(t.startAt,e.startAt)&&Tk(t.endAt,e.endAt)}function Wv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gv(t,e){return t.filters.filter(n=>n instanceof Ze&&n.field.isEqual(e))}function Ik(t,e,n){let r=Dg,i=!0;for(const s of Gv(t,e)){let o=Dg,a=!0;switch(s.op){case"<":case"<=":o=Tte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Dg}bk({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Ck(t,e,n){let r=Ho,i=!0;for(const s of Gv(t,e)){let o=Ho,a=!0;switch(s.op){case">=":case">":o=Ite(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ho}Ek({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ek({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JV(t,e,n,r,i,s,o,a){return new go(t,e,n,r,i,s,o,a)}function Zc(t){return new go(t)}function Ak(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function B_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function sC(t){return t.collectionGroup!==null}function sc(t){const e=we(t);if(e.Pe===null){e.Pe=[];const n=B_(e),r=iC(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ic(n)),e.Pe.push(new ic(Xt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ic(Xt.keyField(),s))}}}return e.Pe}function Cr(t){const e=we(t);return e.Ie||(e.Ie=Dte(e,sc(t))),e.Ie}function Dte(t,e){if(t.limitType==="F")return uE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ic(i.field,s)});const n=t.endAt?new ma(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ma(t.startAt.position,t.startAt.inclusive):null;return uE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lE(t,e){e.getFirstInequalityField(),B_(t);const n=t.filters.concat([e]);return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rp(t,e){return Pp(Cr(t),Cr(e))&&t.limitType===e.limitType}function ZV(t){return`${Nu(Cr(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QV(i)).join(", ")}]`),Ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Tc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Tc(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Sk(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,sc(r),i)||r.endAt&&!function(o,a,u){const l=Sk(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,sc(r),i))}(t,e)}function e3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t3(t){return(e,n)=>{let r=!1;for(const i of sc(t)){const s=Fte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fte(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?pa(u,l):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte=new At(_e.comparator);function Ur(){return Mte}const n3=new At(_e.comparator);function sh(...t){let e=n3;for(const n of t)e=e.insert(n.key,n);return e}function r3(t){let e=n3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return Ph()}function i3(){return Ph()}function Ph(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const $te=new At(_e.comparator),Lte=new Ct(_e.comparator);function Qe(...t){let e=Lte;for(const n of t)e=e.add(n);return e}const Vte=new Ct(Ke);function oC(){return Vte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function o3(t){return{integerValue:""+t}}function a3(t,e){return MV(e)?o3(e):s3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this._=void 0}}function Ute(t,e,n){return t instanceof Cc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&j_(s)&&(s=nC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Du?l3(t,e):t instanceof Fu?c3(t,e):function(i,s){const o=u3(i,s),a=Pk(o)+Pk(i.Te);return sE(o)&&sE(i.Te)?o3(a):s3(i.serializer,a)}(t,e)}function jte(t,e,n){return t instanceof Du?l3(t,e):t instanceof Fu?c3(t,e):n}function u3(t,e){return t instanceof Ac?function(r){return sE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cc extends z_{}class Du extends z_{constructor(e){super(),this.elements=e}}function l3(t,e){const n=d3(e);for(const r of t.elements)n.some(i=>ks(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends z_{constructor(e){super(),this.elements=e}}function c3(t,e){let n=d3(e);for(const r of t.elements)n=n.filter(i=>!ks(i,r));return{arrayValue:{values:n}}}class Ac extends z_{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Pk(t){return Yt(t.integerValue||t.doubleValue)}function d3(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n){this.field=e,this.transform=n}}function Bte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Du&&i instanceof Du||r instanceof Fu&&i instanceof Fu?Sc(r.elements,i.elements,ks):r instanceof Ac&&i instanceof Ac?ks(r.Te,i.Te):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}class zte{constructor(e,n){this.version=e,this.transformResults=n}}class Ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class q_{}function h3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new td(t.key,Ut.none()):new ed(t.key,t.data,Ut.none());{const n=t.data,r=zn.empty();let i=new Ct(Xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vo(t.key,r,new Vr(i.toArray()),Ut.none())}}function qte(t,e,n){t instanceof ed?function(i,s,o){const a=i.value.clone(),u=Ok(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(i,s,o){if(!Mg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ok(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(f3(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rh(t,e,n,r){return t instanceof ed?function(s,o,a,u){if(!Mg(s.precondition,o))return a;const l=s.value.clone(),c=kk(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(s,o,a,u){if(!Mg(s.precondition,o))return a;const l=kk(s.fieldTransforms,u,o),c=o.data;return c.setAll(f3(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Mg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=u3(r.transform,i||null);s!=null&&(n===null&&(n=zn.empty()),n.set(r.field,s))}return n||null}function Rk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sc(r,i,(s,o)=>Bte(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ed extends q_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends q_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ok(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jte(o,a,n[i]))}return r}function kk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ute(s,o,e))}return r}class td extends q_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends q_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=h3(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,(n,r)=>Rk(n,r))&&Sc(this.baseMutations,e.baseMutations,(n,r)=>Rk(n,r))}}class lC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return $te}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,nt;function p3(t){switch(t){default:return Ce();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function m3(t){if(t===void 0)return sn("GRPC error has no .code"),G.UNKNOWN;switch(t){case ln.OK:return G.OK;case ln.CANCELLED:return G.CANCELLED;case ln.UNKNOWN:return G.UNKNOWN;case ln.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ln.INTERNAL:return G.INTERNAL;case ln.UNAVAILABLE:return G.UNAVAILABLE;case ln.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ln.NOT_FOUND:return G.NOT_FOUND;case ln.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ln.ABORTED:return G.ABORTED;case ln.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ln.DATA_LOSS:return G.DATA_LOSS;default:return Ce()}}(nt=ln||(ln={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gte=new rc([4294967295,4294967295],0);function xk(t){const e=g3().encode(t),n=new jee;return n.update(e),new Uint8Array(n.digest())}function Nk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rc([n,r],0),new rc([i,s],0)]}class dC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=rc.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(rc.fromNumber(r)));return i.compare(Gte)===1&&(i=new rc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=xk(e),[r,i]=Nk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=xk(e),[r,i]=Nk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Np.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(Ne.min(),i,new At(Ke),Ur(),Qe())}}class Np{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Np(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class v3{constructor(e,n){this.targetId=e,this.ye=n}}class y3{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dk{constructor(){this.we=0,this.Se=Mk(),this.be=yn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Qe(),n=Qe(),r=Qe();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Np(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=Mk()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Kte{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Ur(),this.Ue=Fk(),this.We=new At(Ke)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Wv(s))if(r===0){const o=new _e(s.path);this.je(n,o,Dt.newNoDocument(o,Ne.min()))}else De(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;if(u!==0){this.Ze(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(u){if(u instanceof BV)return Xi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dC(o,i,s)}catch(u){return Xi(u instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Wv(a.target)){const u=new _e(a.target.path);this.$e.get(u)!==null||this.ut(o,u)||this.je(o,u,Dt.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Qe();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.et(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new xp(e,n,this.We,this.$e,r);return this.$e=Ur(),this.Ue=Fk(),this.We=new At(Ke),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Dk,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ct(Ke),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Dk),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function Fk(){return new At(_e.comparator)}function Mk(){return new At(_e.comparator)}const Qte=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Yte=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Xte=(()=>({and:"AND",or:"OR"}))();class Jte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cE(t,e){return t.useProto3Json||Ap(e)?e:{value:e}}function Pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zte(t,e){return Pc(t,e.toTimestamp())}function on(t){return De(!!t),Ne.fromTimestamp(function(n){const r=da(n);return new jt(r.seconds,r.nanos)}(t))}function hC(t,e){return function(r){return new it(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function w3(t){const e=it.fromString(t);return De(R3(e)),e}function kf(t,e){return hC(t.databaseId,e.path)}function Is(t,e){const n=w3(e);if(n.get(1)!==t.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(E3(n))}function dE(t,e){return hC(t.databaseId,e)}function b3(t){const e=w3(t);return e.length===4?it.emptyPath():E3(e)}function xf(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E3(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $k(t,e,n){return{name:kf(t,e),fields:n.value.mapValue.fields}}function S3(t,e,n){const r=Is(t,e.name),i=on(e.updateTime),s=e.createTime?on(e.createTime):Ne.min(),o=new zn({mapValue:{fields:e.fields}}),a=Dt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ene(t,e){return"found"in e?function(r,i){De(!!i.found),i.found.name,i.found.updateTime;const s=Is(r,i.found.name),o=on(i.found.updateTime),a=i.found.createTime?on(i.found.createTime):Ne.min(),u=new zn({mapValue:{fields:i.found.fields}});return Dt.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){De(!!i.missing),De(!!i.readTime);const s=Is(r,i.missing),o=on(i.readTime);return Dt.newNoDocument(s,o)}(t,e):Ce()}function tne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(De(c===void 0||typeof c=="string"),yn.fromBase64String(c||"")):(De(c===void 0||c instanceof Uint8Array),yn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?G.UNKNOWN:m3(l.code);return new se(c,l.message||"")}(o);n=new y3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Is(t,r.document.name),s=on(r.document.updateTime),o=r.document.createTime?on(r.document.createTime):Ne.min(),a=new zn({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new $g(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Is(t,r.document),s=r.readTime?on(r.readTime):Ne.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $g([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Is(t,r.document),s=r.removedTargetIds||[];n=new $g([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Wte(i,s),a=r.targetId;n=new v3(a,o)}}return n}function Nf(t,e){let n;if(e instanceof ed)n={update:$k(t,e.key,e.value)};else if(e instanceof td)n={delete:kf(t,e.key)};else if(e instanceof vo)n={update:$k(t,e.key,e.data),updateMask:ane(e.fieldMask)};else{if(!(e instanceof aC))return Ce();n={verify:kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Zte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function hE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ut.updateTime(on(s.updateTime)):s.exists!==void 0?Ut.exists(s.exists):Ut.none()}(e.currentDocument):Ut.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)De(a.setToServerValue==="REQUEST_TIME"),u=new Cc;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];u=new Du(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];u=new Fu(c)}else"increment"in a?u=new Ac(o,a.increment):Ce();const l=Xt.fromServerFormat(a.fieldPath);return new kp(l,u)}(t,i)):[];if(e.update){e.update.name;const i=Is(t,e.update.name),s=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const l=u.fieldPaths||[];return new Vr(l.map(c=>Xt.fromServerFormat(c)))}(e.updateMask);return new vo(i,s,o,n,r)}return new ed(i,s,n,r)}if(e.delete){const i=Is(t,e.delete);return new td(i,n)}if(e.verify){const i=Is(t,e.verify);return new aC(i,n)}return Ce()}function nne(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?on(i.updateTime):on(s);return o.isEqual(Ne.min())&&(o=on(s)),new zte(o,i.transformResults||[])}(n,e))):[]}function T3(t,e){return{documents:[dE(t,e.path)]}}function I3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=dE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return P3(mt.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:Tl(d.field),direction:ine(d.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function C3(t){let e=b3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=A3(d);return h instanceof mt&&rC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new ic(Il(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ap(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){const h=!!d.before,p=d.values||[];return new ma(p,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const h=!d.before,p=d.values||[];return new ma(p,h)}(n.endAt)),JV(e,i,o,s,a,"F",u,l)}function rne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Il(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Il(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Il(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Il(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mt.create(n.compositeFilter.filters.map(r=>A3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function ine(t){return Qte[t]}function sne(t){return Yte[t]}function one(t){return Xte[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Il(t){return Xt.fromServerFormat(t.fieldPath)}function P3(t){return t instanceof Ze?function(n){if(n.op==="=="){if(wk(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(_k(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wk(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(_k(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:sne(n.op),value:n.value}}}(t):t instanceof mt?function(n){const r=n.getFilters().map(i=>P3(i));return r.length===1?r[0]:{compositeFilter:{op:one(n.op),filters:r}}}(t):Ce()}function ane(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i,s=Ne.min(),o=Ne.min(),a=yn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.ht=e}}function une(t,e){let n;if(e.document)n=S3(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=$u(e.noDocument.readTime);n=Dt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const r=_e.fromSegments(e.unknownDocument.path),i=$u(e.unknownDocument.version);n=Dt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new jt(i[0],i[1]);return Ne.fromTimestamp(s)}(e.readTime)),n}function Lk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:kf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Pc(s,o.version.toTimestamp()),createTime:Pc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Mu(e.version)};else{if(!e.isUnknownDocument())return Ce();r.unknownDocument={path:n.path.toArray(),version:Mu(e.version)}}return r}function Qv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Mu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $u(t){const e=new jt(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Za(t,e){const n=(e.baseMutations||[]).map(s=>hE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>hE(t.ht,s)),i=jt.fromMillis(e.localWriteTimeMs);return new uC(e.batchId,i,n,r)}function ah(t){const e=$u(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?$u(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return De(s.documents.length===1),Cr(Zc(b3(s.documents[0])))}(t.query):function(s){return Cr(C3(s))}(t.query),new Ws(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yn.fromBase64String(t.resumeToken))}function k3(t,e){const n=Mu(e.snapshotVersion),r=Mu(e.lastLimboFreeSnapshotVersion);let i;i=Wv(e.target)?T3(t.ht,e.target):I3(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function fC(t){const e=C3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}function Z1(t,e){return new cC(e.largestBatchId,hE(t.ht,e.overlayMutation))}function Vk(t,e){const n=e.path.lastSegment();return[t,Ir(e.path.popLast()),n]}function Uk(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Mu(r.readTime),documentKey:Ir(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{getBundleMetadata(e,n){return jk(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:$u(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return jk(e).put(function(i){return{bundleId:i.id,createTime:Mu(on(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Bk(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:fC(s.bundledQuery),readTime:$u(s.readTime)}}(r)})}saveNamedQuery(e,n){return Bk(e).put(function(i){return{name:i.name,readTime:Mu(on(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function jk(t){return Nn(t,"bundles")}function Bk(t){return Nn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new H_(e,r)}getOverlay(e,n){return Md(e).get(Vk(this.userId,n)).next(r=>r?Z1(this.serializer,r):null)}getOverlays(e,n){const r=bs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cC(n,o);i.push(this.It(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ir(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Md(e).J("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=bs(),s=Ir(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Md(e).G("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=Z1(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=bs();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Md(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const d=Z1(this.serializer,l);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}It(e,n){return Md(e).put(function(i,s,o){const[a,u,l]=Vk(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Nf(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function Md(t){return Nn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Af(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(ha(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?zV(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Ce()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),_e.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}eu.Ct=new eu;function cne(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function zk(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=cne(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class dne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=zk(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=zk(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hne{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class fne{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class $d{constructor(){this.jt=new dne,this.Ht=new hne(this.jt),this.Jt=new fne(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tu(this.indexId,this.documentKey,this.arrayValue,r)}}function Ro(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=qk(t.arrayValue,e.arrayValue),n!==0?n:(n=qk(t.directionalValue,e.directionalValue),n!==0?n:_e.comparator(t.documentKey,e.documentKey)))}function qk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){De(e.collectionGroup===this.collectionId);const n=nE(e);if(n!==void 0&&!this.rn(n))return!1;const r=Wa(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const a=r[s];if(!this.sn(this.tn,a)||!this.on(this.Xt[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],a))return!1}return!0}_n(){let e=new Ct(Xt.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new xg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new xg(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new xg(r.field,r.dir==="asc"?0:1)));return new Hv(Hv.UNKNOWN_ID,this.collectionId,n,Cf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){var e,n;if(De(t instanceof Ze||t instanceof mt),t instanceof Ze){if(t instanceof XV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ze.create(t.field,"==",s)))||[];return mt.create(i,"or")}return t}const r=t.filters.map(i=>x3(i));return mt.create(r,t.op)}function pne(t){if(t.getFilters().length===0)return[];const e=mE(x3(t));return De(N3(e)),fE(e)||pE(e)?[e]:e.getFilters()}function fE(t){return t instanceof Ze}function pE(t){return t instanceof mt&&rC(t)}function N3(t){return fE(t)||pE(t)||function(n){if(n instanceof mt&&oE(n)){for(const r of n.getFilters())if(!fE(r)&&!pE(r))return!1;return!0}return!1}(t)}function mE(t){if(De(t instanceof Ze||t instanceof mt),t instanceof Ze)return t;if(t.filters.length===1)return mE(t.filters[0]);const e=t.filters.map(r=>mE(r));let n=mt.create(e,t.op);return n=Yv(n),N3(n)?n:(De(n instanceof mt),De(Ic(n)),De(n.filters.length>1),n.filters.reduce((r,i)=>pC(r,i)))}function pC(t,e){let n;return De(t instanceof Ze||t instanceof mt),De(e instanceof Ze||e instanceof mt),n=t instanceof Ze?e instanceof Ze?function(i,s){return mt.create([i,s],"and")}(t,e):Wk(t,e):e instanceof Ze?Wk(e,t):function(i,s){if(De(i.filters.length>0&&s.filters.length>0),Ic(i)&&Ic(s))return KV(i,s.getFilters());const o=oE(i)?i:s,a=oE(i)?s:i,u=o.filters.map(l=>pC(l,a));return mt.create(u,"or")}(t,e),Yv(n)}function Wk(t,e){if(Ic(e))return KV(e,t.getFilters());{const n=e.filters.map(r=>pC(t,r));return mt.create(n,"or")}}function Yv(t){if(De(t instanceof Ze||t instanceof mt),t instanceof Ze)return t;const e=t.getFilters();if(e.length===1)return Yv(e[0]);if(WV(t))return t;const n=e.map(i=>Yv(i)),r=[];return n.forEach(i=>{i instanceof Ze?r.push(i):i instanceof mt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this.an=new mC}addToCollectionParentIndex(e,n){return this.an.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(si.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class mC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Uint8Array(0);class gne{constructor(e,n){this.user=e,this.databaseId=n,this.un=new mC,this.cn=new Oa(r=>Nu(r),(r,i)=>Pp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Ir(i)};return Gk(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[kV(n),""],!1,!0);return Gk(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ws(o.parent))}return r})}addFieldIndex(e,n){const r=Ld(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ml(e);return s.next(a=>{o.put(Uk(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Ld(e),i=ml(e),s=pl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ld(e),r=pl(e),i=ml(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return z.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Hk(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=pl(e);let i=!0;const s=new Map;return z.forEach(this.ln(n),o=>this.hn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Qe();const a=[];return z.forEach(s,(u,l)=>{ue("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(u)} to execute ${Nu(n)}`);const c=function(b,w){const E=nE(w);if(E===void 0)return null;for(const A of Gv(b,E.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(l,u),d=function(b,w){const E=new Map;for(const A of Wa(w))for(const R of Gv(b,A.fieldPath))switch(R.op){case"==":case"in":E.set(A.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return E.set(A.fieldPath.canonicalString(),R.value),Array.from(E.values())}return null}(l,u),h=function(b,w){const E=[];let A=!0;for(const R of Wa(w)){const $=R.kind===0?Ik(b,R.fieldPath,b.startAt):Ck(b,R.fieldPath,b.startAt);E.push($.value),A&&(A=$.inclusive)}return new ma(E,A)}(l,u),p=function(b,w){const E=[];let A=!0;for(const R of Wa(w)){const $=R.kind===0?Ck(b,R.fieldPath,b.endAt):Ik(b,R.fieldPath,b.endAt);E.push($.value),A&&(A=$.inclusive)}return new ma(E,A)}(l,u),m=this.Pn(u,l,h),y=this.Pn(u,l,p),g=this.In(u,l,d),v=this.dn(u.indexId,c,m,h.inclusive,y,p.inclusive,g);return z.forEach(v,_=>r.H(_,n.limit).next(b=>{b.forEach(w=>{const E=_e.fromSegments(w.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return z.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=pne(mt.create(e.filters,"and")).map(r=>uE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let d=0;d<u;++d){const h=n?this.Tn(n[d/l]):Wm,p=this.En(e,h,r[d%l],i),m=this.An(e,h,s[d%l],o),y=a.map(g=>this.En(e,h,g,!0));c.push(...this.createRange(p,m,y))}return c}En(e,n,r,i){const s=new tu(e,_e.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new tu(e,_e.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new Hk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.nn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return z.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new Ct(Xt.comparator),c=!1;for(const d of u.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:l=l.add(h.field));for(const d of u.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new $d;for(const i of Wa(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);eu.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new $d;return eu.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new $d;return eu.Ct.dt(xu(this.databaseId,n),r.Yt(function(s){const o=Wa(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new $d);let s=0;for(const o of Wa(e)){const a=r[s++];for(const u of i)if(this.mn(n,o.fieldPath)&&Of(a))i=this.fn(i,o,a);else{const l=u.Yt(o.kind);eu.Ct.dt(a,l)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new $d;u.seed(a.zt()),eu.Ct.dt(o,u.Yt(n.kind)),s.push(u)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof Ze&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Ld(e),i=ml(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(c,d){const h=d?new Cf(d.sequenceNumber,new si($u(d.readTime),new _e(ws(d.documentKey)),d.largestBatchId)):Cf.empty(),p=c.fields.map(([m,y])=>new xg(Xt.fromServerFormat(m),y));return new Hv(c.indexId,c.collectionGroup,p,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ld(e),s=ml(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,u=>s.put(Uk(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,u=>this.yn(e,i,u).next(l=>{const c=this.wn(s,u);return l.isEqual(c)?z.resolve():this.Sn(e,s,u,l,c)}))))})}bn(e,n,r,i){return pl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return pl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=pl(e);let s=new Ct(Ro);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,a)=>{s=s.add(new tu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new Ct(Ro);const i=this.Rn(n,e);if(i==null)return r;const s=nE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Of(o))for(const a of o.arrayValue.values||[])r=r.add(new tu(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new tu(n.indexId,e.key,Wm,i));return r}Sn(e,n,r,i,s){ue("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,c,d,h){const p=u.getIterator(),m=l.getIterator();let y=fl(p),g=fl(m);for(;y||g;){let v=!1,_=!1;if(y&&g){const b=c(y,g);b<0?_=!0:b>0&&(v=!0)}else y!=null?_=!0:v=!0;v?(d(g),g=fl(m)):_?(h(y),y=fl(p)):(y=fl(p),g=fl(m))}}(i,s,Ro,a=>{o.push(this.bn(e,n,r,a))},a=>{o.push(this.Dn(e,n,r,a))}),z.waitFor(o)}pn(e){let n=1;return ml(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ro(o,a)).filter((o,a,u)=>!a||Ro(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ro(o,e),u=Ro(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Wm,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Wm,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return Ro(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Kk)}getMinOffset(e,n){return z.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||Ce())).next(Kk)}}function Gk(t){return Nn(t,"collectionParents")}function pl(t){return Nn(t,"indexEntries")}function Ld(t){return Nn(t,"indexConfiguration")}function ml(t){return Nn(t,"indexState")}function Kk(t){De(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;eC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new si(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(u.next(()=>{De(a===1)}));const l=[];for(const c of n.mutations){const d=$V(e,c.key.path,n.batchId);s.push(i.delete(d)),l.push(c.key)}return z.waitFor(s).next(()=>l)}function Xv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);class W_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){De(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new W_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Cl(e),o=Oo(e);return o.add({}).next(a=>{De(typeof a=="number");const u=new uC(a,n,r,i),l=function(p,m,y){const g=y.baseMutations.map(_=>Nf(p.ht,_)),v=y.mutations.map(_=>Nf(p.ht,_));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:g,mutations:v}}(this.serializer,this.userId,u),c=[];let d=new Ct((h,p)=>Ke(h.canonicalString(),p.canonicalString()));for(const h of i){const p=$V(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(l)),c.push(s.put(p,ite))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.vn[a]=u.keys()}),z.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Oo(e).get(n).next(r=>r?(De(r.userId===this.userId),Za(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?z.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Oo(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(De(a.batchId>=r),s=Za(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Oo(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).G("userMutationsIndex",n).next(r=>r.map(i=>Za(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ng(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Cl(e).Z({range:i},(o,a,u)=>{const[l,c,d]=o,h=ws(c);if(l===this.userId&&n.path.isEqual(h))return Oo(e).get(d).next(p=>{if(!p)throw Ce();De(p.userId===this.userId),s.push(Za(this.serializer,p))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ke);const i=[];return n.forEach(s=>{const o=Ng(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Cl(e).Z({range:a},(l,c,d)=>{const[h,p,m]=l,y=ws(p);h===this.userId&&s.path.isEqual(y)?r=r.add(m):d.done()});i.push(u)}),z.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ng(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ct(Ke);return Cl(e).Z({range:o},(u,l,c)=>{const[d,h,p]=u,m=ws(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Mn(e,a))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Oo(e).get(s).next(o=>{if(o===null)throw Ce();De(o.userId===this.userId),r.push(Za(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return D3(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Cl(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=ws(s[1]);i.push(u)}else a.done()}).next(()=>{De(i.length===0)})})}containsKey(e,n){return F3(e,this.userId,n)}On(e){return M3(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function F3(t,e,n){const r=Ng(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Cl(t).Z({range:s,Y:!0},(a,u,l)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),l.done()}).next(()=>o)}function Oo(t){return Nn(t,"mutations")}function Cl(t){return Nn(t,"documentMutations")}function M3(t){return Nn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Lu(0)}static Ln(){return new Lu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Lu(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Ne.fromTimestamp(new jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gl(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(De(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return gl(e).Z((o,a)=>{const u=ah(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return gl(e).Z((r,i)=>{const s=ah(i);n(s)})}kn(e){return Yk(e).get("targetGlobalKey").next(n=>(De(n!==null),n))}qn(e,n){return Yk(e).put("targetGlobalKey",n)}Qn(e,n){return gl(e).put(k3(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Nu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gl(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=ah(a);Pp(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Lo(e);return n.forEach(o=>{const a=Ir(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Lo(e);return z.forEach(n,s=>{const o=Ir(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Lo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Lo(e);let s=Qe();return i.Z({range:r,Y:!0},(o,a,u)=>{const l=ws(o[1]),c=new _e(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Ir(n.path),i=IDBKeyRange.bound([r],[kV(r)],!1,!0);let s=0;return Lo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}lt(e,n){return gl(e).get(n).next(r=>r?ah(r):null)}}function gl(t){return Nn(t,"targets")}function Yk(t){return Nn(t,"targetGlobal")}function Lo(t){return Nn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk([t,e],[n,r]){const i=Ke(t,n);return i===0?Ke(e,r):i}class yne{constructor(e){this.$n=e,this.buffer=new Ct(Xk),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Xk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _ne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ra(n)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Pa(n)}await this.jn(3e5)})}}class wne{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Lr.ae);const r=new yne(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Qk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qk):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),El()<=Je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function bne(t,e){return new wne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e,n){this.db=e,this.garbageCollector=bne(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return Gm(e,r)}removeReference(e,n,r){return Gm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gm(e,n)}tr(e,n){return function(i,s){let o=!1;return M3(i).X(a=>F3(i,a,s).next(u=>(u&&(o=!0),z.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,a)=>{if(a<=n){const u=this.tr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ne.min()),Lo(e).delete(function(d){return[0,Ir(d.path)]}(o))))});i.push(u)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gm(e,n)}er(e,n){const r=Lo(e);let i,s=Lr.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Lr.ae&&n(new _e(ws(i)),s),s=l,i=u):s=Lr.ae}).next(()=>{s!==Lr.ae&&n(new _e(ws(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gm(t,e){return Lo(t).put(function(r,i){return{targetId:0,path:Ir(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Va(e).put(r)}removeEntry(e,n,r){return Va(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Qv(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Dt.newInvalidDocument(n);return Va(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Dt.newInvalidDocument(n)};return Va(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(n))},(i,s)=>{r={document:this.rr(n,s),size:Xv(s)}}).next(()=>r)}getEntries(e,n){let r=Ur();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=Ur(),i=new At(_e.comparator);return this.sr(e,n,(s,o)=>{const a=this.rr(s,o);r=r.insert(s,a),i=i.insert(s,Xv(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return z.resolve();let i=new Ct(e2);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(Vd(i.first()),Vd(i.last())),o=i.getIterator();let a=o.getNext();return Va(e).Z({index:"documentKeyIndex",range:s},(u,l,c)=>{const d=_e.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&e2(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.W(Vd(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Qv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Va(e).G(IDBKeyRange.bound(a,u,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let c=Ur();for(const d of l){const h=this.rr(_e.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Op(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Ur();const o=Zk(n,r),a=Zk(n,si.max());return Va(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const d=this.rr(_e.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new Tne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Jk(e).get("remoteDocumentGlobalKey").next(n=>(De(!!n),n))}nr(e,n){return Jk(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=une(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Dt.newInvalidDocument(e)}}function L3(t){return new Sne(t)}class Tne extends $3{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Oa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ct((s,o)=>Ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=Lk(this.ur.serializer,o);i=i.add(s.path.popLast());const l=Xv(u);r+=l-a.size,n.push(this.ur.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=Lk(this.ur.serializer,o.convertToNoDocument(Ne.min()));n.push(this.ur.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Jk(t){return Nn(t,"remoteDocumentGlobal")}function Va(t){return Nn(t,"remoteDocumentsV14")}function Vd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zk(t,e){const n=e.documentKey.path.toArray();return[t,Qv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function e2(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ke(n[s],r[s]),i)return i;return i=Ke(n.length,r.length),i||(i=Ke(n[n.length-2],r[r.length-2]),i||Ke(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rh(r.mutation,i,Vr.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sh();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=Ph(),a=function(){return Ph()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof vo)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Rh(c.mutation,l,c.mutation.getFieldMask(),jt.now())):o.set(l.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new Ine(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ph();let i=new At((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Vr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Qe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=i3();c.forEach(h=>{if(!s.has(h)){const p=h3(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(bs());let a=-1,u=s;return o.next(l=>z.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Qe())).next(c=>({batchId:a,changes:r3(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=sh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=sh();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const l=function(d,h){return new go(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Dt.newInvalidDocument(c)))});let a=sh();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Rh(c.mutation,l,Vr.empty(),jt.now()),Op(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return z.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:on(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:fC(i.bundledQuery),readTime:on(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(){this.overlays=new At(_e.comparator),this.Pr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=bs(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=bs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return z.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cC(n,r));let s=this.Pr.get(n);s===void 0&&(s=Qe(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.Ir=new Ct(wn.dr),this.Tr=new Ct(wn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new wn(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new wn(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new _e(new it([])),r=new wn(n,e),i=new wn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new _e(new it([])),r=new wn(n,e),i=new wn(n,e+1);let s=Qe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return _e.comparator(e.key,n.key)||Ke(e.yr,n.yr)}static Er(e,n){return Ke(e.yr,n.yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ct(wn.dr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new wn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ke);return n.forEach(i=>{const s=new wn(i,0),o=new wn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new wn(new _e(s),0);let a=new Ct(Ke);return this.Sr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.yr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return z.forEach(n.mutations,i=>{const s=new wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new wn(n,0),i=this.Sr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e){this.Fr=e,this.docs=function(){return new At(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new _e(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||eC(NV(c),r)<=0||(i.has(c.key)||Op(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Mr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new One(this)}getSize(e){return z.resolve(this.size)}}class One extends $3{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e){this.persistence=e,this.Or=new Oa(n=>Nu(n),Pp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Nr=0,this.Br=new gC,this.targetCount=0,this.Lr=Lu.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),z.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Qn(n),z.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.kr={},this.overlays={},this.qr=new Lr(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new kne(this),this.indexManager=new mne,this.remoteDocumentCache=function(i){return new Rne(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new O3(n),this.Ur=new Cne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ane,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Pne(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new xne(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return z.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class xne extends FV{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.jr=new gC,this.Hr=null}static Jr(e){return new G_(e)}get Yr(){if(this.Hr)return this.Hr;throw Ce()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),z.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Yr,r=>{const i=_e.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return z.or([()=>z.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.serializer=e}B(e,n,r,i){const s=new U_("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mk,{unique:!0}),u.createObjectStore("documentMutations")}(e),t2(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),t2(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").G().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mk,{unique:!0});const d=l.store("mutations"),h=c.map(p=>d.put(p));return z.waitFor(h)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:gte});l.createIndex("collectionPathOverlayIndex",vte,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",yte,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:ste});l.createIndex("documentKeyIndex",ote),l.createIndex("collectionGroupIndex",ate)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:hte}).createIndex("sequenceNumberIndex",fte,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:pte}).createIndex("documentKeyIndex",mte,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Xv(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>z.forEach(a,u=>{De(u.userId===s.userId);const l=Za(this.serializer,u);return D3(e,s.userId,l).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new it(o),l=function(d){return[0,Ir(d)]}(u);s.push(n.get(l).next(c=>c?z.resolve():(d=>n.put({targetId:0,path:Ir(d),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>z.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:dte});const r=n.store("collectionParents"),i=new mC,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ir(u)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const u=new it(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,u],l)=>{const c=ws(a);return s(c.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=ah(i),o=k3(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=function(d){return d.document?new _e(it.fromString(d.document.name).popFirst(5)):d.noDocument?_e.fromSegments(d.noDocument.path):d.unknownDocument?_e.fromSegments(d.unknownDocument.path):Ce()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>z.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=L3(this.serializer),s=new U3(G_.Jr,this.serializer.ht);return r.G().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:Qe();Za(this.serializer,u).keys().forEach(d=>c=c.add(d)),a.set(u.userId,c)}),z.forEach(a,(u,l)=>{const c=new En(l),d=H_.Pt(this.serializer,c),h=s.getIndexManager(c),p=W_.Pt(c,this.serializer,h,s.referenceDelegate);return new V3(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new rE(n,Lr.ae),u).next()})})}}function t2(t){t.createObjectStore("targetDocuments",{keyPath:lte}).createIndex("documentTargetsIndex",cte,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ute,{unique:!0}),t.createObjectStore("targetGlobal")}const ew="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vC{constructor(e,n,r,i,s,o,a,u,l,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=a,this.ai=l,this.ui=c,this.ci=d,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!vC.C())throw new se(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ene(this,i),this.Ti=n+"main",this.serializer=new O3(u),this.Ei=new ji(this.Ti,this.ci,new Nne(this.serializer)),this.Kr=new vne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=L3(this.serializer),this.Ur=new lne,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,c===!1&&sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(G.FAILED_PRECONDITION,ew);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Lr(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Ra(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ud(e).get("owner").next(n=>z.resolve(this.bi(n)))}Di(e){return Km(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?z.resolve(!0):Ud(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new se(G.FAILED_PRECONDITION,ew);return!1}}return!(!this.networkEnabled||!this.inForeground)||Km(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ue("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new rE(e,Lr.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>Km(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return W_.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gne(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return H_.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){ue("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===15?wte:u===14?UV:u===13?VV:u===12?_te:u===11?LV:void Ce()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new rE(a,this.qr?this.qr.next():Lr.ae),n==="readwrite-primary"?this.pi(o).next(u=>!!u||this.yi(o)).next(u=>{if(!u)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new se(G.FAILED_PRECONDITION,DV);return r(o)}).next(u=>this.Si(o).next(()=>u)):this.qi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}qi(e){return Ud(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new se(G.FAILED_PRECONDITION,ew)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ud(e).put("owner",n)}static C(){return ji.C()}wi(e){const n=Ud(e);return n.get("owner").next(r=>this.bi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(sn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;cK()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ud(t){return Nn(t,"owner")}function Km(t){return Nn(t,"clientMetadata")}function yC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _C(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Dne;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(El()<=Je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),z.resolve()):(El()<=Je.DEBUG&&ue("QueryEngine","Query:",Sl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(El()<=Je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):z.resolve())}Hi(e,n){if(Ak(n))return z.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kv(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Xi(n,a);return this.es(n,l,o,u.readTime)?this.Hi(e,Kv(n,null,"F")):this.ts(e,l,n,u)}))})))}Ji(e,n,r,i){return Ak(n)||i.isEqual(Ne.min())?z.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?z.resolve(null):(El()<=Je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(n)),this.ts(e,o,n,xV(i,-1)).next(a=>a))})}Xi(e,n){let r=new Ct(t3(e));return n.forEach((i,s)=>{Op(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return El()<=Je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ji.getDocumentsMatchingQuery(e,n,si.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new At(Ke),this.ss=new Oa(s=>Nu(s),Pp),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V3(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function B3(t,e,n,r){return new Fne(t,e,n,r)}async function z3(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Qe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({cs:l,removedBatchIds:o,addedBatchIds:a}))})})}function Mne(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,h=d.keys();let p=z.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(u,m)).next(y=>{const g=l.docVersions.get(m);De(g!==null),y.version.compareTo(g)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function q3(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function $ne(t,e){const n=we(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,g,v){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.Kr.updateTargetData(s,p))});let u=Ur(),l=Qe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(H3(s,o,e.documentUpdates).next(c=>{u=c.ls,l=c.hs})),!r.isEqual(Ne.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.rs=i,s))}function H3(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ls:o,hs:i}})}function Lne(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rc(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Ws(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Oc(t,e,n){const r=we(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ra(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Jv(t,e,n){const r=we(t);let i=Ne.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const d=we(u),h=d.ss.get(c);return h!==void 0?z.resolve(d.rs.get(h)):d.Kr.getTargetData(l,c)}(r,o,Cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?s:Qe())).next(a=>(K3(r,e3(e),a),{documents:a,Ps:s})))}function W3(t,e){const n=we(t),r=we(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function G3(t,e){const n=we(t),r=n.os.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,xV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(K3(n,e,i),i))}function K3(t,e,n){let r=t.os.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function Vne(t,e,n,r){const i=we(t);let s=Qe(),o=Ur();for(const l of n){const c=e.Is(l.metadata.name);l.document&&(s=s.add(c));const d=e.ds(l);d.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(c,d)}const a=i._s.newChangeBuffer({trackRemovals:!0}),u=await Rc(i,function(c){return Cr(Zc(it.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>H3(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Kr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Kr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.ls,c.hs)).next(()=>c.ls)))}async function Une(t,e,n=Qe()){const r=await Rc(t,Cr(fC(e.bundledQuery))),i=we(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=on(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const a=r.withResumeToken(yn.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(a.targetId,a),i.Kr.updateTargetData(s,a).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function n2(t,e){return`firestore_clients_${t}_${e}`}function r2(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tw(t,e){return`firestore_targets_${t}_${e}`}class Zv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new se(i.error.code,i.error.message))),o?new Zv(e,n,i.state,s):(sn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new se(r.error.code,r.error.message))),s?new Oh(e,r.state,i):(sn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=oC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=MV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new ey(e,s):(sn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wC{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new wC(n.clientId,n.onlineState):(sn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gE{constructor(){this.activeTargetIds=oC()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nw{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new At(Ke),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=n2(this.persistenceKey,this.fs),this.bs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new gE),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Ms=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(n2(this.persistenceKey,r));if(i){const s=ey.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tw(this.persistenceKey,e));if(r){const i=Oh.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ue("SharedClientState","READ",e,n),n}setItem(e,n){ue("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(ue("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=Lr.ae;if(s!=null)try{const a=JSON.parse(s);De(typeof a=="number"),o=a}catch(a){sn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Lr.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new Zv(this.currentUser,e,n,r),s=r2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=r2(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=tw(this.persistenceKey,e),s=new Oh(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return ey.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Zv.Es(new En(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return Oh.Es(i,n)}Os(e){return wC.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.no(o,a).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=oC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Q3{constructor(){this.ro=new gE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm=null;function rw(){return Qm===null?Qm=function(){return 268435456+Math.round(2147483648*Math.random())}():Qm++,"0x"+Qm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class qne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=rw(),u=this.Do(n,r);ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(l,s,o),this.vo(n,u,l,i).then(c=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Xi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=Bne[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=rw();return new Promise((o,a)=>{const u=new Uee;u.setWithCredentials(!0),u.listenOnce(Lee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case J1.NO_ERROR:const c=u.getResponseJson();ue(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case J1.TIMEOUT:ue(tr,`RPC '${e}' ${s} timed out`),a(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case J1.HTTP_ERROR:const d=u.getStatus();if(ue(tr,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(v)>=0?v:G.UNKNOWN}(p.status);a(new se(m,p.message))}else a(new se(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new se(G.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ue(tr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ue(tr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Mo(e,n,r){const i=rw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Mee(),a=$ee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");ue(tr,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,p=!1;const m=new zne({ho:g=>{p?ue(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(ue(tr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ue(tr,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},Po:()=>d.close()}),y=(g,v,_)=>{g.listen(v,b=>{try{_(b)}catch(w){setTimeout(()=>{throw w},0)}})};return y(d,qm.EventType.OPEN,()=>{p||ue(tr,`RPC '${e}' stream ${i} transport opened.`)}),y(d,qm.EventType.CLOSE,()=>{p||(p=!0,ue(tr,`RPC '${e}' stream ${i} transport closed`),m.mo())}),y(d,qm.EventType.ERROR,g=>{p||(p=!0,Xi(tr,`RPC '${e}' stream ${i} transport errored:`,g),m.mo(new se(G.UNAVAILABLE,"The operation could not be completed")))}),y(d,qm.EventType.MESSAGE,g=>{var v;if(!p){const _=g.data[0];De(!!_);const b=_,w=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(w){ue(tr,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let A=function(Q){const te=ln[Q];if(te!==void 0)return m3(te)}(E),R=w.message;A===void 0&&(A=G.INTERNAL,R="Unknown error status: "+E+" with message "+w.message),p=!0,m.mo(new se(A,R)),d.close()}else ue(tr,`RPC '${e}' stream ${i} received:`,_),m.fo(_)}}),y(a,Vee.STAT_EVENT,g=>{g.stat===dk.PROXY?ue(tr,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===dk.NOPROXY&&ue(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return typeof window<"u"?window:null}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){return new Jte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new bC(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new se(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hne extends X3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=tne(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?on(o.readTime):Ne.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=xf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Wv(u)?{documents:T3(s,u)}:{query:I3(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_3(s,o.resumeToken);const l=cE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Pc(s,o.snapshotVersion.toTimestamp());const l=cE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=rne(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=xf(this.serializer),n.removeTarget=e,this.n_(n)}}class Wne extends X3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=nne(e.writeResults,e.commitTime),r=on(e.commitTime);return this.listener.T_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=xf(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Nf(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(G.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(G.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class Kne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(sn(n),this.p_=!1):ue("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{ka(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=we(u);l.F_.add(4),await nd(l),l.O_.set("Unknown"),l.F_.delete(4),await Fp(l)}(this))})}),this.O_=new Kne(r,i)}}async function Fp(t){if(ka(t))for(const e of t.M_)await e(!0)}async function nd(t){for(const e of t.M_)await e(!1)}function K_(t,e){const n=we(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),TC(n)?SC(n):id(n).Yo()&&EC(n,e))}function Df(t,e){const n=we(t),r=id(n);n.v_.delete(e),r.Yo()&&J3(n,e),n.v_.size===0&&(r.Yo()?r.e_():ka(n)&&n.O_.set("Unknown"))}function EC(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}id(t).l_(e)}function J3(t,e){t.N_.Le(e),id(t).h_(e)}function SC(t){t.N_=new Kte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),id(t).start(),t.O_.y_()}function TC(t){return ka(t)&&!id(t).Jo()&&t.v_.size>0}function ka(t){return we(t).F_.size===0}function Z3(t){t.N_=void 0}async function Yne(t){t.v_.forEach((e,n)=>{EC(t,e)})}async function Xne(t,e){Z3(t),TC(t)?(t.O_.b_(e),SC(t)):t.O_.set("Unknown")}async function Jne(t,e,n){if(t.O_.set("Online"),e instanceof y3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ty(t,r)}else if(e instanceof $g?t.N_.Ge(e):e instanceof v3?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ne.min()))try{const r=await q3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.v_.get(l);c&&s.v_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.v_.get(u);if(!c)return;s.v_.set(u,c.withResumeToken(yn.EMPTY_BYTE_STRING,c.snapshotVersion)),J3(s,u);const d=new Ws(c.target,u,l,c.sequenceNumber);EC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await ty(t,r)}}async function ty(t,e,n){if(!Ra(e))throw e;t.F_.add(1),await nd(t),t.O_.set("Offline"),n||(n=()=>q3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Fp(t)})}function e6(t,e){return e().catch(n=>ty(t,n,e))}async function rd(t){const e=we(t),n=ga(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Zne(e);)try{const i=await Lne(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,ere(e,i)}catch(i){await ty(e,i)}t6(e)&&n6(e)}function Zne(t){return ka(t)&&t.C_.length<10}function ere(t,e){t.C_.push(e);const n=ga(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function t6(t){return ka(t)&&!ga(t).Jo()&&t.C_.length>0}function n6(t){ga(t).start()}async function tre(t){ga(t).A_()}async function nre(t){const e=ga(t);for(const n of t.C_)e.d_(n.mutations)}async function rre(t,e,n){const r=t.C_.shift(),i=lC.from(r,e,n);await e6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rd(t)}async function ire(t,e){e&&ga(t).I_&&await async function(r,i){if(function(o){return p3(o)&&o!==G.ABORTED}(i.code)){const s=r.C_.shift();ga(r).Xo(),await e6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rd(r)}}(t,e),t6(t)&&n6(t)}async function s2(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ka(n);n.F_.add(3),await nd(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Fp(n)}async function vE(t,e){const n=we(t);e?(n.F_.delete(2),await Fp(n)):e||(n.F_.add(2),await nd(n),n.O_.set("Unknown"))}function id(t){return t.B_||(t.B_=function(n,r,i){const s=we(n);return s.V_(),new Hne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Yne.bind(null,t),Eo:Xne.bind(null,t),c_:Jne.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),TC(t)?SC(t):t.O_.set("Unknown")):(await t.B_.stop(),Z3(t))})),t.B_}function ga(t){return t.L_||(t.L_=function(n,r,i){const s=we(n);return s.V_(),new Wne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:tre.bind(null,t),Eo:ire.bind(null,t),E_:nre.bind(null,t),T_:rre.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await rd(t)):(await t.L_.stop(),t.C_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new IC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(t,e){if(sn("AsyncQueue",`${e}: ${t}`),Ra(t))return new se(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=sh(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.k_=new At(_e.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Ce():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kc{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new kc(e,n,oc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(){this.Q_=void 0,this.listeners=[]}}class ore{constructor(){this.queries=new Oa(e=>ZV(e),Rp),this.onlineState="Unknown",this.K_=new Set}}async function CC(t,e){const n=we(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new sre),i)try{s.Q_=await n.onListen(r)}catch(o){const a=sd(o,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&PC(n)}async function AC(t,e){const n=we(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function are(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&PC(n)}function ure(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function PC(t){t.K_.forEach(e=>{e.next()})}class RC{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.serializer=e}Is(e){return Is(this.serializer,e)}ds(e){return e.metadata.exists?S3(this.serializer,e.document,!1):Dt.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return on(e)}}class cre{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=r6(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=it.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new a2(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Qe()).add(s);n.set(o,a)}}return n}async complete(){const e=await Vne(this.localStore,new a2(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await Une(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function r6(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.key=e}}class s6{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Qe(),this.mutatedKeys=Qe(),this.ua=t3(e),this.ca=new oc(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new o2,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Op(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),g=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),g=!0,(u&&this.ua(p,u)>0||l&&this.ua(p,l)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(u||l)&&(a=!0)),g&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((l,c)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return m(h)-m(p)}(l.type,c.type)||this.ua(l.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,u=a!==this._a;return this._a=a,s.length!==0||u?{snapshot:new kc(this.query,e.ca,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new o2,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Qe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new s6(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new i6(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Qe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return kc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class dre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hre{constructor(e){this.key=e,this.ma=!1}}class fre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Oa(a=>ZV(a),Rp),this.pa=new Map,this.ya=new Set,this.wa=new At(_e.comparator),this.Sa=new Map,this.ba=new gC,this.Da={},this.Ca=new Map,this.va=Lu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function pre(t,e){const n=DC(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Rc(n.localStore,Cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await OC(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&K_(n.remoteStore,o)}return i}async function OC(t,e,n,r,i){t.Ma=(d,h,p)=>async function(y,g,v,_){let b=g.view.ha(v);b.es&&(b=await Jv(y.localStore,g.query,!1).then(({documents:A})=>g.view.ha(A,b)));const w=_&&_.targetChanges.get(g.targetId),E=g.view.applyChanges(b,y.isPrimaryClient,w);return yE(y,g.targetId,E.Ea),E.snapshot}(t,d,h,p);const s=await Jv(t.localStore,e,!0),o=new o6(e,s.Ps),a=o.ha(s.documents),u=Np.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);yE(t,n,l.Ea);const c=new dre(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}async function mre(t,e){const n=we(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Rp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Oc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Df(n.remoteStore,r.targetId),xc(n,r.targetId)}).catch(Pa)):(xc(n,r.targetId),await Oc(n.localStore,r.targetId,!0))}async function gre(t,e,n){const r=FC(t);try{const i=await function(o,a){const u=we(o),l=jt.now(),c=a.reduce((p,m)=>p.add(m.key),Qe());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ur(),y=Qe();return u._s.getEntries(p,c).next(g=>{m=g,m.forEach((v,_)=>{_.isValidDocument()||(y=y.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,m)).next(g=>{d=g;const v=[];for(const _ of a){const b=Hte(_,d.get(_.key).overlayedDocument);b!=null&&v.push(new vo(_.key,b,qV(b.value.mapValue),Ut.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,y);return u.documentOverlayCache.saveOverlays(p,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:r3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new At(Ke)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await yo(r,i.changes),await rd(r.remoteStore)}catch(i){const s=sd(i,"Failed to persist write");n.reject(s)}}async function a6(t,e){const n=we(t);try{const r=await $ne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?De(o.ma):i.removedDocuments.size>0&&(De(o.ma),o.ma=!1))}),await yo(n,r,e)}catch(r){await Pa(r)}}function u2(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=we(o);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const h of d.listeners)h.U_(a)&&(l=!0)}),l&&PC(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vre(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new At(_e.comparator);o=o.insert(s,Dt.newNoDocument(s,Ne.min()));const a=Qe().add(s),u=new xp(Ne.min(),new Map,new At(Ke),o,a);await a6(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),NC(r)}else await Oc(r.localStore,e,!1).then(()=>xc(r,e,n)).catch(Pa)}async function yre(t,e){const n=we(t),r=e.batch.batchId;try{const i=await Mne(n.localStore,e);xC(n,r,null),kC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yo(n,i)}catch(i){await Pa(i)}}async function _re(t,e,n){const r=we(t);try{const i=await function(o,a){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(De(d!==null),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);xC(r,e,n),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yo(r,i)}catch(i){await Pa(i)}}async function wre(t,e){const n=we(t);ka(n.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=we(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=sd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function kC(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function xC(t,e,n){const r=we(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function xc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||u6(t,r)})}function u6(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Df(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),NC(t))}function yE(t,e,n){for(const r of n)r instanceof i6?(t.ba.addReference(r.key,e),bre(t,r)):r instanceof s6?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||u6(t,r.key)):Ce()}function bre(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.ya.add(r),NC(t))}function NC(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _e(it.fromString(e)),r=t.va.next();t.Sa.set(r,new hre(n)),t.wa=t.wa.insert(n,r),K_(t.remoteStore,new Ws(Cr(Zc(n.path)),r,"TargetPurposeLimboResolution",Lr.ae))}}async function yo(t,e,n){const r=we(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=_C.$i(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(u,l){const c=we(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(l,h=>z.forEach(h.Qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>z.forEach(h.Ki,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Ra(d))throw d;ue("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const p=c.rs.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.rs=c.rs.insert(h,y)}}}(r.localStore,s))}async function Ere(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await z3(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new se(G.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yo(n,r.cs)}}function Sre(t,e){const n=we(t),r=n.Sa.get(e);if(r&&r.ma)return Qe().add(r.key);{let i=Qe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function Tre(t,e){const n=we(t),r=await Jv(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&yE(n,e.targetId,i.Ea),i}async function Ire(t,e){const n=we(t);return G3(n.localStore,e).then(r=>yo(n,r))}async function Cre(t,e,n,r){const i=we(t),s=await function(a,u){const l=we(a),c=we(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Fn(d,u).next(h=>h?l.localDocuments.getDocuments(d,h):z.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await rd(i.remoteStore):n==="acknowledged"||n==="rejected"?(xC(i,e,r||null),kC(i,e),function(a,u){we(we(a).mutationQueue).xn(u)}(i.localStore,e)):Ce(),await yo(i,s)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Are(t,e){const n=we(t);if(DC(n),FC(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await l2(n,r.toArray());n.Fa=!0,await vE(n.remoteStore,!0);for(const s of i)K_(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(xc(n,o),Oc(n.localStore,o,!0))),Df(n.remoteStore,o)}),await i,await l2(n,r),function(o){const a=we(o);a.Sa.forEach((u,l)=>{Df(a.remoteStore,l)}),a.ba.gr(),a.Sa=new Map,a.wa=new At(_e.comparator)}(n),n.Fa=!1,await vE(n.remoteStore,!1)}}async function l2(t,e,n){const r=we(t),i=[],s=[];for(const o of e){let a;const u=r.pa.get(o);if(u&&u.length!==0){a=await Rc(r.localStore,Cr(u[0]));for(const l of u){const c=r.ga.get(l),d=await Tre(r,c);d.snapshot&&s.push(d.snapshot)}}else{const l=await W3(r.localStore,o);a=await Rc(r.localStore,l),await OC(r,l6(l),o,!1,a.resumeToken)}i.push(a)}return r.fa.c_(s),i}function l6(t){return JV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Pre(t){return function(n){return we(we(n).persistence).ki()}(we(t).localStore)}async function Rre(t,e,n,r){const i=we(t);if(i.Fa)return void ue("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await G3(i.localStore,e3(s[0])),a=xp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yn.EMPTY_BYTE_STRING);await yo(i,o,a);break}case"rejected":await Oc(i.localStore,e,!0),xc(i,e,r);break;default:Ce()}}async function Ore(t,e,n){const r=DC(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){ue("SyncEngine","Adding an already active target "+i);continue}const s=await W3(r.localStore,i),o=await Rc(r.localStore,s);await OC(r,l6(s),o.targetId,!1,o.resumeToken),K_(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await Oc(r.localStore,i,!1).then(()=>{Df(r.remoteStore,i),xc(r,i)}).catch(Pa)}}function DC(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vre.bind(null,e),e.fa.c_=are.bind(null,e.eventManager),e.fa.xa=ure.bind(null,e.eventManager),e}function FC(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_re.bind(null,e),e}function kre(t,e,n){const r=we(t);(async function(s,o,a){try{const u=await o.getMetadata();if(await function(p,m){const y=we(p),g=on(m.createTime);return y.persistence.runTransaction("hasNewerBundle","readonly",v=>y.Ur.getBundleMetadata(v,m.id)).then(v=>!!v&&v.createTime.compareTo(g)>=0)}(s.localStore,u))return await o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(r6(u));const l=new cre(u,s.localStore,o.serializer);let c=await o.Oa();for(;c;){const h=await l.na(c);h&&a._updateProgress(h),c=await o.Oa()}const d=await l.complete();return await yo(s,d.sa,void 0),await function(p,m){const y=we(p);return y.persistence.runTransaction("Save bundle","readwrite",g=>y.Ur.saveBundleMetadata(g,m))}(s.localStore,u),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(u){return Xi("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class _E{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return B3(this.persistence,new j3,e.initialUser,this.serializer)}createPersistence(e){return new U3(G_.Jr,this.serializer)}createSharedClientState(e){return new Q3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class c6 extends _E{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await FC(this.Na.syncEngine),await rd(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return B3(this.persistence,new j3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _ne(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new nte(n,this.persistence);return new tte(e.asyncQueue,r)}createPersistence(e){const n=yC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new vC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Y3(),Lg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Q3}}class xre extends c6{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof nw&&(this.sharedClientState.syncEngine={Xs:Cre.bind(null,n),eo:Rre.bind(null,n),no:Ore.bind(null,n),ki:Pre.bind(null,n),Zs:Ire.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await Are(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=Y3();if(!nw.C(n))throw new se(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class MC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ere.bind(null,this.syncEngine),await vE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ore}()}createDatastore(e){const n=Dp(e.databaseInfo.databaseId),r=function(s){return new qne(s)}(e.databaseInfo);return function(s,o,a,u){return new Gne(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Qne(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u2(this.syncEngine,n,0),function(){return i2.C()?new i2:new jne}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const d=new fre(i,s,o,a,u,l);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=we(n);ue("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await nd(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new In,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new lre(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new se(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=we(i),a=xf(o.serializer)+"/documents",u={documents:s.map(h=>kf(o.serializer,h))},l=await o.Fo("BatchGetDocuments",a,u,s.length),c=new Map;l.forEach(h=>{const p=ene(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return s.forEach(h=>{const p=c.get(h.toString());De(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new td(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=_e.fromPath(r);this.mutations.push(new aC(i,this.precondition(i)))}),await async function(r,i){const s=we(r),o=xf(s.serializer)+"/documents",a={writes:i.map(u=>Nf(s.serializer,u))};await s.bo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ce();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new se(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?Ut.exists(!1):Ut.updateTime(n):Ut.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new se(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ut.updateTime(n)}return Ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new bC(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new Dre(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Ap(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!p3(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=OV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vg(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await z3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $C(t);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>s2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>s2(e.remoteStore,s)),t._onlineComponents=e}function d6(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $C(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d6(n))throw n;Xi("Error using user provided cache. Falling back to memory cache: "+n),await Vg(t,new _E)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Vg(t,new _E);return t._offlineComponents}async function Y_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await wE(t,new MC))),t._onlineComponents}function h6(t){return $C(t).then(e=>e.persistence)}function LC(t){return $C(t).then(e=>e.localStore)}function f6(t){return Y_(t).then(e=>e.remoteStore)}function VC(t){return Y_(t).then(e=>e.syncEngine)}function $re(t){return Y_(t).then(e=>e.datastore)}async function Nc(t){const e=await Y_(t),n=e.eventManager;return n.onListen=pre.bind(null,e.syncEngine),n.onUnlisten=mre.bind(null,e.syncEngine),n}function Lre(t){return t.asyncQueue.enqueue(async()=>{const e=await h6(t),n=await f6(t);return e.setNetworkEnabled(!0),function(i){const s=we(i);return s.F_.delete(0),Fp(s)}(n)})}function Vre(t){return t.asyncQueue.enqueue(async()=>{const e=await h6(t),n=await f6(t);return e.setNetworkEnabled(!1),async function(i){const s=we(i);s.F_.add(0),await nd(s),s.O_.set("Offline")}(n)})}function Ure(t,e){const n=new In;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,c){const d=we(l);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new se(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=sd(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await LC(t),e,n)),n.promise}function p6(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Q_({next:h=>{o.enqueueAndForget(()=>AC(s,d));const p=h.docs.has(a);!p&&h.fromCache?l.reject(new se(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&u&&u.source==="server"?l.reject(new se(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new RC(Zc(a.path),c,{includeMetadataChanges:!0,Z_:!0});return CC(s,d)}(await Nc(t),t.asyncQueue,e,n,r)),r.promise}function jre(t,e){const n=new In;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Jv(i,s,!0),u=new o6(s,a.Ps),l=u.ha(a.documents),c=u.applyChanges(l,!1);o.resolve(c.snapshot)}catch(a){const u=sd(a,`Failed to execute query '${s} against cache`);o.reject(u)}}(await LC(t),e,n)),n.promise}function m6(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Q_({next:h=>{o.enqueueAndForget(()=>AC(s,d)),h.fromCache&&u.source==="server"?l.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new RC(a,c,{includeMetadataChanges:!0,Z_:!0});return CC(s,d)}(await Nc(t),t.asyncQueue,e,n,r)),r.promise}function Bre(t,e){const n=new Q_(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){we(i).K_.add(s),s.next()}(await Nc(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){we(i).K_.delete(s)}(await Nc(t),n))}}function zre(t,e,n,r){const i=function(o,a){let u;return u=typeof o=="string"?g3().encode(o):o,function(c,d){return new Nre(c,d)}(function(c,d){if(c instanceof Uint8Array)return c2(c,d);if(c instanceof ArrayBuffer)return c2(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Dp(e));t.asyncQueue.enqueueAndForget(async()=>{kre(await VC(t),i,r)})}function qre(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=we(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await LC(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){if(!n)throw new se(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v6(t,e,n,r){if(e===!0&&r===!0)throw new se(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h2(t){if(!_e.isDocumentKey(t))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f2(t){if(_e.isDocumentKey(t))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=X_(t);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y6(t,e){if(e<=0)throw new se(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qee;switch(r.type){case"firstParty":return new Kee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d2.get(n);r&&(ue("ComponentProvider","Removing Datastore"),d2.delete(n),r.terminate())}(this),Promise.resolve()}}function Hre(t,e,n,r={}){var i;const s=(t=ot(t,Mp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=En.MOCK_USER;else{a=gL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new En(l)}t._authCredentials=new Hee(new RV(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class _6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _6(this.firestore,e,this._query)}},Ht=class w6{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new w6(this.firestore,e,this._key)}},ra=class b6 extends Ar{constructor(e,n,r){super(e,n,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new b6(this.firestore,e,this._path)}};function E6(t,e,...n){if(t=ke(t),UC("collection","path",e),t instanceof Mp){const r=it.fromString(e,...n);return f2(r),new ra(t,null,r)}{if(!(t instanceof Ht||t instanceof ra))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return f2(r),new ra(t.firestore,null,r)}}function Wre(t,e){if(t=ot(t,Mp),UC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new go(it.emptyPath(),r)}(e))}function ny(t,e,...n){if(t=ke(t),arguments.length===1&&(e=OV.V()),UC("doc","path",e),t instanceof Mp){const r=it.fromString(e,...n);return h2(r),new Ht(t,null,new _e(r))}{if(!(t instanceof Ht||t instanceof ra))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return h2(r),new Ht(t.firestore,t instanceof ra?t.converter:null,new _e(r))}}function S6(t,e){return t=ke(t),e=ke(e),(t instanceof Ht||t instanceof ra)&&(e instanceof Ht||e instanceof ra)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function T6(t,e){return t=ke(t),e=ke(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&Rp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new bC(this,"async_queue_retry"),this.ou=()=>{const n=Lg();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new In;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Ra(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=IC.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Ce()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function bE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Kre{constructor(){this._progressObserver={},this._taskCompletionResolver=new In,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=-1;let en=class extends Mp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I6(this),this._firestoreClient.terminate()}};function Dn(t){return t._firestoreClient||I6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new Ste(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,g6(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Mre(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Yre(t,e){A6(t=ot(t,en));const n=Dn(t);if(n._uninitializedComponentsProvider)throw new se(G.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new MC;return C6(n,i,new c6(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Xre(t){A6(t=ot(t,en));const e=Dn(t);if(e._uninitializedComponentsProvider)throw new se(G.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new MC;return C6(e,r,new xre(r,n.cacheSizeBytes))}function C6(t,e,n){const r=new In;return t.asyncQueue.enqueue(async()=>{try{await Vg(t,n),await wE(t,e),r.resolve()}catch(i){const s=i;if(!d6(s))throw s;Xi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Jre(t){if(t._initialized&&!t._terminated)throw new se(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new In;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ji.C())return Promise.resolve();const i=r+"main";await ji.delete(i)}(yC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Zre(t){return function(n){const r=new In;return n.asyncQueue.enqueueAndForget(async()=>wre(await VC(n),r)),r.promise}(Dn(t=ot(t,en)))}function eie(t){return Lre(Dn(t=ot(t,en)))}function tie(t){return Vre(Dn(t=ot(t,en)))}function nie(t,e){const n=Dn(t=ot(t,en)),r=new Kre;return zre(n,t._databaseId,e,r),r}function rie(t,e){return qre(Dn(t=ot(t,en)),e).then(n=>n?new Ar(t,null,n.query):null)}function A6(t){if(t._initialized||t._terminated)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(yn.fromBase64String(e))}catch(n){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xs(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=/^__.*__$/;class sie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ed(e,this.data,n,this.fieldTransforms)}}class P6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Z_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Z_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return ry(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(R6(this.Tu)&&iie.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class oie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dp(e)}wu(e,n,r,i=!1){return new Z_({Tu:e,methodName:n,yu:r,path:Xt.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(t){const e=t._freezeSettings(),n=Dp(t._databaseId);return new oie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e0(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);qC("Data must be an object, but it was:",o,r);const a=x6(r,o);let u,l;if(s.merge)u=new Vr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=EE(e,d,n);if(!o.contains(h))throw new se(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);D6(c,h)||c.push(h)}u=new Vr(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new sie(new zn(a),u,l)}class $p extends Xu{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $p}}function O6(t,e,n){return new Z_({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jC extends Xu{_toFieldTransform(e){return new kp(e.path,new Cc)}isEqual(e){return e instanceof jC}}class aie extends Xu{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=O6(this,e,!0),r=this.Su.map(s=>Zu(s,n)),i=new Du(r);return new kp(e.path,i)}isEqual(e){return this===e}}class uie extends Xu{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=O6(this,e,!0),r=this.Su.map(s=>Zu(s,n)),i=new Fu(r);return new kp(e.path,i)}isEqual(e){return this===e}}class lie extends Xu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new Ac(e.serializer,a3(e.serializer,this.bu));return new kp(e.path,n)}isEqual(e){return this===e}}function BC(t,e,n,r){const i=t.wu(1,e,n);qC("Data must be an object, but it was:",i,r);const s=[],o=zn.empty();Yu(r,(u,l)=>{const c=HC(e,u,n);l=ke(l);const d=i.mu(c);if(l instanceof $p)s.push(c);else{const h=Zu(l,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Vr(s);return new P6(o,a,i.fieldTransforms)}function zC(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[EE(e,r,n)],u=[i];if(s.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(EE(e,s[h])),u.push(s[h+1]);const l=[],c=zn.empty();for(let h=a.length-1;h>=0;--h)if(!D6(l,a[h])){const p=a[h];let m=u[h];m=ke(m);const y=o.mu(p);if(m instanceof $p)l.push(p);else{const g=Zu(m,y);g!=null&&(l.push(p),c.set(p,g))}}const d=new Vr(l);return new P6(c,d,o.fieldTransforms)}function k6(t,e,n,r=!1){return Zu(n,t.wu(r?4:3,e))}function Zu(t,e){if(N6(t=ke(t)))return qC("Unsupported field value:",e,t),x6(t,e);if(t instanceof Xu)return function(r,i){if(!R6(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Zu(a,i.fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:Pc(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pc(i.serializer,s)}}if(r instanceof J_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:_3(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${X_(r)}`)}(t,e)}function x6(t,e){const n={};return jV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yu(t,(r,i)=>{const s=Zu(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function N6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof J_||t instanceof xs||t instanceof Ht||t instanceof Xu)}function qC(t,e,n){if(!N6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=X_(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function EE(t,e,n){if((e=ke(e))instanceof va)return e._internalPath;if(typeof e=="string")return HC(t,e);throw ry("Field path arguments must be of type string or ",t,!1,void 0,n)}const cie=new RegExp("[~\\*/\\[\\]]");function HC(t,e,n){if(e.search(cie)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new va(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ry(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new se(G.INVALID_ARGUMENT,a+t+u)}function D6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new die(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class die extends Ff{data(){return super.data()}}function t0(t,e){return typeof e=="string"?HC(t,e):e instanceof va?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WC{}class Lp extends WC{}function ko(t,e,...n){let r=[];e instanceof WC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof GC).length,a=s.filter(u=>u instanceof n0).length;if(o>1||o>0&&a>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class n0 extends Lp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n0(e,n,r)}_apply(e){const n=this._parse(e);return $6(e._query,n),new Ar(e.firestore,e.converter,lE(e._query,n))}_parse(e){const n=Ju(e.firestore);return function(s,o,a,u,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){g2(d,c);const p=[];for(const m of d)p.push(m2(u,s,m));h={arrayValue:{values:p}}}else h=m2(u,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||g2(d,c),h=k6(a,o,d,c==="in"||c==="not-in");return Ze.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hie(t,e,n){const r=e,i=t0("where",t);return n0._create(i,r,n)}class GC extends WC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)$6(o,u),o=lE(o,u)}(e._query,n),new Ar(e.firestore,e.converter,lE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KC extends Lp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new KC(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new ic(s,o);return function(l,c){if(iC(l)===null){const d=B_(l);d!==null&&L6(l,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new go(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fie(t,e="asc"){const n=e,r=t0("orderBy",t);return KC._create(r,n)}class r0 extends Lp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r0(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,Kv(e._query,this._limit,this._limitType))}}function pie(t){return y6("limit",t),r0._create("limit",t,"F")}function mie(t){return y6("limitToLast",t),r0._create("limitToLast",t,"L")}class i0 extends Lp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new i0(e,n,r)}_apply(e){const n=M6(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function gie(...t){return i0._create("startAt",t,!0)}function vie(...t){return i0._create("startAfter",t,!1)}class s0 extends Lp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new s0(e,n,r)}_apply(e){const n=M6(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function yie(...t){return s0._create("endBefore",t,!1)}function _ie(...t){return s0._create("endAt",t,!0)}function M6(t,e,n,r){if(n[0]=ke(n[0]),n[0]instanceof Ff)return function(s,o,a,u,l){if(!u)throw new se(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of sc(s))if(d.field.isKeyField())c.push(xu(o,u.key));else{const h=u.data.field(d.field);if(j_(h))throw new se(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new se(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new ma(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ju(t.firestore);return function(o,a,u,l,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new se(G.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const y=c[m];if(h[m].field.isKeyField()){if(typeof y!="string")throw new se(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!sC(o)&&y.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const g=o.path.child(it.fromString(y));if(!_e.isDocumentKey(g))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const v=new _e(g);p.push(xu(a,v))}else{const g=k6(u,l,y);p.push(g)}}return new ma(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function m2(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!_e.isDocumentKey(r))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xu(t,new _e(r))}if(n instanceof Ht)return xu(t,n._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${X_(n)}.`)}function g2(t,e){if(!Array.isArray(t)||t.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $6(t,e){if(e.isInequality()){const r=B_(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new se(G.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=iC(t);s!==null&&L6(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function L6(t,e,n){if(!n.isEqual(e))throw new se(G.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class QC{convertValue(e,n="none"){switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new J_(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pf(e));default:return null}}convertTimestamp(e){const n=da(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);De(R3(r));const i=new fa(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wie extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let uo=class extends Ff{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},kh=class extends uo{data(e={}){return super.data(e)}},ya=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new kh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new kh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:bie(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function bie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function V6(t,e){return t instanceof uo&&e instanceof uo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ya&&e instanceof ya&&t._firestore===e._firestore&&T6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eie(t){t=ot(t,Ht);const e=ot(t.firestore,en);return p6(Dn(e),t._key).then(n=>YC(e,t,n))}class el extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Sie(t){t=ot(t,Ht);const e=ot(t.firestore,en),n=Dn(e),r=new el(e);return Ure(n,t._key).then(i=>new uo(e,r,t._key,i,new cu(i!==null&&i.hasLocalMutations,!0),t.converter))}function Tie(t){t=ot(t,Ht);const e=ot(t.firestore,en);return p6(Dn(e),t._key,{source:"server"}).then(n=>YC(e,t,n))}function Iie(t){t=ot(t,Ar);const e=ot(t.firestore,en),n=Dn(e),r=new el(e);return F6(t._query),m6(n,t._query).then(i=>new ya(e,r,t,i))}function Cie(t){t=ot(t,Ar);const e=ot(t.firestore,en),n=Dn(e),r=new el(e);return jre(n,t._query).then(i=>new ya(e,r,t,i))}function Aie(t){t=ot(t,Ar);const e=ot(t.firestore,en),n=Dn(e),r=new el(e);return m6(n,t._query,{source:"server"}).then(i=>new ya(e,r,t,i))}function v2(t,e,n){t=ot(t,Ht);const r=ot(t.firestore,en),i=o0(t.converter,e,n);return Vp(r,[e0(Ju(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ut.none())])}function y2(t,e,n,...r){t=ot(t,Ht);const i=ot(t.firestore,en),s=Ju(i);let o;return o=typeof(e=ke(e))=="string"||e instanceof va?zC(s,"updateDoc",t._key,e,n,r):BC(s,"updateDoc",t._key,e),Vp(i,[o.toMutation(t._key,Ut.exists(!0))])}function Pie(t){return Vp(ot(t.firestore,en),[new td(t._key,Ut.none())])}function Rie(t,e){const n=ot(t.firestore,en),r=ny(t),i=o0(t.converter,e);return Vp(n,[e0(Ju(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ut.exists(!1))]).then(()=>r)}function U6(t,...e){var n,r,i;t=ke(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||bE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(bE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,l,c;if(t instanceof Ht)l=ot(t.firestore,en),c=Zc(t._key.path),u={next:d=>{e[o]&&e[o](YC(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ot(t,Ar);l=ot(d.firestore,en),c=d._query;const h=new el(l);u={next:p=>{e[o]&&e[o](new ya(l,h,d,p))},error:e[o+1],complete:e[o+2]},F6(t._query)}return function(h,p,m,y){const g=new Q_(y),v=new RC(p,g,m);return h.asyncQueue.enqueueAndForget(async()=>CC(await Nc(h),v)),()=>{g.La(),h.asyncQueue.enqueueAndForget(async()=>AC(await Nc(h),v))}}(Dn(l),c,a,u)}function Oie(t,e){return Bre(Dn(t=ot(t,en)),bE(e)?e:{next:e})}function Vp(t,e){return function(r,i){const s=new In;return r.asyncQueue.enqueueAndForget(async()=>gre(await VC(r),i,s)),s.promise}(Dn(t),e)}function YC(t,e,n){const r=n.docs.get(e._key),i=new el(t);return new uo(t,i,e._key,r,new cu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xie=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,n,r){this._verifyNotCommitted();const i=Vo(e,this._firestore),s=o0(i.converter,n,r),o=e0(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ut.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vo(e,this._firestore);let o;return o=typeof(n=ke(n))=="string"||n instanceof va?zC(this._dataReader,"WriteBatch.update",s._key,n,r,i):BC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vo(e,this._firestore);return this._mutations=this._mutations.concat(new td(n._key,Ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Vo(t,e){if((t=ke(t)).firestore!==e)throw new se(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nie=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ju(n)}get(n){const r=Vo(n,this._firestore),i=new wie(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Ce();const o=s[0];if(o.isFoundDocument())return new Ff(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Ff(this._firestore,i,r._key,null,r.converter);throw Ce()})}set(n,r,i){const s=Vo(n,this._firestore),o=o0(s.converter,r,i),a=e0(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Vo(n,this._firestore);let a;return a=typeof(r=ke(r))=="string"||r instanceof va?zC(this._dataReader,"Transaction.update",o._key,r,i,s):BC(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Vo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vo(e,this._firestore),r=new el(this._firestore);return super.get(e).then(i=>new uo(this._firestore,r,n._key,i._document,new cu(!1,!1),n.converter))}};function Die(t,e,n){t=ot(t,en);const r=Object.assign(Object.assign({},kie),n);return function(s){if(s.maxAttempts<1)throw new se(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new In;return s.asyncQueue.enqueueAndForget(async()=>{const l=await $re(s);new Fre(s.asyncQueue,l,a,o,u).run()}),u.promise}(Dn(t),i=>e(new Nie(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(){return new $p("deleteField")}function Mie(){return new jC("serverTimestamp")}function $ie(...t){return new aie("arrayUnion",t)}function Lie(...t){return new uie("arrayRemove",t)}function Vie(t){return new lie("increment",t)}(function(e,n=!0){(function(i){Jc=i})(fo),so(new Oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new en(new Wee(r.getProvider("auth-internal")),new Yee(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ai(hk,"4.2.0",e),Ai(hk,"4.2.0","esm2017")})();const Uie="@firebase/firestore-compat",jie="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new se("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){if(typeof Uint8Array>"u")throw new se("unimplemented","Uint8Arrays are not available in this environment.")}function w2(){if(!bte())throw new se("unimplemented","Blobs are unavailable in Firestore in this environment.")}let j6=class SE{constructor(e){this._delegate=e}static fromBase64String(e){return w2(),new SE(xs.fromBase64String(e))}static fromUint8Array(e){return _2(),new SE(xs.fromUint8Array(e))}toBase64(){return w2(),this._delegate.toBase64()}toUint8Array(){return _2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){return Bie(t,["next","error","complete"])}function Bie(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{enableIndexedDbPersistence(e,n){return Yre(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Xre(e._delegate)}clearIndexedDbPersistence(e){return Jre(e._delegate)}}class B6{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Hre(this._delegate,e,n,r)}enableNetwork(){return eie(this._delegate)}disableNetwork(){return tie(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,v6("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Zre(this._delegate)}onSnapshotsInSync(e){return Oie(this._delegate,e)}get app(){if(!this._appCompat)throw new se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dc(this,E6(this._delegate,e))}catch(n){throw gr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ei(this,ny(this._delegate,e))}catch(n){throw gr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mr(this,Wre(this._delegate,e))}catch(n){throw gr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Die(this._delegate,n=>e(new z6(this,n)))}batch(){return Dn(this._delegate),new q6(new xie(this._delegate,e=>Vp(this._delegate,e)))}loadBundle(e){return nie(this._delegate,e)}namedQuery(e){return rie(this._delegate,e).then(n=>n?new mr(this,n):null)}}class a0 extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new j6(new xs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ei.forKey(n,this.firestore,null)}}function qie(t){Bee(t)}class z6{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new a0(e)}get(e){const n=du(e);return this._delegate.get(n).then(r=>new Mf(this._firestore,new uo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=du(e);return r?(XC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=du(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=du(e);return this._delegate.delete(n),this}}class q6{constructor(e){this._delegate=e}set(e,n,r){const i=du(e);return r?(XC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=du(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=du(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Vu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new kh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $f(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Vu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Vu(e,new a0(e),n),i.set(n,s)),s}}Vu.INSTANCES=new WeakMap;class Ei{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new a0(e)}static forPath(e,n,r){if(e.length%2!==0)throw new se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ei(n,new Ht(n._delegate,r,new _e(e)))}static forKey(e,n,r){return new Ei(n,new Ht(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dc(this.firestore,E6(this._delegate,e))}catch(n){throw gr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof Ht?S6(this._delegate,e):!1}set(e,n){n=XC("DocumentReference.set",n);try{return n?v2(this._delegate,e,n):v2(this._delegate,e)}catch(r){throw gr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?y2(this._delegate,e):y2(this._delegate,e,n,...r)}catch(i){throw gr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Pie(this._delegate)}onSnapshot(...e){const n=H6(e),r=W6(e,i=>new Mf(this.firestore,new uo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return U6(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Sie(this._delegate):(e==null?void 0:e.source)==="server"?n=Tie(this._delegate):n=Eie(this._delegate),n.then(r=>new Mf(this.firestore,new uo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ei(this.firestore,e?this._delegate.withConverter(Vu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gr(t,e,n){return t.message=t.message.replace(e,n),t}function H6(t){for(const e of t)if(typeof e=="object"&&!TE(e))return e;return{}}function W6(t,e){var n,r;let i;return TE(t[0])?i=t[0]:TE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Mf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ei(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return V6(this._delegate,e._delegate)}}class $f extends Mf{data(e){const n=this._delegate.data(e);return zee(n!==void 0),n}}class mr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new a0(e)}where(e,n,r){try{return new mr(this.firestore,ko(this._delegate,hie(e,n,r)))}catch(i){throw gr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new mr(this.firestore,ko(this._delegate,fie(e,n)))}catch(r){throw gr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mr(this.firestore,ko(this._delegate,pie(e)))}catch(n){throw gr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new mr(this.firestore,ko(this._delegate,mie(e)))}catch(n){throw gr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mr(this.firestore,ko(this._delegate,gie(...e)))}catch(n){throw gr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mr(this.firestore,ko(this._delegate,vie(...e)))}catch(n){throw gr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mr(this.firestore,ko(this._delegate,yie(...e)))}catch(n){throw gr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mr(this.firestore,ko(this._delegate,_ie(...e)))}catch(n){throw gr(n,"endAt()","Query.endAt()")}}isEqual(e){return T6(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Cie(this._delegate):(e==null?void 0:e.source)==="server"?n=Aie(this._delegate):n=Iie(this._delegate),n.then(r=>new IE(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=H6(e),r=W6(e,i=>new IE(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return U6(this._delegate,n,r)}withConverter(e){return new mr(this.firestore,e?this._delegate.withConverter(Vu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Hie{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new $f(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new mr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $f(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Hie(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new $f(this._firestore,r))})}isEqual(e){return V6(this._delegate,e._delegate)}}class Dc extends mr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ei(this.firestore,e):null}doc(e){try{return e===void 0?new Ei(this.firestore,ny(this._delegate)):new Ei(this.firestore,ny(this._delegate,e))}catch(n){throw gr(n,"doc()","CollectionReference.doc()")}}add(e){return Rie(this._delegate,e).then(n=>new Ei(this.firestore,n))}isEqual(e){return S6(this._delegate,e._delegate)}withConverter(e){return new Dc(this.firestore,e?this._delegate.withConverter(Vu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function du(t){return ot(t,Ht)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(...e){this._delegate=new va(...e)}static documentId(){return new JC(Xt.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof va?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._delegate=e}static serverTimestamp(){const e=Mie();return e._methodName="FieldValue.serverTimestamp",new nu(e)}static delete(){const e=Fie();return e._methodName="FieldValue.delete",new nu(e)}static arrayUnion(...e){const n=$ie(...e);return n._methodName="FieldValue.arrayUnion",new nu(n)}static arrayRemove(...e){const n=Lie(...e);return n._methodName="FieldValue.arrayRemove",new nu(n)}static increment(e){const n=Vie(e);return n._methodName="FieldValue.increment",new nu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie={Firestore:B6,GeoPoint:J_,Timestamp:jt,Blob:j6,Transaction:z6,WriteBatch:q6,DocumentReference:Ei,DocumentSnapshot:Mf,Query:mr,QueryDocumentSnapshot:$f,QuerySnapshot:IE,CollectionReference:Dc,FieldPath:JC,FieldValue:nu,setLogLevel:qie,CACHE_SIZE_UNLIMITED:Qre};function Gie(t,e){t.INTERNAL.registerComponent(new Oi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Wie)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(t){Gie(t,(e,n)=>new B6(e,n,new zie)),t.registerVersion(Uie,jie)}Kie(nn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="firebasestorage.googleapis.com",K6="storageBucket",Qie=2*60*1e3,Yie=10*60*1e3,Xie=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends ar{constructor(e,n,r=0){super(iw(e),`Firebase Storage: ${n} (${iw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function iw(t){return"storage/"+t}function ZC(){const t="An unknown error occurred, please check the error payload for server response.";return new Kt(Mt.UNKNOWN,t)}function Jie(t){return new Kt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zie(t){return new Kt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ese(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Mt.UNAUTHENTICATED,t)}function tse(){return new Kt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nse(t){return new Kt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Q6(){return new Kt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y6(){return new Kt(Mt.CANCELED,"User canceled the upload/download.")}function rse(t){return new Kt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function ise(t){return new Kt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sse(){return new Kt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K6+"' property when initializing the app?")}function X6(){return new Kt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ose(){return new Kt(Mt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ase(){return new Kt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function use(t){return new Kt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ac(t){return new Kt(Mt.INVALID_ARGUMENT,t)}function J6(){return new Kt(Mt.APP_DELETED,"The Firebase app was deleted.")}function Z6(t){return new Kt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xh(t,e){return new Kt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function jd(t){throw new Kt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(r.path==="")return r;throw ise(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===G6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${g}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:p,indices:m,postModify:l},{regex:v,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<b.length;w++){const E=b[w],A=E.regex.exec(e);if(A){const R=A[E.indices.bucket];let $=A[E.indices.path];$||($=""),r=new or(R,$),E.postModify(r);break}}if(r==null)throw rse(e);return r}}class lse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...g){l||(l=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(p,u())},g)}function h(){s&&clearTimeout(s)}function p(g,...v){if(l){h();return}if(g){h(),c.call(null,g,...v);return}if(u()||o){h(),c.call(null,g,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let m=!1;function y(g){m||(m=!0,h(),!l&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function dse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hse(t){return t!==void 0}function fse(t){return typeof t=="function"}function pse(t){return typeof t=="object"&&!Array.isArray(t)}function u0(t){return typeof t=="string"||t instanceof String}function b2(t){return eA()&&t instanceof Blob}function eA(){return typeof Blob<"u"&&!h_()}function CE(t,e,n,r){if(r<e)throw ac(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ac(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_u||(_u={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,n,r,i,s,o,a,u,l,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ym(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===_u.NO_ERROR,u=s.getStatus();if(!a||t5(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===_u.ABORT;r(!1,new Ym(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ym(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());hse(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=ZC();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?J6():Y6();o(u)}else{const u=Q6();o(u)}};this.canceled_?n(!1,new Ym(!1,null,!0)):this.backoffId_=cse(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ym{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gse(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vse(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _se(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wse(t,e,n,r,i,s,o=!0){const a=e5(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return yse(l,e),gse(l,n),vse(l,s),_se(l,r),new mse(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ese(...t){const e=bse();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eA())return new Blob(t);throw new Kt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Sse(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(t){if(typeof atob>"u")throw use("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sw{constructor(e,n){this.data=e,this.contentType=n||null}}function n5(t,e){switch(t){case Si.RAW:return new sw(r5(e));case Si.BASE64:case Si.BASE64URL:return new sw(i5(t,e));case Si.DATA_URL:return new sw(Cse(e),Ase(e))}throw ZC()}function r5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ise(t){let e;try{e=decodeURIComponent(t)}catch{throw xh(Si.DATA_URL,"Malformed data URL.")}return r5(e)}function i5(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Tse(e)}catch(i){throw i.message.includes("polyfill")?i:xh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class s5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xh(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Pse(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Cse(t){const e=new s5(t);return e.base64?i5(Si.BASE64,e.rest):Ise(e.rest)}function Ase(t){return new s5(t).contentType}function Pse(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){let r=0,i="";b2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(b2(this.data_)){const r=this.data_,i=Sse(r,e,n);return i===null?null:new Us(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Us(r,!0)}}static getBlob(...e){if(eA()){const n=e.map(r=>r instanceof Us?r.data_:r);return new Us(Ese.apply(null,n))}else{const n=e.map(o=>u0(o)?n5(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Us(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){let e;try{e=JSON.parse(t)}catch{return null}return pse(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rse(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ose(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kse(t,e){return e}class fr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kse}}let Xm=null;function xse(t){return!u0(t)||t.length<2?t:o5(t)}function l0(){if(Xm)return Xm;const t=[];t.push(new fr("bucket")),t.push(new fr("generation")),t.push(new fr("metageneration")),t.push(new fr("name","fullPath",!0));function e(s,o){return xse(o)}const n=new fr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new fr("size");return i.xform=r,t.push(i),t.push(new fr("timeCreated")),t.push(new fr("updated")),t.push(new fr("md5Hash",null,!0)),t.push(new fr("cacheControl",null,!0)),t.push(new fr("contentDisposition",null,!0)),t.push(new fr("contentEncoding",null,!0)),t.push(new fr("contentLanguage",null,!0)),t.push(new fr("contentType",null,!0)),t.push(new fr("metadata","customMetadata",!0)),Xm=t,Xm}function Nse(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new or(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Dse(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Nse(r,t),r}function a5(t,e,n){const r=tA(e);return r===null?null:Dse(t,r,n)}function Fse(t,e,n,r){const i=tA(e);if(i===null||!u0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=xa(h,n,r),m=e5({alt:"media",token:l});return p+m})[0]}function nA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="prefixes",S2="items";function Mse(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[E2])for(const i of n[E2]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new or(e,s));r.prefixes.push(o)}if(n[S2])for(const i of n[S2]){const s=t._makeStorageReference(new or(e,i.name));r.items.push(s)}return r}function $se(t,e,n){const r=tA(n);return r===null?null:Mse(t,e,r)}class _o{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){if(!t)throw ZC()}function c0(t,e){function n(r,i){const s=a5(t,i,e);return Cs(s!==null),s}return n}function Lse(t,e){function n(r,i){const s=$se(t,e,i);return Cs(s!==null),s}return n}function Vse(t,e){function n(r,i){const s=a5(t,i,e);return Cs(s!==null),Fse(s,i,t.host,t._protocol)}return n}function od(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=tse():i=ese():n.getStatus()===402?i=Zie(t.bucket):n.getStatus()===403?i=nse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d0(t){const e=od(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Jie(t.path)),s.serverResponse=i.serverResponse,s}return n}function u5(t,e,n){const r=e.fullServerUrl(),i=xa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _o(i,s,c0(t,n),o);return a.errorHandler=d0(e),a}function Use(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=xa(o,t.host,t._protocol),u="GET",l=t.maxOperationRetryTime,c=new _o(a,u,Lse(t,e.bucket),l);return c.urlParams=s,c.errorHandler=od(e),c}function jse(t,e,n){const r=e.fullServerUrl(),i=xa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _o(i,s,Vse(t,n),o);return a.errorHandler=d0(e),a}function Bse(t,e,n,r){const i=e.fullServerUrl(),s=xa(i,t.host,t._protocol),o="PATCH",a=nA(n,r),u={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,c=new _o(s,o,c0(t,r),l);return c.headers=u,c.body=a,c.errorHandler=d0(e),c}function zse(t,e){const n=e.fullServerUrl(),r=xa(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(u,l){}const a=new _o(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=d0(e),a}function qse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function l5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=qse(null,e)),r}function Hse(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=l5(e,r,i),c=nA(l,n),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=Us.getBlob(d,r,h);if(p===null)throw X6();const m={name:l.fullPath},y=xa(s,t.host,t._protocol),g="POST",v=t.maxUploadRetryTime,_=new _o(y,g,c0(t,n),v);return _.urlParams=m,_.headers=o,_.body=p.uploadData(),_.errorHandler=od(e),_}class iy{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function rA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Cs(!1)}return Cs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Wse(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=l5(e,r,i),a={name:o.fullPath},u=xa(s,t.host,t._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=nA(o,n),h=t.maxUploadRetryTime;function p(y){rA(y);let g;try{g=y.getResponseHeader("X-Goog-Upload-URL")}catch{Cs(!1)}return Cs(u0(g)),g}const m=new _o(u,l,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=od(e),m}function Gse(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(l){const c=rA(l,["active","final"]);let d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cs(!1)}d||Cs(!1);const h=Number(d);return Cs(!isNaN(h)),new iy(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,u=new _o(n,o,s,a);return u.headers=i,u.errorHandler=od(e),u}const T2=256*1024;function Kse(t,e,n,r,i,s,o,a){const u=new iy(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw ose();const l=u.total-u.current;let c=l;i>0&&(c=Math.min(c,i));const d=u.current,h=d+c;let p="";c===0?p="finalize":l===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${u.current}`},y=r.slice(d,h);if(y===null)throw X6();function g(w,E){const A=rA(w,["active","final"]),R=u.current+c,$=r.size();let Q;return A==="final"?Q=c0(e,s)(w,E):Q=null,new iy(R,$,A==="final",Q)}const v="POST",_=e.maxUploadRetryTime,b=new _o(n,v,g,_);return b.headers=m,b.body=y.uploadData(),b.progressCallback=a||null,b.errorHandler=od(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse={STATE_CHANGED:"state_changed"},vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ow(t){switch(t){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":return vr.ERROR;default:return vr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e,n,r){if(fse(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Xse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_u.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_u.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_u.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw jd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jse extends Xse{initXhr(){this.xhr_.responseType="text"}}function ms(){return new Jse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=l0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Mt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(t5(i.status,[]))if(s)i=Q6();else{this.sleepTime=Math.max(this.sleepTime*2,Xie),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Mt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Wse(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ms,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Gse(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ms,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=T2*this._chunkMultiplier,n=new iy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Kse(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ms,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){T2*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=u5(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ms,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Hse(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ms,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Y6(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ow(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Yse(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ow(this._state)){case vr.SUCCESS:vl(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:const n=this._reject;vl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ow(this._state)){case vr.RUNNING:case vr.PAUSED:e.next&&vl(e.next.bind(e,this.snapshot))();break;case vr.SUCCESS:e.complete&&vl(e.complete.bind(e))();break;case vr.CANCELED:case vr.ERROR:e.error&&vl(e.error.bind(e,this._error))();break;default:e.error&&vl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0=class AE{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new AE(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o5(this._location.path)}get storage(){return this._service}get parent(){const e=Rse(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new AE(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z6(e)}};function Zse(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new c5(t,new Us(e),n)}function eoe(t){const e={prefixes:[],items:[]};return d5(t,e).then(()=>e)}async function d5(t,e,n){const i=await h5(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await d5(t,e,i.nextPageToken)}function h5(t,e){e!=null&&typeof e.maxResults=="number"&&CE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Use(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ms)}function toe(t){t._throwIfRoot("getMetadata");const e=u5(t.storage,t._location,l0());return t.storage.makeRequestWithTokens(e,ms)}function noe(t,e){t._throwIfRoot("updateMetadata");const n=Bse(t.storage,t._location,e,l0());return t.storage.makeRequestWithTokens(n,ms)}function roe(t){t._throwIfRoot("getDownloadURL");const e=jse(t.storage,t._location,l0());return t.storage.makeRequestWithTokens(e,ms).then(n=>{if(n===null)throw ase();return n})}function ioe(t){t._throwIfRoot("deleteObject");const e=zse(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ms)}function f5(t,e){const n=Ose(t._location.path,e),r=new or(t._location.bucket,n);return new h0(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){return/^[A-Za-z]+:\/\//.test(t)}function ooe(t,e){return new h0(t,e)}function p5(t,e){if(t instanceof iA){const n=t;if(n._bucket==null)throw sse();const r=new h0(n,n._bucket);return e!=null?p5(r,e):r}else return e!==void 0?f5(t,e):t}function aoe(t,e){if(e&&soe(e)){if(t instanceof iA)return ooe(t,e);throw ac("To use ref(service, url), the first argument must be a Storage instance.")}else return p5(t,e)}function I2(t,e){const n=e==null?void 0:e[K6];return n==null?null:or.makeFromBucketSpec(n,t)}function uoe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:gL(i,t.app.options.projectId))}class iA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=G6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qie,this._maxUploadRetryTime=Yie,this._requests=new Set,i!=null?this._bucket=or.makeFromBucketSpec(i,this._host):this._bucket=I2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=I2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new h0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new lse(J6());{const o=wse(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C2="@firebase/storage",A2="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe="storage";function coe(t,e,n){return t=ke(t),Zse(t,e,n)}function doe(t){return t=ke(t),toe(t)}function hoe(t,e){return t=ke(t),noe(t,e)}function foe(t,e){return t=ke(t),h5(t,e)}function poe(t){return t=ke(t),eoe(t)}function moe(t){return t=ke(t),roe(t)}function goe(t){return t=ke(t),ioe(t)}function P2(t,e){return t=ke(t),aoe(t,e)}function voe(t,e){return f5(t,e)}function yoe(t,e,n,r={}){uoe(t,e,n,r)}function _oe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iA(n,r,i,e,fo)}function woe(){so(new Oi(loe,_oe,"PUBLIC").setMultipleInstances(!0)),Ai(C2,A2,""),Ai(C2,A2,"esm2017")}woe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Jm(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Jm(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Jm(o,this,this._ref)):s={next:n.next?o=>n.next(new Jm(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class O2{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ys(e,this._service))}get items(){return this._delegate.items.map(e=>new Ys(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=voe(this._delegate,e);return new Ys(n,this.storage)}get root(){return new Ys(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Ys(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new R2(coe(this._delegate,e,n),this)}putString(e,n=Si.RAW,r){this._throwIfRoot("putString");const i=n5(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new R2(new c5(this._delegate,new Us(i.data,!0),s),this)}listAll(){return poe(this._delegate).then(e=>new O2(e,this.storage))}list(e){return foe(this._delegate,e||void 0).then(n=>new O2(n,this.storage))}getMetadata(){return doe(this._delegate)}updateMetadata(e){return hoe(this._delegate,e)}getDownloadURL(){return moe(this._delegate)}delete(){return this._throwIfRoot("delete"),goe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Z6(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(k2(e))throw ac("ref() expected a child path but got a URL, use refFromURL instead.");return new Ys(P2(this._delegate,e),this)}refFromURL(e){if(!k2(e))throw ac("refFromURL() expected a full URL but got a child path, use ref() instead.");try{or.makeFromUrl(e,this._delegate.host)}catch{throw ac("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ys(P2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){yoe(this._delegate,e,n,r)}}function k2(t){return/^[A-Za-z]+:\/\//.test(t)}const boe="@firebase/storage-compat",Eoe="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe="storage-compat";function Toe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new m5(n,r)}function Ioe(t){const e={TaskState:vr,TaskEvent:Qse,StringFormat:Si,Storage:m5,Reference:Ys};t.INTERNAL.registerComponent(new Oi(Soe,Toe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(boe,Eoe)}Ioe(nn);const Coe={apiKey:"AIzaSyDHCvLVVoxB5p-7uojuH2UYIn2cyAsYgYM",authDomain:"pf-gafas.firebaseapp.com",databaseURL:"https://pf-gafas-default-rtdb.firebaseio.com",projectId:"pf-gafas",storageBucket:"pf-gafas.appspot.com",messagingSenderId:"1038196275079",appId:"1:1038196275079:web:b08f4d16886b8b79458522",measurementId:"G-JEKKRVMS67"};class Aoe{constructor(){ft(this,"createAccount",(e,n)=>this.auth.createUserWithEmailAndPassword(e,n));ft(this,"signIn",(e,n)=>this.auth.signInWithEmailAndPassword(e,n));ft(this,"signInWithGoogle",()=>this.auth.signInWithPopup(new nn.auth.GoogleAuthProvider));ft(this,"signInWithFacebook",()=>this.auth.signInWithPopup(new nn.auth.FacebookAuthProvider));ft(this,"signInWithGithub",()=>this.auth.signInWithPopup(new nn.auth.GithubAuthProvider));ft(this,"signOut",()=>this.auth.signOut());ft(this,"passwordReset",e=>this.auth.sendPasswordResetEmail(e));ft(this,"addUser",(e,n)=>this.db.collection("users").doc(e).set(n));ft(this,"getUser",e=>this.db.collection("users").doc(e).get());ft(this,"passwordUpdate",e=>this.auth.currentUser.updatePassword(e));ft(this,"changePassword",(e,n)=>new Promise((r,i)=>{this.reauthenticate(e).then(()=>{this.auth.currentUser.updatePassword(n).then(()=>{r("Password updated successfully!")}).catch(o=>i(o))}).catch(s=>i(s))}));ft(this,"reauthenticate",e=>{const n=this.auth.currentUser,r=nn.auth.EmailAuthProvider.credential(n.email,e);return n.reauthenticateWithCredential(r)});ft(this,"updateEmail",(e,n)=>new Promise((r,i)=>{this.reauthenticate(e).then(()=>{this.auth.currentUser.updateEmail(n).then(()=>{r("Email Successfully updated")}).catch(o=>i(o))}).catch(s=>i(s))}));ft(this,"updateProfile",(e,n)=>this.db.collection("users").doc(e).update(n));ft(this,"onAuthStateChanged",()=>new Promise((e,n)=>{this.auth.onAuthStateChanged(r=>{r?e(r):n(new Error("Auth State Changed failed"))})}));ft(this,"saveBasketItems",(e,n)=>this.db.collection("users").doc(n).update({basket:e}));ft(this,"setAuthPersistence",()=>this.auth.setPersistence(nn.auth.Auth.Persistence.LOCAL));ft(this,"getSingleProduct",e=>this.db.collection("products").doc(e).get());ft(this,"getProducts",e=>{let n=!1;return new Promise((r,i)=>{(async()=>{if(e)try{const o=await this.db.collection("products").orderBy(nn.firestore.FieldPath.documentId()).startAfter(e).limit(12).get(),a=[];o.forEach(l=>a.push({id:l.id,...l.data()}));const u=o.docs[o.docs.length-1];r({products:a,lastKey:u})}catch(s){i((s==null?void 0:s.message)||":( Failed to fetch products.")}else{const s=setTimeout(()=>{n=!0,i(new Error("Request timeout, please try again"))},15e3);try{const a=(await this.db.collection("products").get()).docs.length,l=await this.db.collection("products").orderBy(nn.firestore.FieldPath.documentId()).limit(12).get();if(clearTimeout(s),!n){const c=[];l.forEach(h=>c.push({id:h.id,...h.data()}));const d=l.docs[l.docs.length-1];r({products:c,lastKey:d,total:a})}}catch(o){if(n)return;i((o==null?void 0:o.message)||":( Failed to fetch products.")}}})()})});ft(this,"searchProducts",e=>{let n=!1;return new Promise((r,i)=>{(async()=>{const s=this.db.collection("products"),o=setTimeout(()=>{n=!0,i(new Error("Request timeout, please try again"))},15e3);try{const a=s.orderBy("name_lower").where("name_lower",">=",e).where("name_lower","<=",`${e}`).limit(12),u=s.orderBy("dateAdded","desc").where("keywords","array-contains-any",e.split(" ")).limit(12),l=await a.get(),c=await u.get();if(clearTimeout(o),!n){const d=[],h=[];let p=null;l.empty||(l.forEach(g=>{d.push({id:g.id,...g.data()})}),p=l.docs[l.docs.length-1]),c.empty||c.forEach(g=>{h.push({id:g.id,...g.data()})});const m=[...d,...h],y={};m.forEach(g=>{y[g.id]=g}),r({products:Object.values(y),lastKey:p})}}catch(a){if(n)return;i(a)}})()})});ft(this,"getFeaturedProducts",(e=12)=>this.db.collection("products").where("isFeatured","==",!0).limit(e).get());ft(this,"getRecommendedProducts",(e=12)=>this.db.collection("products").where("isRecommended","==",!0).limit(e).get());ft(this,"addProduct",(e,n)=>this.db.collection("products").doc(e).set(n));ft(this,"generateKey",()=>this.db.collection("products").doc().id);ft(this,"storeImage",async(e,n,r)=>await(await this.storage.ref(n).child(e).put(r)).ref.getDownloadURL());ft(this,"deleteImage",e=>this.storage.ref("products").child(e).delete());ft(this,"editProduct",(e,n)=>this.db.collection("products").doc(e).update(n));ft(this,"removeProduct",e=>this.db.collection("products").doc(e).delete());nn.initializeApp(Coe),this.storage=nn.storage(),this.db=nn.firestore(),this.auth=nn.auth()}}const rt=new Aoe,g5=t=>{const[e,n]=C.useState([]),[r,i]=C.useState(!1),[s,o]=C.useState(""),a=Wu(!0),u=async()=>{try{i(!0),o("");const l=await rt.getFeaturedProducts(t);if(l.empty)a&&(o("No featured products found."),i(!1));else{const c=[];l.forEach(d=>{const h=d.data();c.push({id:d.ref.id,...h})}),a&&(n(c),i(!1))}}catch{a&&(o("Failed to fetch featured products"),i(!1))}};return C.useEffect(()=>{e.length===0&&a&&u()},[]),{featuredProducts:e,fetchFeaturedProducts:u,isLoading:r,error:s}};var Zm,Poe=new Uint8Array(16);function Roe(){if(!Zm&&(Zm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zm(Poe)}const Ooe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function koe(t){return typeof t=="string"&&Ooe.test(t)}var Ln=[];for(var aw=0;aw<256;++aw)Ln.push((aw+256).toString(16).substr(1));function xoe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase();if(!koe(n))throw TypeError("Stringified UUID is invalid");return n}function Noe(t,e,n){t=t||{};var r=t.random||(t.rng||Roe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return xoe(r)}const v5=t=>{const[e,n]=C.useState(t),[r,i]=C.useState(!1);return{imageFile:e,setImageFile:n,isFileLoading:r,onFileChange:(a,{name:u,type:l})=>{const c=a.target.value,d=a.target.files[0],h=d.size/1024/1024,p=/(\.jpg|\.jpeg|\.png)$/i;if(i(!0),!p.exec(c))alert("File type must be JPEG or PNG","error"),i(!1);else if(h>.5)alert("File size exceeded 500kb, consider optimizing your image","error"),i(!1);else if(l==="multiple")Array.from(a.target.files).forEach(m=>{const y=new FileReader;y.addEventListener("load",g=>{n(v=>({...v,[u]:[...v[u],{file:m,url:g.target.result,id:Noe()}]}))}),y.readAsDataURL(m)}),i(!1);else{const m=new FileReader;m.addEventListener("load",y=>{n({...e,[u]:{file:d,url:y.target.result}}),i(!1)}),m.readAsDataURL(d)}},removeImage:({id:a,name:u})=>{const l=e[u].filter(c=>c.id!==a);n({...e,[u]:l})}}},sA=()=>{const[t,e]=C.useState(!1);return{isOpenModal:t,onOpenModal:()=>{e(!0)},onCloseModal:()=>{e(!1)}}},y5=t=>{const e=On(l=>l.products.items.find(c=>c.id===t)),[n,r]=C.useState(e),[i,s]=C.useState(!1),[o,a]=C.useState(null),u=Wu(!0);return C.useEffect(()=>{(async()=>{try{if(!n||n.id!==t){s(!0);const l=await rt.getSingleProduct(t);if(l.exists){const c={...l.data(),id:l.ref.id};u&&(r(c),s(!1))}else a("Product not found.")}}catch(l){u&&(s(!1),a((l==null?void 0:l.message)||"Something went wrong."))}})()},[t]),{product:n,isLoading:i,error:o}},oA=t=>{const[e,n]=C.useState([]),[r,i]=C.useState(!1),[s,o]=C.useState(""),a=Wu(!0),u=async()=>{try{i(!0),o("");const l=await rt.getRecommendedProducts(t);if(l.empty)a&&(o("No recommended products found."),i(!1));else{const c=[];l.forEach(d=>{const h=d.data();c.push({id:d.ref.id,...h})}),a&&(n(c),i(!1))}}catch{a&&(o("Failed to fetch recommended products"),i(!1))}};return C.useEffect(()=>{e.length===0&&a&&u()},[]),{recommendedProducts:e,fetchRecommendedProducts:u,isLoading:r,error:s}},Fn=()=>{C.useEffect(()=>{window.scrollTo(0,0)},[])},_5=()=>({type:J$}),Doe=()=>({type:eL}),Foe=t=>({type:tL,payload:t}),uh=t=>({type:Z$,payload:t}),w5=(t,e)=>{if(!t||t.length===0)return[];const n=e.keyword.toLowerCase();return t.filter(r=>{const i=e.maxPrice?r.price>=e.minPrice&&r.price<=e.maxPrice:!0,s=r.keywords?r.keywords.includes(n):!0,o=r.description?r.description.toLowerCase().includes(n):!0,a=r.brand?r.brand.toLowerCase().includes(e.brand):!0;return(s||o)&&a&&i}).sort((r,i)=>e.sortBy==="name-desc"?r.name<i.name?1:-1:e.sortBy==="name-asc"?r.name>i.name?1:-1:e.sortBy==="price-desc"?r.price<i.price?1:-1:r.price>i.price?1:-1)},Moe=t=>{if(!t||t.length===0)return 0;let e=t[0];for(let n=0;n<t.length;n++)t[n].price>e.price&&(e=t[n]);return Math.floor(e.price)},$oe=t=>{if(!t||t.length===0)return 0;let e=t[0];for(let n=0;n<t.length;n++)t[n].price<e.price&&(e=t[n]);return Math.floor(e.price)};var Loe=function(){},b5=Loe;const Ug=Pn(b5);var x2=Math.sqrt(50),N2=Math.sqrt(10),D2=Math.sqrt(2);function Voe(t,e,n){var r,i=-1,s,o,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(a=Uoe(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,o=new Array(s=l-u+1);++i<s;)o[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(e*a);for(u/a<t&&++u,l/a>e&&--l,o=new Array(s=l-u+1);++i<s;)o[i]=(u+i)/a}return r&&o.reverse(),o}function Uoe(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=x2?10:s>=N2?5:s>=D2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=x2?10:s>=N2?5:s>=D2?2:1)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nl(t,e,n){return e&&M2(t.prototype,e),n&&M2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function joe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Up(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function Boe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zoe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function jp(t){var e=Boe();return function(){var r=sy(t),i;if(e){var s=sy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return zoe(this,i)}}function RE(t,e){return Hoe(t)||Goe(t,e)||E5(t,e)||Qoe()}function OE(t){return qoe(t)||Woe(t)||E5(t)||Koe()}function qoe(t){if(Array.isArray(t))return kE(t)}function Hoe(t){if(Array.isArray(t))return t}function Woe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Goe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function E5(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xE="react-compound-slider:";function S5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(n,r){return n.val>r.val?t?-1:1:r.val>n.val?t?1:-1:0}}function Nh(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=t.findIndex(function(u){return u.key===e});if(i!==-1){var s=t[i],o=s.key,a=s.val;return a===n?t:[].concat(OE(t.slice(0,i)),[{key:o,val:n}],OE(t.slice(i+1))).sort(S5(r))}return t}function Bd(t,e){if(!t)return[0,0];var n=t.getBoundingClientRect(),r=e?n.top:n.left,i=e?n.bottom:n.right;return[r,i]}function $2(t){var e=t.type,n=e===void 0?"":e,r=t.touches;return!r||r.length>1||n.toLowerCase()==="touchend"&&r.length>0}function uw(t,e){return t?e.touches[0].clientY:e.touches[0].pageX}function L2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=0,s=t.map(function(o){var a=n.getValue(o);return o!==a&&(i+=1,Ug(!r,"".concat(xE," Invalid value encountered. Changing ").concat(o," to ").concat(a,"."))),a}).map(function(o,a){return{key:"$$-".concat(a),val:o}}).sort(S5(e));return{handles:s,changes:i}}function Yoe(t,e){return e}function Xoe(t,e){for(var n=0;n<t.length;n++)if(t[n].key!==e[n].key||e[n+1]&&e[n].val===e[n+1].val)return t;return e}function NE(t,e,n,r,i){for(var s=-1,o=!0,a=0;a<t.length;a++){var u=t[a],l=e[a];if(!l||l.key!==u.key)return t;l.val!==u.val&&(s=a,o=l.val-u.val>0)}if(s===-1)return t;for(var c=o?n:-n,d=0;d<e.length;d++){var h=e[d],p=e[d+1];if(p&&h.val===p.val)if(d===s){var m=p.val+c;if(i(m)===m){var y=Nh(e,p.key,p.val+c,r),g=NE(e,y,n,r,i);return g===e?t:g}else return t}else{var v=h.val+c;if(i(v)===v){var _=Nh(e,h.key,h.val+c,r),b=NE(e,_,n,r,i);return b===e?t:b}else return t}}return e}function wu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.forEach(function(i){return i&&i(r)})}}var Joe=function(){return{value:0,percent:0}},T5=function(t){Up(n,t);var e=jp(n);function n(){var r;tl(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.getRailProps=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=r.props,l=u.emitMouse,c=u.emitTouch;return Es(Es({},a),{},{onMouseDown:wu(a&&a.onMouseDown,l),onTouchStart:wu(a&&a.onTouchStart,c)})},r}return nl(n,[{key:"render",value:function(){var i=this.getRailProps,s=this.props,o=s.getEventData,a=s.activeHandleID,u=a===void 0?"":a,l=s.children,c=l({getEventData:o||Joe,activeHandleID:u,getRailProps:i});return c&&qe.Children.only(c)}}]),n}(C.Component),I5=function(t){Up(n,t);var e=jp(n);function n(){var r;tl(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.autofocus=function(a){a.target instanceof HTMLElement&&a.target.focus()},r.getHandleProps=function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=r.props,c=l.emitKeyboard,d=l.emitMouse,h=l.emitTouch;return Es(Es({},u),{},{onKeyDown:wu(u&&u.onKeyDown,function(p){return c&&c(p,a)}),onMouseDown:wu(u&&u.onMouseDown,r.autofocus,function(p){return d&&d(p,a)}),onTouchStart:wu(u&&u.onTouchStart,function(p){return h&&h(p,a)})})},r}return nl(n,[{key:"render",value:function(){var i=this.getHandleProps,s=this.props,o=s.activeHandleID,a=o===void 0?"":o,u=s.children,l=s.handles,c=l===void 0?[]:l,d=u({handles:c,activeHandleID:a,getHandleProps:i});return d&&qe.Children.only(d)}}]),n}(C.Component),aA=function(){function t(){tl(this,t),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return nl(t,[{key:"createInterpolator",value:function(n,r){var i=this,s=n[0],o=n[1],a=r[0],u=r[1];return o<s?function(l){return i.interpolateValue(u,a)(i.deinterpolateValue(o,s)(l))}:function(l){return i.interpolateValue(a,u)(i.deinterpolateValue(s,o)(l))}}},{key:"interpolateValue",value:function(n,r){return n=+n,r-=n,function(s){return n+r*s}}},{key:"deinterpolateValue",value:function(n,r){return(r-=n=+n)?function(i){return(i-n)/r}:function(){return r}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(n){var r=this.domain,i=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(r,i)))(+n)}},{key:"setDomain",value:function(n){return this.domain=[n[0],n[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(n){return this.range=[n[0],n[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(n){var r=this.domain;return Voe(r[0],r[r.length-1],n||10)}}]),t}(),Zoe=function(){return{value:0,percent:0}},C5=function(t){Up(n,t);var e=jp(n);function n(){return tl(this,n),e.apply(this,arguments)}return nl(n,[{key:"render",value:function(){var i=this.props,s=i.children,o=i.values,a=i.scale,u=a===void 0?new aA:a,l=i.count,c=l===void 0?10:l,d=i.getEventData,h=d===void 0?Zoe:d,p=i.activeHandleID,m=p===void 0?"":p,y=(o||u.getTicks(c)).map(function(v){return{id:"$$-".concat(v),value:v,percent:u.getValue(v)}}),g=s({getEventData:h,activeHandleID:m,ticks:y});return g&&qe.Children.only(g)}}]),n}(C.Component),eae=function(){return{value:0,percent:0}},A5=function(t){Up(n,t);var e=jp(n);function n(){var r;tl(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.getTrackProps=function(a){var u=r.props,l=u.emitMouse,c=u.emitTouch;return Es(Es({},a||{}),{},{onMouseDown:wu(a&&a.onMouseDown,l),onTouchStart:wu(a&&a.onTouchStart,c)})},r}return nl(n,[{key:"render",value:function(){for(var i=this.getTrackProps,s=this.props,o=s.children,a=s.left,u=a===void 0?!0:a,l=s.right,c=l===void 0?!0:l,d=s.scale,h=d===void 0?new aA:d,p=s.handles,m=p===void 0?[]:p,y=s.getEventData,g=y===void 0?eae:y,v=s.activeHandleID,_=v===void 0?"":v,b=h.getDomain(),w=[],E=0;E<m.length+1;E++){var A=m[E-1],R=m[E];E===0&&u===!0?A={id:"$",value:b[0],percent:0}:E===m.length&&c===!0&&(R={id:"$",value:b[1],percent:100}),A&&R&&w.push({id:"".concat(A.id,"-").concat(R.id),source:A,target:R})}var $=o({getEventData:g,activeHandleID:_,tracks:w,getTrackProps:i});return $&&qe.Children.only($)}}]),n}(C.Component);function V2(t,e,n){return Math.min(Math.max(t,e),n)}var U2=nl(function t(){var e=this;tl(this,t),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(n){return e.domain=[n[0],n[1]],e},this.setRange=function(n){return e.range=[n[0],n[1]],e},this.setStep=function(n){return e.step=n,e},this.getValue=function(n){var r=RE(e.domain,2),i=r[0],s=r[1],o=RE(e.range,2),a=o[0],u=o[1],l=e.step,c=(V2(n,i,s)-i)/(s-i),d=l*Math.round(c*(u-a)/l)+a;return V2(d,a<u?a:u,u>a?u:a)}}),zd=typeof window<"u"&&typeof document<"u",hi=function(){},tae=function(e){return function(n,r,i){return n&&e[i]===r}},nae=function(e,n){return e===n||e.length===n.length&&e.reduce(tae(n),!0)},rae=function(e){if(!C.isValidElement(e))return!1;var n=e.type,r=n?n.name:"";return r===I5.name||r===T5.name||r===C5.name||r===A5.name},iae=function(e,n,r,i){var s=i?e-n:e+n;return i?Math.max(r[0],s):Math.min(r[1],s)},sae=function(e,n,r,i){var s=i?e+n:e-n;return i?Math.min(r[1],s):Math.max(r[0],s)},eg=[0,100],oae=function(t){Up(n,t);var e=jp(n);function n(){var r;tl(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={step:.1,values:[],domain:eg,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},r.slider=qe.createRef(),r.onKeyDown=function(a,u){var l=["ArrowRight","ArrowUp"],c=["ArrowDown","ArrowLeft"],d=Ga(r),h=d.state.handles,p=d.props,m=p.step,y=m===void 0?.1:m,g=p.reversed,v=g===void 0?!1:g,_=p.vertical,b=_===void 0?!1:_,w=p.domain,E=w===void 0?[0,100]:w,A=a.key||"".concat(a.keyCode);if(l.concat(c).includes(A)){if(b){var R=[c,l];l=R[0],c=R[1]}a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault();var $=h.find(function(de){return de.key===u});if($){var Q=$.val,te=Q;l.includes(A)?te=iae(Q,y,E,v):c.includes(A)&&(te=sae(Q,y,E,v));var ce=h.map(function(de){return de.key===u?{key:de.key,val:te}:de});r.submitUpdate(ce,!0)}}},r.onMouseDown=function(a,u){r.onStart(a,u,!1)},r.onTouchStart=function(a,u){$2(a)||r.onStart(a,u,!0)},r.getEventData=function(a,u){var l=Ga(r),c=l.state,d=c.pixelToStep,h=c.valueToPerc,p=l.props.vertical;d.setDomain(Bd(r.slider.current,p));var m;return u&&a instanceof TouchEvent?m=d.getValue(uw(p,a)):a instanceof MouseEvent&&(m=d.getValue(p?a.clientY:a.pageX)),{value:m,percent:h.getValue(m)}},r.onMouseMove=function(a){var u=Ga(r),l=u.state,c=l.handles,d=l.pixelToStep,h=l.activeHandleID,p=h===void 0?"":h,m=u.props,y=m.vertical,g=m.reversed,v=g===void 0?!1:g;d.setDomain(Bd(r.slider.current,y));var _=d.getValue(y?a.clientY:a.pageX),b=Nh(c,p,_,v);r.submitUpdate(b)},r.onTouchMove=function(a){var u=Ga(r),l=u.state,c=l.handles,d=l.pixelToStep,h=l.activeHandleID,p=u.props,m=p.vertical,y=p.reversed;if(!(d===null||$2(a))){d.setDomain(Bd(r.slider.current,m));var g=d.getValue(uw(m,a)),v=Nh(c,h,g,y);r.submitUpdate(v)}},r.onMouseUp=function(){var a=Ga(r),u=a.state,l=u.handles,c=l===void 0?[]:l,d=u.activeHandleID,h=a.props,p=h.onChange,m=p===void 0?hi:p,y=h.onSlideEnd,g=y===void 0?hi:y;m(c.map(function(v){return v.val})),g(c.map(function(v){return v.val}),{activeHandleID:d}),r.setState({activeHandleID:""}),zd&&(document.removeEventListener("mousemove",r.onMouseMove),document.removeEventListener("mouseup",r.onMouseUp))},r.onTouchEnd=function(){var a=Ga(r),u=a.state,l=u.handles,c=u.activeHandleID,d=a.props,h=d.onChange,p=h===void 0?hi:h,m=d.onSlideEnd,y=m===void 0?hi:m;p(l.map(function(g){return g.val})),y(l.map(function(g){return g.val}),{activeHandleID:c}),r.setState({activeHandleID:""}),zd&&(document.removeEventListener("touchmove",r.onTouchMove),document.removeEventListener("touchend",r.onTouchEnd))},r}return nl(n,[{key:"componentDidMount",value:function(){var i=this.state.pixelToStep,s=this.props.vertical;i.setDomain(Bd(this.slider.current,s))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){zd&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(i,s,o){var a=this.state.handles,u=this.props.onSlideStart,l=u===void 0?hi:u;o||i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation();var c=a.find(function(d){return d.key===s});c?(this.setState({activeHandleID:s}),l(a.map(function(d){return d.val}),{activeHandleID:s}),o?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(i,o))}},{key:"handleRailAndTrackClicks",value:function(i,s){var o=this,a=this.state,u=a.handles,l=a.pixelToStep,c=this.props,d=c.vertical,h=c.reversed,p=h===void 0?!1:h,m=this.slider;l.setDomain(Bd(m.current,d));var y;s?y=l.getValue(uw(d,i)):y=l.getValue(d?i.clientY:i.pageX);for(var g="",v=1/0,_=0;_<u.length;_++){var b=u[_],w=b.key,E=b.val,A=Math.abs(E-y);A<v&&(g=w,v=A)}var R=Nh(u,g,y,p);this.setState({activeHandleID:g},function(){o.submitUpdate(R,!0),s?o.addTouchEvents():o.addMouseEvents()})}},{key:"addMouseEvents",value:function(){zd&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){zd&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.props,a=o.mode,u=a===void 0?1:a,l=o.step,c=l===void 0?.1:l,d=o.onUpdate,h=d===void 0?hi:d,p=o.onChange,m=p===void 0?hi:p,y=o.reversed,g=y===void 0?!1:y,v=this.state.valueToStep.getValue;this.setState(function(_){var b=_.handles,w=[];if(typeof u=="function")w=u(b,i,c,g,v),Ug(Array.isArray(w),"Custom mode function did not return an array.");else switch(u){case 1:w=Yoe(b,i);break;case 2:w=Xoe(b,i);break;case 3:w=NE(b,i,c,g,v);break;default:w=i,Ug(!1,"".concat(xE," Invalid mode value."))}return h(w.map(function(E){return E.val})),s&&m(w.map(function(E){return E.val})),{handles:w}})}},{key:"render",value:function(){var i=this,s=this.state,o=s.handles,a=s.valueToPerc,u=s.activeHandleID,l=this.props,c=l.className,d=l.rootStyle,h=d===void 0?{}:d,p=l.rootProps,m=p===void 0?{}:p,y=l.component,g=y===void 0?"div":y,v=l.disabled,_=v===void 0?!1:v,b=l.flatten,w=b===void 0?!1:b,E=o.map(function(R){var $=R.key,Q=R.val;return{id:$,value:Q,percent:a.getValue(Q)}}),A=qe.Children.map(this.props.children,function(R){return rae(R)===!0?qe.cloneElement(R,{scale:a,handles:E,activeHandleID:u,getEventData:i.getEventData,emitKeyboard:_?hi:i.onKeyDown,emitMouse:_?hi:i.onMouseDown,emitTouch:_?hi:i.onTouchStart}):R});return w?O(Cn,{children:[f(g,{...Es(Es({},m),{},{style:h,className:c,ref:this.slider})}),A]}):f(Cn,{children:f(g,{...Es(Es({},m),{},{style:h,className:c,ref:this.slider}),children:A})})}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=i.step,a=o===void 0?.1:o,u=i.values,l=i.domain,c=l===void 0?eg:l,d=i.reversed,h=d===void 0?!1:d,p=i.onUpdate,m=p===void 0?hi:p,y=i.onChange,g=y===void 0?hi:y,v=i.warnOnChanges,_=v===void 0?!1:v,b=s.valueToPerc,w=s.valueToStep,E=s.pixelToStep,A={};if((!b||!w||!E)&&(b=new aA,w=new U2,E=new U2,A.valueToPerc=b,A.valueToStep=w,A.pixelToStep=E),s.domain===eg||s.step===null||s.domain===null||s.reversed===null||a!==s.step||c[0]!==s.domain[0]||c[1]!==s.domain[1]||h!==s.reversed){var R=RE(c,2),$=R[0],Q=R[1];w.setStep(a).setRange([$,Q]).setDomain([$,Q]),h===!0?(b.setDomain([$,Q]).setRange([100,0]),E.setStep(a).setRange([Q,$])):(b.setDomain([$,Q]).setRange([0,100]),E.setStep(a).setRange([$,Q])),Ug(Q>$,"".concat(xE," Max must be greater than min (even if reversed). Max is ").concat(Q,". Min is ").concat($,"."));var te=L2(u||s.values,h,w,_),ce=te.handles,de=te.changes;(de||u===void 0||u===s.values)&&(m(ce.map(function(ee){return ee.val})),g(ce.map(function(ee){return ee.val}))),A.step=a,A.values=u,A.domain=c===eg?OE(c):c,A.handles=ce,A.reversed=h}else if(!nae(u,s.values)){var Ee=L2(u,h,w,_),j=Ee.handles,W=Ee.changes;W&&(m(j.map(function(ee){return ee.val})),g(j.map(function(ee){return ee.val}))),A.values=u,A.handles=j}return Object.keys(A).length?A:null}}]),n}(C.PureComponent);class uA extends C.Component{constructor(e){super(e),this.state={mouseOver:!1}}onMouseEnter(){this.setState({mouseOver:!0})}onMouseLeave(){this.setState({mouseOver:!1})}render(){const{domain:[e,n],handle:{id:r,value:i,percent:s},isActive:o,disabled:a,getHandleProps:u}=this.props,{mouseOver:l}=this.state;return O(Cn,{children:[(l||o)&&!a?f("div",{style:{left:`${s}%`,position:"absolute",marginLeft:"-11px",marginTop:"-35px"},children:f("div",{className:"tooltip",children:O("span",{className:"tooltiptext",children:["Value:",i]})})}):null,f("div",{style:{left:`${s}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:400,width:26,height:42,cursor:"pointer",backgroundColor:"none"},...u(r,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}),f("div",{role:"slider","aria-valuemin":e,"aria-valuemax":n,"aria-valuenow":i,label:"Slider",style:{left:`${s}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:300,width:24,height:24,border:0,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:a?"#666":"#1a1a1a"}})]})}}uA.propTypes={domain:T.array.isRequired,handle:T.shape({id:T.string.isRequired,value:T.number.isRequired,percent:T.number.isRequired}).isRequired,getHandleProps:T.func.isRequired,isActive:T.bool.isRequired,disabled:T.bool};uA.defaultProps={disabled:!1};const aae={position:"absolute",transform:"translate(0%, -50%)",width:"100%",height:42,borderRadius:7,cursor:"pointer"},uae={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"#d0d0d0"},P5=({getRailProps:t})=>O("div",{children:[f("div",{style:aae,...t()}),f("div",{style:uae})]});P5.propTypes={getRailProps:T.func.isRequired};const lA=({tick:t,count:e,format:n})=>O("div",{children:[f("div",{style:{position:"absolute",marginTop:17,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:`${t.percent}%`}}),f("div",{style:{position:"absolute",marginTop:25,fontSize:10,textAlign:"center",marginLeft:`${-(100/e)/2}%`,width:`${100/e}%`,left:`${t.percent}%`},children:n(t.value)})]});lA.propTypes={tick:T.shape({id:T.string.isRequired,value:T.number.isRequired,percent:T.number.isRequired}).isRequired,count:T.number.isRequired,format:T.func};lA.defaultProps={format:t=>t};const cA=({source:t,target:e,getTrackProps:n,disabled:r})=>f("div",{style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:r?"#ffd993":"#ffa500",borderRadius:7,cursor:"pointer",left:`${t.percent}%`,width:`${e.percent-t.percent}%`},...n()});cA.propTypes={source:T.shape({id:T.string.isRequired,value:T.number.isRequired,percent:T.number.isRequired}).isRequired,target:T.shape({id:T.string.isRequired,value:T.number.isRequired,percent:T.number.isRequired}).isRequired,getTrackProps:T.func.isRequired,disabled:T.bool};cA.defaultProps={disabled:!1};const lae={position:"relative",width:"100%"},dA=({min:t,max:e,initMin:n,initMax:r,productsCount:i,onPriceChange:s})=>{const[o,a]=C.useState({domain:[t,e],values:[n||t,r||e],update:[t,e].slice(),inputMin:n||t,inputMax:r||e,inputError:!1,reversed:!1}),u=d=>{a(()=>({...o,update:d,inputMin:d[0],inputMax:d[1]}))},l=d=>{a(()=>({...o,values:d,inputMin:d[0],inputMax:d[1]})),d[0]<d[1]&&s(...d)},c=()=>o.inputError?"price-range-input price-input-error":"price-range-input";return O("div",{style:{height:120,width:"100%"},children:[O("div",{className:"price-range-control",children:[f("input",{className:c(),disabled:i===0,max:e,min:t,type:"number",readOnly:!0,value:o.inputMin}),"",f("input",{className:c(),disabled:i===0,max:e,min:t,type:"number",readOnly:!0,value:o.inputMax})]}),O(oae,{mode:1,step:1,domain:o.domain,rootStyle:lae,onUpdate:u,onChange:l,values:o.values,children:[f(T5,{children:({getRailProps:d})=>f(P5,{getRailProps:d})}),f(I5,{children:({handles:d,activeHandleID:h,getHandleProps:p})=>f("div",{className:"slider-handles",children:d.map(m=>f(uA,{handle:m,domain:o.domain,isActive:m.id===h,getHandleProps:p},m.id))})}),f(A5,{left:!1,right:!1,children:({tracks:d,getTrackProps:h})=>f("div",{className:"slider-tracks",children:d.map(({id:p,source:m,target:y})=>f(cA,{source:m,target:y,getTrackProps:h},p))})}),f(C5,{count:5,children:({ticks:d})=>f("div",{className:"slider-ticks",children:d.map(h=>f(lA,{tick:h,count:d.length},h.id))})})]})]})};dA.defaultProps={initMin:void 0,initMax:void 0};dA.propTypes={initMin:T.number,initMax:T.number,min:T.number.isRequired,max:T.number.isRequired,productsCount:T.number.isRequired,onPriceChange:T.func.isRequired};const R5=({closeModal:t})=>{const{filter:e,isLoading:n,products:r}=On(g=>({filter:g.filter,isLoading:g.app.loading,products:g.products.items})),[i,s]=C.useState({brand:e.brand,minPrice:e.minPrice,maxPrice:e.maxPrice,sortBy:e.sortBy}),o=tn(),a=li(),u=Wu(),l=Moe(r),c=$oe(r);C.useEffect(()=>{u&&window.screen.width<=480&&a.push("/"),u&&t&&t(),s(e),window.scrollTo(0,0)},[e]);const d=(g,v)=>{s({...i,minPrice:g,maxPrice:v})},h=g=>{const v=g.target.value;s({...i,brand:v})},p=g=>{s({...i,sortBy:g.target.value})},m=()=>{const g=Object.keys(i).some(v=>i[v]!==e[v]);i.minPrice>i.maxPrice||(g?o(uh(i)):t())},y=()=>{["brand","minPrice","maxPrice","sortBy"].some(v=>!!e[v])?o(_5()):t()};return O("div",{className:"filters",children:[O("div",{className:"filters-field",children:[f("span",{children:"Brand"}),f("br",{}),f("br",{}),r.length===0&&n?f("h5",{className:"text-subtle",children:"Loading Filter"}):O("select",{className:"filters-brand",value:i.brand,disabled:n||r.length===0,onChange:h,children:[f("option",{value:"",children:"All Brands"}),f("option",{value:"salt",children:"Salt Maalat"}),f("option",{value:"betsin",children:"Betsin Maalat"}),f("option",{value:"black",children:"Black Kibal"}),f("option",{value:"sexbomb",children:"Sexbomb"})]})]}),O("div",{className:"filters-field",children:[f("span",{children:"Sort By"}),f("br",{}),f("br",{}),O("select",{className:"filters-sort-by d-block",value:i.sortBy,disabled:n||r.length===0,onChange:p,children:[f("option",{value:"",children:"None"}),f("option",{value:"name-asc",children:"Name Ascending A - Z"}),f("option",{value:"name-desc",children:"Name Descending Z - A"}),f("option",{value:"price-desc",children:"Price High - Low"}),f("option",{value:"price-asc",children:"Price Low - High"})]})]}),O("div",{className:"filters-field",children:[f("span",{children:"Price Range"}),f("br",{}),f("br",{}),r.length===0&&n||l===0?f("h5",{className:"text-subtle",children:"Loading Filter"}):r.length===1?f("h5",{className:"text-subtle",children:"No Price Range"}):f(dA,{min:c,max:l,initMin:i.minPrice,initMax:i.maxPrice,isLoading:n,onPriceChange:d,productsCount:r.length})]}),O("div",{className:"filters-action",children:[f("button",{className:"filters-button button button-small",disabled:n||r.length===0,onClick:m,type:"button",children:"Apply filters"}),f("button",{className:"filters-button button button-border button-small",disabled:n||r.length===0,onClick:y,type:"button",children:"Reset filters"})]})]})};R5.propTypes={closeModal:T.func.isRequired};const cae=Sa(R5);var DE={exports:{}},Uu={},FE={exports:{}},es={},ME={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(u){var l=u.offsetWidth<=0&&u.offsetHeight<=0;if(l&&!u.innerHTML)return!0;try{var c=window.getComputedStyle(u);return l?c.getPropertyValue("overflow")!=="visible"||u.scrollWidth<=0&&u.scrollHeight<=0:c.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(u){for(var l=u,c=u.getRootNode&&u.getRootNode();l&&l!==document.body;){if(c&&l===c&&(l=c.host.parentNode),r(l))return!1;l=l.parentNode}return!0}function s(u,l){var c=u.nodeName.toLowerCase(),d=n.test(c)&&!u.disabled||c==="a"&&u.href||l;return d&&i(u)}function o(u){var l=u.getAttribute("tabindex");l===null&&(l=void 0);var c=isNaN(l);return(c||l>=0)&&s(u,!c)}function a(u){var l=[].slice.call(u.querySelectorAll("*"),0).reduce(function(c,d){return c.concat(d.shadowRoot?a(d.shadowRoot):[d])},[]);return l.filter(o)}t.exports=e.default})(ME,ME.exports);var O5=ME.exports;Object.defineProperty(es,"__esModule",{value:!0});es.resetState=pae;es.log=mae;es.handleBlur=Lf;es.handleFocus=Vf;es.markForFocusLater=gae;es.returnFocus=vae;es.popWithoutFocus=yae;es.setupScopedFocus=_ae;es.teardownScopedFocus=wae;var dae=O5,hae=fae(dae);function fae(t){return t&&t.__esModule?t:{default:t}}var Fc=[],Bl=null,$E=!1;function pae(){Fc=[]}function mae(){}function Lf(){$E=!0}function Vf(){if($E){if($E=!1,!Bl)return;setTimeout(function(){if(!Bl.contains(document.activeElement)){var t=(0,hae.default)(Bl)[0]||Bl;t.focus()}},0)}}function gae(){Fc.push(document.activeElement)}function vae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Fc.length!==0&&(e=Fc.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function yae(){Fc.length>0&&Fc.pop()}function _ae(t){Bl=t,window.addEventListener?(window.addEventListener("blur",Lf,!1),document.addEventListener("focus",Vf,!0)):(window.attachEvent("onBlur",Lf),document.attachEvent("onFocus",Vf))}function wae(){Bl=null,window.addEventListener?(window.removeEventListener("blur",Lf),document.removeEventListener("focus",Vf)):(window.detachEvent("onBlur",Lf),document.detachEvent("onFocus",Vf))}var LE={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=O5,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,r.default)(a);if(!l.length){u.preventDefault();return}var c=void 0,d=u.shiftKey,h=l[0],p=l[l.length-1],m=s();if(a===m){if(!d)return;c=p}if(p===m&&!d&&(c=h),h===m&&d&&(c=p),c){u.preventDefault(),c.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),g=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(g){var v=l.indexOf(m);if(v>-1&&(v+=d?-1:1),c=l[v],typeof c>"u"){u.preventDefault(),c=d?p:h,c.focus();return}u.preventDefault(),c.focus()}}t.exports=e.default})(LE,LE.exports);var bae=LE.exports,ts={},Hi={},k5={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(k5);var Eae=k5.exports;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.canUseDOM=Hi.SafeNodeList=Hi.SafeHTMLCollection=void 0;var Sae=Eae,Tae=Iae(Sae);function Iae(t){return t&&t.__esModule?t:{default:t}}var f0=Tae.default,Cae=f0.canUseDOM?window.HTMLElement:{};Hi.SafeHTMLCollection=f0.canUseDOM?window.HTMLCollection:{};Hi.SafeNodeList=f0.canUseDOM?window.NodeList:{};Hi.canUseDOM=f0.canUseDOM;Hi.default=Cae;Object.defineProperty(ts,"__esModule",{value:!0});ts.resetState=kae;ts.log=xae;ts.assertNodeList=x5;ts.setElement=Nae;ts.validateElement=hA;ts.hide=Dae;ts.show=Fae;ts.documentNotReadyOrSSRTesting=Mae;var Aae=b5,Pae=Oae(Aae),Rae=Hi;function Oae(t){return t&&t.__esModule?t:{default:t}}var gi=null;function kae(){gi&&(gi.removeAttribute?gi.removeAttribute("aria-hidden"):gi.length!=null?gi.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(gi).forEach(function(t){return t.removeAttribute("aria-hidden")})),gi=null}function xae(){}function x5(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Nae(t){var e=t;if(typeof e=="string"&&Rae.canUseDOM){var n=document.querySelectorAll(e);x5(n,e),e=n}return gi=e||gi,gi}function hA(t){var e=t||gi;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Pae.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Dae(t){var e=!0,n=!1,r=void 0;try{for(var i=hA(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function Fae(t){var e=!0,n=!1,r=void 0;try{for(var i=hA(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function Mae(){gi=null}var ad={};Object.defineProperty(ad,"__esModule",{value:!0});ad.resetState=$ae;ad.log=Lae;var Dh={},Fh={};function j2(t,e){t.classList.remove(e)}function $ae(){var t=document.getElementsByTagName("html")[0];for(var e in Dh)j2(t,Dh[e]);var n=document.body;for(var r in Fh)j2(n,Fh[r]);Dh={},Fh={}}function Lae(){}var Vae=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Uae=function(e,n){return e[n]&&(e[n]-=1),n},jae=function(e,n,r){r.forEach(function(i){Vae(n,i),e.add(i)})},Bae=function(e,n,r){r.forEach(function(i){Uae(n,i),n[i]===0&&e.remove(i)})};ad.add=function(e,n){return jae(e.classList,e.nodeName.toLowerCase()=="html"?Dh:Fh,n.split(" "))};ad.remove=function(e,n){return Bae(e.classList,e.nodeName.toLowerCase()=="html"?Dh:Fh,n.split(" "))};var ud={};Object.defineProperty(ud,"__esModule",{value:!0});ud.log=qae;ud.resetState=Hae;function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var N5=function t(){var e=this;zae(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},oy=new N5;function qae(){console.log("portalOpenInstances ----------"),console.log(oy.openInstances.length),oy.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Hae(){oy=new N5}ud.default=oy;var fA={};Object.defineProperty(fA,"__esModule",{value:!0});fA.resetState=Qae;fA.log=Yae;var Wae=ud,Gae=Kae(Wae);function Kae(t){return t&&t.__esModule?t:{default:t}}var rr=void 0,$i=void 0,bu=[];function Qae(){for(var t=[rr,$i],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}rr=$i=null,bu=[]}function Yae(){console.log("bodyTrap ----------"),console.log(bu.length);for(var t=[rr,$i],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function B2(){bu.length!==0&&bu[bu.length-1].focusContent()}function Xae(t,e){!rr&&!$i&&(rr=document.createElement("div"),rr.setAttribute("data-react-modal-body-trap",""),rr.style.position="absolute",rr.style.opacity="0",rr.setAttribute("tabindex","0"),rr.addEventListener("focus",B2),$i=rr.cloneNode(),$i.addEventListener("focus",B2)),bu=e,bu.length>0?(document.body.firstChild!==rr&&document.body.insertBefore(rr,document.body.firstChild),document.body.lastChild!==$i&&document.body.appendChild($i)):(rr.parentElement&&rr.parentElement.removeChild(rr),$i.parentElement&&$i.parentElement.removeChild($i))}Gae.default.subscribe(Xae);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var ee=arguments[W];for(var F in ee)Object.prototype.hasOwnProperty.call(ee,F)&&(j[F]=ee[F])}return j},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i=function(){function j(W,ee){for(var F=0;F<ee.length;F++){var U=ee[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}}return function(W,ee,F){return ee&&j(W.prototype,ee),F&&j(W,F),W}}(),s=C,o=xy,a=E(o),u=es,l=w(u),c=bae,d=E(c),h=ts,p=w(h),m=ad,y=w(m),g=Hi,v=E(g),_=ud,b=E(_);function w(j){if(j&&j.__esModule)return j;var W={};if(j!=null)for(var ee in j)Object.prototype.hasOwnProperty.call(j,ee)&&(W[ee]=j[ee]);return W.default=j,W}function E(j){return j&&j.__esModule?j:{default:j}}function A(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function R(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function $(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var Q={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},te=9,ce=27,de=0,Ee=function(j){$(W,j);function W(ee){A(this,W);var F=R(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ee));return F.setOverlayRef=function(U){F.overlay=U,F.props.overlayRef&&F.props.overlayRef(U)},F.setContentRef=function(U){F.content=U,F.props.contentRef&&F.props.contentRef(U)},F.afterClose=function(){var U=F.props,Y=U.appElement,M=U.ariaHideApp,V=U.htmlOpenClassName,N=U.bodyOpenClassName;N&&y.remove(document.body,N),V&&y.remove(document.getElementsByTagName("html")[0],V),M&&de>0&&(de-=1,de===0&&p.show(Y)),F.props.shouldFocusAfterRender&&(F.props.shouldReturnFocusAfterClose?(l.returnFocus(F.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),F.props.onAfterClose&&F.props.onAfterClose(),b.default.deregister(F)},F.open=function(){F.beforeOpen(),F.state.afterOpen&&F.state.beforeClose?(clearTimeout(F.closeTimer),F.setState({beforeClose:!1})):(F.props.shouldFocusAfterRender&&(l.setupScopedFocus(F.node),l.markForFocusLater()),F.setState({isOpen:!0},function(){F.openAnimationFrame=requestAnimationFrame(function(){F.setState({afterOpen:!0}),F.props.isOpen&&F.props.onAfterOpen&&F.props.onAfterOpen({overlayEl:F.overlay,contentEl:F.content})})}))},F.close=function(){F.props.closeTimeoutMS>0?F.closeWithTimeout():F.closeWithoutTimeout()},F.focusContent=function(){return F.content&&!F.contentHasFocus()&&F.content.focus({preventScroll:!0})},F.closeWithTimeout=function(){var U=Date.now()+F.props.closeTimeoutMS;F.setState({beforeClose:!0,closesAt:U},function(){F.closeTimer=setTimeout(F.closeWithoutTimeout,F.state.closesAt-Date.now())})},F.closeWithoutTimeout=function(){F.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},F.afterClose)},F.handleKeyDown=function(U){U.keyCode===te&&(0,d.default)(F.content,U),F.props.shouldCloseOnEsc&&U.keyCode===ce&&(U.stopPropagation(),F.requestClose(U))},F.handleOverlayOnClick=function(U){F.shouldClose===null&&(F.shouldClose=!0),F.shouldClose&&F.props.shouldCloseOnOverlayClick&&(F.ownerHandlesClose()?F.requestClose(U):F.focusContent()),F.shouldClose=null},F.handleContentOnMouseUp=function(){F.shouldClose=!1},F.handleOverlayOnMouseDown=function(U){!F.props.shouldCloseOnOverlayClick&&U.target==F.overlay&&U.preventDefault()},F.handleContentOnClick=function(){F.shouldClose=!1},F.handleContentOnMouseDown=function(){F.shouldClose=!1},F.requestClose=function(U){return F.ownerHandlesClose()&&F.props.onRequestClose(U)},F.ownerHandlesClose=function(){return F.props.onRequestClose},F.shouldBeClosed=function(){return!F.state.isOpen&&!F.state.beforeClose},F.contentHasFocus=function(){return document.activeElement===F.content||F.content.contains(document.activeElement)},F.buildClassName=function(U,Y){var M=(typeof Y>"u"?"undefined":r(Y))==="object"?Y:{base:Q[U],afterOpen:Q[U]+"--after-open",beforeClose:Q[U]+"--before-close"},V=M.base;return F.state.afterOpen&&(V=V+" "+M.afterOpen),F.state.beforeClose&&(V=V+" "+M.beforeClose),typeof Y=="string"&&Y?V+" "+Y:V},F.attributesFromObject=function(U,Y){return Object.keys(Y).reduce(function(M,V){return M[U+"-"+V]=Y[V],M},{})},F.state={afterOpen:!1,beforeClose:!1},F.shouldClose=null,F.moveFromContentToOverlay=null,F}return i(W,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(F,U){this.props.isOpen&&!F.isOpen?this.open():!this.props.isOpen&&F.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!U.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var F=this.props,U=F.appElement,Y=F.ariaHideApp,M=F.htmlOpenClassName,V=F.bodyOpenClassName;V&&y.add(document.body,V),M&&y.add(document.getElementsByTagName("html")[0],M),Y&&(de+=1,p.hide(U)),b.default.register(this)}},{key:"render",value:function(){var F=this.props,U=F.id,Y=F.className,M=F.overlayClassName,V=F.defaultStyles,N=F.children,q=Y?{}:V.content,B=M?{}:V.overlay;if(this.shouldBeClosed())return null;var S={ref:this.setOverlayRef,className:this.buildClassName("overlay",M),style:n({},B,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},x=n({id:U,ref:this.setContentRef,style:n({},q,this.props.style.content),className:this.buildClassName("content",Y),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),le=this.props.contentElement(x,N);return this.props.overlayElement(S,le)}}]),W}(s.Component);Ee.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Ee.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(g.SafeHTMLCollection),a.default.instanceOf(g.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Ee,t.exports=e.default})(FE,FE.exports);var Jae=FE.exports;function D5(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function F5(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function M5(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}D5.__suppressDeprecationWarning=!0;F5.__suppressDeprecationWarning=!0;M5.__suppressDeprecationWarning=!0;function Zae(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=D5,e.componentWillReceiveProps=F5),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=M5;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,l,c,h)}}return t}const eue=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Zae},Symbol.toStringTag,{value:"Module"})),tue=bD(eue);Object.defineProperty(Uu,"__esModule",{value:!0});Uu.bodyOpenClassName=Uu.portalClassName=void 0;var z2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$5=C,ay=Bp($5),rue=zc,uy=Bp(rue),iue=xy,He=Bp(iue),sue=Jae,q2=Bp(sue),oue=ts,aue=lue(oue),Wo=Hi,H2=Bp(Wo),uue=tue;function lue(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Bp(t){return t&&t.__esModule?t:{default:t}}function cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hue=Uu.portalClassName="ReactModalPortal",fue=Uu.bodyOpenClassName="ReactModal__Body--open",Ka=Wo.canUseDOM&&uy.default.createPortal!==void 0,G2=function(e){return document.createElement(e)},K2=function(){return Ka?uy.default.createPortal:uy.default.unstable_renderSubtreeIntoContainer};function tg(t){return t()}var zp=function(t){due(e,t);function e(){var n,r,i,s;cue(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(r=(i=W2(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ka&&uy.default.unmountComponentAtNode(i.node);var l=tg(i.props.parentSelector);l&&l.contains(i.node)?l.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(l){i.portal=l},i.renderPortal=function(l){var c=K2(),d=c(i,ay.default.createElement(q2.default,z2({defaultStyles:e.defaultStyles},l)),i.node);i.portalRef(d)},r),W2(i,s)}return nue(e,[{key:"componentDidMount",value:function(){if(Wo.canUseDOM){Ka||(this.node=G2("div")),this.node.className=this.props.portalClassName;var r=tg(this.props.parentSelector);r.appendChild(this.node),!Ka&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=tg(r.parentSelector),s=tg(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(Wo.canUseDOM){var o=this.props,a=o.isOpen,u=o.portalClassName;r.portalClassName!==u&&(this.node.className=u);var l=s.prevParent,c=s.nextParent;c!==l&&(l.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ka&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Wo.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Wo.canUseDOM||!Ka)return null;!this.node&&Ka&&(this.node=G2("div"));var r=K2();return r(ay.default.createElement(q2.default,z2({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){aue.setElement(r)}}]),e}($5.Component);zp.propTypes={isOpen:He.default.bool.isRequired,style:He.default.shape({content:He.default.object,overlay:He.default.object}),portalClassName:He.default.string,bodyOpenClassName:He.default.string,htmlOpenClassName:He.default.string,className:He.default.oneOfType([He.default.string,He.default.shape({base:He.default.string.isRequired,afterOpen:He.default.string.isRequired,beforeClose:He.default.string.isRequired})]),overlayClassName:He.default.oneOfType([He.default.string,He.default.shape({base:He.default.string.isRequired,afterOpen:He.default.string.isRequired,beforeClose:He.default.string.isRequired})]),appElement:He.default.oneOfType([He.default.instanceOf(H2.default),He.default.instanceOf(Wo.SafeHTMLCollection),He.default.instanceOf(Wo.SafeNodeList),He.default.arrayOf(He.default.instanceOf(H2.default))]),onAfterOpen:He.default.func,onRequestClose:He.default.func,closeTimeoutMS:He.default.number,ariaHideApp:He.default.bool,shouldFocusAfterRender:He.default.bool,shouldCloseOnOverlayClick:He.default.bool,shouldReturnFocusAfterClose:He.default.bool,preventScroll:He.default.bool,parentSelector:He.default.func,aria:He.default.object,data:He.default.object,role:He.default.string,contentLabel:He.default.string,shouldCloseOnEsc:He.default.bool,overlayRef:He.default.func,contentRef:He.default.func,id:He.default.string,overlayElement:He.default.func,contentElement:He.default.func};zp.defaultProps={isOpen:!1,portalClassName:hue,bodyOpenClassName:fue,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return ay.default.createElement("div",e,n)},contentElement:function(e,n){return ay.default.createElement("div",e,n)}};zp.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,uue.polyfill)(zp);Uu.default=zp;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Uu,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(DE,DE.exports);var pue=DE.exports;const Q2=Pn(pue),qp=({isOpen:t,onRequestClose:e,afterOpenModal:n,overrideStyle:r,children:i})=>{const s={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",position:"fixed",padding:"50px 20px",transition:"all .5s ease",zIndex:9999,marginRight:"-50%",transform:"translate(-50%, -50%)",boxShadow:"0 5px 10px rgba(0, 0, 0, .1)",animation:"scale .3s ease",...r}};return Q2.setAppElement("#app"),f(Q2,{closeTimeoutMS:300,contentLabel:"Product Modal",isOpen:t,onAfterOpen:n,onRequestClose:e,shouldCloseOnOverlayClick:!0,style:s,children:i})};qp.defaultProps={overrideStyle:{},afterOpenModal:()=>{}};qp.propTypes={isOpen:T.bool.isRequired,onRequestClose:T.func.isRequired,afterOpenModal:T.func,overrideStyle:T.object,children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};const p0=({children:t})=>{const{isOpenModal:e,onOpenModal:n,onCloseModal:r}=sA();return O(Cn,{children:[f("div",{className:"filters-toggle",onClick:n,role:"presentation",children:t}),O(qp,{isOpen:e,onRequestClose:r,children:[f("div",{className:"filters-toggle-sub",children:f(cae,{closeModal:r})}),f("button",{className:"modal-close-button",onClick:r,type:"button",children:f("i",{className:"fa fa-times-circle"})})]})]})};p0.propTypes={children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};const mue=()=>{const{pathname:t}=a_();return[Ay,cc].includes(t)?O("footer",{className:"footer",children:[f("div",{className:"footer-col-1",children:f("strong",{children:O("span",{children:["Developed by"," ",f("a",{href:"https://www.linkedin.com/in/augusto-herrera-velasquez-36679060/",children:"Augusto Herrera"})]})})}),O("div",{className:"footer-col-2",children:[f("img",{alt:"Footer logo",className:"footer-logo",src:AS}),O("h5",{children:["",new Date().getFullYear()]})]}),f("div",{className:"footer-col-3",children:f("strong",{children:O("span",{children:["Fork this project on GitHub ",f("a",{href:"https://github.com/Augusto-AI/PF-HENRY-E-commerce",children:"HERE"})]})})})]}):null},xi=({src:t,alt:e,className:n})=>{const r={},[i,s]=C.useState(r[t]),o=()=>{r[t]=!0,s(!0)};return O(Cn,{children:[!i&&f(hr,{style:{position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto"}}),f("img",{alt:e||"",className:`${n||""} ${i?"is-img-loaded":"is-img-loading"}`,onLoad:o,src:t})]})};xi.defaultProps={className:"image-loader"};xi.propTypes={src:T.string.isRequired,alt:T.string,className:T.string};const Ji=({message:t,description:e,buttonLabel:n,action:r})=>O("div",{className:"loader",children:[f("h2",{className:"text-center",style:{wordBreak:"break-all"},children:t||"Message"}),e&&f("span",{children:e}),f("br",{}),r&&f("button",{className:"button button-small",onClick:r,type:"button",children:n||"Okay"})]});Ji.defaultProps={description:void 0,buttonLabel:"Okay",action:void 0};Ji.propTypes={message:T.string.isRequired,description:T.string,buttonLabel:T.string,action:T.func};const gue=()=>{const{isOpenModal:t,onOpenModal:e,onCloseModal:n}=sA(),{basket:r,user:i}=On(h=>({basket:h.basket,user:h.auth})),s=li(),{pathname:o}=a_(),a=tn(),u=Wu();C.useEffect(()=>{u&&nn.auth.currentUser&&r.length!==0&&nn.saveBasketItems(r,nn.auth.currentUser.uid).then(()=>{console.log("Item saved to basket")}).catch(h=>{console.log(h)})},[r.length]);const l=()=>{r.length!==0&&i?(document.body.classList.remove("is-basket-open"),s.push(dc)):e()},c=()=>{n(),document.body.classList.remove("basket-open"),s.push(dc)},d=()=>{r.length!==0&&a(cL())};return i&&i.role==="ADMIN"?null:O(Hu,{children:[O(qp,{isOpen:t,onRequestClose:n,children:[f("p",{className:"text-center",children:"You must log in to continue paying"}),f("br",{}),O("div",{className:"d-flex-center",children:[f("button",{className:"button button-border button-border-gray button-small",onClick:n,type:"button",children:"Keep buying"}),"",f("button",{className:"button button-small",onClick:c,type:"button",children:"Sign in to for pay"})]})]}),O("div",{className:"basket",children:[O("div",{className:"basket-list",children:[O("div",{className:"basket-header",children:[O("h3",{className:"basket-header-title",children:["My Basket ",O("span",{children:["(",` ${r.length} ${r.length>1?"items":"item"}`,")"]})]}),f(m0,{children:({onClickToggle:h})=>f("span",{className:"basket-toggle button button-border button-border-gray button-small",onClick:h,role:"presentation",children:"Close"})}),f("button",{className:"basket-clear button button-border button-border-gray button-small",disabled:r.length===0,onClick:d,type:"button",children:f("span",{children:"Empty Basket"})})]}),r.length<=0&&f("div",{className:"basket-empty",children:f("h5",{className:"basket-empty-msg",children:"Su canasta est vacia"})}),r.map((h,p)=>f(pA,{product:h,basket:r,dispatch:a},`${h.id}_${p}`))]}),O("div",{className:"basket-checkout",children:[O("div",{className:"basket-total",children:[f("p",{className:"basket-total-title",children:"Subtotal :"}),f("h2",{className:"basket-total-amount",children:io(uL(r.map(h=>h.price*h.quantity)))})]}),f("button",{className:"basket-checkout-button button",disabled:r.length===0||o==="/checkout",onClick:l,type:"button",children:"Terminar"})]})]})]})},pA=({product:t})=>{const e=tn(),n=()=>e(lL(t.id));return O("div",{className:"basket-item",children:[f(L5,{product:t}),O("div",{className:"basket-item-wrapper",children:[f("div",{className:"basket-item-img-wrapper",children:f(xi,{alt:t.name,className:"basket-item-img",src:t.image})}),O("div",{className:"basket-item-details",children:[f(Tr,{to:`/product/${t.id}`,onClick:()=>document.body.classList.remove("is-basket-open"),children:f("h4",{className:"underline basket-item-name",children:t.name})}),O("div",{className:"basket-item-specs",children:[O("div",{children:[f("span",{className:"spec-title",children:"Cantidad"}),f("h5",{className:"my-0",children:t.quantity})]}),O("div",{children:[f("span",{className:"spec-title",children:"Tamao"}),O("h5",{className:"my-0",children:[t.selectedSize," mm"]})]}),O("div",{children:[f("span",{className:"spec-title",children:"Color"}),f("div",{style:{backgroundColor:t.selectedColor||t.availableColors[0],width:"15px",height:"15px",borderRadius:"50%"}})]})]})]}),f("div",{className:"basket-item-price",children:f("h4",{className:"my-0",children:io(t.price*t.quantity)})}),f("button",{className:"basket-item-remove button button-border button-border-gray button-small",onClick:n,type:"button",children:f(I$,{})})]})]})};pA.propTypes={product:T.shape({id:T.string,name:T.string,brand:T.string,price:T.number,quantity:T.number,maxQuantity:T.number,description:T.string,keywords:T.arrayOf(T.string),selectedSize:T.string,selectedColor:T.string,imageCollection:T.arrayOf(T.string),sizes:T.arrayOf(T.number),image:T.string,imageUrl:T.string,isFeatured:T.bool,isRecommended:T.bool,availableColors:T.arrayOf(T.string)}).isRequired};const L5=({product:t})=>{const e=tn(),n=()=>{t.quantity<t.maxQuantity&&e(YG(t.id))},r=()=>{t.maxQuantity>=t.quantity&&t.quantity!==0&&e(XG(t.id))};return O("div",{className:"basket-item-control",children:[f("button",{className:"button button-border button-border-gray button-small basket-control basket-control-add",disabled:t.maxQuantity===t.quantity,onClick:n,type:"button",children:f(A$,{style:{fontSize:"9px"}})}),f("button",{className:"button button-border button-border-gray button-small basket-control basket-control-minus",disabled:t.quantity===1,onClick:r,type:"button",children:f(lG,{style:{fontSize:"9px"}})})]})};L5.propTypes={product:T.shape({id:T.string,name:T.string,brand:T.string,price:T.number,quantity:T.number,maxQuantity:T.number,description:T.string,keywords:T.arrayOf(T.string),selectedSize:T.string,selectedColor:T.string,imageCollection:T.arrayOf(T.string),sizes:T.arrayOf(T.number),image:T.string,imageUrl:T.string,isFeatured:T.bool,isRecommended:T.bool,availableColors:T.arrayOf(T.string)}).isRequired};const m0=({children:t})=>{const e=()=>{document.body.classList.contains("is-basket-open")?document.body.classList.remove("is-basket-open"):document.body.classList.add("is-basket-open")};return document.addEventListener("click",n=>{const r=n.target.closest(".basket"),i=n.target.closest(".basket-toggle"),s=n.target.closest(".basket-item-remove");!r&&document.body.classList.contains("is-basket-open")&&!i&&!s&&document.body.classList.remove("is-basket-open")}),t({onClickToggle:e})};m0.propTypes={children:T.oneOfType([T.arrayOf(T.node),T.func,T.node]).isRequired};const mA=()=>{const[t,e]=C.useState(""),{filter:n,isLoading:r}=On(m=>({filter:m.filter,isLoading:m.app.loading})),i=C.useRef(null),s=li(),o=tn(),a=window.screen.width<=800,u=m=>{const y=m.target.value.trimStart();e(y)},l=m=>{m.keyCode===13&&(m.target.blur(),i.current.classList.remove("is-open-recent-search"),a&&s.push("/"),s.push(`/search/${t.trim().toLowerCase()}`))},c=m=>{m.target.closest(".searchbar")||(i.current.classList.remove("is-open-recent-search"),document.removeEventListener("click",c))},d=m=>{m.target.select(),n.recent.length!==0&&(i.current.classList.add("is-open-recent-search"),document.addEventListener("click",c))},h=m=>{i.current.classList.remove("is-open-recent-search"),s.push(`/search/${m.trim().toLowerCase()}`)},p=()=>{o(Doe())};return f(Cn,{children:O("div",{className:"searchbar",ref:i,children:[f(gG,{className:"searchbar-icon"}),f("input",{className:"search-input searchbar-input",onChange:u,onKeyUp:l,onFocus:d,placeholder:"Search product...",readOnly:r,type:"text",value:t}),n.recent.length!==0&&O("div",{className:"searchbar-recent",children:[O("div",{className:"searchbar-recent-header",children:[f("h5",{children:"Recent Search"}),f("h5",{className:"searchbar-recent-clear text-subtle",onClick:p,role:"presentation",children:"Clear"})]}),n.recent.map((m,y)=>O("div",{className:"searchbar-recent-wrapper",children:[f("h5",{className:"searchbar-recent-keyword margin-0",onClick:()=>h(m),role:"presentation",children:m}),f("span",{className:"searchbar-recent-button text-subtle",onClick:()=>o(Foe(m)),role:"presentation",children:"X"})]},`search-${m}-${y}`))]})]})})},V5=t=>{const{isAuthenticating:e,basketLength:n,disabledPaths:r,user:i}=t,{pathname:s}=a_(),o=a=>{e&&a.preventDefault()};return O("nav",{className:"mobile-navigation",children:[O("div",{className:"mobile-navigation-main",children:[f("div",{className:"mobile-navigation-logo",children:f(Tr,{onClick:o,to:Ay,children:f("h2",{children:"PF HENRY"})})}),f(m0,{children:({onClickToggle:a})=>f("button",{className:"button-link navigation-menu-link basket-toggle",onClick:a,disabled:r.includes(s),type:"button",children:f(iI,{count:n,children:f("i",{className:"fa fa-shopping-bag",style:{fontSize:"2rem"}})})})}),f("ul",{className:"mobile-navigation-menu",children:i?f("li",{className:"mobile-navigation-item",children:f(rI,{})}):f(Cn,{children:s!==Bi&&f("li",{className:"mobile-navigation-item",children:f(Tr,{className:"navigation-menu-link",onClick:o,to:Bi,children:"Sign In"})})})})]}),O("div",{className:"mobile-navigation-sec",children:[f(mA,{}),f(p0,{children:f("button",{className:"button-link button-small",type:"button",children:f("i",{className:"fa fa-filter"})})})]})]})};V5.propTypes={isAuthenticating:T.bool.isRequired,basketLength:T.number.isRequired,disabledPaths:T.arrayOf(T.string).isRequired,user:T.oneOfType([T.bool,T.object]).isRequired};const vue=()=>{const t=C.useRef(null),{pathname:e}=a_(),n=On(o=>({basketLength:o.basket.length,user:o.auth,isAuthenticating:o.app.isAuthenticating,isLoading:o.app.loading})),r=()=>{t.current&&window.screen.width>480&&(window.pageYOffset>=70?t.current.classList.add("is-nav-scrolled"):t.current.classList.remove("is-nav-scrolled"))};C.useEffect(()=>(window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)),[]);const i=o=>{n.isAuthenticating&&o.preventDefault()},s=[dc,CS,ky,IS,Bi,Hl,TS];return n.user&&n.user.role==="ADMIN"?null:window.screen.width<=800?f(V5,{...n,disabledPaths:s,pathname:e}):O("nav",{className:"navigation",ref:t,children:[f("div",{className:"logo",children:f(Tr,{onClick:i,to:"/",children:f("img",{alt:"Logo",src:AS})})}),O("ul",{className:"navigation-menu-main",children:[f("li",{children:f(Bo,{activeClassName:"navigation-menu-active",exact:!0,to:Ay,children:"Home"})}),f("li",{children:f(Bo,{activeClassName:"navigation-menu-active",to:cc,children:"Shop"})}),f("li",{children:f(Bo,{activeClassName:"navigation-menu-active",to:ES,children:"Featured"})}),f("li",{children:f(Bo,{activeClassName:"navigation-menu-active",to:Py,children:"Recommended"})})]}),(e===cc||e===wD)&&f(p0,{children:O("button",{className:"button-muted button-small",type:"button",children:["Filters ",f(C$,{})]})}),f(mA,{}),O("ul",{className:"navigation-menu",children:[f("li",{className:"navigation-menu-item",children:f(m0,{children:({onClickToggle:o})=>f("button",{className:"button-link navigation-menu-link basket-toggle",disabled:s.includes(e),onClick:o,type:"button",children:f(iI,{count:n.basketLength,children:f(TG,{style:{fontSize:"2.4rem"}})})})})}),n.user?f("li",{className:"navigation-menu-item",children:f(rI,{})}):O("li",{className:"navigation-action",children:[e!==Hl&&f(Tr,{className:"button button-small",onClick:i,to:Hl,children:"Sign Up"}),e!==Bi&&f(Tr,{className:"button button-small button-muted margin-left-s",onClick:i,to:Bi,children:"Sign In"})]})]})]})},yue="/assets/logo-wordmark-3667bc1d.png",U5=()=>O("div",{className:"preloader",children:[O("svg",{className:"logo-symbol",viewBox:"0 0 41.25 41.25",children:[f("circle",{cx:"20.62",cy:"20.62",r:"20.62"}),f("circle",{className:"fill-white",cx:"29.97",cy:"14.93",r:"6.58"})]}),f("img",{alt:"Henry logo wordmark",src:yue})]}),gA=({isLoading:t})=>{const e=tn();return O("div",{className:"auth-provider",children:[O("button",{className:"button auth-provider-button provider-facebook",disabled:t,onClick:()=>{e(UG())},type:"button",children:[f(HW,{}),"Continue with Facebook"]}),O("button",{className:"button auth-provider-button provider-google",disabled:t,onClick:()=>{e(VG())},type:"button",children:[f(JW,{}),"Continue with Google"]})]})};gA.propTypes={isLoading:T.bool.isRequired};function ir(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Y2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lw=function(){return Math.random().toString(36).substring(7).split("").join(".")},ly={INIT:"@@redux/INIT"+lw(),REPLACE:"@@redux/REPLACE"+lw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lw()}};function _ue(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(vA)(t,e)}if(typeof t!="function")throw new Error(ir(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ir(3));return s}function d(y){if(typeof y!="function")throw new Error(ir(4));if(u)throw new Error(ir(5));var g=!0;return l(),a.push(y),function(){if(g){if(u)throw new Error(ir(6));g=!1,l();var _=a.indexOf(y);a.splice(_,1),o=null}}}function h(y){if(!_ue(y))throw new Error(ir(7));if(typeof y.type>"u")throw new Error(ir(8));if(u)throw new Error(ir(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var g=o=a,v=0;v<g.length;v++){var _=g[v];_()}return y}function p(y){if(typeof y!="function")throw new Error(ir(10));i=y,h({type:ly.REPLACE})}function m(){var y,g=d;return y={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(ir(11));function b(){_.next&&_.next(c())}b();var w=g(b);return{unsubscribe:w}}},y[Y2]=function(){return this},y}return h({type:ly.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:p},r[Y2]=m,r}function wue(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ly.INIT});if(typeof r>"u")throw new Error(ir(12));if(typeof n(void 0,{type:ly.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function bue(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{wue(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var p=s[h],m=n[p],y=u[p],g=m(y,l);if(typeof g>"u")throw l&&l.type,new Error(ir(14));d[p]=g,c=c||g!==y}return c=c||s.length!==Object.keys(u).length,c?d:u}}function yA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Eue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ir(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=yA.apply(void 0,a)(i.dispatch),gs(gs({},i),{},{dispatch:s})}}}var _A="persist:",j5="persist/FLUSH",wA="persist/REHYDRATE",B5="persist/PAUSE",z5="persist/PERSIST",q5="persist/PURGE",H5="persist/REGISTER",Sue=-1;function jg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jg=function(n){return typeof n}:jg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jg(t)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(n,!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t,e,n,r){r.debug;var i=Tue({},n);return t&&jg(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Aue(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:_A).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(E){return E}:typeof t.serialize=="function"?a=t.serialize:a=Pue;var u=t.writeFailHandler||null,l={},c={},d=[],h=null,p=null,m=function(E){Object.keys(E).forEach(function(A){v(A)&&l[A]!==E[A]&&d.indexOf(A)===-1&&d.push(A)}),Object.keys(l).forEach(function(A){E[A]===void 0&&v(A)&&d.indexOf(A)===-1&&l[A]!==void 0&&d.push(A)}),h===null&&(h=setInterval(y,i)),l=E};function y(){if(d.length===0){h&&clearInterval(h),h=null;return}var w=d.shift(),E=r.reduce(function(A,R){return R.in(A,w,l)},l[w]);if(E!==void 0)try{c[w]=a(E)}catch(A){console.error("redux-persist/createPersistoid: error serializing state",A)}else delete c[w];d.length===0&&g()}function g(){Object.keys(c).forEach(function(w){l[w]===void 0&&delete c[w]}),p=o.setItem(s,a(c)).catch(_)}function v(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function _(w){u&&u(w)}var b=function(){for(;d.length!==0;)y();return p||Promise.resolve()};return{update:m,flush:b}}function Pue(t){return JSON.stringify(t)}function Rue(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:_A).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Oue,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(u){o[u]=e.reduceRight(function(l,c){return c.out(l,u,a)},i(a[u]))}),o}catch(u){throw u}else return})}function Oue(t){return JSON.parse(t)}function kue(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:_A).concat(t.key);return e.removeItem(n,xue)}function xue(t){}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(n,!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t,e){if(t==null)return{};var n=Fue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mue=5e3;function $ue(t,e){var n=t.version!==void 0?t.version:Sue;t.debug;var r=t.stateReconciler===void 0?Cue:t.stateReconciler,i=t.getStoredState||Rue,s=t.timeout!==void 0?t.timeout:Mue,o=null,a=!1,u=!0,l=function(d){return d._persist.rehydrated&&o&&!u&&o.update(d),d};return function(c,d){var h=c||{},p=h._persist,m=Due(h,["_persist"]),y=m;if(d.type===z5){var g=!1,v=function($,Q){g||(d.rehydrate(t.key,$,Q),g=!0)};if(s&&setTimeout(function(){!g&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),u=!1,o||(o=Aue(t)),p)return Ms({},e(y,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(R){var $=t.migrate||function(Q,te){return Promise.resolve(Q)};$(R,n).then(function(Q){v(Q)},function(Q){v(void 0,Q)})},function(R){v(void 0,R)}),Ms({},e(y,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===q5)return a=!0,d.result(kue(t)),Ms({},e(y,d),{_persist:p});if(d.type===j5)return d.result(o&&o.flush()),Ms({},e(y,d),{_persist:p});if(d.type===B5)u=!0;else if(d.type===wA){if(a)return Ms({},y,{_persist:Ms({},p,{rehydrated:!0})});if(d.key===t.key){var _=e(y,d),b=d.payload,w=r!==!1&&b!==void 0?r(b,c,_,t):_,E=Ms({},w,{_persist:Ms({},p,{rehydrated:!0})});return l(E)}}}if(!p)return e(c,d);var A=e(y,d);return A===y?c:l(Ms({},A,{_persist:p}))}}function Mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mh=function(n){return typeof n}:Mh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mh(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(n,!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t,e,n,r){r.debug;var i=ex({},n);return t&&Mh(t)==="object"&&Object.keys(t).forEach(function(s){if(s!=="_persist"&&e[s]===n[s]){if(Uue(n[s])){i[s]=ex({},i[s],{},t[s]);return}i[s]=t[s]}}),i}function Uue(t){return t!==null&&!Array.isArray(t)&&Mh(t)==="object"}function jue(t,e){return t.stateReconciler=t.stateReconciler===void 0?Vue:t.stateReconciler,$ue(t,bue(e))}function tx(t){return que(t)||zue(t)||Bue()}function Bue(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function zue(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function que(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nx(n,!0).forEach(function(r){Hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W5={registry:[],bootstrapped:!1},Wue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W5,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case H5:return VE({},e,{registry:[].concat(tx(e.registry),[n.key])});case wA:var r=e.registry.indexOf(n.key),i=tx(e.registry);return i.splice(r,1),VE({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function Gue(t,e,n){var r=n||!1,i=vA(Wue,W5,e&&e.enhancer?e.enhancer:void 0),s=function(l){i.dispatch({type:H5,key:l})},o=function(l,c,d){var h={type:wA,payload:c,err:d,key:l};t.dispatch(h),i.dispatch(h),r&&a.getState().bootstrapped&&(r(),r=!1)},a=VE({},i,{purge:function(){var l=[];return t.dispatch({type:q5,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:j5,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){t.dispatch({type:B5})},persist:function(){t.dispatch({type:z5,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var bA={},EA={};EA.__esModule=!0;EA.default=Yue;function Bg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bg=function(n){return typeof n}:Bg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bg(t)}function cw(){}var Kue={getItem:cw,setItem:cw,removeItem:cw};function Que(t){if((typeof self>"u"?"undefined":Bg(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Yue(t){var e="".concat(t,"Storage");return Que(e)?self[e]:Kue}bA.__esModule=!0;bA.default=Zue;var Xue=Jue(EA);function Jue(t){return t&&t.__esModule?t:{default:t}}function Zue(t){var e=(0,Xue.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var G5=void 0,ele=tle(bA);function tle(t){return t&&t.__esModule?t:{default:t}}var nle=(0,ele.default)("local");G5=nle;var ns=function(e){return"@@redux-saga/"+e},rle=ns("CANCEL_PROMISE"),K5=ns("CHANNEL_END"),Q5=ns("IO"),rx=ns("MATCH"),Y5=ns("MULTICAST"),X5=ns("SAGA_ACTION"),J5=ns("SELF_CANCELLATION"),ile=ns("TASK"),uc=ns("TASK_CANCEL"),Z5=ns("TERMINATE"),sle=ns("LOCATION"),eU=function(e){return e==null},tU=function(e){return e!=null},Hr=function(e){return typeof e=="function"},SA=function(e){return typeof e=="string"},Na=Array.isArray,g0=function(e){return e&&Hr(e.then)},TA=function(e){return e&&Hr(e.next)&&Hr(e.throw)},ix=function t(e){return e&&(SA(e)||rU(e)||Hr(e)||Na(e)&&e.every(t))},IA=function(e){return e&&Hr(e.take)&&Hr(e.close)},nU=function(e){return Hr(e)&&e.hasOwnProperty("toString")},rU=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},ole=function(e){return IA(e)&&e[Y5]},ale=function(e){return function(){return e}},ule=ale(!0),yr=function(){},iU=function(e){return e},CA=function(e,n){je(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},lle=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function v0(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function cle(t){var e=!1;return function(){e||(e=!0,t())}}var dle=function(e){throw e},hle=function(e){return{value:e,done:!0}};function UE(t,e,n){e===void 0&&(e=dle),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:hle,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function fle(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var sU=function(e){return Array.apply(null,new Array(e))},ple=function(e){return function(n){return e(Object.defineProperty(n,X5,{value:!0}))}},oU=function(e){return e===Z5},aU=function(e){return e===uc},uU=function(e){return oU(e)||aU(e)};function lU(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=Na(t)?sU(r):{},a={};function u(){i===r&&(s=!0,e(o))}return n.forEach(function(l){var c=function(h,p){s||(p||uU(h)?(e.cancel(),e(h,p)):(o[l]=h,i++,u()))};c.cancel=yr,a[l]=c}),e.cancel=function(){s||(s=!0,n.forEach(function(l){return a[l].cancel()}))},a}function AA(t){return{name:t.name||"anonymous",location:cU(t)}}function cU(t){return t[sle]}var mle="Channel's Buffer overflow!",gle=1,vle=3,dU=4;function yle(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(c){n[i]=c,i=(i+1)%t,r++},a=function(){if(r!=0){var c=n[s];return n[s]=null,r--,s=(s+1)%t,c}},u=function(){for(var c=[];r;)c.push(a());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<t)o(c);else{var d;switch(e){case gle:throw new Error(mle);case vle:n[i]=c,i=(i+1)%t,s=i;break;case dU:d=2*t,n=u(),r=n.length,i=n.length,s=0,n.length=d,t=d,o(c);break}}},take:a,flush:u}}var _le=function(e){return yle(e,dU)},zg="TAKE",hU="PUT",fU="ALL",wle="RACE",pU="CALL",ble="CPS",mU="FORK",Ele="JOIN",gU="CANCEL",vU="SELECT",Sle="ACTION_CHANNEL",Tle="CANCELLED",Ile="FLUSH",Cle="GET_CONTEXT",Ale="SET_CONTEXT",Xs=function(e,n){var r;return r={},r[Q5]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function Ple(t,e){if(t===void 0&&(t="*"),ix(t))return Xs(zg,{pattern:t});if(ole(t)&&tU(e)&&ix(e))return Xs(zg,{channel:t,pattern:e});if(IA(t))return Xs(zg,{channel:t})}function Ve(t,e){return eU(e)&&(e=t,t=void 0),Xs(hU,{channel:t,action:e})}function ng(t){var e=Xs(fU,t);return e.combinator=!0,e}function yU(t,e){var n=null,r;return Hr(t)?r=t:(Na(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&SA(r)&&Hr(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function tt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Xs(pU,yU(t,n))}function _U(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Xs(mU,yU(t,n))}function Rle(t){return t===void 0&&(t=J5),Xs(gU,t)}function jE(t){t===void 0&&(t=iU);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Xs(vU,{selector:t,args:n})}function Ole(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var wU=[],y0=0;function kle(t){try{PA(),t()}finally{SU()}}function bU(t){wU.push(t),y0||(PA(),TU())}function EU(t){try{return PA(),t()}finally{TU()}}function PA(){y0++}function SU(){y0--}function TU(){SU();for(var t;!y0&&(t=wU.shift())!==void 0;)kle(t)}var xle=function(e){return function(n){return e.some(function(r){return RA(r)(n)})}},Nle=function(e){return function(n){return e(n)}},sx=function(e){return function(n){return n.type===String(e)}},Dle=function(e){return function(n){return n.type===e}},IU=function(){return ule};function RA(t){var e=t==="*"?IU:SA(t)?sx:Na(t)?xle:nU(t)?sx:Hr(t)?Nle:rU(t)?Dle:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var $h={type:K5},OA=function(e){return e&&e.type===K5};function Fle(t){t===void 0&&(t=_le());var e=!1,n=[];function r(a){if(!e){if(n.length===0)return t.put(a);var u=n.shift();u(a)}}function i(a){e&&t.isEmpty()?a($h):t.isEmpty()?(n.push(a),a.cancel=function(){v0(n,a)}):a(t.take())}function s(a){if(e&&t.isEmpty()){a($h);return}a(t.flush())}function o(){if(!e){e=!0;var a=n;n=[];for(var u=0,l=a.length;u<l;u++){var c=a[u];c($h)}}}return{take:i,put:r,flush:s,close:o}}function Mle(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var a=n=r;r=[],a.forEach(function(u){u($h)})};return t={},t[Y5]=!0,t.put=function(a){if(!e){if(OA(a)){s();return}for(var u=n=r,l=0,c=u.length;l<c;l++){var d=u[l];d[rx](a)&&(d.cancel(),d(a))}}},t.take=function(a,u){if(u===void 0&&(u=IU),e){a($h);return}a[rx]=u,i(),r.push(a),a.cancel=cle(function(){i(),v0(r,a)})},t.close=s,t}function CU(){var t=Mle(),e=t.put;return t.put=function(n){if(n[X5]){e(n);return}bU(function(){e(n)})},t}var ru=0,js=1,qg=2,AU=3;function kA(t,e){var n=t[rle];Hr(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Hp=0,PU=function(){return++Hp},$n;function $le(t,e){return t.isSagaIterator?{name:t.meta.name}:AA(e)}function Lle(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(TA(i))return i;var s=!1,o=function(u){return s?{value:u,done:!0}:(s=!0,{value:i,done:!g0(i)})};return UE(o)}catch(a){return UE(function(){throw a})}}function Vle(t,e,n){var r=e.channel,i=e.action,s=e.resolve;bU(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(a){n(a,!0);return}s&&g0(o)?kA(o,n):n(o)})}function Ule(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,a=function(l){if(l instanceof Error){n(l,!0);return}if(OA(l)&&!o){n(Z5);return}n(l)};try{i.take(a,tU(s)?RA(s):null)}catch(u){n(u,!0);return}n.cancel=a.cancel}function jle(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=r.task;try{var u=s.apply(i,o);if(g0(u)){kA(u,n);return}if(TA(u)){_0(t,u,a.context,Hp,AA(s),!1,n);return}n(u)}catch(l){n(l,!0)}}function Ble(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(u,l){eU(u)?n(l):n(u,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(a){n(a,!0)}}function zle(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=e.detached,u=r.task,l=Lle({context:i,fn:s,args:o}),c=$le(l,s);EU(function(){var d=_0(t,l,u.context,Hp,c,a,void 0);a?n(d):d.isRunning()?(u.queue.addTask(d),n(d)):d.isAborted()?u.queue.abort(d.error()):n(d)})}function qle(t,e,n,r){var i=r.task,s=function(u,l){if(u.isRunning()){var c={task:i,cb:l};l.cancel=function(){u.isRunning()&&v0(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if(Na(e)){if(e.length===0){n([]);return}var o=lU(e,n);e.forEach(function(a,u){s(a,o[u])})}else s(e,n)}function dw(t){t.isRunning()&&t.cancel()}function Hle(t,e,n,r){var i=r.task;e===J5?dw(i):Na(e)?e.forEach(dw):dw(e),n()}function Wle(t,e,n,r){var i=r.digestEffect,s=Hp,o=Object.keys(e);if(o.length===0){n(Na(e)?[]:{});return}var a=lU(e,n);o.forEach(function(u){i(e[u],s,a[u],u)})}function Gle(t,e,n,r){var i=r.digestEffect,s=Hp,o=Object.keys(e),a=Na(e)?sU(o.length):{},u={},l=!1;o.forEach(function(c){var d=function(p,m){l||(m||uU(p)?(n.cancel(),n(p,m)):(n.cancel(),l=!0,a[c]=p,n(a)))};d.cancel=yr,u[c]=d}),n.cancel=function(){l||(l=!0,o.forEach(function(c){return u[c].cancel()}))},o.forEach(function(c){l||i(e[c],s,u[c],c)})}function Kle(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function Qle(t,e,n){var r=e.pattern,i=e.buffer,s=Fle(i),o=RA(r),a=function l(c){OA(c)||t.channel.take(l,o),s.put(c)},u=s.close;s.close=function(){a.cancel(),u()},t.channel.take(a,o),n(s)}function Yle(t,e,n,r){var i=r.task;n(i.isCancelled())}function Xle(t,e,n){e.flush(n)}function Jle(t,e,n,r){var i=r.task;n(i.context[e])}function Zle(t,e,n,r){var i=r.task;CA(i.context,e),n()}var ece=($n={},$n[zg]=Ule,$n[hU]=Vle,$n[fU]=Wle,$n[wle]=Gle,$n[pU]=jle,$n[ble]=Ble,$n[mU]=zle,$n[Ele]=qle,$n[gU]=Hle,$n[vU]=Kle,$n[Sle]=Qle,$n[Tle]=Yle,$n[Ile]=Xle,$n[Cle]=Jle,$n[Ale]=Zle,$n);function tce(t,e,n){var r=[],i,s=!1;u(t);var o=function(){return r};function a(c){e(),l(),n(c,!0)}function u(c){r.push(c),c.cont=function(d,h){s||(v0(r,c),c.cont=yr,h?a(d):(c===t&&(i=d),r.length||(s=!0,n(i))))}}function l(){s||(s=!0,r.forEach(function(c){c.cont=yr,c.cancel()}),r=[])}return{addTask:u,cancelAll:l,abort:a,getTasks:o}}function RU(t,e){return t+"?"+e}function nce(t){var e=cU(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+RU(r,i);return s}return""}function ox(t){var e=t.name,n=t.location;return n?e+"  "+RU(n.fileName,n.lineNumber):e}function rce(t){var e=lle(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var xA=null,Lh=[],ice=function(e){e.crashedEffect=xA,Lh.push(e)},OU=function(){xA=null,Lh.length=0},sce=function(e){xA=e},oce=function(){var e=Lh[0],n=Lh.slice(1),r=e.crashedEffect?nce(e.crashedEffect):null,i="The above error occurred in task "+ox(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+ox(s.meta)}),[rce(Lh)]).join(`
`)};function ace(t,e,n,r,i,s,o){var a;o===void 0&&(o=yr);var u=ru,l,c,d=null,h=[],p=Object.create(n),m=tce(e,function(){h.push.apply(h,m.getTasks().map(function(E){return E.meta.name}))},g);function y(){u===ru&&(u=js,m.cancelAll(),g(uc,!1))}function g(w,E){if(!E)w===uc?u=js:u!==js&&(u=AU),l=w,d&&d.resolve(w);else{if(u=qg,ice({meta:i,cancelledTasks:h}),b.isRoot){var A=oce();OU(),t.onError(w,{sagaStack:A})}c=w,d&&d.reject(w)}b.cont(w,E),b.joiners.forEach(function(R){R.cb(w,E)}),b.joiners=null}function v(w){CA(p,w)}function _(){return d||(d=Ole(),u===qg?d.reject(c):u!==ru&&d.resolve(l)),d.promise}var b=(a={},a[ile]=!0,a.id=r,a.meta=i,a.isRoot=s,a.context=p,a.joiners=[],a.queue=m,a.cancel=y,a.cont=o,a.end=g,a.setContext=v,a.toPromise=_,a.isRunning=function(){return u===ru},a.isCancelled=function(){return u===js||u===ru&&e.status===js},a.isAborted=function(){return u===qg},a.result=function(){return l},a.error=function(){return c},a);return b}function _0(t,e,n,r,i,s,o){var a=t.finalizeRunEffect(p);h.cancel=yr;var u={meta:i,cancel:d,status:ru},l=ace(t,u,n,r,i,s,o),c={task:l,digestEffect:m};function d(){u.status===ru&&(u.status=js,h(uc))}return o&&(o.cancel=l.cancel),h(),l;function h(y,g){try{var v;g?(v=e.throw(y),OU()):aU(y)?(u.status=js,h.cancel(),v=Hr(e.return)?e.return(uc):{done:!0,value:uc}):oU(y)?v=Hr(e.return)?e.return():{done:!0}:v=e.next(y),v.done?(u.status!==js&&(u.status=AU),u.cont(v.value)):m(v.value,r,h)}catch(_){if(u.status===js)throw _;u.status=qg,u.cont(_,!0)}}function p(y,g,v){if(g0(y))kA(y,v);else if(TA(y))_0(t,y,l.context,g,i,!1,v);else if(y&&y[Q5]){var _=ece[y.type];_(t,y.payload,v,c)}else v(y)}function m(y,g,v,_){_===void 0&&(_="");var b=PU();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:b,parentEffectId:g,label:_,effect:y});var w;function E(A,R){w||(w=!0,v.cancel=yr,t.sagaMonitor&&(R?t.sagaMonitor.effectRejected(b,A):t.sagaMonitor.effectResolved(b,A)),R&&sce(y),v(A,R))}E.cancel=yr,v.cancel=function(){w||(w=!0,E.cancel(),E.cancel=yr,t.sagaMonitor&&t.sagaMonitor.effectCancelled(b))},a(y,b,E)}}function uce(t,e){for(var n=t.channel,r=n===void 0?CU():n,i=t.dispatch,s=t.getState,o=t.context,a=o===void 0?{}:o,u=t.sagaMonitor,l=t.effectMiddlewares,c=t.onError,d=c===void 0?fle:c,h=arguments.length,p=new Array(h>2?h-2:0),m=2;m<h;m++)p[m-2]=arguments[m];var y=e.apply(void 0,p),g=PU();u&&(u.rootSagaStarted=u.rootSagaStarted||yr,u.effectTriggered=u.effectTriggered||yr,u.effectResolved=u.effectResolved||yr,u.effectRejected=u.effectRejected||yr,u.effectCancelled=u.effectCancelled||yr,u.actionDispatched=u.actionDispatched||yr,u.rootSagaStarted({effectId:g,saga:e,args:p}));var v;if(l){var _=yA.apply(void 0,l);v=function(E){return function(A,R,$){var Q=function(ce){return E(ce,R,$)};return _(Q)(A)}}}else v=iU;var b={channel:r,dispatch:ple(i),getState:s,sagaMonitor:u,onError:d,finalizeRunEffect:v};return EU(function(){var w=_0(b,y,a,g,AA(e),!0,void 0);return u&&u.effectResolved(g,w),w})}function lce(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?CU():i,o=e.sagaMonitor,a=Wi(e,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,h=c.dispatch;return u=uce.bind(null,je({},a,{context:r,channel:s,dispatch:h,getState:d,sagaMonitor:o})),function(p){return function(m){o&&o.actionDispatched&&o.actionDispatched(m);var y=p(m);return s.put(m),y}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){CA(r,c)},l}const cce=null,dce=(t=cce,e)=>{switch(e.type){case z$:return{id:e.payload.id,role:e.payload.role,provider:e.payload.provider};case q$:return null;default:return t}},hce=(t=[],e)=>{switch(e.type){case D$:return e.payload;case F$:return t.some(n=>n.id===e.payload.id)?t:[e.payload,...t];case M$:return t.filter(n=>n.id!==e.payload);case $$:return[];case L$:return t.map(n=>n.id===e.payload?{...n,quantity:n.quantity+1}:n);case V$:return t.map(n=>n.id===e.payload?{...n,quantity:n.quantity-1}:n);default:return t}},ax={shipping:{},payment:{type:"paypal",name:"",cardnumber:"",expiry:"",ccv:""}},fce=(t=ax,e)=>{switch(e.type){case U$:return{...t,shipping:e.payload};case j$:return{...t,payment:e.payload};case B$:return ax;default:return t}},ux={recent:[],keyword:"",brand:"",minPrice:0,maxPrice:0,sortBy:""},pce=(t=ux,e)=>{switch(e.type){case OG:return{...t,recent:t.recent.find(n=>n===e.payload)||e.payload===""?t.recent:[e.payload,...t.recent],keyword:e.payload};case kG:return{...t,brand:e.payload};case NG:return{...t,maxPrice:e.payload};case xG:return{...t,minPrice:e.payload};case J$:return ux;case eL:return{...t,recent:[]};case tL:return{...t,recent:t.recent.filter(n=>n!==e.payload)};case Z$:return{...t,...e.payload};default:return t}},mce={loading:!1,isAuthenticating:!1,authStatus:null,requestStatus:null,theme:"light"},gce=(t=mce,e)=>{switch(e.type){case rL:return{...t,loading:e.payload};case iL:return{...t,isAuthenticating:e.payload};case sL:return{...t,requestStatus:e.payload};case H$:return{...t,authStatus:e.payload};default:return t}},lx={lastRefKey:null,total:0,items:[]},vce=(t={lastRefKey:null,total:0,items:[],searchedProducts:lx},e)=>{switch(e.type){case R$:return{...t,lastRefKey:e.payload.lastKey,total:e.payload.total,items:[...t.items,...e.payload.products]};case O$:return{...t,items:[...t.items,e.payload]};case P$:return{...t,searchedProducts:{lastRefKey:e.payload.lastKey,total:e.payload.total,items:[...t.searchedProducts.items,...e.payload.products]}};case N$:return{...t,searchedProducts:lx};case k$:return{...t,items:t.items.filter(n=>n.id!==e.payload)};case x$:return{...t,items:t.items.map(n=>n.id===e.payload.id?{...n,...e.payload.updates}:n)};default:return t}},yce=(t={},e)=>{switch(e.type){case Q$:return e.payload;case Y$:return{...t,...e.payload};case X$:return{};default:return t}},_ce=[],wce=(t=_ce,e)=>{switch(e.type){case FG:return[...t,e.payload];case $G:return t.map(n=>n.id===e.payload.id?{...n,...e.payload}:n);case MG:return t.filter(n=>n.id!==e.payload);case nL:return t.map(n=>n.id===e.payload.uid?{...n,role:e.payload.newRole}:n);case DG:return[...t,e.payload];default:return t}},bce={products:vce,basket:hce,auth:dce,profile:yce,filter:pce,users:wce,checkout:fce,app:gce};var cx=function(e){return{done:!0,value:e}},hw={};function Ece(t){return IA(t)?"channel":nU(t)?String(t):Hr(t)?t.name:String(t)}function Sce(t,e,n){var r,i,s,o=e;function a(u,l){if(o===hw)return cx(u);if(l&&!i)throw o=hw,l;r&&r(u);var c=l?t[i](l):t[o]();return o=c.nextState,s=c.effect,r=c.stateUpdater,i=c.errorState,o===hw?cx(u):s}return UE(a,function(u){return a(null,u)},n)}function Tce(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:Ple(t)},o=function(p){return{done:!1,value:_U.apply(void 0,[e].concat(r,[p]))}},a=function(p){return{done:!1,value:Rle(p)}},u,l,c=function(p){return u=p},d=function(p){return l=p};return Sce({q1:function(){return{nextState:"q2",effect:s,stateUpdater:d}},q2:function(){return u?{nextState:"q3",effect:a(u)}:{nextState:"q1",effect:o(l),stateUpdater:c}},q3:function(){return{nextState:"q1",effect:o(l),stateUpdater:c}}},"q1","takeLatest("+Ece(t)+", "+e.name+")")}function fw(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return _U.apply(void 0,[Tce,t,e].concat(r))}const dx="/assets/defaultAvatar-6d69d324.jpg",hx="/assets/defaultBanner-2759a645.jpg",Ice=t=>({type:U$,payload:t}),Cce=t=>({type:j$,payload:t}),Ace=()=>({type:B$}),Mr=(t=!0)=>({type:rL,payload:t}),Go=(t=!0)=>({type:iL,payload:t}),Uf=t=>({type:sL,payload:t}),Ui=(t=null)=>({type:H$,payload:t}),fx=()=>({type:X$}),pw=t=>({type:Q$,payload:t}),Pce=t=>({type:nI,payload:{updates:t.updates,files:t.files,credentials:t.credentials}}),px=t=>({type:Y$,payload:t});var mx=Array.isArray,gx=Object.keys,Rce=Object.prototype.hasOwnProperty,Oce=typeof Element<"u";function BE(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=mx(t),r=mx(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!BE(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,u=e instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==e.getTime();var l=t instanceof RegExp,c=e instanceof RegExp;if(l!=c)return!1;if(l&&c)return t.toString()==e.toString();var d=gx(t);if(s=d.length,s!==gx(e).length)return!1;for(i=s;i--!==0;)if(!Rce.call(e,d[i]))return!1;if(Oce&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!BE(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var kce=function(e,n){try{return BE(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Fo=Pn(kce);var xce=function(e){return Nce(e)&&!Dce(e)};function Nce(t){return!!t&&typeof t=="object"}function Dce(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||$ce(t)}var Fce=typeof Symbol=="function"&&Symbol.for,Mce=Fce?Symbol.for("react.element"):60103;function $ce(t){return t.$$typeof===Mce}function Lce(t){return Array.isArray(t)?[]:{}}function cy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?jf(Lce(t),t,e):t}function Vce(t,e,n){return t.concat(e).map(function(r){return cy(r,n)})}function Uce(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=cy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=cy(e[i],n):r[i]=jf(t[i],e[i],n)}),r}function jf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Vce,n.isMergeableObject=n.isMergeableObject||xce;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Uce(t,e,n):cy(e,n)}jf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return jf(r,i,n)},{})};var zE=jf,jce=typeof global=="object"&&global&&global.Object===Object&&global;const kU=jce;var Bce=typeof self=="object"&&self&&self.Object===Object&&self,zce=kU||Bce||Function("return this")();const Ns=zce;var qce=Ns.Symbol;const _a=qce;var xU=Object.prototype,Hce=xU.hasOwnProperty,Wce=xU.toString,qd=_a?_a.toStringTag:void 0;function Gce(t){var e=Hce.call(t,qd),n=t[qd];try{t[qd]=void 0;var r=!0}catch{}var i=Wce.call(t);return r&&(e?t[qd]=n:delete t[qd]),i}var Kce=Object.prototype,Qce=Kce.toString;function Yce(t){return Qce.call(t)}var Xce="[object Null]",Jce="[object Undefined]",vx=_a?_a.toStringTag:void 0;function rl(t){return t==null?t===void 0?Jce:Xce:vx&&vx in Object(t)?Gce(t):Yce(t)}function NU(t,e){return function(n){return t(e(n))}}var Zce=NU(Object.getPrototypeOf,Object);const NA=Zce;function il(t){return t!=null&&typeof t=="object"}var ede="[object Object]",tde=Function.prototype,nde=Object.prototype,DU=tde.toString,rde=nde.hasOwnProperty,ide=DU.call(Object);function yx(t){if(!il(t)||rl(t)!=ede)return!1;var e=NA(t);if(e===null)return!0;var n=rde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DU.call(n)==ide}function sde(){this.__data__=[],this.size=0}function FU(t,e){return t===e||t!==t&&e!==e}function w0(t,e){for(var n=t.length;n--;)if(FU(t[n][0],e))return n;return-1}var ode=Array.prototype,ade=ode.splice;function ude(t){var e=this.__data__,n=w0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ade.call(e,n,1),--this.size,!0}function lde(t){var e=this.__data__,n=w0(e,t);return n<0?void 0:e[n][1]}function cde(t){return w0(this.__data__,t)>-1}function dde(t,e){var n=this.__data__,r=w0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wo.prototype.clear=sde;wo.prototype.delete=ude;wo.prototype.get=lde;wo.prototype.has=cde;wo.prototype.set=dde;function hde(){this.__data__=new wo,this.size=0}function fde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function pde(t){return this.__data__.get(t)}function mde(t){return this.__data__.has(t)}function Wp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gde="[object AsyncFunction]",vde="[object Function]",yde="[object GeneratorFunction]",_de="[object Proxy]";function MU(t){if(!Wp(t))return!1;var e=rl(t);return e==vde||e==yde||e==gde||e==_de}var wde=Ns["__core-js_shared__"];const mw=wde;var _x=function(){var t=/[^.]+$/.exec(mw&&mw.keys&&mw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bde(t){return!!_x&&_x in t}var Ede=Function.prototype,Sde=Ede.toString;function sl(t){if(t!=null){try{return Sde.call(t)}catch{}try{return t+""}catch{}}return""}var Tde=/[\\^$.*+?()[\]{}|]/g,Ide=/^\[object .+?Constructor\]$/,Cde=Function.prototype,Ade=Object.prototype,Pde=Cde.toString,Rde=Ade.hasOwnProperty,Ode=RegExp("^"+Pde.call(Rde).replace(Tde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kde(t){if(!Wp(t)||bde(t))return!1;var e=MU(t)?Ode:Ide;return e.test(sl(t))}function xde(t,e){return t==null?void 0:t[e]}function ol(t,e){var n=xde(t,e);return kde(n)?n:void 0}var Nde=ol(Ns,"Map");const Bf=Nde;var Dde=ol(Object,"create");const zf=Dde;function Fde(){this.__data__=zf?zf(null):{},this.size=0}function Mde(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $de="__lodash_hash_undefined__",Lde=Object.prototype,Vde=Lde.hasOwnProperty;function Ude(t){var e=this.__data__;if(zf){var n=e[t];return n===$de?void 0:n}return Vde.call(e,t)?e[t]:void 0}var jde=Object.prototype,Bde=jde.hasOwnProperty;function zde(t){var e=this.__data__;return zf?e[t]!==void 0:Bde.call(e,t)}var qde="__lodash_hash_undefined__";function Hde(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zf&&e===void 0?qde:e,this}function ju(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ju.prototype.clear=Fde;ju.prototype.delete=Mde;ju.prototype.get=Ude;ju.prototype.has=zde;ju.prototype.set=Hde;function Wde(){this.size=0,this.__data__={hash:new ju,map:new(Bf||wo),string:new ju}}function Gde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function b0(t,e){var n=t.__data__;return Gde(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Kde(t){var e=b0(this,t).delete(t);return this.size-=e?1:0,e}function Qde(t){return b0(this,t).get(t)}function Yde(t){return b0(this,t).has(t)}function Xde(t,e){var n=b0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Da(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Da.prototype.clear=Wde;Da.prototype.delete=Kde;Da.prototype.get=Qde;Da.prototype.has=Yde;Da.prototype.set=Xde;var Jde=200;function Zde(t,e){var n=this.__data__;if(n instanceof wo){var r=n.__data__;if(!Bf||r.length<Jde-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Da(r)}return n.set(t,e),this.size=n.size,this}function ld(t){var e=this.__data__=new wo(t);this.size=e.size}ld.prototype.clear=hde;ld.prototype.delete=fde;ld.prototype.get=pde;ld.prototype.has=mde;ld.prototype.set=Zde;function ehe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var the=function(){try{var t=ol(Object,"defineProperty");return t({},"",{}),t}catch{}}();const wx=the;function $U(t,e,n){e=="__proto__"&&wx?wx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var nhe=Object.prototype,rhe=nhe.hasOwnProperty;function LU(t,e,n){var r=t[e];(!(rhe.call(t,e)&&FU(r,n))||n===void 0&&!(e in t))&&$U(t,e,n)}function E0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?$U(n,a,u):LU(n,a,u)}return n}function ihe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var she="[object Arguments]";function bx(t){return il(t)&&rl(t)==she}var VU=Object.prototype,ohe=VU.hasOwnProperty,ahe=VU.propertyIsEnumerable,uhe=bx(function(){return arguments}())?bx:function(t){return il(t)&&ohe.call(t,"callee")&&!ahe.call(t,"callee")};const lhe=uhe;var che=Array.isArray;const Gp=che;function dhe(){return!1}var UU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ex=UU&&typeof module=="object"&&module&&!module.nodeType&&module,hhe=Ex&&Ex.exports===UU,Sx=hhe?Ns.Buffer:void 0,fhe=Sx?Sx.isBuffer:void 0,phe=fhe||dhe;const jU=phe;var mhe=9007199254740991,ghe=/^(?:0|[1-9]\d*)$/;function vhe(t,e){var n=typeof t;return e=e??mhe,!!e&&(n=="number"||n!="symbol"&&ghe.test(t))&&t>-1&&t%1==0&&t<e}var yhe=9007199254740991;function BU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yhe}var _he="[object Arguments]",whe="[object Array]",bhe="[object Boolean]",Ehe="[object Date]",She="[object Error]",The="[object Function]",Ihe="[object Map]",Che="[object Number]",Ahe="[object Object]",Phe="[object RegExp]",Rhe="[object Set]",Ohe="[object String]",khe="[object WeakMap]",xhe="[object ArrayBuffer]",Nhe="[object DataView]",Dhe="[object Float32Array]",Fhe="[object Float64Array]",Mhe="[object Int8Array]",$he="[object Int16Array]",Lhe="[object Int32Array]",Vhe="[object Uint8Array]",Uhe="[object Uint8ClampedArray]",jhe="[object Uint16Array]",Bhe="[object Uint32Array]",kt={};kt[Dhe]=kt[Fhe]=kt[Mhe]=kt[$he]=kt[Lhe]=kt[Vhe]=kt[Uhe]=kt[jhe]=kt[Bhe]=!0;kt[_he]=kt[whe]=kt[xhe]=kt[bhe]=kt[Nhe]=kt[Ehe]=kt[She]=kt[The]=kt[Ihe]=kt[Che]=kt[Ahe]=kt[Phe]=kt[Rhe]=kt[Ohe]=kt[khe]=!1;function zhe(t){return il(t)&&BU(t.length)&&!!kt[rl(t)]}function DA(t){return function(e){return t(e)}}var zU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vh=zU&&typeof module=="object"&&module&&!module.nodeType&&module,qhe=Vh&&Vh.exports===zU,gw=qhe&&kU.process,Hhe=function(){try{var t=Vh&&Vh.require&&Vh.require("util").types;return t||gw&&gw.binding&&gw.binding("util")}catch{}}();const Mc=Hhe;var Tx=Mc&&Mc.isTypedArray,Whe=Tx?DA(Tx):zhe;const Ghe=Whe;var Khe=Object.prototype,Qhe=Khe.hasOwnProperty;function qU(t,e){var n=Gp(t),r=!n&&lhe(t),i=!n&&!r&&jU(t),s=!n&&!r&&!i&&Ghe(t),o=n||r||i||s,a=o?ihe(t.length,String):[],u=a.length;for(var l in t)(e||Qhe.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||vhe(l,u)))&&a.push(l);return a}var Yhe=Object.prototype;function FA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yhe;return t===n}var Xhe=NU(Object.keys,Object);const Jhe=Xhe;var Zhe=Object.prototype,efe=Zhe.hasOwnProperty;function tfe(t){if(!FA(t))return Jhe(t);var e=[];for(var n in Object(t))efe.call(t,n)&&n!="constructor"&&e.push(n);return e}function HU(t){return t!=null&&BU(t.length)&&!MU(t)}function MA(t){return HU(t)?qU(t):tfe(t)}function nfe(t,e){return t&&E0(e,MA(e),t)}function rfe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ife=Object.prototype,sfe=ife.hasOwnProperty;function ofe(t){if(!Wp(t))return rfe(t);var e=FA(t),n=[];for(var r in t)r=="constructor"&&(e||!sfe.call(t,r))||n.push(r);return n}function $A(t){return HU(t)?qU(t,!0):ofe(t)}function afe(t,e){return t&&E0(e,$A(e),t)}var WU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ix=WU&&typeof module=="object"&&module&&!module.nodeType&&module,ufe=Ix&&Ix.exports===WU,Cx=ufe?Ns.Buffer:void 0,Ax=Cx?Cx.allocUnsafe:void 0;function lfe(t,e){if(e)return t.slice();var n=t.length,r=Ax?Ax(n):new t.constructor(n);return t.copy(r),r}function GU(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function cfe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function KU(){return[]}var dfe=Object.prototype,hfe=dfe.propertyIsEnumerable,Px=Object.getOwnPropertySymbols,ffe=Px?function(t){return t==null?[]:(t=Object(t),cfe(Px(t),function(e){return hfe.call(t,e)}))}:KU;const LA=ffe;function pfe(t,e){return E0(t,LA(t),e)}function QU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var mfe=Object.getOwnPropertySymbols,gfe=mfe?function(t){for(var e=[];t;)QU(e,LA(t)),t=NA(t);return e}:KU;const YU=gfe;function vfe(t,e){return E0(t,YU(t),e)}function XU(t,e,n){var r=e(t);return Gp(t)?r:QU(r,n(t))}function yfe(t){return XU(t,MA,LA)}function _fe(t){return XU(t,$A,YU)}var wfe=ol(Ns,"DataView");const qE=wfe;var bfe=ol(Ns,"Promise");const HE=bfe;var Efe=ol(Ns,"Set");const WE=Efe;var Sfe=ol(Ns,"WeakMap");const GE=Sfe;var Rx="[object Map]",Tfe="[object Object]",Ox="[object Promise]",kx="[object Set]",xx="[object WeakMap]",Nx="[object DataView]",Ife=sl(qE),Cfe=sl(Bf),Afe=sl(HE),Pfe=sl(WE),Rfe=sl(GE),Qa=rl;(qE&&Qa(new qE(new ArrayBuffer(1)))!=Nx||Bf&&Qa(new Bf)!=Rx||HE&&Qa(HE.resolve())!=Ox||WE&&Qa(new WE)!=kx||GE&&Qa(new GE)!=xx)&&(Qa=function(t){var e=rl(t),n=e==Tfe?t.constructor:void 0,r=n?sl(n):"";if(r)switch(r){case Ife:return Nx;case Cfe:return Rx;case Afe:return Ox;case Pfe:return kx;case Rfe:return xx}return e});const VA=Qa;var Ofe=Object.prototype,kfe=Ofe.hasOwnProperty;function xfe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kfe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Nfe=Ns.Uint8Array;const Dx=Nfe;function UA(t){var e=new t.constructor(t.byteLength);return new Dx(e).set(new Dx(t)),e}function Dfe(t,e){var n=e?UA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ffe=/\w*$/;function Mfe(t){var e=new t.constructor(t.source,Ffe.exec(t));return e.lastIndex=t.lastIndex,e}var Fx=_a?_a.prototype:void 0,Mx=Fx?Fx.valueOf:void 0;function $fe(t){return Mx?Object(Mx.call(t)):{}}function Lfe(t,e){var n=e?UA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Vfe="[object Boolean]",Ufe="[object Date]",jfe="[object Map]",Bfe="[object Number]",zfe="[object RegExp]",qfe="[object Set]",Hfe="[object String]",Wfe="[object Symbol]",Gfe="[object ArrayBuffer]",Kfe="[object DataView]",Qfe="[object Float32Array]",Yfe="[object Float64Array]",Xfe="[object Int8Array]",Jfe="[object Int16Array]",Zfe="[object Int32Array]",epe="[object Uint8Array]",tpe="[object Uint8ClampedArray]",npe="[object Uint16Array]",rpe="[object Uint32Array]";function ipe(t,e,n){var r=t.constructor;switch(e){case Gfe:return UA(t);case Vfe:case Ufe:return new r(+t);case Kfe:return Dfe(t,n);case Qfe:case Yfe:case Xfe:case Jfe:case Zfe:case epe:case tpe:case npe:case rpe:return Lfe(t,n);case jfe:return new r;case Bfe:case Hfe:return new r(t);case zfe:return Mfe(t);case qfe:return new r;case Wfe:return $fe(t)}}var $x=Object.create,spe=function(){function t(){}return function(e){if(!Wp(e))return{};if($x)return $x(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const ope=spe;function ape(t){return typeof t.constructor=="function"&&!FA(t)?ope(NA(t)):{}}var upe="[object Map]";function lpe(t){return il(t)&&VA(t)==upe}var Lx=Mc&&Mc.isMap,cpe=Lx?DA(Lx):lpe;const dpe=cpe;var hpe="[object Set]";function fpe(t){return il(t)&&VA(t)==hpe}var Vx=Mc&&Mc.isSet,ppe=Vx?DA(Vx):fpe;const mpe=ppe;var gpe=1,vpe=2,ype=4,JU="[object Arguments]",_pe="[object Array]",wpe="[object Boolean]",bpe="[object Date]",Epe="[object Error]",ZU="[object Function]",Spe="[object GeneratorFunction]",Tpe="[object Map]",Ipe="[object Number]",e9="[object Object]",Cpe="[object RegExp]",Ape="[object Set]",Ppe="[object String]",Rpe="[object Symbol]",Ope="[object WeakMap]",kpe="[object ArrayBuffer]",xpe="[object DataView]",Npe="[object Float32Array]",Dpe="[object Float64Array]",Fpe="[object Int8Array]",Mpe="[object Int16Array]",$pe="[object Int32Array]",Lpe="[object Uint8Array]",Vpe="[object Uint8ClampedArray]",Upe="[object Uint16Array]",jpe="[object Uint32Array]",Tt={};Tt[JU]=Tt[_pe]=Tt[kpe]=Tt[xpe]=Tt[wpe]=Tt[bpe]=Tt[Npe]=Tt[Dpe]=Tt[Fpe]=Tt[Mpe]=Tt[$pe]=Tt[Tpe]=Tt[Ipe]=Tt[e9]=Tt[Cpe]=Tt[Ape]=Tt[Ppe]=Tt[Rpe]=Tt[Lpe]=Tt[Vpe]=Tt[Upe]=Tt[jpe]=!0;Tt[Epe]=Tt[ZU]=Tt[Ope]=!1;function Uh(t,e,n,r,i,s){var o,a=e&gpe,u=e&vpe,l=e&ype;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Wp(t))return t;var c=Gp(t);if(c){if(o=xfe(t),!a)return GU(t,o)}else{var d=VA(t),h=d==ZU||d==Spe;if(jU(t))return lfe(t,a);if(d==e9||d==JU||h&&!i){if(o=u||h?{}:ape(t),!a)return u?vfe(t,afe(o,t)):pfe(t,nfe(o,t))}else{if(!Tt[d])return i?t:{};o=ipe(t,d,a)}}s||(s=new ld);var p=s.get(t);if(p)return p;s.set(t,o),mpe(t)?t.forEach(function(g){o.add(Uh(g,e,n,g,t,s))}):dpe(t)&&t.forEach(function(g,v){o.set(v,Uh(g,e,n,v,t,s))});var m=l?u?_fe:yfe:u?$A:MA,y=c?void 0:m(t);return ehe(y||t,function(g,v){y&&(v=g,g=t[v]),LU(o,v,Uh(g,e,n,v,t,s))}),o}var Bpe=4;function Ux(t){return Uh(t,Bpe)}function t9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zpe="[object Symbol]";function jA(t){return typeof t=="symbol"||il(t)&&rl(t)==zpe}var qpe="Expected a function";function BA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qpe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(BA.Cache||Da),n}BA.Cache=Da;var Hpe=500;function Wpe(t){var e=BA(t,function(r){return n.size===Hpe&&n.clear(),r}),n=e.cache;return e}var Gpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kpe=/\\(\\)?/g,Qpe=Wpe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Gpe,function(n,r,i,s){e.push(i?s.replace(Kpe,"$1"):r||n)}),e});const Ype=Qpe;var Xpe=1/0;function Jpe(t){if(typeof t=="string"||jA(t))return t;var e=t+"";return e=="0"&&1/t==-Xpe?"-0":e}var Zpe=1/0,jx=_a?_a.prototype:void 0,Bx=jx?jx.toString:void 0;function n9(t){if(typeof t=="string")return t;if(Gp(t))return t9(t,n9)+"";if(jA(t))return Bx?Bx.call(t):"";var e=t+"";return e=="0"&&1/t==-Zpe?"-0":e}function eme(t){return t==null?"":n9(t)}function r9(t){return Gp(t)?t9(t,Jpe):jA(t)?[t]:GU(Ype(eme(t)))}var tme=1,nme=4;function rme(t){return Uh(t,tme|nme)}function Et(){return Et=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Et.apply(this,arguments)}function ime(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function hu(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var qx=function(e){return Array.isArray(e)&&e.length===0},Or=function(e){return typeof e=="function"},Kp=function(e){return e!==null&&typeof e=="object"},sme=function(e){return String(Math.floor(Number(e)))===e},vw=function(e){return Object.prototype.toString.call(e)==="[object String]"},i9=function(e){return C.Children.count(e)===0},yw=function(e){return Kp(e)&&Or(e.then)};function Un(t,e,n,r){r===void 0&&(r=0);for(var i=r9(e);t&&r<i.length;)t=t[i[r++]];return t===void 0?n:t}function As(t,e,n){for(var r=Ux(t),i=r,s=0,o=r9(e);s<o.length-1;s++){var a=o[s],u=Un(t,o.slice(0,s+1));if(u&&(Kp(u)||Array.isArray(u)))i=i[a]=Ux(u);else{var l=o[s+1];i=i[a]=sme(l)&&Number(l)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function s9(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Kp(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},s9(a,e,n,r[o])):r[o]=e}return r}var S0=C.createContext(void 0);S0.displayName="FormikContext";var ome=S0.Provider,ame=S0.Consumer;function bo(){var t=C.useContext(S0);return t||xT(!1),t}function ume(t,e){switch(e.type){case"SET_VALUES":return Et({},t,{values:e.payload});case"SET_TOUCHED":return Et({},t,{touched:e.payload});case"SET_ERRORS":return Fo(t.errors,e.payload)?t:Et({},t,{errors:e.payload});case"SET_STATUS":return Et({},t,{status:e.payload});case"SET_ISSUBMITTING":return Et({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Et({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Et({},t,{values:As(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Et({},t,{touched:As(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Et({},t,{errors:As(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Et({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Et({},t,{touched:s9(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Et({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Et({},t,{isSubmitting:!1});default:return t}}var Ua={},rg={};function lme(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,u=t.enableReinitialize,l=u===void 0?!1:u,c=t.onSubmit,d=hu(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Et({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),p=C.useRef(h.initialValues),m=C.useRef(h.initialErrors||Ua),y=C.useRef(h.initialTouched||rg),g=C.useRef(h.initialStatus),v=C.useRef(!1),_=C.useRef({});C.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var b=C.useReducer(ume,{values:h.initialValues,errors:h.initialErrors||Ua,touched:h.initialTouched||rg,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=b[0],E=b[1],A=C.useCallback(function(k,ie){return new Promise(function(he,J){var K=h.validate(k,ie);K==null?he(Ua):yw(K)?K.then(function(pe){he(pe||Ua)},function(pe){J(pe)}):he(K)})},[h.validate]),R=C.useCallback(function(k,ie){var he=h.validationSchema,J=Or(he)?he(ie):he,K=ie&&J.validateAt?J.validateAt(ie,k):dme(k,J);return new Promise(function(pe,ve){K.then(function(){pe(Ua)},function(Se){Se.name==="ValidationError"?pe(cme(Se)):ve(Se)})})},[h.validationSchema]),$=C.useCallback(function(k,ie){return new Promise(function(he){return he(_.current[k].validate(ie))})},[]),Q=C.useCallback(function(k){var ie=Object.keys(_.current).filter(function(J){return Or(_.current[J].validate)}),he=ie.length>0?ie.map(function(J){return $(J,Un(k,J))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(he).then(function(J){return J.reduce(function(K,pe,ve){return pe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||pe&&(K=As(K,ie[ve],pe)),K},{})})},[$]),te=C.useCallback(function(k){return Promise.all([Q(k),h.validationSchema?R(k):{},h.validate?A(k):{}]).then(function(ie){var he=ie[0],J=ie[1],K=ie[2],pe=zE.all([he,J,K],{arrayMerge:hme});return pe})},[h.validate,h.validationSchema,Q,A,R]),ce=fi(function(k){return k===void 0&&(k=w.values),E({type:"SET_ISVALIDATING",payload:!0}),te(k).then(function(ie){return v.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:ie})),ie})});C.useEffect(function(){o&&v.current===!0&&Fo(p.current,h.initialValues)&&ce(p.current)},[o,ce]);var de=C.useCallback(function(k){var ie=k&&k.values?k.values:p.current,he=k&&k.errors?k.errors:m.current?m.current:h.initialErrors||{},J=k&&k.touched?k.touched:y.current?y.current:h.initialTouched||{},K=k&&k.status?k.status:g.current?g.current:h.initialStatus;p.current=ie,m.current=he,y.current=J,g.current=K;var pe=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!k&&!!k.isSubmitting,errors:he,touched:J,status:K,values:ie,isValidating:!!k&&!!k.isValidating,submitCount:k&&k.submitCount&&typeof k.submitCount=="number"?k.submitCount:0}})};if(h.onReset){var ve=h.onReset(w.values,Me);yw(ve)?ve.then(pe):pe()}else pe()},[h.initialErrors,h.initialStatus,h.initialTouched]);C.useEffect(function(){v.current===!0&&!Fo(p.current,h.initialValues)&&(l&&(p.current=h.initialValues,de()),o&&ce(p.current))},[l,h.initialValues,de,o,ce]),C.useEffect(function(){l&&v.current===!0&&!Fo(m.current,h.initialErrors)&&(m.current=h.initialErrors||Ua,E({type:"SET_ERRORS",payload:h.initialErrors||Ua}))},[l,h.initialErrors]),C.useEffect(function(){l&&v.current===!0&&!Fo(y.current,h.initialTouched)&&(y.current=h.initialTouched||rg,E({type:"SET_TOUCHED",payload:h.initialTouched||rg}))},[l,h.initialTouched]),C.useEffect(function(){l&&v.current===!0&&!Fo(g.current,h.initialStatus)&&(g.current=h.initialStatus,E({type:"SET_STATUS",payload:h.initialStatus}))},[l,h.initialStatus,h.initialTouched]);var Ee=fi(function(k){if(_.current[k]&&Or(_.current[k].validate)){var ie=Un(w.values,k),he=_.current[k].validate(ie);return yw(he)?(E({type:"SET_ISVALIDATING",payload:!0}),he.then(function(J){return J}).then(function(J){E({type:"SET_FIELD_ERROR",payload:{field:k,value:J}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:k,value:he}}),Promise.resolve(he))}else if(h.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),R(w.values,k).then(function(J){return J}).then(function(J){E({type:"SET_FIELD_ERROR",payload:{field:k,value:J[k]}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),j=C.useCallback(function(k,ie){var he=ie.validate;_.current[k]={validate:he}},[]),W=C.useCallback(function(k){delete _.current[k]},[]),ee=fi(function(k,ie){E({type:"SET_TOUCHED",payload:k});var he=ie===void 0?i:ie;return he?ce(w.values):Promise.resolve()}),F=C.useCallback(function(k){E({type:"SET_ERRORS",payload:k})},[]),U=fi(function(k,ie){var he=Or(k)?k(w.values):k;E({type:"SET_VALUES",payload:he});var J=ie===void 0?n:ie;return J?ce(he):Promise.resolve()}),Y=C.useCallback(function(k,ie){E({type:"SET_FIELD_ERROR",payload:{field:k,value:ie}})},[]),M=fi(function(k,ie,he){E({type:"SET_FIELD_VALUE",payload:{field:k,value:ie}});var J=he===void 0?n:he;return J?ce(As(w.values,k,ie)):Promise.resolve()}),V=C.useCallback(function(k,ie){var he=ie,J=k,K;if(!vw(k)){k.persist&&k.persist();var pe=k.target?k.target:k.currentTarget,ve=pe.type,Se=pe.name,Ye=pe.id,un=pe.value,_t=pe.checked,Xn=pe.outerHTML,I=pe.options,D=pe.multiple;he=ie||Se||Ye,J=/number|range/.test(ve)?(K=parseFloat(un),isNaN(K)?"":K):/checkbox/.test(ve)?pme(Un(w.values,he),_t,un):I&&D?fme(I):un}he&&M(he,J)},[M,w.values]),N=fi(function(k){if(vw(k))return function(ie){return V(ie,k)};V(k)}),q=fi(function(k,ie,he){ie===void 0&&(ie=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:k,value:ie}});var J=he===void 0?i:he;return J?ce(w.values):Promise.resolve()}),B=C.useCallback(function(k,ie){k.persist&&k.persist();var he=k.target,J=he.name,K=he.id,pe=he.outerHTML,ve=ie||J||K;q(ve,!0)},[q]),S=fi(function(k){if(vw(k))return function(ie){return B(ie,k)};B(k)}),x=C.useCallback(function(k){Or(k)?E({type:"SET_FORMIK_STATE",payload:k}):E({type:"SET_FORMIK_STATE",payload:function(){return k}})},[]),le=C.useCallback(function(k){E({type:"SET_STATUS",payload:k})},[]),X=C.useCallback(function(k){E({type:"SET_ISSUBMITTING",payload:k})},[]),xe=fi(function(){return E({type:"SUBMIT_ATTEMPT"}),ce().then(function(k){var ie=k instanceof Error,he=!ie&&Object.keys(k).length===0;if(he){var J;try{if(J=Te(),J===void 0)return}catch(K){throw K}return Promise.resolve(J).then(function(K){return v.current&&E({type:"SUBMIT_SUCCESS"}),K}).catch(function(K){if(v.current)throw E({type:"SUBMIT_FAILURE"}),K})}else if(v.current&&(E({type:"SUBMIT_FAILURE"}),ie))throw k})}),Re=fi(function(k){k&&k.preventDefault&&Or(k.preventDefault)&&k.preventDefault(),k&&k.stopPropagation&&Or(k.stopPropagation)&&k.stopPropagation(),xe().catch(function(ie){console.warn("Warning: An unhandled error was caught from submitForm()",ie)})}),Me={resetForm:de,validateForm:ce,validateField:Ee,setErrors:F,setFieldError:Y,setFieldTouched:q,setFieldValue:M,setStatus:le,setSubmitting:X,setTouched:ee,setValues:U,setFormikState:x,submitForm:xe},Te=fi(function(){return c(w.values,Me)}),We=fi(function(k){k&&k.preventDefault&&Or(k.preventDefault)&&k.preventDefault(),k&&k.stopPropagation&&Or(k.stopPropagation)&&k.stopPropagation(),de()}),Be=C.useCallback(function(k){return{value:Un(w.values,k),error:Un(w.errors,k),touched:!!Un(w.touched,k),initialValue:Un(p.current,k),initialTouched:!!Un(y.current,k),initialError:Un(m.current,k)}},[w.errors,w.touched,w.values]),L=C.useCallback(function(k){return{setValue:function(he,J){return M(k,he,J)},setTouched:function(he,J){return q(k,he,J)},setError:function(he){return Y(k,he)}}},[M,q,Y]),ne=C.useCallback(function(k){var ie=Kp(k),he=ie?k.name:k,J=Un(w.values,he),K={name:he,value:J,onChange:N,onBlur:S};if(ie){var pe=k.type,ve=k.value,Se=k.as,Ye=k.multiple;pe==="checkbox"?ve===void 0?K.checked=!!J:(K.checked=!!(Array.isArray(J)&&~J.indexOf(ve)),K.value=ve):pe==="radio"?(K.checked=J===ve,K.value=ve):Se==="select"&&Ye&&(K.value=K.value||[],K.multiple=!0)}return K},[S,N,w.values]),oe=C.useMemo(function(){return!Fo(p.current,w.values)},[p.current,w.values]),Ie=C.useMemo(function(){return typeof a<"u"?oe?w.errors&&Object.keys(w.errors).length===0:a!==!1&&Or(a)?a(h):a:w.errors&&Object.keys(w.errors).length===0},[a,oe,w.errors,h]),Ae=Et({},w,{initialValues:p.current,initialErrors:m.current,initialTouched:y.current,initialStatus:g.current,handleBlur:S,handleChange:N,handleReset:We,handleSubmit:Re,resetForm:de,setErrors:F,setFormikState:x,setFieldTouched:q,setFieldValue:M,setFieldError:Y,setStatus:le,setSubmitting:X,setTouched:ee,setValues:U,submitForm:xe,validateForm:ce,validateField:Ee,isValid:Ie,dirty:oe,unregisterField:W,registerField:j,getFieldProps:ne,getFieldMeta:Be,getFieldHelpers:L,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Ae}function cd(t){var e=lme(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return C.useImperativeHandle(s,function(){return e}),C.createElement(ome,{value:e},n?C.createElement(n,e):i?i(e):r?Or(r)?r(e):i9(r)?null:C.Children.only(r):null)}function cme(t){var e={};if(t.inner){if(t.inner.length===0)return As(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Un(e,o.path)||(e=As(e,o.path,o.message))}}return e}function dme(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=KE(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function KE(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||yx(i)?KE(i):i!==""?i:void 0}):yx(t[r])?e[r]=KE(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function hme(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,u=a&&n.isMergeableObject(s);r[o]=u?zE(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=zE(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function fme(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function pme(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var mme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function fi(t){var e=C.useRef(t);return mme(function(){e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function o9(t){var e=bo(),n=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,s=e.registerField,o=e.unregisterField,a=Kp(t),u=a?t:{name:t},l=u.name,c=u.validate;return C.useEffect(function(){return l&&s(l,{validate:c}),function(){l&&o(l)}},[s,o,l,c]),l||xT(!1),[n(u),r(l),i(l)]}function Er(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=hu(t,["validate","name","render","children","as","component"]),u=bo(),l=hu(u,["validate","validationSchema"]),c=l.registerField,d=l.unregisterField;C.useEffect(function(){return c(n,{validate:e}),function(){d(n)}},[c,d,n,e]);var h=l.getFieldProps(Et({name:n},a)),p=l.getFieldMeta(n),m={field:h,form:l};if(r)return r(Et({},m,{meta:p}));if(Or(i))return i(Et({},m,{meta:p}));if(o){if(typeof o=="string"){var y=a.innerRef,g=hu(a,["innerRef"]);return C.createElement(o,Et({ref:y},h,g),i)}return C.createElement(o,Et({field:h,form:l},a),i)}var v=s||"input";if(typeof v=="string"){var _=a.innerRef,b=hu(a,["innerRef"]);return C.createElement(v,Et({ref:_},h,b),i)}return C.createElement(v,Et({},h,a),i)}var dd=C.forwardRef(function(t,e){var n=t.action,r=hu(t,["action"]),i=n??"#",s=bo(),o=s.handleReset,a=s.handleSubmit;return C.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:o,action:i},r))});dd.displayName="Form";function gme(t){var e=function(i){return C.createElement(ame,null,function(s){return s||xT(!1),C.createElement(t,Object.assign({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",nv(e,t)}var vme=function(e,n,r){var i=$c(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},yme=function(e,n,r){var i=$c(e),s=i[n];return i[n]=i[r],i[r]=s,i},_w=function(e,n,r){var i=$c(e);return i.splice(n,0,r),i},_me=function(e,n,r){var i=$c(e);return i[n]=r,i},$c=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Et({},e,{length:n+1}))}else return[]},a9=function(t){ime(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var u=i.props,l=u.name,c=u.formik.setFormikState;c(function(d){var h=typeof a=="function"?a:s,p=typeof o=="function"?o:s,m=As(d.values,l,s(Un(d.values,l))),y=a?h(Un(d.errors,l)):void 0,g=o?p(Un(d.touched,l)):void 0;return qx(y)&&(y=void 0),qx(g)&&(g=void 0),Et({},d,{values:m,errors:a?As(d.errors,l,y):d.errors,touched:o?As(d.touched,l,g):d.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat($c(o),[rme(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return yme(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return vme(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return _w(a,s,o)},function(a){return _w(a,s,null)},function(a){return _w(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return _me(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var u=a?[s].concat(a):[s];return o<0&&(o=u.length),u},function(a){var u=a?[null].concat(a):[null];return o<0&&(o=u.length),u},function(a){var u=a?[null].concat(a):[null];return o<0&&(o=u.length),u}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(zx(i)),i.pop=i.pop.bind(zx(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Fo(Un(i.formik.values,i.name),Un(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?$c(o):[];return s||(s=a[i]),Or(a.splice)&&a.splice(i,1),a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s;return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,u=s.children,l=s.name,c=s.formik,d=hu(c,["validate","validationSchema"]),h=Et({},i,{form:d,name:l});return o?C.createElement(o,h):a?a(h):u?typeof u=="function"?u(h):i9(u)?null:C.Children.only(u):null},e}(C.Component);a9.defaultProps={validateOnChange:!0};var wme=gme(a9),QE;try{QE=Map}catch{}var YE;try{YE=Set}catch{}function u9(t,e,n){if(!t||typeof t!="object"||typeof t=="function")return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(Array.isArray(t))return t.map(XE);if(QE&&t instanceof QE)return new Map(Array.from(t.entries()));if(YE&&t instanceof YE)return new Set(Array.from(t.values()));if(t instanceof Object){e.push(t);var r=Object.create(t);n.push(r);for(var i in t){var s=e.findIndex(function(o){return o===t[i]});r[i]=s>-1?n[s]:u9(t[i],e,n)}return r}return t}function XE(t){return u9(t,[],[])}const bme=Object.prototype.toString,Eme=Error.prototype.toString,Sme=RegExp.prototype.toString,Tme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Ime=/^Symbol\((.*)\)(.*)$/;function Cme(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Hx(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Cme(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Tme.call(t).replace(Ime,"Symbol($1)");const r=bme.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Eme.call(t)+"]":r==="RegExp"?Sme.call(t):null}function Lc(t,e){let n=Hx(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Hx(this[r],e);return s!==null?s:i},2)}let Ya={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{let i=r!=null&&r!==n,s=`${t} must be a \`${e}\` type, but the final value was: \`${Lc(n,!0)}\``+(i?` (cast from the value \`${Lc(r,!0)}\`).`:".");return n===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},Fi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xo={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},JE={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ZE={isValue:"${path} field must be ${value}"},eS={noUnknown:"${path} field has unspecified keys: ${unknown}"},Hg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Ya,string:Fi,number:xo,date:JE,object:eS,array:Hg,boolean:ZE});var Ame=Object.prototype,Pme=Ame.hasOwnProperty;function Rme(t,e){return t!=null&&Pme.call(t,e)}var Ome=Rme,kme=Array.isArray,Fa=kme,xme=typeof gm=="object"&&gm&&gm.Object===Object&&gm,l9=xme,Nme=l9,Dme=typeof self=="object"&&self&&self.Object===Object&&self,Fme=Nme||Dme||Function("return this")(),Eo=Fme,Mme=Eo,$me=Mme.Symbol,T0=$me,Wx=T0,c9=Object.prototype,Lme=c9.hasOwnProperty,Vme=c9.toString,Hd=Wx?Wx.toStringTag:void 0;function Ume(t){var e=Lme.call(t,Hd),n=t[Hd];try{t[Hd]=void 0;var r=!0}catch{}var i=Vme.call(t);return r&&(e?t[Hd]=n:delete t[Hd]),i}var jme=Ume,Bme=Object.prototype,zme=Bme.toString;function qme(t){return zme.call(t)}var Hme=qme,Gx=T0,Wme=jme,Gme=Hme,Kme="[object Null]",Qme="[object Undefined]",Kx=Gx?Gx.toStringTag:void 0;function Yme(t){return t==null?t===void 0?Qme:Kme:Kx&&Kx in Object(t)?Wme(t):Gme(t)}var Qp=Yme;function Xme(t){return t!=null&&typeof t=="object"}var Yp=Xme,Jme=Qp,Zme=Yp,ege="[object Symbol]";function tge(t){return typeof t=="symbol"||Zme(t)&&Jme(t)==ege}var zA=tge,nge=Fa,rge=zA,ige=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sge=/^\w*$/;function oge(t,e){if(nge(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||rge(t)?!0:sge.test(t)||!ige.test(t)||e!=null&&t in Object(e)}var qA=oge;function age(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var HA=age,uge=Qp,lge=HA,cge="[object AsyncFunction]",dge="[object Function]",hge="[object GeneratorFunction]",fge="[object Proxy]";function pge(t){if(!lge(t))return!1;var e=uge(t);return e==dge||e==hge||e==cge||e==fge}var d9=pge,mge=Eo,gge=mge["__core-js_shared__"],vge=gge,ww=vge,Qx=function(){var t=/[^.]+$/.exec(ww&&ww.keys&&ww.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yge(t){return!!Qx&&Qx in t}var _ge=yge,wge=Function.prototype,bge=wge.toString;function Ege(t){if(t!=null){try{return bge.call(t)}catch{}try{return t+""}catch{}}return""}var h9=Ege,Sge=d9,Tge=_ge,Ige=HA,Cge=h9,Age=/[\\^$.*+?()[\]{}|]/g,Pge=/^\[object .+?Constructor\]$/,Rge=Function.prototype,Oge=Object.prototype,kge=Rge.toString,xge=Oge.hasOwnProperty,Nge=RegExp("^"+kge.call(xge).replace(Age,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dge(t){if(!Ige(t)||Tge(t))return!1;var e=Sge(t)?Nge:Pge;return e.test(Cge(t))}var Fge=Dge;function Mge(t,e){return t==null?void 0:t[e]}var $ge=Mge,Lge=Fge,Vge=$ge;function Uge(t,e){var n=Vge(t,e);return Lge(n)?n:void 0}var al=Uge,jge=al,Bge=jge(Object,"create"),I0=Bge,Yx=I0;function zge(){this.__data__=Yx?Yx(null):{},this.size=0}var qge=zge;function Hge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Wge=Hge,Gge=I0,Kge="__lodash_hash_undefined__",Qge=Object.prototype,Yge=Qge.hasOwnProperty;function Xge(t){var e=this.__data__;if(Gge){var n=e[t];return n===Kge?void 0:n}return Yge.call(e,t)?e[t]:void 0}var Jge=Xge,Zge=I0,eve=Object.prototype,tve=eve.hasOwnProperty;function nve(t){var e=this.__data__;return Zge?e[t]!==void 0:tve.call(e,t)}var rve=nve,ive=I0,sve="__lodash_hash_undefined__";function ove(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ive&&e===void 0?sve:e,this}var ave=ove,uve=qge,lve=Wge,cve=Jge,dve=rve,hve=ave;function hd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hd.prototype.clear=uve;hd.prototype.delete=lve;hd.prototype.get=cve;hd.prototype.has=dve;hd.prototype.set=hve;var fve=hd;function pve(){this.__data__=[],this.size=0}var mve=pve;function gve(t,e){return t===e||t!==t&&e!==e}var f9=gve,vve=f9;function yve(t,e){for(var n=t.length;n--;)if(vve(t[n][0],e))return n;return-1}var C0=yve,_ve=C0,wve=Array.prototype,bve=wve.splice;function Eve(t){var e=this.__data__,n=_ve(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bve.call(e,n,1),--this.size,!0}var Sve=Eve,Tve=C0;function Ive(t){var e=this.__data__,n=Tve(e,t);return n<0?void 0:e[n][1]}var Cve=Ive,Ave=C0;function Pve(t){return Ave(this.__data__,t)>-1}var Rve=Pve,Ove=C0;function kve(t,e){var n=this.__data__,r=Ove(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xve=kve,Nve=mve,Dve=Sve,Fve=Cve,Mve=Rve,$ve=xve;function fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fd.prototype.clear=Nve;fd.prototype.delete=Dve;fd.prototype.get=Fve;fd.prototype.has=Mve;fd.prototype.set=$ve;var A0=fd,Lve=al,Vve=Eo,Uve=Lve(Vve,"Map"),WA=Uve,Xx=fve,jve=A0,Bve=WA;function zve(){this.size=0,this.__data__={hash:new Xx,map:new(Bve||jve),string:new Xx}}var qve=zve;function Hve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Wve=Hve,Gve=Wve;function Kve(t,e){var n=t.__data__;return Gve(e)?n[typeof e=="string"?"string":"hash"]:n.map}var P0=Kve,Qve=P0;function Yve(t){var e=Qve(this,t).delete(t);return this.size-=e?1:0,e}var Xve=Yve,Jve=P0;function Zve(t){return Jve(this,t).get(t)}var eye=Zve,tye=P0;function nye(t){return tye(this,t).has(t)}var rye=nye,iye=P0;function sye(t,e){var n=iye(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oye=sye,aye=qve,uye=Xve,lye=eye,cye=rye,dye=oye;function pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pd.prototype.clear=aye;pd.prototype.delete=uye;pd.prototype.get=lye;pd.prototype.has=cye;pd.prototype.set=dye;var GA=pd,p9=GA,hye="Expected a function";function KA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hye);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(KA.Cache||p9),n}KA.Cache=p9;var fye=KA,pye=fye,mye=500;function gye(t){var e=pye(t,function(r){return n.size===mye&&n.clear(),r}),n=e.cache;return e}var vye=gye,yye=vye,_ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wye=/\\(\\)?/g,bye=yye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_ye,function(n,r,i,s){e.push(i?s.replace(wye,"$1"):r||n)}),e}),Eye=bye;function Sye(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Tye=Sye,Jx=T0,Iye=Tye,Cye=Fa,Aye=zA,Pye=1/0,Zx=Jx?Jx.prototype:void 0,eN=Zx?Zx.toString:void 0;function m9(t){if(typeof t=="string")return t;if(Cye(t))return Iye(t,m9)+"";if(Aye(t))return eN?eN.call(t):"";var e=t+"";return e=="0"&&1/t==-Pye?"-0":e}var Rye=m9,Oye=Rye;function kye(t){return t==null?"":Oye(t)}var Xp=kye,xye=Fa,Nye=qA,Dye=Eye,Fye=Xp;function Mye(t,e){return xye(t)?t:Nye(t,e)?[t]:Dye(Fye(t))}var g9=Mye,$ye=Qp,Lye=Yp,Vye="[object Arguments]";function Uye(t){return Lye(t)&&$ye(t)==Vye}var jye=Uye,tN=jye,Bye=Yp,v9=Object.prototype,zye=v9.hasOwnProperty,qye=v9.propertyIsEnumerable,Hye=tN(function(){return arguments}())?tN:function(t){return Bye(t)&&zye.call(t,"callee")&&!qye.call(t,"callee")},y9=Hye,Wye=9007199254740991,Gye=/^(?:0|[1-9]\d*)$/;function Kye(t,e){var n=typeof t;return e=e??Wye,!!e&&(n=="number"||n!="symbol"&&Gye.test(t))&&t>-1&&t%1==0&&t<e}var _9=Kye,Qye=9007199254740991;function Yye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qye}var QA=Yye,Xye=zA,Jye=1/0;function Zye(t){if(typeof t=="string"||Xye(t))return t;var e=t+"";return e=="0"&&1/t==-Jye?"-0":e}var R0=Zye,e_e=g9,t_e=y9,n_e=Fa,r_e=_9,i_e=QA,s_e=R0;function o_e(t,e,n){e=e_e(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=s_e(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&i_e(i)&&r_e(o,i)&&(n_e(t)||t_e(t)))}var w9=o_e,a_e=Ome,u_e=w9;function l_e(t,e){return t!=null&&u_e(t,e,a_e)}var c_e=l_e;const dy=Pn(c_e),YA=t=>t&&t.__isYupSchema__;class d_e{constructor(e,n){if(this.fn=void 0,this.refs=e,this.refs=e,typeof n=="function"){this.fn=n;return}if(!dy(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(u=>u===r);this.fn=function(...a){let u=a.pop(),l=a.pop(),c=o(...a)?i:s;if(c)return typeof c=="function"?c(l):l.concat(c.resolve(u))}}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(e,r.concat(e,n));if(i===void 0||i===e)return e;if(!YA(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function b9(t){return t==null?[]:[].concat(t)}function tS(){return tS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}let h_e=/\$\{\s*(\w+)\s*\}/g;class jr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=tS({},n,{path:r})),typeof e=="string"?e.replace(h_e,(i,s)=>Lc(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],b9(e).forEach(s=>{jr.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,jr)}}const f_e=t=>{let e=!1;return(...n)=>{e||(e=!0,t(...n))}};function hy(t,e){let{endEarly:n,tests:r,args:i,value:s,errors:o,sort:a,path:u}=t,l=f_e(e),c=r.length;const d=[];if(o=o||[],!c)return o.length?l(new jr(o,s,u)):l(null,s);for(let h=0;h<r.length;h++){const p=r[h];p(i,function(y){if(y){if(!jr.isError(y))return l(y,s);if(n)return y.value=s,l(y,s);d.push(y)}if(--c<=0){if(d.length&&(a&&d.sort(a),o.length&&d.push(...o),o=d),o.length){l(new jr(o,s,u),s);return}l(null,s)}})}}var p_e=al,m_e=function(){try{var t=p_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),g_e=m_e,nN=g_e;function v_e(t,e,n){e=="__proto__"&&nN?nN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var E9=v_e;function y_e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var __e=y_e,w_e=__e,b_e=w_e(),E_e=b_e;function S_e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var T_e=S_e,fy={exports:{}};function I_e(){return!1}var C_e=I_e;fy.exports;(function(t,e){var n=Eo,r=C_e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(fy,fy.exports);var S9=fy.exports,A_e=Qp,P_e=QA,R_e=Yp,O_e="[object Arguments]",k_e="[object Array]",x_e="[object Boolean]",N_e="[object Date]",D_e="[object Error]",F_e="[object Function]",M_e="[object Map]",$_e="[object Number]",L_e="[object Object]",V_e="[object RegExp]",U_e="[object Set]",j_e="[object String]",B_e="[object WeakMap]",z_e="[object ArrayBuffer]",q_e="[object DataView]",H_e="[object Float32Array]",W_e="[object Float64Array]",G_e="[object Int8Array]",K_e="[object Int16Array]",Q_e="[object Int32Array]",Y_e="[object Uint8Array]",X_e="[object Uint8ClampedArray]",J_e="[object Uint16Array]",Z_e="[object Uint32Array]",xt={};xt[H_e]=xt[W_e]=xt[G_e]=xt[K_e]=xt[Q_e]=xt[Y_e]=xt[X_e]=xt[J_e]=xt[Z_e]=!0;xt[O_e]=xt[k_e]=xt[z_e]=xt[x_e]=xt[q_e]=xt[N_e]=xt[D_e]=xt[F_e]=xt[M_e]=xt[$_e]=xt[L_e]=xt[V_e]=xt[U_e]=xt[j_e]=xt[B_e]=!1;function e0e(t){return R_e(t)&&P_e(t.length)&&!!xt[A_e(t)]}var t0e=e0e;function n0e(t){return function(e){return t(e)}}var r0e=n0e,py={exports:{}};py.exports;(function(t,e){var n=l9,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(py,py.exports);var i0e=py.exports,s0e=t0e,o0e=r0e,rN=i0e,iN=rN&&rN.isTypedArray,a0e=iN?o0e(iN):s0e,T9=a0e,u0e=T_e,l0e=y9,c0e=Fa,d0e=S9,h0e=_9,f0e=T9,p0e=Object.prototype,m0e=p0e.hasOwnProperty;function g0e(t,e){var n=c0e(t),r=!n&&l0e(t),i=!n&&!r&&d0e(t),s=!n&&!r&&!i&&f0e(t),o=n||r||i||s,a=o?u0e(t.length,String):[],u=a.length;for(var l in t)(e||m0e.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||h0e(l,u)))&&a.push(l);return a}var v0e=g0e,y0e=Object.prototype;function _0e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||y0e;return t===n}var w0e=_0e;function b0e(t,e){return function(n){return t(e(n))}}var E0e=b0e,S0e=E0e,T0e=S0e(Object.keys,Object),I0e=T0e,C0e=w0e,A0e=I0e,P0e=Object.prototype,R0e=P0e.hasOwnProperty;function O0e(t){if(!C0e(t))return A0e(t);var e=[];for(var n in Object(t))R0e.call(t,n)&&n!="constructor"&&e.push(n);return e}var k0e=O0e,x0e=d9,N0e=QA;function D0e(t){return t!=null&&N0e(t.length)&&!x0e(t)}var F0e=D0e,M0e=v0e,$0e=k0e,L0e=F0e;function V0e(t){return L0e(t)?M0e(t):$0e(t)}var XA=V0e,U0e=E_e,j0e=XA;function B0e(t,e){return t&&U0e(t,e,j0e)}var I9=B0e,z0e=A0;function q0e(){this.__data__=new z0e,this.size=0}var H0e=q0e;function W0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var G0e=W0e;function K0e(t){return this.__data__.get(t)}var Q0e=K0e;function Y0e(t){return this.__data__.has(t)}var X0e=Y0e,J0e=A0,Z0e=WA,e1e=GA,t1e=200;function n1e(t,e){var n=this.__data__;if(n instanceof J0e){var r=n.__data__;if(!Z0e||r.length<t1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new e1e(r)}return n.set(t,e),this.size=n.size,this}var r1e=n1e,i1e=A0,s1e=H0e,o1e=G0e,a1e=Q0e,u1e=X0e,l1e=r1e;function md(t){var e=this.__data__=new i1e(t);this.size=e.size}md.prototype.clear=s1e;md.prototype.delete=o1e;md.prototype.get=a1e;md.prototype.has=u1e;md.prototype.set=l1e;var C9=md,c1e="__lodash_hash_undefined__";function d1e(t){return this.__data__.set(t,c1e),this}var h1e=d1e;function f1e(t){return this.__data__.has(t)}var p1e=f1e,m1e=GA,g1e=h1e,v1e=p1e;function my(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new m1e;++e<n;)this.add(t[e])}my.prototype.add=my.prototype.push=g1e;my.prototype.has=v1e;var y1e=my;function _1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var w1e=_1e;function b1e(t,e){return t.has(e)}var E1e=b1e,S1e=y1e,T1e=w1e,I1e=E1e,C1e=1,A1e=2;function P1e(t,e,n,r,i,s){var o=n&C1e,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t),c=s.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,p=n&A1e?new S1e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var g=o?r(y,m,d,e,t,s):r(m,y,d,t,e,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!T1e(e,function(v,_){if(!I1e(p,_)&&(m===v||i(m,v,n,r,s)))return p.push(_)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var A9=P1e,R1e=Eo,O1e=R1e.Uint8Array,k1e=O1e;function x1e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var N1e=x1e;function D1e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var F1e=D1e,sN=T0,oN=k1e,M1e=f9,$1e=A9,L1e=N1e,V1e=F1e,U1e=1,j1e=2,B1e="[object Boolean]",z1e="[object Date]",q1e="[object Error]",H1e="[object Map]",W1e="[object Number]",G1e="[object RegExp]",K1e="[object Set]",Q1e="[object String]",Y1e="[object Symbol]",X1e="[object ArrayBuffer]",J1e="[object DataView]",aN=sN?sN.prototype:void 0,bw=aN?aN.valueOf:void 0;function Z1e(t,e,n,r,i,s,o){switch(n){case J1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case X1e:return!(t.byteLength!=e.byteLength||!s(new oN(t),new oN(e)));case B1e:case z1e:case W1e:return M1e(+t,+e);case q1e:return t.name==e.name&&t.message==e.message;case G1e:case Q1e:return t==e+"";case H1e:var a=L1e;case K1e:var u=r&U1e;if(a||(a=V1e),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=j1e,o.set(t,e);var c=$1e(a(t),a(e),r,i,s,o);return o.delete(t),c;case Y1e:if(bw)return bw.call(t)==bw.call(e)}return!1}var ewe=Z1e;function twe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nwe=twe,rwe=nwe,iwe=Fa;function swe(t,e,n){var r=e(t);return iwe(t)?r:rwe(r,n(t))}var owe=swe;function awe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var uwe=awe;function lwe(){return[]}var cwe=lwe,dwe=uwe,hwe=cwe,fwe=Object.prototype,pwe=fwe.propertyIsEnumerable,uN=Object.getOwnPropertySymbols,mwe=uN?function(t){return t==null?[]:(t=Object(t),dwe(uN(t),function(e){return pwe.call(t,e)}))}:hwe,gwe=mwe,vwe=owe,ywe=gwe,_we=XA;function wwe(t){return vwe(t,_we,ywe)}var bwe=wwe,lN=bwe,Ewe=1,Swe=Object.prototype,Twe=Swe.hasOwnProperty;function Iwe(t,e,n,r,i,s){var o=n&Ewe,a=lN(t),u=a.length,l=lN(e),c=l.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=a[d];if(!(o?h in e:Twe.call(e,h)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var y=!0;s.set(t,e),s.set(e,t);for(var g=o;++d<u;){h=a[d];var v=t[h],_=e[h];if(r)var b=o?r(_,v,h,e,t,s):r(v,_,h,t,e,s);if(!(b===void 0?v===_||i(v,_,n,r,s):b)){y=!1;break}g||(g=h=="constructor")}if(y&&!g){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(t),s.delete(e),y}var Cwe=Iwe,Awe=al,Pwe=Eo,Rwe=Awe(Pwe,"DataView"),Owe=Rwe,kwe=al,xwe=Eo,Nwe=kwe(xwe,"Promise"),Dwe=Nwe,Fwe=al,Mwe=Eo,$we=Fwe(Mwe,"Set"),Lwe=$we,Vwe=al,Uwe=Eo,jwe=Vwe(Uwe,"WeakMap"),Bwe=jwe,nS=Owe,rS=WA,iS=Dwe,sS=Lwe,oS=Bwe,P9=Qp,gd=h9,cN="[object Map]",zwe="[object Object]",dN="[object Promise]",hN="[object Set]",fN="[object WeakMap]",pN="[object DataView]",qwe=gd(nS),Hwe=gd(rS),Wwe=gd(iS),Gwe=gd(sS),Kwe=gd(oS),Xa=P9;(nS&&Xa(new nS(new ArrayBuffer(1)))!=pN||rS&&Xa(new rS)!=cN||iS&&Xa(iS.resolve())!=dN||sS&&Xa(new sS)!=hN||oS&&Xa(new oS)!=fN)&&(Xa=function(t){var e=P9(t),n=e==zwe?t.constructor:void 0,r=n?gd(n):"";if(r)switch(r){case qwe:return pN;case Hwe:return cN;case Wwe:return dN;case Gwe:return hN;case Kwe:return fN}return e});var Qwe=Xa,Ew=C9,Ywe=A9,Xwe=ewe,Jwe=Cwe,mN=Qwe,gN=Fa,vN=S9,Zwe=T9,ebe=1,yN="[object Arguments]",_N="[object Array]",ig="[object Object]",tbe=Object.prototype,wN=tbe.hasOwnProperty;function nbe(t,e,n,r,i,s){var o=gN(t),a=gN(e),u=o?_N:mN(t),l=a?_N:mN(e);u=u==yN?ig:u,l=l==yN?ig:l;var c=u==ig,d=l==ig,h=u==l;if(h&&vN(t)){if(!vN(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Ew),o||Zwe(t)?Ywe(t,e,n,r,i,s):Xwe(t,e,u,n,r,i,s);if(!(n&ebe)){var p=c&&wN.call(t,"__wrapped__"),m=d&&wN.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,g=m?e.value():e;return s||(s=new Ew),i(y,g,n,r,s)}}return h?(s||(s=new Ew),Jwe(t,e,n,r,i,s)):!1}var rbe=nbe,ibe=rbe,bN=Yp;function R9(t,e,n,r,i){return t===e?!0:t==null||e==null||!bN(t)&&!bN(e)?t!==t&&e!==e:ibe(t,e,n,r,R9,i)}var O9=R9,sbe=C9,obe=O9,abe=1,ube=2;function lbe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===void 0&&!(u in t))return!1}else{var d=new sbe;if(r)var h=r(l,c,u,t,e,d);if(!(h===void 0?obe(c,l,abe|ube,r,d):h))return!1}}return!0}var cbe=lbe,dbe=HA;function hbe(t){return t===t&&!dbe(t)}var k9=hbe,fbe=k9,pbe=XA;function mbe(t){for(var e=pbe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fbe(i)]}return e}var gbe=mbe;function vbe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var x9=vbe,ybe=cbe,_be=gbe,wbe=x9;function bbe(t){var e=_be(t);return e.length==1&&e[0][2]?wbe(e[0][0],e[0][1]):function(n){return n===t||ybe(n,t,e)}}var Ebe=bbe,Sbe=g9,Tbe=R0;function Ibe(t,e){e=Sbe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Tbe(e[n++])];return n&&n==r?t:void 0}var N9=Ibe,Cbe=N9;function Abe(t,e,n){var r=t==null?void 0:Cbe(t,e);return r===void 0?n:r}var Pbe=Abe;function Rbe(t,e){return t!=null&&e in Object(t)}var Obe=Rbe,kbe=Obe,xbe=w9;function Nbe(t,e){return t!=null&&xbe(t,e,kbe)}var Dbe=Nbe,Fbe=O9,Mbe=Pbe,$be=Dbe,Lbe=qA,Vbe=k9,Ube=x9,jbe=R0,Bbe=1,zbe=2;function qbe(t,e){return Lbe(t)&&Vbe(e)?Ube(jbe(t),e):function(n){var r=Mbe(n,t);return r===void 0&&r===e?$be(n,t):Fbe(e,r,Bbe|zbe)}}var Hbe=qbe;function Wbe(t){return t}var Gbe=Wbe;function Kbe(t){return function(e){return e==null?void 0:e[t]}}var Qbe=Kbe,Ybe=N9;function Xbe(t){return function(e){return Ybe(e,t)}}var Jbe=Xbe,Zbe=Qbe,eEe=Jbe,tEe=qA,nEe=R0;function rEe(t){return tEe(t)?Zbe(nEe(t)):eEe(t)}var iEe=rEe,sEe=Ebe,oEe=Hbe,aEe=Gbe,uEe=Fa,lEe=iEe;function cEe(t){return typeof t=="function"?t:t==null?aEe:typeof t=="object"?uEe(t)?oEe(t[0],t[1]):sEe(t):lEe(t)}var D9=cEe,dEe=E9,hEe=I9,fEe=D9;function pEe(t,e){var n={};return e=fEe(e),hEe(t,function(r,i,s){dEe(n,i,e(r,i,s))}),n}var mEe=pEe;const F9=Pn(mEe);function ul(t){this._maxSize=t,this.clear()}ul.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ul.prototype.get=function(t){return this._values[t]};ul.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var gEe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,M9=/^\d+$/,vEe=/^\d/,yEe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,_Ee=/^\s*(['"]?)(.*?)(\1)\s*$/,JA=512,EN=new ul(JA),SN=new ul(JA),TN=new ul(JA),O0={Cache:ul,split:aS,normalizePath:Sw,setter:function(t){var e=Sw(t);return SN.get(t)||SN.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Sw(t);return TN.get(t)||TN.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(ZA(n)||M9.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){wEe(Array.isArray(t)?t:aS(t),e,n)}};function Sw(t){return EN.get(t)||EN.set(t,aS(t).map(function(e){return e.replace(_Ee,"$2")}))}function aS(t){return t.match(gEe)||[""]}function wEe(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(SEe(i)&&(i='"'+i+'"'),a=ZA(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function ZA(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function bEe(t){return t.match(vEe)&&!t.match(M9)}function EEe(t){return yEe.test(t)}function SEe(t){return!ZA(t)&&(bEe(t)||EEe(t))}const sg={context:"$",value:"."};class ia{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===sg.context,this.isValue=this.key[0]===sg.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?sg.context:this.isValue?sg.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&O0.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ia.prototype.__isYupRef=!0;function gy(){return gy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}function TEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function og(t){function e(n,r){let{value:i,path:s="",label:o,options:a,originalValue:u,sync:l}=n,c=TEe(n,["value","path","label","options","originalValue","sync"]);const{name:d,test:h,params:p,message:m}=t;let{parent:y,context:g}=a;function v(A){return ia.isRef(A)?A.getValue(i,y,g):A}function _(A={}){const R=F9(gy({value:i,originalValue:u,label:o,path:A.path||s},p,A.params),v),$=new jr(jr.formatError(A.message||m,R),i,R.path,A.type||d);return $.params=R,$}let b=gy({path:s,parent:y,type:d,createError:_,resolve:v,options:a,originalValue:u},c);if(!l){try{Promise.resolve(h.call(b,i,b)).then(A=>{jr.isError(A)?r(A):A?r(null,A):r(_())}).catch(r)}catch(A){r(A)}return}let w;try{var E;if(w=h.call(b,i,b),typeof((E=w)==null?void 0:E.then)=="function")throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(A){r(A);return}jr.isError(w)?r(w):w?r(null,w):r(_())}return e.OPTIONS=t,e}let IEe=t=>t.substr(0,t.length-1).substr(1);function CEe(t,e,n,r=n){let i,s,o;return e?(O0.forEach(e,(a,u,l)=>{let c=u?IEe(a):a;if(t=t.resolve({context:r,parent:i,value:n}),t.innerType){let d=l?parseInt(c,10):0;if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=t.innerType}if(!l){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t._type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=u?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class vy{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const n of this.list)e.push(n);for(const[,n]of this.refs)e.push(n.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce((n,r)=>n.concat(ia.isRef(r)?e(r):r),[])}add(e){ia.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){ia.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new vy;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,n){const r=this.clone();return e.list.forEach(i=>r.add(i)),e.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function mi(){return mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mi.apply(this,arguments)}class Gn{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new vy,this._blacklist=new vy,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ya.notType)}),this.type=(e==null?void 0:e.type)||"mixed",this.spec=mi({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},e==null?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=mi({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=XE(mi({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=mi({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return this.spec.nullable&&e===null?!0:this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}cast(e,n={}){let r=this.resolve(mi({value:e},n)),i=r._cast(e,n);if(e!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let s=Lc(e),o=Lc(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault()),r}_validate(e,n={},r){let{sync:i,path:s,from:o=[],originalValue:a=e,strict:u=this.spec.strict,abortEarly:l=this.spec.abortEarly}=n,c=e;u||(c=this._cast(c,mi({assert:!1},n)));let d={value:c,path:s,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:o},h=[];this._typeError&&h.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),hy({args:d,value:c,path:s,sync:i,tests:h,endEarly:l},m=>{if(m)return void r(m,c);hy({tests:this.tests.concat(p),args:d,path:s,sync:i,value:c,endEarly:l},r)})}validate(e,n,r){let i=this.resolve(mi({},n,{value:e}));return typeof r=="function"?i._validate(e,n,r):new Promise((s,o)=>i._validate(e,n,(a,u)=>{a?o(a):s(u)}))}validateSync(e,n){let r=this.resolve(mi({},n,{value:e})),i;return r._validate(e,mi({},n,{sync:!0}),(s,o)=>{if(s)throw s;i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(jr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(jr.isError(r))return!1;throw r}}_getDefault(){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this):XE(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){let n=this.clone();return n.spec.strict=e,n}_isPresent(e){return e!=null}defined(e=Ya.defined){return this.test({message:e,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(e=Ya.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:e,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e}nullable(e=!0){return this.clone({nullable:e!==!1})}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ya.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=og(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=b9(e).map(s=>new ia(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(new d_e(i,n)),r}typeError(e){let n=this.clone();return n._typeError=og({message:e,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(e,n=Ya.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=og({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:o}})}}),r}notOneOf(e,n=Ya.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=og({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:s.toArray().join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(){const e=this.clone(),{label:n,meta:r}=e.spec;return{meta:r,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,o,a)=>a.findIndex(u=>u.name===s.name)===o)}}}Gn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Gn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=CEe(this,e,n,r.context);return o[t](i&&i[s],mi({},r,{parent:i,path:e}))};for(const t of["equals","is"])Gn.prototype[t]=Gn.prototype.oneOf;for(const t of["not","nope"])Gn.prototype[t]=Gn.prototype.notOneOf;Gn.prototype.optional=Gn.prototype.notRequired;const AEe=Gn;AEe.prototype;const zt=t=>t==null;function qf(){return new $9}class $9 extends Gn{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}_typeCheck(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}isTrue(e=ZE.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return zt(n)||n===!0}})}isFalse(e=ZE.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return zt(n)||n===!1}})}}qf.prototype=$9.prototype;let PEe=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,REe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,OEe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,kEe=t=>zt(t)||t===t.trim(),xEe={}.toString();function pt(){return new L9}class L9 extends Gn{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(e){if(this.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===xEe?e:n})})}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,n=Fi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return zt(r)||r.length===this.resolve(e)}})}min(e,n=Fi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return zt(r)||r.length>=this.resolve(e)}})}max(e,n=Fi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},test(r){return zt(r)||r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Fi.matches,params:{regex:e},test:o=>zt(o)||o===""&&r||o.search(e)!==-1})}email(e=Fi.email){return this.matches(PEe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Fi.url){return this.matches(REe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Fi.uuid){return this.matches(OEe,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Fi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:kEe})}lowercase(e=Fi.lowercase){return this.transform(n=>zt(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>zt(n)||n===n.toLowerCase()})}uppercase(e=Fi.uppercase){return this.transform(n=>zt(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>zt(n)||n===n.toUpperCase()})}}pt.prototype=L9.prototype;let NEe=t=>t!=+t;function Wg(){return new V9}class V9 extends Gn{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(e){let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!NEe(e)}min(e,n=xo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return zt(r)||r>=this.resolve(e)}})}max(e,n=xo.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(r){return zt(r)||r<=this.resolve(e)}})}lessThan(e,n=xo.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},test(r){return zt(r)||r<this.resolve(e)}})}moreThan(e,n=xo.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},test(r){return zt(r)||r>this.resolve(e)}})}positive(e=xo.positive){return this.moreThan(0,e)}negative(e=xo.negative){return this.lessThan(0,e)}integer(e=xo.integer){return this.test({name:"integer",message:e,test:n=>zt(n)||Number.isInteger(n)})}truncate(){return this.transform(e=>zt(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>zt(i)?i:Math[e](i))}}Wg.prototype=V9.prototype;var DEe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function FEe(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=DEe.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let eP=new Date(""),MEe=t=>Object.prototype.toString.call(t)==="[object Date]";function tP(){return new nP}class nP extends Gn{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(e){return this.isType(e)?e:(e=FEe(e),isNaN(e)?eP:new Date(e))})})}_typeCheck(e){return MEe(e)&&!isNaN(e.getTime())}prepareParam(e,n){let r;if(ia.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=JE.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(i){return zt(i)||i>=this.resolve(r)}})}max(e,n=JE.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(i){return zt(i)||i<=this.resolve(r)}})}}nP.INVALID_DATE=eP;tP.prototype=nP.prototype;tP.INVALID_DATE=eP;function $Ee(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var LEe=$Ee;function VEe(t){return function(e){return t==null?void 0:t[e]}}var UEe=VEe,jEe=UEe,BEe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zEe=jEe(BEe),qEe=zEe,HEe=qEe,WEe=Xp,GEe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,KEe="\\u0300-\\u036f",QEe="\\ufe20-\\ufe2f",YEe="\\u20d0-\\u20ff",XEe=KEe+QEe+YEe,JEe="["+XEe+"]",ZEe=RegExp(JEe,"g");function eSe(t){return t=WEe(t),t&&t.replace(GEe,HEe).replace(ZEe,"")}var tSe=eSe,nSe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function rSe(t){return t.match(nSe)||[]}var iSe=rSe,sSe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function oSe(t){return sSe.test(t)}var aSe=oSe,U9="\\ud800-\\udfff",uSe="\\u0300-\\u036f",lSe="\\ufe20-\\ufe2f",cSe="\\u20d0-\\u20ff",dSe=uSe+lSe+cSe,j9="\\u2700-\\u27bf",B9="a-z\\xdf-\\xf6\\xf8-\\xff",hSe="\\xac\\xb1\\xd7\\xf7",fSe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pSe="\\u2000-\\u206f",mSe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",z9="A-Z\\xc0-\\xd6\\xd8-\\xde",gSe="\\ufe0e\\ufe0f",q9=hSe+fSe+pSe+mSe,H9="[']",IN="["+q9+"]",vSe="["+dSe+"]",W9="\\d+",ySe="["+j9+"]",G9="["+B9+"]",K9="[^"+U9+q9+W9+j9+B9+z9+"]",_Se="\\ud83c[\\udffb-\\udfff]",wSe="(?:"+vSe+"|"+_Se+")",bSe="[^"+U9+"]",Q9="(?:\\ud83c[\\udde6-\\uddff]){2}",Y9="[\\ud800-\\udbff][\\udc00-\\udfff]",Al="["+z9+"]",ESe="\\u200d",CN="(?:"+G9+"|"+K9+")",SSe="(?:"+Al+"|"+K9+")",AN="(?:"+H9+"(?:d|ll|m|re|s|t|ve))?",PN="(?:"+H9+"(?:D|LL|M|RE|S|T|VE))?",X9=wSe+"?",J9="["+gSe+"]?",TSe="(?:"+ESe+"(?:"+[bSe,Q9,Y9].join("|")+")"+J9+X9+")*",ISe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CSe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ASe=J9+X9+TSe,PSe="(?:"+[ySe,Q9,Y9].join("|")+")"+ASe,RSe=RegExp([Al+"?"+G9+"+"+AN+"(?="+[IN,Al,"$"].join("|")+")",SSe+"+"+PN+"(?="+[IN,Al+CN,"$"].join("|")+")",Al+"?"+CN+"+"+AN,Al+"+"+PN,CSe,ISe,W9,PSe].join("|"),"g");function OSe(t){return t.match(RSe)||[]}var kSe=OSe,xSe=iSe,NSe=aSe,DSe=Xp,FSe=kSe;function MSe(t,e,n){return t=DSe(t),e=n?void 0:e,e===void 0?NSe(t)?FSe(t):xSe(t):t.match(e)||[]}var $Se=MSe,LSe=LEe,VSe=tSe,USe=$Se,jSe="[']",BSe=RegExp(jSe,"g");function zSe(t){return function(e){return LSe(USe(VSe(e).replace(BSe,"")),t,"")}}var Z9=zSe,qSe=Z9,HSe=qSe(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),WSe=HSe;const RN=Pn(WSe);function GSe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var KSe=GSe,QSe=KSe;function YSe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:QSe(t,e,n)}var XSe=YSe,JSe="\\ud800-\\udfff",ZSe="\\u0300-\\u036f",eTe="\\ufe20-\\ufe2f",tTe="\\u20d0-\\u20ff",nTe=ZSe+eTe+tTe,rTe="\\ufe0e\\ufe0f",iTe="\\u200d",sTe=RegExp("["+iTe+JSe+nTe+rTe+"]");function oTe(t){return sTe.test(t)}var e8=oTe;function aTe(t){return t.split("")}var uTe=aTe,t8="\\ud800-\\udfff",lTe="\\u0300-\\u036f",cTe="\\ufe20-\\ufe2f",dTe="\\u20d0-\\u20ff",hTe=lTe+cTe+dTe,fTe="\\ufe0e\\ufe0f",pTe="["+t8+"]",uS="["+hTe+"]",lS="\\ud83c[\\udffb-\\udfff]",mTe="(?:"+uS+"|"+lS+")",n8="[^"+t8+"]",r8="(?:\\ud83c[\\udde6-\\uddff]){2}",i8="[\\ud800-\\udbff][\\udc00-\\udfff]",gTe="\\u200d",s8=mTe+"?",o8="["+fTe+"]?",vTe="(?:"+gTe+"(?:"+[n8,r8,i8].join("|")+")"+o8+s8+")*",yTe=o8+s8+vTe,_Te="(?:"+[n8+uS+"?",uS,r8,i8,pTe].join("|")+")",wTe=RegExp(lS+"(?="+lS+")|"+_Te+yTe,"g");function bTe(t){return t.match(wTe)||[]}var ETe=bTe,STe=uTe,TTe=e8,ITe=ETe;function CTe(t){return TTe(t)?ITe(t):STe(t)}var ATe=CTe,PTe=XSe,RTe=e8,OTe=ATe,kTe=Xp;function xTe(t){return function(e){e=kTe(e);var n=RTe(e)?OTe(e):void 0,r=n?n[0]:e.charAt(0),i=n?PTe(n,1).join(""):e.slice(1);return r[t]()+i}}var NTe=xTe,DTe=NTe,FTe=DTe("toUpperCase"),MTe=FTe,$Te=Xp,LTe=MTe;function VTe(t){return LTe($Te(t).toLowerCase())}var UTe=VTe,jTe=UTe,BTe=Z9,zTe=BTe(function(t,e,n){return e=e.toLowerCase(),t+(n?jTe(e):e)}),qTe=zTe;const HTe=Pn(qTe);var WTe=E9,GTe=I9,KTe=D9;function QTe(t,e){var n={};return e=KTe(e),GTe(t,function(r,i,s){WTe(n,e(r,i,s),r)}),n}var YTe=QTe;const XTe=Pn(YTe);var rP={exports:{}};rP.exports=function(t){return a8(JTe(t),t)};rP.exports.array=a8;function a8(t,e){var n=t.length,r=new Array(n),i={},s=n,o=ZTe(e),a=eIe(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(l,c,d){if(d.has(l)){var h;try{h=", node was:"+JSON.stringify(l)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[c]){i[c]=!0;var p=o.get(l)||new Set;if(p=Array.from(p),c=p.length){d.add(l);do{var m=p[--c];u(m,a.get(m),d)}while(c);d.delete(l)}r[--n]=l}}}function JTe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function ZTe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function eIe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var tIe=rP.exports;const nIe=Pn(tIe);function rIe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=O0.split(o)[0];r.add(u),i.has(`${a}-${u}`)||n.push([a,u])}for(const o in t)if(dy(t,o)){let a=t[o];r.add(o),ia.isRef(a)&&a.isSibling?s(a.path,o):YA(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return nIe.array(Array.from(r),n).reverse()}function ON(t,e){let n=1/0;return t.some((r,i)=>{var s;if(((s=e.path)==null?void 0:s.indexOf(r))!==-1)return n=i,!0}),n}function u8(t){return(e,n)=>ON(t,e)-ON(t,n)}function zl(){return zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}let kN=t=>Object.prototype.toString.call(t)==="[object Object]";function iIe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const sIe=u8([]);class l8 extends Gn{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=sIe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),e&&this.shape(e)})}_typeCheck(e){return kN(e)||typeof e=="function"}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(d=>this._nodes.indexOf(d)===-1)),u={},l=zl({},n,{parent:u,__validating:n.__validating||!1}),c=!1;for(const d of a){let h=s[d],p=dy(i,d);if(h){let m,y=i[d];l.path=(n.path?`${n.path}.`:"")+d,h=h.resolve({value:y,context:n.context,parent:u});let g="spec"in h?h.spec:void 0,v=g==null?void 0:g.strict;if(g!=null&&g.strip){c=c||d in i;continue}m=!n.__validating||!v?h.cast(i[d],l):i[d],m!==void 0&&(u[d]=m)}else p&&!o&&(u[d]=i[d]);u[d]!==i[d]&&(c=!0)}return c?u:i}_validate(e,n={},r){let i=[],{sync:s,from:o=[],originalValue:a=e,abortEarly:u=this.spec.abortEarly,recursive:l=this.spec.recursive}=n;o=[{schema:this,value:a},...o],n.__validating=!0,n.originalValue=a,n.from=o,super._validate(e,n,(c,d)=>{if(c){if(!jr.isError(c)||u)return void r(c,d);i.push(c)}if(!l||!kN(d)){r(i[0]||null,d);return}a=a||d;let h=this._nodes.map(p=>(m,y)=>{let g=p.indexOf(".")===-1?(n.path?`${n.path}.`:"")+p:`${n.path||""}["${p}"]`,v=this.fields[p];if(v&&"validate"in v){v.validate(d[p],zl({},n,{path:g,from:o,strict:!0,parent:d,originalValue:a[p]}),y);return}y(null)});hy({sync:s,tests:h,value:d,errors:i,endEarly:u,sort:this._sortErrors,path:n.path},r)})}clone(e){const n=super.clone(e);return n.fields=zl({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];o===void 0?r[i]=s:o instanceof Gn&&s instanceof Gn&&(r[i]=s.concat(o))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let e={};return this._nodes.forEach(n=>{const r=this.fields[n];e[n]="default"in r?r.getDefault():void 0}),e}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(e,n=[]){let r=this.clone(),i=Object.assign(r.fields,e);return r.fields=i,r._sortErrors=u8(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=rIe(i,r._excludedEdges),r}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(e){const n=this.clone(),r=n.fields;n.fields={};for(const i of e)delete r[i];return n.withMutation(()=>n.shape(r))}from(e,n,r){let i=O0.getter(e,!0);return this.transform(s=>{if(s==null)return s;let o=s;return dy(s,e)&&(o=zl({},s),r||delete o[e],o[n]=i(s)),o})}noUnknown(e=!0,n=eS.noUnknown){typeof e=="string"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=iIe(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=eS.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>n&&XTe(n,(r,i)=>e(i)))}camelCase(){return this.transformKeys(HTe)}snakeCase(){return this.transformKeys(RN)}constantCase(){return this.transformKeys(e=>RN(e).toUpperCase())}describe(){let e=super.describe();return e.fields=F9(this.fields,n=>n.describe()),e}}function lo(t){return new l8(t)}lo.prototype=l8.prototype;function yy(){return yy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function Gg(t){return new c8(t)}class c8 extends Gn{constructor(e){super({type:"array"}),this.innerType=void 0,this.innerType=e,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(e){return Array.isArray(e)}get _subType(){return this.innerType}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const u=this.innerType.cast(o,yy({},n,{path:`${n.path||""}[${a}]`}));return u!==o&&(i=!0),u});return i?s:r}_validate(e,n={},r){var i,s;let o=[],a=n.sync,u=n.path,l=this.innerType,c=(i=n.abortEarly)!=null?i:this.spec.abortEarly,d=(s=n.recursive)!=null?s:this.spec.recursive,h=n.originalValue!=null?n.originalValue:e;super._validate(e,n,(p,m)=>{if(p){if(!jr.isError(p)||c)return void r(p,m);o.push(p)}if(!d||!l||!this._typeCheck(m)){r(o[0]||null,m);return}h=h||m;let y=new Array(m.length);for(let g=0;g<m.length;g++){let v=m[g],_=`${n.path||""}[${g}]`,b=yy({},n,{path:_,strict:!0,parent:m,index:g,originalValue:h[g]});y[g]=(w,E)=>l.validate(v,b,E)}hy({sync:a,path:u,value:m,errors:o,endEarly:c,tests:y},r)})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!YA(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Lc(e));return n.innerType=e,n}length(e,n=Hg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return zt(r)||r.length===this.resolve(e)}})}min(e,n){return n=n||Hg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return zt(r)||r.length>=this.resolve(e)}})}max(e,n){return n=n||Hg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(r){return zt(r)||r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let e=super.describe();return this.innerType&&(e.innerType=this.innerType.describe()),e}nullable(e=!0){return super.nullable(e)}defined(){return super.defined()}required(e){return super.required(e)}}Gg.prototype=c8.prototype;const d8=({onConfirmUpdate:t,modal:e})=>{const[n,r]=C.useState(""),{values:i}=bo();return O(qp,{isOpen:e.isOpenModal,onRequestClose:e.onCloseModal,children:[O("div",{className:"text-center padding-l",children:[f("h4",{children:"Confirm Update"}),O("p",{children:["To continue updating profile including your ",f("strong",{children:"email"}),",",f("br",{}),"please confirm by entering your password"]}),f("input",{className:"input-form d-block",onChange:s=>r(s.target.value),placeholder:"Enter your password",required:!0,type:"password",value:n})]}),f("br",{}),f("div",{className:"d-flex-center",children:O("button",{className:"button",onClick:()=>{t(i,n),e.onCloseModal()},type:"button",children:[f(fp,{})," Confirm"]})}),f("button",{className:"modal-close-button button button-border button-border-gray button-small",onClick:e.onCloseModal,type:"button",children:f(I$,{})})]})};d8.propTypes={onConfirmUpdate:T.func.isRequired,modal:T.shape({onCloseModal:T.func,isOpenModal:T.bool}).isRequired};const h8=t=>{var l;const{name:e,form:n,push:r,remove:i}=t,[s,o]=qe.useState(""),a=c=>{const d=c.target.value;o(d)},u=()=>{n.values[e].includes(s)||(r(s),o(""))};return O("div",{className:"d-flex",children:[O("div",{className:"input-group product-form-field",children:[O("div",{className:"d-flex",children:[n.touched[e]&&n.errors[e]?f("span",{className:"label-input label-error",children:n.errors[e]}):f("label",{className:"label-input",htmlFor:e,children:"Available Colors"}),s&&O(Cn,{children:[f("div",{className:"color-item",style:{background:s}}),O("h4",{className:"text-link",onClick:u,style:{textDecoration:"underline"},role:"presentation",children:[f("i",{className:"fa fa-check"}),"Add Selected Color"]})]})]}),f("input",{name:e,type:"color",onChange:a,id:e})]}),O("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"Selected Color(s)"}),f("div",{className:"color-chooser",children:(l=n.values[e])==null?void 0:l.map((c,d)=>f("div",{onClick:()=>i(d),className:"color-item color-item-deletable",title:`Remove ${c}`,style:{backgroundColor:c},role:"presentation"},c))})]})]})};h8.propTypes={name:T.string.isRequired,form:T.shape({values:T.object,touched:T.object,errors:T.object}).isRequired,push:T.func.isRequired,remove:T.func.isRequired};function oIe(t){if(Array.isArray(t))return Pb(t)}function aIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jh(t){return oIe(t)||aIe(t)||h$(t)||uIe()}function Jp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(t,e,n){return e&&xN(t.prototype,e),n&&xN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function em(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function lIe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cIe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dIe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cIe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=lIe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),nr="-ms-",_y="-moz-",ct="-webkit-",f8="comm",iP="rule",sP="decl",hIe="@import",p8="@keyframes",fIe=Math.abs,k0=String.fromCharCode,pIe=Object.assign;function mIe(t,e){return(((e<<2^Dr(t,0))<<2^Dr(t,1))<<2^Dr(t,2))<<2^Dr(t,3)}function m8(t){return t.trim()}function gIe(t,e){return(t=e.exec(t))?t[0]:t}function dt(t,e,n){return t.replace(e,n)}function cS(t,e){return t.indexOf(e)}function Dr(t,e){return t.charCodeAt(e)|0}function Hf(t,e,n){return t.slice(e,n)}function os(t){return t.length}function oP(t){return t.length}function ag(t,e){return e.push(t),t}function vIe(t,e){return t.map(e).join("")}var x0=1,Vc=1,g8=0,Wr=0,dn=0,vd="";function N0(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:x0,column:Vc,length:o,return:""}}function Wd(t,e){return pIe(N0("",null,null,"",null,null,0),t,{length:-t.length},e)}function yIe(){return dn}function _Ie(){return dn=Wr>0?Dr(vd,--Wr):0,Vc--,dn===10&&(Vc=1,x0--),dn}function ni(){return dn=Wr<g8?Dr(vd,Wr++):0,Vc++,dn===10&&(Vc=1,x0++),dn}function Ps(){return Dr(vd,Wr)}function Kg(){return Wr}function tm(t,e){return Hf(vd,t,e)}function Wf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v8(t){return x0=Vc=1,g8=os(vd=t),Wr=0,[]}function y8(t){return vd="",t}function Qg(t){return m8(tm(Wr-1,dS(t===91?t+2:t===40?t+1:t)))}function wIe(t){for(;(dn=Ps())&&dn<33;)ni();return Wf(t)>2||Wf(dn)>3?"":" "}function bIe(t,e){for(;--e&&ni()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return tm(t,Kg()+(e<6&&Ps()==32&&ni()==32))}function dS(t){for(;ni();)switch(dn){case t:return Wr;case 34:case 39:t!==34&&t!==39&&dS(dn);break;case 40:t===41&&dS(t);break;case 92:ni();break}return Wr}function EIe(t,e){for(;ni()&&t+dn!==47+10;)if(t+dn===42+42&&Ps()===47)break;return"/*"+tm(e,Wr-1)+"*"+k0(t===47?t:ni())}function SIe(t){for(;!Wf(Ps());)ni();return tm(t,Wr)}function TIe(t){return y8(Yg("",null,null,null,[""],t=v8(t),0,[0],t))}function Yg(t,e,n,r,i,s,o,a,u){for(var l=0,c=0,d=o,h=0,p=0,m=0,y=1,g=1,v=1,_=0,b="",w=i,E=s,A=r,R=b;g;)switch(m=_,_=ni()){case 40:if(m!=108&&R.charCodeAt(d-1)==58){cS(R+=dt(Qg(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:R+=Qg(_);break;case 9:case 10:case 13:case 32:R+=wIe(m);break;case 92:R+=bIe(Kg()-1,7);continue;case 47:switch(Ps()){case 42:case 47:ag(IIe(EIe(ni(),Kg()),e,n),u);break;default:R+="/"}break;case 123*y:a[l++]=os(R)*v;case 125*y:case 59:case 0:switch(_){case 0:case 125:g=0;case 59+c:p>0&&os(R)-d&&ag(p>32?DN(R+";",r,n,d-1):DN(dt(R," ","")+";",r,n,d-2),u);break;case 59:R+=";";default:if(ag(A=NN(R,e,n,l,c,i,a,b,w=[],E=[],d),s),_===123)if(c===0)Yg(R,e,A,A,w,s,d,a,E);else switch(h){case 100:case 109:case 115:Yg(t,A,A,r&&ag(NN(t,A,A,0,0,i,a,b,i,w=[],d),E),i,E,d,a,r?w:E);break;default:Yg(R,A,A,A,[""],E,0,a,E)}}l=c=p=0,y=v=1,b=R="",d=o;break;case 58:d=1+os(R),p=m;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&_Ie()==125)continue}switch(R+=k0(_),_*y){case 38:v=c>0?1:(R+="\f",-1);break;case 44:a[l++]=(os(R)-1)*v,v=1;break;case 64:Ps()===45&&(R+=Qg(ni())),h=Ps(),c=d=os(b=R+=SIe(Kg())),_++;break;case 45:m===45&&os(R)==2&&(y=0)}}return s}function NN(t,e,n,r,i,s,o,a,u,l,c){for(var d=i-1,h=i===0?s:[""],p=oP(h),m=0,y=0,g=0;m<r;++m)for(var v=0,_=Hf(t,d+1,d=fIe(y=o[m])),b=t;v<p;++v)(b=m8(y>0?h[v]+" "+_:dt(_,/&\f/g,h[v])))&&(u[g++]=b);return N0(t,e,n,i===0?iP:a,u,l,c)}function IIe(t,e,n){return N0(t,e,n,f8,k0(yIe()),Hf(t,2,-2),0)}function DN(t,e,n,r){return N0(t,e,n,sP,Hf(t,0,r),Hf(t,r+1,-1),r)}function _8(t,e){switch(mIe(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+_y+t+nr+t+t;case 6828:case 4268:return ct+t+nr+t+t;case 6165:return ct+t+nr+"flex-"+t+t;case 5187:return ct+t+dt(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+nr+"flex-$1$2")+t;case 5443:return ct+t+nr+"flex-item-"+dt(t,/flex-|-self/,"")+t;case 4675:return ct+t+nr+"flex-line-pack"+dt(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+nr+dt(t,"shrink","negative")+t;case 5292:return ct+t+nr+dt(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+dt(t,"-grow","")+ct+t+nr+dt(t,"grow","positive")+t;case 4554:return ct+dt(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return dt(dt(dt(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return dt(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return dt(dt(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return dt(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(os(t)-1-e>6)switch(Dr(t,e+1)){case 109:if(Dr(t,e+4)!==45)break;case 102:return dt(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+_y+(Dr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cS(t,"stretch")?_8(dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dr(t,e+1)!==115)break;case 6444:switch(Dr(t,os(t)-3-(~cS(t,"!important")&&10))){case 107:return dt(t,":",":"+ct)+t;case 101:return dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Dr(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+nr+"$2box$3")+t}break;case 5936:switch(Dr(t,e+11)){case 114:return ct+t+nr+dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+nr+dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+nr+dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+nr+t+t}return t}function lc(t,e){for(var n="",r=oP(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function CIe(t,e,n,r){switch(t.type){case hIe:case sP:return t.return=t.return||t.value;case f8:return"";case p8:return t.return=t.value+"{"+lc(t.children,r)+"}";case iP:t.value=t.props.join(",")}return os(n=lc(t.children,r))?t.return=t.value+"{"+n+"}":""}function AIe(t){var e=oP(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function PIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function RIe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case sP:t.return=_8(t.value,t.length);break;case p8:return lc([Wd(t,{value:dt(t.value,"@","@"+ct)})],r);case iP:if(t.length)return vIe(t.props,function(i){switch(gIe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lc([Wd(t,{props:[dt(i,/:(read-\w+)/,":"+_y+"$1")]})],r);case"::placeholder":return lc([Wd(t,{props:[dt(i,/:(plac\w+)/,":"+ct+"input-$1")]}),Wd(t,{props:[dt(i,/:(plac\w+)/,":"+_y+"$1")]}),Wd(t,{props:[dt(i,/:(plac\w+)/,nr+"input-$1")]})],r)}return""})}}function OIe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var kIe=function(e,n,r){for(var i=0,s=0;i=s,s=Ps(),i===38&&s===12&&(n[r]=1),!Wf(s);)ni();return tm(e,Wr)},xIe=function(e,n){var r=-1,i=44;do switch(Wf(i)){case 0:i===38&&Ps()===12&&(n[r]=1),e[r]+=kIe(Wr-1,n,r);break;case 2:e[r]+=Qg(i);break;case 4:if(i===44){e[++r]=Ps()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=k0(i)}while(i=ni());return e},NIe=function(e,n){return y8(xIe(v8(e),n))},FN=new WeakMap,DIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!FN.get(r))&&!i){FN.set(e,!0);for(var s=[],o=NIe(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},FIe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},MIe=[RIe],$Ie=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var g=y.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||MIe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var g=y.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(y)});var u,l=[DIe,FIe];{var c,d=[CIe,PIe(function(y){c.insert(y)})],h=AIe(l.concat(i,d)),p=function(g){return lc(TIe(g),h)};u=function(g,v,_,b){c=_,p(g?g+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new dIe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return m.sheet.hydrate(a),m},LIe=!0;function w8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var aP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||LIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},b8=function(e,n,r){aP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function E8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var S8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VIe=/[A-Z]|^ms/g,UIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,T8=function(e){return e.charCodeAt(1)===45},MN=function(e){return e!=null&&typeof e!="boolean"},Tw=OIe(function(t){return T8(t)?t:t.replace(VIe,"-$&").toLowerCase()}),$N=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(UIe,function(r,i,s){return as={name:i,styles:s,next:as},i})}return S8[e]!==1&&!T8(e)&&typeof n=="number"&&n!==0?n+"px":n};function Gf(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return as={name:n.name,styles:n.styles,next:as},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)as={name:r.name,styles:r.styles,next:as},r=r.next;var i=n.styles+";";return i}return jIe(t,e,n)}case"function":{if(t!==void 0){var s=as,o=n(t);return as=s,Gf(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function jIe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Gf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":MN(o)&&(r+=Tw(s)+":"+$N(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)MN(o[a])&&(r+=Tw(s)+":"+$N(s,o[a])+";");else{var u=Gf(t,e,o);switch(s){case"animation":case"animationName":{r+=Tw(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var LN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,as,uP=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";as=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Gf(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Gf(r,n,e[a]),i&&(s+=o[a]);LN.lastIndex=0;for(var u="",l;(l=LN.exec(s))!==null;)u+="-"+l[1];var c=E8(s)+u;return{name:c,styles:s,next:as}},lP={}.hasOwnProperty,I8=C.createContext(typeof HTMLElement<"u"?$Ie({key:"css"}):null);I8.Provider;var C8=function(e){return C.forwardRef(function(n,r){var i=C.useContext(I8);return e(n,i,r)})},A8=C.createContext({}),BIe=DP["useInsertionEffect"]?DP["useInsertionEffect"]:function(e){e()};function P8(t){BIe(t)}var hS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zIe=function(e,n){var r={};for(var i in n)lP.call(n,i)&&(r[i]=n[i]);return r[hS]=e,r},qIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return aP(n,r,i),P8(function(){return b8(n,r,i)}),null},HIe=C8(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[hS],s=[r],o="";typeof t.className=="string"?o=w8(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=uP(s,void 0,C.useContext(A8));o+=e.key+"-"+a.name;var u={};for(var l in t)lP.call(t,l)&&l!=="css"&&l!==hS&&(u[l]=t[l]);return u.ref=n,u.className=o,C.createElement(C.Fragment,null,C.createElement(qIe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),C.createElement(i,u))}),Ue=function(e,n){var r=arguments;if(n==null||!lP.call(n,"css"))return C.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=HIe,s[1]=zIe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return C.createElement.apply(null,s)};function cP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return uP(e)}var WIe=function(){var e=cP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},GIe=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=t(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function KIe(t,e,n){var r=[],i=w8(t,r,n);return r.length<2?n:i+e(r)}var QIe=function(e){var n=e.cache,r=e.serializedArr;return P8(function(){for(var i=0;i<r.length;i++)b8(n,r[i],!1)}),null},YIe=C8(function(t,e){var n=!1,r=[],i=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=uP(c,e.registered);return r.push(h),aP(e,h,!1),e.key+"-"+h.name},s=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return KIe(e.registered,i,GIe(c))},o={css:i,cx:s,theme:C.useContext(A8)},a=t.children(o);return n=!0,C.createElement(C.Fragment,null,C.createElement(QIe,{cache:e,serializedArr:r}),a)});function XIe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var R8={};Object.defineProperty(R8,"__esModule",{value:!0});var Iw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O8=C,Gd=k8(O8),JIe=xy,mn=k8(JIe);function k8(t){return t&&t.__esModule?t:{default:t}}function ZIe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function eCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UN={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},rCe=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],iCe=function(e){return rCe.forEach(function(n){return delete e[n]}),e},jN=function(e,n){n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.letterSpacing=e.letterSpacing,n.style.textTransform=e.textTransform},x8=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,BN=function(){return x8?"_"+Math.random().toString(36).substr(2,12):void 0},dP=function(t){nCe(e,t),VN(e,null,[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.id;return s!==i.prevId?{inputId:s||BN(),prevId:s}:null}}]);function e(n){eCe(this,e);var r=tCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.inputRef=function(i){r.input=i,typeof r.props.inputRef=="function"&&r.props.inputRef(i)},r.placeHolderSizerRef=function(i){r.placeHolderSizer=i},r.sizerRef=function(i){r.sizer=i},r.state={inputWidth:n.minWidth,inputId:n.id||BN(),prevId:n.id},r}return VN(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(r,i){i.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var r=this.input&&window.getComputedStyle(this.input);r&&(jN(r,this.sizer),this.placeHolderSizer&&jN(r,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var r=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?r=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:r=this.sizer.scrollWidth+2;var i=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;r+=i,r<this.props.minWidth&&(r=this.props.minWidth),r!==this.state.inputWidth&&this.setState({inputWidth:r})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var r=this.props.injectStyles;return x8&&r?Gd.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var r=[this.props.defaultValue,this.props.value,""].reduce(function(a,u){return a??u}),i=Iw({},this.props.style);i.display||(i.display="inline-block");var s=Iw({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=ZIe(this.props,[]);return iCe(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=s,Gd.default.createElement("div",{className:this.props.className,style:i},this.renderStyles(),Gd.default.createElement("input",Iw({},o,{ref:this.inputRef})),Gd.default.createElement("div",{ref:this.sizerRef,style:UN},r),this.props.placeholder?Gd.default.createElement("div",{ref:this.placeHolderSizerRef,style:UN},this.props.placeholder):null)}}]),e}(O8.Component);dP.propTypes={className:mn.default.string,defaultValue:mn.default.any,extraWidth:mn.default.oneOfType([mn.default.number,mn.default.string]),id:mn.default.string,injectStyles:mn.default.bool,inputClassName:mn.default.string,inputRef:mn.default.func,inputStyle:mn.default.object,minWidth:mn.default.oneOfType([mn.default.number,mn.default.string]),onAutosize:mn.default.func,onChange:mn.default.func,placeholder:mn.default.string,placeholderIsMinWidth:mn.default.bool,style:mn.default.object,value:mn.default.any};dP.defaultProps={minWidth:1,injectStyles:!0};var sCe=R8.default=dP;function oCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){oCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(t)}function aCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lCe(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:uCe(t)}function nm(t){var e=aCe();return function(){var r=wy(t),i;if(e){var s=wy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lCe(this,i)}}var by=function(){};function cCe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function dCe(t,e,n){var r=[n];if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&r.push("".concat(cCe(t,i)));return r.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Ey=function(e){return Array.isArray(e)?e.filter(Boolean):uf(e)==="object"&&e!==null?[e]:[]},N8=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ta(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return Sn({},n)};function hP(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function D8(t){return hP(t)?window.pageYOffset:t.scrollTop}function Sy(t,e){if(hP(t)){window.scrollTo(0,e);return}t.scrollTop=e}function hCe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/,i=document.documentElement;if(e.position==="fixed")return i;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return i}function fCe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function ug(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:by,i=D8(t),s=e-i,o=10,a=0;function u(){a+=o;var l=fCe(a,i,s,n);Sy(t,l),a<n?window.requestAnimationFrame(u):r(t)}u()}function pCe(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Sy(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Sy(t,Math.max(e.offsetTop-i,0))}function mCe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function qN(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function gCe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var F8=!1,vCe={get passive(){return F8=!0}},lg=typeof window<"u"?window:{};lg.addEventListener&&lg.removeEventListener&&(lg.addEventListener("p",by,vCe),lg.removeEventListener("p",by,!1));var yCe=F8;function _Ce(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.theme,u=a.spacing,l=hCe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,p=n.getBoundingClientRect(),m=p.bottom,y=p.height,g=p.top,v=n.offsetParent.getBoundingClientRect(),_=v.top,b=window.innerHeight,w=D8(l),E=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),R=_-A,$=b-g,Q=R+w,te=h-w-g,ce=m-b+w+E,de=w+g-A,Ee=160;switch(i){case"auto":case"bottom":if($>=y)return{placement:"bottom",maxHeight:e};if(te>=y&&!o)return s&&ug(l,ce,Ee),{placement:"bottom",maxHeight:e};if(!o&&te>=r||o&&$>=r){s&&ug(l,ce,Ee);var j=o?$-E:te-E;return{placement:"bottom",maxHeight:j}}if(i==="auto"||o){var W=e,ee=o?R:Q;return ee>=r&&(W=Math.min(ee-E-u.controlHeight,e)),{placement:"top",maxHeight:W}}if(i==="bottom")return s&&Sy(l,ce),{placement:"bottom",maxHeight:e};break;case"top":if(R>=y)return{placement:"top",maxHeight:e};if(Q>=y&&!o)return s&&ug(l,de,Ee),{placement:"top",maxHeight:e};if(!o&&Q>=r||o&&R>=r){var F=e;return(!o&&Q>=r||o&&R>=r)&&(F=o?R-A:Q-A),s&&ug(l,de,Ee),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function wCe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var fS=function(e){return e==="auto"?"bottom":e},bCe=function(e){var n,r=e.placement,i=e.theme,s=i.borderRadius,o=i.spacing,a=i.colors;return n={label:"menu"},pi(n,wCe(r),"100%"),pi(n,"backgroundColor",a.neutral0),pi(n,"borderRadius",s),pi(n,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),pi(n,"marginBottom",o.menuGutter),pi(n,"marginTop",o.menuGutter),pi(n,"position","absolute"),pi(n,"width","100%"),pi(n,"zIndex",1),n},M8=C.createContext({getPortalPlacement:null}),$8=function(t){em(n,t);var e=nm(n);function n(){var r;Jp(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(a){var u=r.props,l=u.minMenuHeight,c=u.maxMenuHeight,d=u.menuPlacement,h=u.menuPosition,p=u.menuShouldScrollIntoView,m=u.theme;if(a){var y=h==="fixed",g=p&&!y,v=_Ce({maxHeight:c,menuEl:a,minHeight:l,placement:d,shouldScroll:g,isFixedPosition:y,theme:m}),_=r.context.getPortalPlacement;_&&_(v),r.setState(v)}},r.getUpdatedProps=function(){var a=r.props.menuPlacement,u=r.state.placement||fS(a);return Sn(Sn({},r.props),{},{placement:u,maxHeight:r.state.maxHeight})},r}return Zp(n,[{key:"render",value:function(){var i=this.props.children;return i({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(C.Component);$8.contextType=M8;var ECe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerRef,a=e.innerProps;return Ue("div",je({css:s("menu",e),className:i({menu:!0},r),ref:o},a),n)},SCe=function(e){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return{maxHeight:n,overflowY:"auto",paddingBottom:r,paddingTop:r,position:"relative",WebkitOverflowScrolling:"touch"}},TCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps,a=e.innerRef,u=e.isMulti;return Ue("div",je({css:s("menuList",e),className:i({"menu-list":!0,"menu-list--is-multi":u},r),ref:a},o),n)},L8=function(e){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{color:i.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px"),textAlign:"center"}},ICe=L8,CCe=L8,V8=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("noOptionsMessage",e),className:i({"menu-notice":!0,"menu-notice--no-options":!0},r)},o),n)};V8.defaultProps={children:"No options"};var U8=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("loadingMessage",e),className:i({"menu-notice":!0,"menu-notice--loading":!0},r)},o),n)};U8.defaultProps={children:"Loading..."};var ACe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},PCe=function(t){em(n,t);var e=nm(n);function n(){var r;Jp(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),r.state={placement:null},r.getPortalPlacement=function(a){var u=a.placement,l=fS(r.props.menuPlacement);u!==l&&r.setState({placement:u})},r}return Zp(n,[{key:"render",value:function(){var i=this.props,s=i.appendTo,o=i.children,a=i.className,u=i.controlElement,l=i.cx,c=i.innerProps,d=i.menuPlacement,h=i.menuPosition,p=i.getStyles,m=h==="fixed";if(!s&&!m||!u)return null;var y=this.state.placement||fS(d),g=mCe(u),v=m?0:window.pageYOffset,_=g[y]+v,b={offset:_,position:h,rect:g},w=Ue("div",je({css:p("menuPortal",b),className:l({"menu-portal":!0},a)},c),o);return Ue(M8.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},s?zc.createPortal(w,s):w)}}]),n}(C.Component),RCe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":null,pointerEvents:n?"none":null,position:"relative"}},OCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps,a=e.isDisabled,u=e.isRtl;return Ue("div",je({css:s("container",e),className:i({"--is-disabled":a,"--is-rtl":u},r)},o),n)},kCe=function(e){var n=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},xCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.innerProps,o=e.isMulti,a=e.getStyles,u=e.hasValue;return Ue("div",je({css:a("valueContainer",e),className:i({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":u},r)},s),n)},NCe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},DCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.innerProps,o=e.getStyles;return Ue("div",je({css:o("indicatorsContainer",e),className:i({indicators:!0},r)},s),n)},HN,FCe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},j8=function(e){var n=e.size,r=Ta(e,["size"]);return Ue("svg",je({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:FCe},r))},fP=function(e){return Ue(j8,je({size:20},e),Ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},B8=function(e){return Ue(j8,je({size:20},e),Ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},z8=function(e){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return{label:"indicatorContainer",color:n?s.neutral60:s.neutral20,display:"flex",padding:i*2,transition:"color 150ms",":hover":{color:n?s.neutral80:s.neutral40}}},MCe=z8,$Ce=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("dropdownIndicator",e),className:i({indicator:!0,"dropdown-indicator":!0},r)},o),n||Ue(B8,null))},LCe=z8,VCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("clearIndicator",e),className:i({indicator:!0,"clear-indicator":!0},r)},o),n||Ue(fP,null))},UCe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:n?s.neutral10:s.neutral20,marginBottom:i*2,marginTop:i*2,width:1}},jCe=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=e.innerProps;return Ue("span",je({},s,{css:i("indicatorSeparator",e),className:r({"indicator-separator":!0},n)}))},BCe=WIe(HN||(HN=XIe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),zCe=function(e){var n=e.isFocused,r=e.size,i=e.theme,s=i.colors,o=i.spacing.baseUnit;return{label:"loadingIndicator",color:n?s.neutral60:s.neutral20,display:"flex",padding:o*2,transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"}},Cw=function(e){var n=e.delay,r=e.offset;return Ue("span",{css:cP({animation:"".concat(BCe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},q8=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=e.innerProps,o=e.isRtl;return Ue("div",je({css:i("loadingIndicator",e),className:r({indicator:!0,"loading-indicator":!0},n)},s),Ue(Cw,{delay:0,offset:o}),Ue(Cw,{delay:160,offset:!0}),Ue(Cw,{delay:320,offset:!o}))};q8.defaultProps={size:4};var qCe=function(e){var n=e.isDisabled,r=e.isFocused,i=e.theme,s=i.colors,o=i.borderRadius,a=i.spacing;return{label:"control",alignItems:"center",backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:r?s.primary:s.neutral30}}},HCe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.className,o=e.isDisabled,a=e.isFocused,u=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Ue("div",je({ref:u,css:i("control",e),className:r({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},s)},l),n)},WCe=function(e){var n=e.theme.spacing;return{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},GCe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.Heading,a=e.headingProps,u=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return Ue("div",je({css:s("group",e),className:i({group:!0},r)},u),Ue(o,je({},a,{selectProps:d,theme:c,getStyles:s,cx:i}),l),Ue("div",null,n))},KCe=function(e){var n=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:n.baseUnit*3,paddingRight:n.baseUnit*3,textTransform:"uppercase"}},QCe=function(e){var n=e.getStyles,r=e.cx,i=e.className,s=N8(e);s.data;var o=Ta(s,["data"]);return Ue("div",je({css:n("groupHeading",e),className:r({"group-heading":!0},i)},o))},YCe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:n?"hidden":"visible",color:s.neutral80}},XCe=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},JCe=function(e){var n=e.className,r=e.cx,i=e.getStyles,s=N8(e),o=s.innerRef,a=s.isDisabled,u=s.isHidden,l=Ta(s,["innerRef","isDisabled","isHidden"]);return Ue("div",{css:i("input",e)},Ue(sCe,je({className:r({input:!0},n),inputRef:o,inputStyle:XCe(u),disabled:a},l)))},ZCe=function(e){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors;return{label:"multiValue",backgroundColor:s.neutral10,borderRadius:i/2,display:"flex",margin:r.baseUnit/2,minWidth:0}},eAe=function(e){var n=e.theme,r=n.borderRadius,i=n.colors,s=e.cropWithEllipsis;return{borderRadius:r/2,color:i.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:s?"ellipsis":null,whiteSpace:"nowrap"}},tAe=function(e){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors,o=e.isFocused;return{alignItems:"center",borderRadius:i/2,backgroundColor:o&&s.dangerLight,display:"flex",paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}}},H8=function(e){var n=e.children,r=e.innerProps;return Ue("div",r,n)},nAe=H8,rAe=H8;function iAe(t){var e=t.children,n=t.innerProps;return Ue("div",n,e||Ue(fP,{size:14}))}var W8=function(e){var n=e.children,r=e.className,i=e.components,s=e.cx,o=e.data,a=e.getStyles,u=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,h=i.Container,p=i.Label,m=i.Remove;return Ue(YIe,null,function(y){var g=y.css,v=y.cx;return Ue(h,{data:o,innerProps:Sn({className:v(g(a("multiValue",e)),s({"multi-value":!0,"multi-value--is-disabled":l},r))},u),selectProps:d},Ue(p,{data:o,innerProps:{className:v(g(a("multiValueLabel",e)),s({"multi-value__label":!0},r))},selectProps:d},n),Ue(m,{data:o,innerProps:Sn({className:v(g(a("multiValueRemove",e)),s({"multi-value__remove":!0},r))},c),selectProps:d}))})};W8.defaultProps={cropWithEllipsis:!0};var sAe=function(e){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.theme,o=s.spacing,a=s.colors;return{label:"option",backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!n&&(i?a.primary:a.primary50)}}},oAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.isDisabled,a=e.isFocused,u=e.isSelected,l=e.innerRef,c=e.innerProps;return Ue("div",je({css:s("option",e),className:i({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":u},r),ref:l},c),n)},aAe=function(e){var n=e.theme,r=n.spacing,i=n.colors;return{label:"placeholder",color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},uAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.innerProps;return Ue("div",je({css:s("placeholder",e),className:i({placeholder:!0},r)},o),n)},lAe=function(e){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return{label:"singleValue",color:n?s.neutral40:s.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,maxWidth:"calc(100% - ".concat(i.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},cAe=function(e){var n=e.children,r=e.className,i=e.cx,s=e.getStyles,o=e.isDisabled,a=e.innerProps;return Ue("div",je({css:s("singleValue",e),className:i({"single-value":!0,"single-value--is-disabled":o},r)},a),n)},dAe={ClearIndicator:VCe,Control:HCe,DropdownIndicator:$Ce,DownChevron:B8,CrossIcon:fP,Group:GCe,GroupHeading:QCe,IndicatorsContainer:DCe,IndicatorSeparator:jCe,Input:JCe,LoadingIndicator:q8,Menu:ECe,MenuList:TCe,MenuPortal:PCe,LoadingMessage:U8,NoOptionsMessage:V8,MultiValue:W8,MultiValueContainer:nAe,MultiValueLabel:rAe,MultiValueRemove:iAe,Option:oAe,Placeholder:uAe,SelectContainer:OCe,SingleValue:cAe,ValueContainer:xCe},hAe=function(e){return Sn(Sn({},dAe),e.components)},WN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function fAe(t,e){return!!(t===e||WN(t)&&WN(e))}function pAe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!fAe(t[n],e[n]))return!1;return!0}function mAe(t,e){e===void 0&&(e=pAe);var n,r=[],i,s=!1;function o(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var gAe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vAe=function(e){return Ue("span",je({css:gAe},e))},yAe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=r===void 0?{}:r,s=e.options,o=e.label,a=o===void 0?"":o,u=e.selectValue,l=e.isDisabled,c=e.isSelected,d=function(y,g){return y&&y.length?"".concat(y.indexOf(g)+1," of ").concat(y.length):""};if(n==="value"&&u)return"value ".concat(a," focused, ").concat(d(u,i),".");if(n==="menu"){var h=l?" disabled":"",p="".concat(c?"selected":"focused").concat(h);return"option ".concat(a," ").concat(p,", ").concat(d(s,i),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},_Ae=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,u=e.selectProps,l=u.ariaLiveMessages,c=u.getOptionLabel,d=u.inputValue,h=u.isMulti,p=u.isOptionDisabled,m=u.isSearchable,y=u.menuIsOpen,g=u.options,v=u.screenReaderStatus,_=u.tabSelectsValue,b=u["aria-label"],w=u["aria-live"],E=C.useMemo(function(){return Sn(Sn({},yAe),l||{})},[l]),A=C.useMemo(function(){var ce="";if(n&&E.onChange){var de=n.option,Ee=n.removedValue,j=n.value,W=function(Y){return Array.isArray(Y)?null:Y},ee=Ee||de||W(j),F=Sn({isDisabled:ee&&p(ee),label:ee?c(ee):""},n);ce=E.onChange(F)}return ce},[n,p,c,E]),R=C.useMemo(function(){var ce="",de=r||i,Ee=!!(r&&a&&a.includes(r));if(de&&E.onFocus){var j={focused:de,label:c(de),isDisabled:p(de),isSelected:Ee,options:g,context:de===r?"menu":"value",selectValue:a};ce=E.onFocus(j)}return ce},[r,i,c,p,E,g,a]),$=C.useMemo(function(){var ce="";if(y&&g.length&&E.onFilter){var de=v({count:s.length});ce=E.onFilter({inputValue:d,resultsMessage:de})}return ce},[s,d,y,E,g,v]),Q=C.useMemo(function(){var ce="";if(E.guidance){var de=i?"value":y?"menu":"input";ce=E.guidance({"aria-label":b,context:de,isDisabled:r&&p(r),isMulti:h,isSearchable:m,tabSelectsValue:_})}return ce},[b,r,i,h,p,m,y,E,_]),te="".concat(R," ").concat($," ").concat(Q);return Ue(vAe,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},o&&Ue(qe.Fragment,null,Ue("span",{id:"aria-selection"},A),Ue("span",{id:"aria-context"},te)))},pS=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],wAe=new RegExp("["+pS.map(function(t){return t.letters}).join("")+"]","g"),G8={};for(var Aw=0;Aw<pS.length;Aw++)for(var Pw=pS[Aw],Rw=0;Rw<Pw.letters.length;Rw++)G8[Pw.letters[Rw]]=Pw.base;var K8=function(e){return e.replace(wAe,function(n){return G8[n]})},bAe=mAe(K8),GN=function(e){return e.replace(/^\s+|\s+$/g,"")},EAe=function(e){return"".concat(e.label," ").concat(e.value)},SAe=function(e){return function(n,r){var i=Sn({ignoreCase:!0,ignoreAccents:!0,stringify:EAe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,u=i.trim,l=i.matchFrom,c=u?GN(r):r,d=u?GN(a(n)):a(n);return s&&(c=c.toLowerCase(),d=d.toLowerCase()),o&&(c=bAe(c),d=K8(d)),l==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}};function TAe(t){t.in,t.out,t.onExited,t.appear,t.enter,t.exit;var e=t.innerRef;t.emotion;var n=Ta(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Ue("input",je({ref:e},n,{css:cP({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var IAe=function(e){e.preventDefault(),e.stopPropagation()};function CAe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=C.useRef(!1),a=C.useRef(!1),u=C.useRef(0),l=C.useRef(null),c=C.useCallback(function(g,v){if(l.current!==null){var _=l.current,b=_.scrollTop,w=_.scrollHeight,E=_.clientHeight,A=l.current,R=v>0,$=w-E-b,Q=!1;$>v&&o.current&&(r&&r(g),o.current=!1),R&&a.current&&(s&&s(g),a.current=!1),R&&v>$?(n&&!o.current&&n(g),A.scrollTop=w,Q=!0,o.current=!0):!R&&-v>b&&(i&&!a.current&&i(g),A.scrollTop=0,Q=!0,a.current=!0),Q&&IAe(g)}},[]),d=C.useCallback(function(g){c(g,g.deltaY)},[c]),h=C.useCallback(function(g){u.current=g.changedTouches[0].clientY},[]),p=C.useCallback(function(g){var v=u.current-g.changedTouches[0].clientY;c(g,v)},[c]),m=C.useCallback(function(g){if(g){var v=yCe?{passive:!1}:!1;typeof g.addEventListener=="function"&&g.addEventListener("wheel",d,v),typeof g.addEventListener=="function"&&g.addEventListener("touchstart",h,v),typeof g.addEventListener=="function"&&g.addEventListener("touchmove",p,v)}},[p,h,d]),y=C.useCallback(function(g){g&&(typeof g.removeEventListener=="function"&&g.removeEventListener("wheel",d,!1),typeof g.removeEventListener=="function"&&g.removeEventListener("touchstart",h,!1),typeof g.removeEventListener=="function"&&g.removeEventListener("touchmove",p,!1))},[p,h,d]);return C.useEffect(function(){if(e){var g=l.current;return m(g),function(){y(g)}}},[e,m,y]),function(g){l.current=g}}var KN=["boxSizing","height","overflow","paddingRight","position"],QN={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function YN(t){t.preventDefault()}function XN(t){t.stopPropagation()}function JN(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ZN(){return"ontouchstart"in window||navigator.maxTouchPoints}var eD=!!(typeof window<"u"&&window.document&&window.document.createElement),Kd=0,yl={capture:!1,passive:!1};function AAe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=C.useRef({}),s=C.useRef(null),o=C.useCallback(function(u){if(eD){var l=document.body,c=l&&l.style;if(r&&KN.forEach(function(m){var y=c&&c[m];i.current[m]=y}),r&&Kd<1){var d=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+d||0;Object.keys(QN).forEach(function(m){var y=QN[m];c&&(c[m]=y)}),c&&(c.paddingRight="".concat(p,"px"))}l&&ZN()&&(l.addEventListener("touchmove",YN,yl),u&&(u.addEventListener("touchstart",JN,yl),u.addEventListener("touchmove",XN,yl))),Kd+=1}},[]),a=C.useCallback(function(u){if(eD){var l=document.body,c=l&&l.style;Kd=Math.max(Kd-1,0),r&&Kd<1&&KN.forEach(function(d){var h=i.current[d];c&&(c[d]=h)}),l&&ZN()&&(l.removeEventListener("touchmove",YN,yl),u&&(u.removeEventListener("touchstart",JN,yl),u.removeEventListener("touchmove",XN,yl)))}},[]);return C.useEffect(function(){if(e){var u=s.current;return o(u),function(){a(u)}}},[e,o,a]),function(u){s.current=u}}var PAe=function(){return document.activeElement&&document.activeElement.blur()},RAe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function OAe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,u=t.onTopLeave,l=CAe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:u}),c=AAe({isEnabled:n}),d=function(p){l(p),c(p)};return Ue(qe.Fragment,null,n&&Ue("div",{onClick:PAe,css:RAe}),e(d))}var kAe=function(e){return e.label},Q8=function(e){return e.label},Y8=function(e){return e.value},xAe=function(e){return!!e.isDisabled},NAe={clearIndicator:LCe,container:RCe,control:qCe,dropdownIndicator:MCe,group:WCe,groupHeading:KCe,indicatorsContainer:NCe,indicatorSeparator:UCe,input:YCe,loadingIndicator:zCe,loadingMessage:CCe,menu:bCe,menuList:SCe,menuPortal:ACe,multiValue:ZCe,multiValueLabel:eAe,multiValueRemove:tAe,noOptionsMessage:ICe,option:sAe,placeholder:aAe,singleValue:lAe,valueContainer:kCe},DAe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},FAe=4,X8=4,MAe=38,$Ae=X8*2,LAe={baseUnit:X8,controlHeight:MAe,menuGutter:$Ae},Ow={borderRadius:FAe,colors:DAe,spacing:LAe},VAe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:qN(),captureMenuScroll:!qN(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:SAe(),formatGroupLabel:kAe,getOptionLabel:Q8,getOptionValue:Y8,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:xAe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!gCe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function tD(t,e,n,r){var i=tj(t,e,n),s=nj(t,e,n),o=ej(t,e),a=Ty(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function J8(t,e){return t.options.map(function(n,r){if(n.options){var i=n.options.map(function(o,a){return tD(t,o,e,a)}).filter(function(o){return nD(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=tD(t,n,e,r);return nD(t,s)?s:void 0}).filter(function(n){return!!n})}function Z8(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,jh(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function UAe(t,e){return Z8(J8(t,e))}function nD(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!ij(t)||!s)&&rj(t,{label:o,value:a,data:i},r)}function jAe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function BAe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ej=function(e,n){return e.getOptionLabel(n)},Ty=function(e,n){return e.getOptionValue(n)};function tj(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function nj(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Ty(t,e);return n.some(function(i){return Ty(t,i)===r})}function rj(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var ij=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},zAe=1,pP=function(t){em(n,t);var e=nm(n);function n(r){var i;return Jp(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(s){i.controlRef=s},i.focusedOptionRef=null,i.getFocusedOptionRef=function(s){i.focusedOptionRef=s},i.menuListRef=null,i.getMenuListRef=function(s){i.menuListRef=s},i.inputRef=null,i.getInputRef=function(s){i.inputRef=s},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(s,o){var a=i.props,u=a.onChange,l=a.name;o.name=l,i.ariaOnChange(s,o),u(s,o)},i.setValue=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",a=arguments.length>2?arguments[2]:void 0,u=i.props,l=u.closeMenuOnSelect,c=u.isMulti;i.onInputChange("",{action:"set-value"}),l&&(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(s,{action:o,option:a})},i.selectOption=function(s){var o=i.props,a=o.blurInputOnSelect,u=o.isMulti,l=o.name,c=i.state.selectValue,d=u&&i.isOptionSelected(s,c),h=i.isOptionDisabled(s,c);if(d){var p=i.getOptionValue(s);i.setValue(c.filter(function(m){return i.getOptionValue(m)!==p}),"deselect-option",s)}else if(!h)u?i.setValue([].concat(jh(c),[s]),"select-option",s):i.setValue(s,"select-option");else{i.ariaOnChange(s,{action:"select-option",name:l});return}a&&i.blurInput()},i.removeValue=function(s){var o=i.props.isMulti,a=i.state.selectValue,u=i.getOptionValue(s),l=a.filter(function(d){return i.getOptionValue(d)!==u}),c=o?l:l[0]||null;i.onChange(c,{action:"remove-value",removedValue:s}),i.focusInput()},i.clearValue=function(){var s=i.state.selectValue;i.onChange(i.props.isMulti?[]:null,{action:"clear",removedValues:s})},i.popValue=function(){var s=i.props.isMulti,o=i.state.selectValue,a=o[o.length-1],u=o.slice(0,o.length-1),l=s?u:u[0]||null;i.onChange(l,{action:"pop-value",removedValue:a})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return dCe.apply(void 0,[i.props.classNamePrefix].concat(o))},i.getOptionLabel=function(s){return ej(i.props,s)},i.getOptionValue=function(s){return Ty(i.props,s)},i.getStyles=function(s,o){var a=NAe[s](o);a.boxSizing="border-box";var u=i.props.styles[s];return u?u(a,o):a},i.getElementId=function(s){return"".concat(i.instancePrefix,"-").concat(s)},i.getComponents=function(){return hAe(i.props)},i.buildCategorizedOptions=function(){return J8(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Z8(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(s,o){i.setState({ariaSelection:Sn({value:s},o)})},i.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(s){i.blockOptionHover=!1},i.onControlMouseDown=function(s){var o=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&i.onMenuClose():o&&i.openMenu("first"):(o&&(i.openAfterFocus=!0),i.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()},i.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!i.props.isDisabled){var o=i.props,a=o.isMulti,u=o.menuIsOpen;i.focusInput(),u?(i.setState({inputIsHiddenAfterUpdate:!a}),i.onMenuClose()):i.openMenu("first"),s.preventDefault(),s.stopPropagation()}},i.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(i.clearValue(),s.stopPropagation(),i.openAfterFocus=!1,s.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(s){typeof i.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&hP(s.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(s)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(s){var o=s.touches,a=o&&o.item(0);a&&(i.initialTouchX=a.clientX,i.initialTouchY=a.clientY,i.userIsDragging=!1)},i.onTouchMove=function(s){var o=s.touches,a=o&&o.item(0);if(a){var u=Math.abs(a.clientX-i.initialTouchX),l=Math.abs(a.clientY-i.initialTouchY),c=5;i.userIsDragging=u>c||l>c}},i.onTouchEnd=function(s){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(s.target)&&i.menuListRef&&!i.menuListRef.contains(s.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(s){i.userIsDragging||i.onControlMouseDown(s)},i.onClearIndicatorTouchEnd=function(s){i.userIsDragging||i.onClearIndicatorMouseDown(s)},i.onDropdownIndicatorTouchEnd=function(s){i.userIsDragging||i.onDropdownIndicatorMouseDown(s)},i.handleInputChange=function(s){var o=s.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(o,{action:"input-change"}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(s){i.props.onFocus&&i.props.onFocus(s),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(s){if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(s),i.onInputChange("",{action:"input-blur"}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(s){i.blockOptionHover||i.state.focusedOption===s||i.setState({focusedOption:s})},i.shouldHideSelectedOptions=function(){return ij(i.props)},i.onKeyDown=function(s){var o=i.props,a=o.isMulti,u=o.backspaceRemovesValue,l=o.escapeClearsValue,c=o.inputValue,d=o.isClearable,h=o.isDisabled,p=o.menuIsOpen,m=o.onKeyDown,y=o.tabSelectsValue,g=o.openMenuOnFocus,v=i.state,_=v.focusedOption,b=v.focusedValue,w=v.selectValue;if(!h&&!(typeof m=="function"&&(m(s),s.defaultPrevented))){switch(i.blockOptionHover=!0,s.key){case"ArrowLeft":if(!a||c)return;i.focusValue("previous");break;case"ArrowRight":if(!a||c)return;i.focusValue("next");break;case"Delete":case"Backspace":if(c)return;if(b)i.removeValue(b);else{if(!u)return;a?i.popValue():d&&i.clearValue()}break;case"Tab":if(i.isComposing||s.shiftKey||!p||!y||!_||g&&i.isOptionSelected(_,w))return;i.selectOption(_);break;case"Enter":if(s.keyCode===229)break;if(p){if(!_||i.isComposing)return;i.selectOption(_);break}return;case"Escape":p?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close"}),i.onMenuClose()):d&&l&&i.clearValue();break;case" ":if(c)return;if(!p){i.openMenu("first");break}if(!_)return;i.selectOption(_);break;case"ArrowUp":p?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":p?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!p)return;i.focusOption("pageup");break;case"PageDown":if(!p)return;i.focusOption("pagedown");break;case"Home":if(!p)return;i.focusOption("first");break;case"End":if(!p)return;i.focusOption("last");break;default:return}s.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++zAe),i.state.selectValue=Ey(r.value),i}return Zp(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&i.isDisabled||u&&a&&!i.menuIsOpen)&&this.focusInput(),u&&o&&!i.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(pCe(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,u=o.isFocused,l=this.buildFocusableOptions(),c=i==="first"?0:l.length-1;if(!this.props.isMulti){var d=l.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(a);a||(u=-1);var l=o.length-1,c=-1;if(o.length){switch(i){case"previous":u===0?c=0:u===-1?c=l:c=u-1;break;case"next":u>-1&&u<l&&(c=u+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var u=0,l=a.indexOf(o);o||(l=-1),i==="up"?u=l>0?l-1:a.length-1:i==="down"?u=(l+1)%a.length:i==="pageup"?(u=l-s,u<0&&(u=0)):i==="pagedown"?(u=l+s,u>a.length-1&&(u=a.length-1)):i==="last"&&(u=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[u],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ow):Sn(Sn({},Ow),this.props.theme):Ow}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getValue,u=this.selectOption,l=this.setValue,c=this.props,d=c.isMulti,h=c.isRtl,p=c.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getValue:a,hasValue:m,isMulti:d,isRtl:h,options:p,selectOption:u,selectProps:c,setValue:l,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return tj(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return nj(this.props,i,s)}},{key:"filterOption",value:function(i,s){return rj(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,u=i.inputValue,l=i.tabIndex,c=i.form,d=this.getComponents(),h=d.Input,p=this.state.inputIsHidden,m=this.commonProps,y=a||this.getElementId("input"),g={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return o?f(h,{...m,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:c,type:"text",value:u,...g}):f(TAe,{id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:by,onFocus:this.onInputFocus,readOnly:!0,disabled:s,tabIndex:l,form:c,value:"",...g})}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,u=s.MultiValueLabel,l=s.MultiValueRemove,c=s.SingleValue,d=s.Placeholder,h=this.commonProps,p=this.props,m=p.controlShouldRenderValue,y=p.isDisabled,g=p.isMulti,v=p.inputValue,_=p.placeholder,b=this.state,w=b.selectValue,E=b.focusedValue,A=b.isFocused;if(!this.hasValue()||!m)return v?null:C.createElement(d,{...h,key:"placeholder",isDisabled:y,isFocused:A},_);if(g){var R=w.map(function(Q,te){var ce=Q===E;return C.createElement(o,{...h,components:{Container:a,Label:u,Remove:l},isFocused:ce,isDisabled:y,key:"".concat(i.getOptionValue(Q)).concat(te),index:te,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(Ee){Ee.preventDefault(),Ee.stopPropagation()}},data:Q},i.formatOptionLabel(Q,"value"))});return R}if(v)return null;var $=w[0];return f(c,{...h,data:$,isDisabled:y,children:this.formatOptionLabel($,"value")})}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||l)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f(s,{...o,innerProps:d,isFocused:c})}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!s||!l)return null;var d={"aria-hidden":"true"};return f(s,{...o,innerProps:d,isDisabled:u,isFocused:c})}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,u=this.props.isDisabled,l=this.state.isFocused;return f(o,{...a,isDisabled:u,isFocused:l})}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f(s,{...o,innerProps:l,isDisabled:a,isFocused:u})}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,u=s.Menu,l=s.MenuList,c=s.MenuPortal,d=s.LoadingMessage,h=s.NoOptionsMessage,p=s.Option,m=this.commonProps,y=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,_=g.inputValue,b=g.isLoading,w=g.loadingMessage,E=g.minMenuHeight,A=g.maxMenuHeight,R=g.menuIsOpen,$=g.menuPlacement,Q=g.menuPosition,te=g.menuPortalTarget,ce=g.menuShouldBlockScroll,de=g.menuShouldScrollIntoView,Ee=g.noOptionsMessage,j=g.onMenuScrollToTop,W=g.onMenuScrollToBottom;if(!R)return null;var ee=function(q,B){var S=q.type,x=q.data,le=q.isDisabled,X=q.isSelected,xe=q.label,Re=q.value,Me=y===x,Te=le?void 0:function(){return i.onOptionHover(x)},We=le?void 0:function(){return i.selectOption(x)},Be="".concat(i.getElementId("option"),"-").concat(B),L={id:Be,onClick:We,onMouseMove:Te,onMouseOver:Te,tabIndex:-1};return C.createElement(p,{...m,innerProps:L,data:x,isDisabled:le,isSelected:X,key:Be,label:xe,type:S,value:Re,isFocused:Me,innerRef:Me?i.getFocusedOptionRef:void 0},i.formatOptionLabel(q.data,"menu"))},F;if(this.hasOptions())F=this.getCategorizedOptions().map(function(N){if(N.type==="group"){var q=N.data,B=N.options,S=N.index,x="".concat(i.getElementId("group"),"-").concat(S),le="".concat(x,"-heading");return C.createElement(o,{...m,key:x,data:q,options:B,Heading:a,headingProps:{id:le,data:N.data},label:i.formatGroupLabel(N.data)},N.options.map(function(X){return ee(X,"".concat(S,"-").concat(X.index))}))}else if(N.type==="option")return ee(N,"".concat(N.index))});else if(b){var U=w({inputValue:_});if(U===null)return null;F=f(d,{...m,children:U})}else{var Y=Ee({inputValue:_});if(Y===null)return null;F=f(h,{...m,children:Y})}var M={minMenuHeight:E,maxMenuHeight:A,menuPlacement:$,menuPosition:Q,menuShouldScrollIntoView:de},V=f($8,{...m,...M,children:function(N){var q=N.ref,B=N.placerProps,S=B.placement,x=B.maxHeight;return f(u,{...m,...M,innerRef:q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:b,placement:S,children:f(OAe,{captureEnabled:v,onTopArrive:j,onBottomArrive:W,lockEnabled:ce,children:function(le){return f(l,{...m,innerRef:function(xe){i.getMenuListRef(xe),le(xe)},isLoading:b,maxHeight:x,focusedOption:y,children:F})}})})}});return te||Q==="fixed"?f(c,{...m,appendTo:te,controlElement:this.controlRef,menuPlacement:$,menuPosition:Q,children:V}):V}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,u=s.isMulti,l=s.name,c=this.state.selectValue;if(!(!l||a))if(u)if(o){var d=c.map(function(m){return i.getOptionValue(m)}).join(o);return f("input",{name:l,type:"hidden",value:d})}else{var h=c.length>0?c.map(function(m,y){return f("input",{name:l,type:"hidden",value:i.getOptionValue(m)},"i-".concat(y))}):f("input",{name:l,type:"hidden"});return f("div",{children:h})}else{var p=c[0]?this.getOptionValue(c[0]):"";return f("input",{name:l,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,u=s.focusedValue,l=s.isFocused,c=s.selectValue,d=this.getFocusableOptions();return f(_Ae,{...i,ariaSelection:o,focusedOption:a,focusedValue:u,isFocused:l,selectValue:c,focusableOptions:d})}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,u=i.ValueContainer,l=this.props,c=l.className,d=l.id,h=l.isDisabled,p=l.menuIsOpen,m=this.state.isFocused,y=this.commonProps=this.getCommonProps();return O(a,{...y,className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:m,children:[this.renderLiveRegion(),O(s,{...y,innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:m,menuIsOpen:p,children:[O(u,{...y,isDisabled:h,children:[this.renderPlaceholderOrValue(),this.renderInput()]}),O(o,{...y,isDisabled:h,children:[this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator()]})]}),this.renderMenu(),this.renderFormField()]})}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,l=i.options,c=i.value,d=i.menuIsOpen,h=i.inputValue,p={};if(o&&(c!==o.value||l!==o.options||d!==o.menuIsOpen||h!==o.inputValue)){var m=Ey(c),y=d?UAe(i,m):[],g=a?jAe(s,m):null,v=BAe(s,y);p={selectValue:m,focusedOption:v,focusedValue:g,clearFocusValueOnUpdate:!1}}var _=u!=null&&i!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{};return Sn(Sn(Sn({},p),_),{},{prevProps:i})}}]),n}(C.Component);pP.defaultProps=VAe;var qAe={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},sj=function(e){var n,r;return r=n=function(i){em(o,i);var s=nm(o);function o(){var a;Jp(this,o);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),a.select=void 0,a.state={inputValue:a.props.inputValue!==void 0?a.props.inputValue:a.props.defaultInputValue,menuIsOpen:a.props.menuIsOpen!==void 0?a.props.menuIsOpen:a.props.defaultMenuIsOpen,value:a.props.value!==void 0?a.props.value:a.props.defaultValue},a.onChange=function(d,h){a.callProp("onChange",d,h),a.setState({value:d})},a.onInputChange=function(d,h){var p=a.callProp("onInputChange",d,h);a.setState({inputValue:p!==void 0?p:d})},a.onMenuOpen=function(){a.callProp("onMenuOpen"),a.setState({menuIsOpen:!0})},a.onMenuClose=function(){a.callProp("onMenuClose"),a.setState({menuIsOpen:!1})},a}return Zp(o,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(u){return this.props[u]!==void 0?this.props[u]:this.state[u]}},{key:"callProp",value:function(u){if(typeof this.props[u]=="function"){for(var l,c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return(l=this.props)[u].apply(l,d)}}},{key:"render",value:function(){var u=this,l=this.props;l.defaultInputValue,l.defaultMenuIsOpen,l.defaultValue;var c=Ta(l,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return f(e,{...c,ref:function(h){u.select=h},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")})}}]),o}(C.Component),n.defaultProps=qAe,r},rD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},HAe={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return rD(e,s,i)})||r.some(function(s){return rD(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}},getOptionValue:Y8,getOptionLabel:Q8},WAe=Sn({allowCreateWhileLoading:!1,createOptionPosition:"last"},HAe),GAe=function(e){var n,r;return r=n=function(i){em(o,i);var s=nm(o);function o(a){var u;Jp(this,o),u=s.call(this,a),u.select=void 0,u.onChange=function(c,d){var h=u.props,p=h.getNewOptionData,m=h.inputValue,y=h.isMulti,g=h.onChange,v=h.onCreateOption,_=h.value,b=h.name;if(d.action!=="select-option")return g(c,d);var w=u.state.newOption,E=Array.isArray(c)?c:[c];if(E[E.length-1]===w){if(v)v(m);else{var A=p(m,m),R={action:"create-option",name:b,option:A};g(y?[].concat(jh(Ey(_)),[A]):A,R)}return}g(c,d)};var l=a.options||[];return u.state={newOption:void 0,options:l},u}return Zp(o,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var u=this,l=this.state.options;return f(e,{...this.props,ref:function(d){u.select=d},options:l,onChange:this.onChange})}}],[{key:"getDerivedStateFromProps",value:function(u,l){var c=u.allowCreateWhileLoading,d=u.createOptionPosition,h=u.formatCreateLabel,p=u.getNewOptionData,m=u.inputValue,y=u.isLoading,g=u.isValidNewOption,v=u.value,_=u.getOptionValue,b=u.getOptionLabel,w=u.options||[],E=l.newOption;return g(m,Ey(v),w,{getOptionValue:_,getOptionLabel:b})?E=p(m,h(m)):E=void 0,{newOption:E,options:(c||!y)&&E?d==="first"?[E].concat(jh(w)):[].concat(jh(w),[E]):w}}}]),o}(C.Component),n.defaultProps=WAe,r},KAe=GAe(pP),QAe=sj(KAe);const YAe=QAe,Bh=t=>{const[e,n,r]=o9(t),{options:i,defaultValue:s,label:o,placeholder:a,isMulti:u,type:l,iid:c}=t,{touched:d,error:h}=n,{setValue:p}=r,m=g=>{if(Array.isArray(g)){const v=g.map(_=>_.value);p(v)}else p(g.value)},y=g=>{if(l==="number"){const{key:v}=g.nativeEvent;/\D/.test(v)&&v!=="Backspace"&&g.preventDefault()}};return O("div",{className:"input-group",children:[d&&h?f("span",{className:"label-input label-error",children:h}):f("label",{className:"label-input",htmlFor:e.name,children:o}),f(YAe,{isMulti:u,placeholder:a,name:e.name,onChange:m,onKeyDown:y,defaultValue:s,options:i,instanceId:c,styles:{menu:g=>({...g,zIndex:10}),container:g=>({...g,marginBottom:"1.2rem"}),control:g=>({...g,border:d&&h?"1px solid red":"1px solid #cacaca"})}})]})};Bh.defaultProps={isMulti:!1,placeholder:"",iid:"",options:[],type:"string"};Bh.propTypes={options:T.arrayOf(T.object),defaultValue:T.oneOfType([T.object,T.array]).isRequired,label:T.string.isRequired,placeholder:T.string,isMulti:T.bool,type:T.string,iid:T.string};const cr=({field:t,form:{touched:e,errors:n},label:r,inputRef:i,...s})=>O("div",{className:"input-group",children:[e[t.name]&&n[t.name]?f("span",{className:"label-input label-error",children:n[t.name]}):f("label",{className:"label-input",htmlFor:t.name,children:r}),f("input",{type:"text",id:t.name,className:`input-form ${e[t.name]&&n[t.name]&&"input-error"}`,ref:i,...t,...s})]});cr.defaultProps={inputRef:void 0};cr.propTypes={label:T.string.isRequired,field:T.object.isRequired,form:T.object.isRequired,inputRef:T.oneOfType([T.func,T.shape({current:T.instanceOf(Element)})])};var XAe=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(s,o,(function(a){return r[a]}).bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=9)}([function(t,e){t.exports=C},function(t,e,n){var r;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function s(){for(var o=[],a=0;a<arguments.length;a++){var u=arguments[a];if(u){var l=typeof u;if(l==="string"||l==="number")o.push(u);else if(Array.isArray(u)&&u.length){var c=s.apply(null,u);c&&o.push(c)}else if(l==="object")for(var d in u)i.call(u,d)&&u[d]&&o.push(d)}}return o.join(" ")}t.exports?(s.default=s,t.exports=s):(r=(function(){return s}).apply(e,[]))===void 0||(t.exports=r)})()},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype.toString,p=d.Symbol,m=p?p.prototype:void 0,y=m?m.toString:void 0;function g(w){if(typeof w=="string")return w;if(_(w))return y?y.call(w):"";var E=w+"";return E=="0"&&1/w==-1/0?"-0":E}function v(w){var E=typeof w;return!!w&&(E=="object"||E=="function")}function _(w){return typeof w=="symbol"||function(E){return!!E&&typeof E=="object"}(w)&&h.call(w)=="[object Symbol]"}function b(w){return w?(w=function(E){if(typeof E=="number")return E;if(_(E))return NaN;if(v(E)){var A=typeof E.valueOf=="function"?E.valueOf():E;E=v(A)?A+"":A}if(typeof E!="string")return E===0?E:+E;E=E.replace(i,"");var R=o.test(E);return R||a.test(E)?u(E.slice(2),R?2:8):s.test(E)?NaN:+E}(w))===1/0||w===-1/0?17976931348623157e292*(w<0?-1:1):w==w?w:0:w===0?w:0}t.exports=function(w,E,A){var R,$,Q,te;return w=(R=w)==null?"":g(R),$=function(ce){var de=b(ce),Ee=de%1;return de==de?Ee?de-Ee:de:0}(A),Q=0,te=w.length,$==$&&(te!==void 0&&($=$<=te?$:te),Q!==void 0&&($=$>=Q?$:Q)),A=$,E=g(E),w.slice(A,A+E.length)==E}}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}t.exports=n},function(t,e,n){(function(r){var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")(),u,l=Array.prototype,c=Function.prototype,d=Object.prototype,h=a["__core-js_shared__"],p=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",m=c.toString,y=d.hasOwnProperty,g=d.toString,v=RegExp("^"+m.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=l.splice,b=ce(a,"Map"),w=ce(Object,"create");function E(j){var W=-1,ee=j?j.length:0;for(this.clear();++W<ee;){var F=j[W];this.set(F[0],F[1])}}function A(j){var W=-1,ee=j?j.length:0;for(this.clear();++W<ee;){var F=j[W];this.set(F[0],F[1])}}function R(j){var W=-1,ee=j?j.length:0;for(this.clear();++W<ee;){var F=j[W];this.set(F[0],F[1])}}function $(j,W){for(var ee,F,U=j.length;U--;)if((ee=j[U][0])===(F=W)||ee!=ee&&F!=F)return U;return-1}function Q(j){return!(!Ee(j)||(W=j,p&&p in W))&&(function(ee){var F=Ee(ee)?g.call(ee):"";return F=="[object Function]"||F=="[object GeneratorFunction]"}(j)||function(ee){var F=!1;if(ee!=null&&typeof ee.toString!="function")try{F=!!(ee+"")}catch{}return F}(j)?v:i).test(function(ee){if(ee!=null){try{return m.call(ee)}catch{}try{return ee+""}catch{}}return""}(j));var W}function te(j,W){var ee,F,U=j.__data__;return((F=typeof(ee=W))=="string"||F=="number"||F=="symbol"||F=="boolean"?ee!=="__proto__":ee===null)?U[typeof W=="string"?"string":"hash"]:U.map}function ce(j,W){var ee=function(F,U){return F==null?void 0:F[U]}(j,W);return Q(ee)?ee:void 0}function de(j,W){if(typeof j!="function"||W&&typeof W!="function")throw new TypeError("Expected a function");var ee=function(){var F=arguments,U=W?W.apply(this,F):F[0],Y=ee.cache;if(Y.has(U))return Y.get(U);var M=j.apply(this,F);return ee.cache=Y.set(U,M),M};return ee.cache=new(de.Cache||R),ee}function Ee(j){var W=typeof j;return!!j&&(W=="object"||W=="function")}E.prototype.clear=function(){this.__data__=w?w(null):{}},E.prototype.delete=function(j){return this.has(j)&&delete this.__data__[j]},E.prototype.get=function(j){var W=this.__data__;if(w){var ee=W[j];return ee==="__lodash_hash_undefined__"?void 0:ee}return y.call(W,j)?W[j]:void 0},E.prototype.has=function(j){var W=this.__data__;return w?W[j]!==void 0:y.call(W,j)},E.prototype.set=function(j,W){return this.__data__[j]=w&&W===void 0?"__lodash_hash_undefined__":W,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(j){var W=this.__data__,ee=$(W,j);return!(ee<0)&&(ee==W.length-1?W.pop():_.call(W,ee,1),!0)},A.prototype.get=function(j){var W=this.__data__,ee=$(W,j);return ee<0?void 0:W[ee][1]},A.prototype.has=function(j){return $(this.__data__,j)>-1},A.prototype.set=function(j,W){var ee=this.__data__,F=$(ee,j);return F<0?ee.push([j,W]):ee[F][1]=W,this},R.prototype.clear=function(){this.__data__={hash:new E,map:new(b||A),string:new E}},R.prototype.delete=function(j){return te(this,j).delete(j)},R.prototype.get=function(j){return te(this,j).get(j)},R.prototype.has=function(j){return te(this,j).has(j)},R.prototype.set=function(j,W){return te(this,j).set(j,W),this},de.Cache=R,t.exports=de}).call(this,n(3))},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,y=function(){return d.Date.now()};function g(_){var b=typeof _;return!!_&&(b=="object"||b=="function")}function v(_){if(typeof _=="number")return _;if(function(E){return typeof E=="symbol"||function(A){return!!A&&typeof A=="object"}(E)&&h.call(E)=="[object Symbol]"}(_))return NaN;if(g(_)){var b=typeof _.valueOf=="function"?_.valueOf():_;_=g(b)?b+"":b}if(typeof _!="string")return _===0?_:+_;_=_.replace(i,"");var w=o.test(_);return w||a.test(_)?u(_.slice(2),w?2:8):s.test(_)?NaN:+_}t.exports=function(_,b,w){var E,A,R,$,Q,te,ce=0,de=!1,Ee=!1,j=!0;if(typeof _!="function")throw new TypeError("Expected a function");function W(V){var N=E,q=A;return E=A=void 0,ce=V,$=_.apply(q,N)}function ee(V){return ce=V,Q=setTimeout(U,b),de?W(V):$}function F(V){var N=V-te;return te===void 0||N>=b||N<0||Ee&&V-ce>=R}function U(){var V=y();if(F(V))return Y(V);Q=setTimeout(U,function(N){var q=b-(N-te);return Ee?m(q,R-(N-ce)):q}(V))}function Y(V){return Q=void 0,j&&E?W(V):(E=A=void 0,$)}function M(){var V=y(),N=F(V);if(E=arguments,A=this,te=V,N){if(Q===void 0)return ee(te);if(Ee)return Q=setTimeout(U,b),W(te)}return Q===void 0&&(Q=setTimeout(U,b)),$}return b=v(b)||0,g(w)&&(de=!!w.leading,R=(Ee="maxWait"in w)?p(v(w.maxWait)||0,b):R,j="trailing"in w?!!w.trailing:j),M.cancel=function(){Q!==void 0&&clearTimeout(Q),ce=0,E=te=A=Q=void 0},M.flush=function(){return Q===void 0?$:Y(y())},M}}).call(this,n(3))},function(t,e,n){(function(r,i){var s="[object Arguments]",o="[object Map]",a="[object Object]",u="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[o]=g["[object Number]"]=g[a]=g["[object RegExp]"]=g[u]=g["[object String]"]=g["[object WeakMap]"]=!1;var v=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,b=v||_||Function("return this")(),w=e&&!e.nodeType&&e,E=w&&typeof i=="object"&&i&&!i.nodeType&&i,A=E&&E.exports===w&&v.process,R=function(){try{return A&&A.binding("util")}catch{}}(),$=R&&R.isTypedArray;function Q(P,H,ae,ge){var $e=-1,Le=P?P.length:0;for(ge&&Le&&(ae=P[++$e]);++$e<Le;)ae=H(ae,P[$e],$e,P);return ae}function te(P,H){for(var ae=-1,ge=P?P.length:0;++ae<ge;)if(H(P[ae],ae,P))return!0;return!1}function ce(P,H,ae,ge,$e){return $e(P,function(Le,Ge,wt){ae=ge?(ge=!1,Le):H(ae,Le,Ge,wt)}),ae}function de(P){var H=!1;if(P!=null&&typeof P.toString!="function")try{H=!!(P+"")}catch{}return H}function Ee(P){var H=-1,ae=Array(P.size);return P.forEach(function(ge,$e){ae[++H]=[$e,ge]}),ae}function j(P){var H=-1,ae=Array(P.size);return P.forEach(function(ge){ae[++H]=ge}),ae}var W,ee,F,U=Array.prototype,Y=Function.prototype,M=Object.prototype,V=b["__core-js_shared__"],N=(W=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",q=Y.toString,B=M.hasOwnProperty,S=M.toString,x=RegExp("^"+q.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=b.Symbol,X=b.Uint8Array,xe=M.propertyIsEnumerable,Re=U.splice,Me=(ee=Object.keys,F=Object,function(P){return ee(F(P))}),Te=Gr(b,"DataView"),We=Gr(b,"Map"),Be=Gr(b,"Promise"),L=Gr(b,"Set"),ne=Gr(b,"WeakMap"),oe=Gr(Object,"create"),Ie=Ma(Te),Ae=Ma(We),k=Ma(Be),ie=Ma(L),he=Ma(ne),J=le?le.prototype:void 0,K=J?J.valueOf:void 0,pe=J?J.toString:void 0;function ve(P){var H=-1,ae=P?P.length:0;for(this.clear();++H<ae;){var ge=P[H];this.set(ge[0],ge[1])}}function Se(P){var H=-1,ae=P?P.length:0;for(this.clear();++H<ae;){var ge=P[H];this.set(ge[0],ge[1])}}function Ye(P){var H=-1,ae=P?P.length:0;for(this.clear();++H<ae;){var ge=P[H];this.set(ge[0],ge[1])}}function un(P){var H=-1,ae=P?P.length:0;for(this.__data__=new Ye;++H<ae;)this.add(P[H])}function _t(P){this.__data__=new Se(P)}function Xn(P,H){var ae=So(P)||CP(P)?function(Ge,wt){for(var Rt=-1,lt=Array(Ge);++Rt<Ge;)lt[Rt]=wt(Rt);return lt}(P.length,String):[],ge=ae.length,$e=!!ge;for(var Le in P)!H&&!B.call(P,Le)||$e&&(Le=="length"||EP(Le,ge))||ae.push(Le);return ae}function I(P,H){for(var ae=P.length;ae--;)if(IP(P[ae][0],H))return ae;return-1}ve.prototype.clear=function(){this.__data__=oe?oe(null):{}},ve.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},ve.prototype.get=function(P){var H=this.__data__;if(oe){var ae=H[P];return ae==="__lodash_hash_undefined__"?void 0:ae}return B.call(H,P)?H[P]:void 0},ve.prototype.has=function(P){var H=this.__data__;return oe?H[P]!==void 0:B.call(H,P)},ve.prototype.set=function(P,H){return this.__data__[P]=oe&&H===void 0?"__lodash_hash_undefined__":H,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(P){var H=this.__data__,ae=I(H,P);return!(ae<0)&&(ae==H.length-1?H.pop():Re.call(H,ae,1),!0)},Se.prototype.get=function(P){var H=this.__data__,ae=I(H,P);return ae<0?void 0:H[ae][1]},Se.prototype.has=function(P){return I(this.__data__,P)>-1},Se.prototype.set=function(P,H){var ae=this.__data__,ge=I(ae,P);return ge<0?ae.push([P,H]):ae[ge][1]=H,this},Ye.prototype.clear=function(){this.__data__={hash:new ve,map:new(We||Se),string:new ve}},Ye.prototype.delete=function(P){return Jn(this,P).delete(P)},Ye.prototype.get=function(P){return Jn(this,P).get(P)},Ye.prototype.has=function(P){return Jn(this,P).has(P)},Ye.prototype.set=function(P,H){return Jn(this,P).set(P,H),this},un.prototype.add=un.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},un.prototype.has=function(P){return this.__data__.has(P)},_t.prototype.clear=function(){this.__data__=new Se},_t.prototype.delete=function(P){return this.__data__.delete(P)},_t.prototype.get=function(P){return this.__data__.get(P)},_t.prototype.has=function(P){return this.__data__.has(P)},_t.prototype.set=function(P,H){var ae=this.__data__;if(ae instanceof Se){var ge=ae.__data__;if(!We||ge.length<199)return ge.push([P,H]),this;ae=this.__data__=new Ye(ge)}return ae.set(P,H),this};var D,Z=(D=function(P,H){return P&&re(P,H,um)},function(P,H){if(P==null)return P;if(!B0(P))return D(P,H);for(var ae=P.length,ge=-1,$e=Object(P);++ge<ae&&H($e[ge],ge,$e)!==!1;);return P}),re=function(P){return function(H,ae,ge){for(var $e=-1,Le=Object(H),Ge=ge(H),wt=Ge.length;wt--;){var Rt=Ge[P?wt:++$e];if(ae(Le[Rt],Rt,Le)===!1)break}return H}}();function ye(P,H){for(var ae=0,ge=(H=im(H,P)?[H]:Pt(H)).length;P!=null&&ae<ge;)P=P[sm(H[ae++])];return ae&&ae==ge?P:void 0}function Oe(P,H){return P!=null&&H in Object(P)}function Fe(P,H,ae,ge,$e){return P===H||(P==null||H==null||!om(P)&&!am(H)?P!=P&&H!=H:function(Le,Ge,wt,Rt,lt,at){var ci=So(Le),di=So(Ge),Lt="[object Array]",pn="[object Array]";ci||(Lt=(Lt=rs(Le))==s?a:Lt),di||(pn=(pn=rs(Ge))==s?a:pn);var Kr=Lt==a&&!de(Le),$a=pn==a&&!de(Ge),To=Lt==pn;if(To&&!Kr)return at||(at=new _t),ci||zj(Le)?_n(Le,Ge,wt,Rt,lt,at):function(bt,ht,H0,La,lm,Qr,Ds){switch(H0){case"[object DataView]":if(bt.byteLength!=ht.byteLength||bt.byteOffset!=ht.byteOffset)return!1;bt=bt.buffer,ht=ht.buffer;case"[object ArrayBuffer]":return!(bt.byteLength!=ht.byteLength||!La(new X(bt),new X(ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return IP(+bt,+ht);case"[object Error]":return bt.name==ht.name&&bt.message==ht.message;case"[object RegExp]":case"[object String]":return bt==ht+"";case o:var Io=Ee;case u:var wd=2&Qr;if(Io||(Io=j),bt.size!=ht.size&&!wd)return!1;var cm=Ds.get(bt);if(cm)return cm==ht;Qr|=1,Ds.set(bt,ht);var ll=_n(Io(bt),Io(ht),La,lm,Qr,Ds);return Ds.delete(bt),ll;case"[object Symbol]":if(K)return K.call(bt)==K.call(ht)}return!1}(Le,Ge,Lt,wt,Rt,lt,at);if(!(2&lt)){var _d=Kr&&B.call(Le,"__wrapped__"),PP=$a&&B.call(Ge,"__wrapped__");if(_d||PP){var Hj=_d?Le.value():Le,Wj=PP?Ge.value():Ge;return at||(at=new _t),wt(Hj,Wj,Rt,lt,at)}}return To?(at||(at=new _t),function(bt,ht,H0,La,lm,Qr){var Ds=2&lm,Io=um(bt),wd=Io.length,cm=um(ht).length;if(wd!=cm&&!Ds)return!1;for(var ll=wd;ll--;){var Co=Io[ll];if(!(Ds?Co in ht:B.call(ht,Co)))return!1}var RP=Qr.get(bt);if(RP&&Qr.get(ht))return RP==ht;var dm=!0;Qr.set(bt,ht),Qr.set(ht,bt);for(var W0=Ds;++ll<wd;){Co=Io[ll];var hm=bt[Co],fm=ht[Co];if(La)var OP=Ds?La(fm,hm,Co,ht,bt,Qr):La(hm,fm,Co,bt,ht,Qr);if(!(OP===void 0?hm===fm||H0(hm,fm,La,lm,Qr):OP)){dm=!1;break}W0||(W0=Co=="constructor")}if(dm&&!W0){var pm=bt.constructor,mm=ht.constructor;pm==mm||!("constructor"in bt)||!("constructor"in ht)||typeof pm=="function"&&pm instanceof pm&&typeof mm=="function"&&mm instanceof mm||(dm=!1)}return Qr.delete(bt),Qr.delete(ht),dm}(Le,Ge,wt,Rt,lt,at)):!1}(P,H,Fe,ae,ge,$e))}function Xe(P){return!(!om(P)||function(H){return!!N&&N in H}(P))&&(AP(P)||de(P)?x:m).test(Ma(P))}function ut(P){return typeof P=="function"?P:P==null?qj:typeof P=="object"?So(P)?function(ge,$e){return im(ge)&&SP($e)?TP(sm(ge),$e):function(Le){var Ge=function(wt,Rt,lt){var at=wt==null?void 0:ye(wt,Rt);return at===void 0?lt:at}(Le,ge);return Ge===void 0&&Ge===$e?function(wt,Rt){return wt!=null&&function(lt,at,ci){at=im(at,lt)?[at]:Pt(at);for(var di,Lt=-1,pn=at.length;++Lt<pn;){var Kr=sm(at[Lt]);if(!(di=lt!=null&&ci(lt,Kr)))break;lt=lt[Kr]}return di||!!(pn=lt?lt.length:0)&&z0(pn)&&EP(Kr,pn)&&(So(lt)||CP(lt))}(wt,Rt,Oe)}(Le,ge):Fe($e,Ge,void 0,3)}}(P[0],P[1]):function(ge){var $e=function(Le){for(var Ge=um(Le),wt=Ge.length;wt--;){var Rt=Ge[wt],lt=Le[Rt];Ge[wt]=[Rt,lt,SP(lt)]}return Ge}(ge);return $e.length==1&&$e[0][2]?TP($e[0][0],$e[0][1]):function(Le){return Le===ge||function(Ge,wt,Rt,lt){var at=Rt.length,ci=at,di=!lt;if(Ge==null)return!ci;for(Ge=Object(Ge);at--;){var Lt=Rt[at];if(di&&Lt[2]?Lt[1]!==Ge[Lt[0]]:!(Lt[0]in Ge))return!1}for(;++at<ci;){var pn=(Lt=Rt[at])[0],Kr=Ge[pn],$a=Lt[1];if(di&&Lt[2]){if(Kr===void 0&&!(pn in Ge))return!1}else{var To=new _t;if(lt)var _d=lt(Kr,$a,pn,Ge,wt,To);if(!(_d===void 0?Fe($a,Kr,lt,3,To):_d))return!1}}return!0}(Le,ge,$e)}}(P):im(H=P)?(ae=sm(H),function(ge){return ge==null?void 0:ge[ae]}):function(ge){return function($e){return ye($e,ge)}}(H);var H,ae}function $t(P){if(ae=(H=P)&&H.constructor,ge=typeof ae=="function"&&ae.prototype||M,H!==ge)return Me(P);var H,ae,ge,$e=[];for(var Le in Object(P))B.call(P,Le)&&Le!="constructor"&&$e.push(Le);return $e}function Pt(P){return So(P)?P:Bj(P)}function _n(P,H,ae,ge,$e,Le){var Ge=2&$e,wt=P.length,Rt=H.length;if(wt!=Rt&&!(Ge&&Rt>wt))return!1;var lt=Le.get(P);if(lt&&Le.get(H))return lt==H;var at=-1,ci=!0,di=1&$e?new un:void 0;for(Le.set(P,H),Le.set(H,P);++at<wt;){var Lt=P[at],pn=H[at];if(ge)var Kr=Ge?ge(pn,Lt,at,H,P,Le):ge(Lt,pn,at,P,H,Le);if(Kr!==void 0){if(Kr)continue;ci=!1;break}if(di){if(!te(H,function($a,To){if(!di.has(To)&&(Lt===$a||ae(Lt,$a,ge,$e,Le)))return di.add(To)})){ci=!1;break}}else if(Lt!==pn&&!ae(Lt,pn,ge,$e,Le)){ci=!1;break}}return Le.delete(P),Le.delete(H),ci}function Jn(P,H){var ae,ge,$e=P.__data__;return((ge=typeof(ae=H))=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?ae!=="__proto__":ae===null)?$e[typeof H=="string"?"string":"hash"]:$e.map}function Gr(P,H){var ae=function(ge,$e){return ge==null?void 0:ge[$e]}(P,H);return Xe(ae)?ae:void 0}var rs=function(P){return S.call(P)};function EP(P,H){return!!(H=H??9007199254740991)&&(typeof P=="number"||y.test(P))&&P>-1&&P%1==0&&P<H}function im(P,H){if(So(P))return!1;var ae=typeof P;return!(ae!="number"&&ae!="symbol"&&ae!="boolean"&&P!=null&&!q0(P))||c.test(P)||!l.test(P)||H!=null&&P in Object(H)}function SP(P){return P==P&&!om(P)}function TP(P,H){return function(ae){return ae!=null&&ae[P]===H&&(H!==void 0||P in Object(ae))}}(Te&&rs(new Te(new ArrayBuffer(1)))!="[object DataView]"||We&&rs(new We)!=o||Be&&rs(Be.resolve())!="[object Promise]"||L&&rs(new L)!=u||ne&&rs(new ne)!="[object WeakMap]")&&(rs=function(P){var H=S.call(P),ae=H==a?P.constructor:void 0,ge=ae?Ma(ae):void 0;if(ge)switch(ge){case Ie:return"[object DataView]";case Ae:return o;case k:return"[object Promise]";case ie:return u;case he:return"[object WeakMap]"}return H});var Bj=j0(function(P){var H;P=(H=P)==null?"":function(ge){if(typeof ge=="string")return ge;if(q0(ge))return pe?pe.call(ge):"";var $e=ge+"";return $e=="0"&&1/ge==-1/0?"-0":$e}(H);var ae=[];return d.test(P)&&ae.push(""),P.replace(h,function(ge,$e,Le,Ge){ae.push(Le?Ge.replace(p,"$1"):$e||ge)}),ae});function sm(P){if(typeof P=="string"||q0(P))return P;var H=P+"";return H=="0"&&1/P==-1/0?"-0":H}function Ma(P){if(P!=null){try{return q.call(P)}catch{}try{return P+""}catch{}}return""}function j0(P,H){if(typeof P!="function"||H&&typeof H!="function")throw new TypeError("Expected a function");var ae=function(){var ge=arguments,$e=H?H.apply(this,ge):ge[0],Le=ae.cache;if(Le.has($e))return Le.get($e);var Ge=P.apply(this,ge);return ae.cache=Le.set($e,Ge),Ge};return ae.cache=new(j0.Cache||Ye),ae}function IP(P,H){return P===H||P!=P&&H!=H}function CP(P){return function(H){return am(H)&&B0(H)}(P)&&B.call(P,"callee")&&(!xe.call(P,"callee")||S.call(P)==s)}j0.Cache=Ye;var So=Array.isArray;function B0(P){return P!=null&&z0(P.length)&&!AP(P)}function AP(P){var H=om(P)?S.call(P):"";return H=="[object Function]"||H=="[object GeneratorFunction]"}function z0(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=9007199254740991}function om(P){var H=typeof P;return!!P&&(H=="object"||H=="function")}function am(P){return!!P&&typeof P=="object"}function q0(P){return typeof P=="symbol"||am(P)&&S.call(P)=="[object Symbol]"}var zj=$?function(P){return function(H){return P(H)}}($):function(P){return am(P)&&z0(P.length)&&!!g[S.call(P)]};function um(P){return B0(P)?Xn(P):$t(P)}function qj(P){return P}i.exports=function(P,H,ae){var ge=So(P)?Q:ce,$e=arguments.length<3;return ge(P,ut(H),ae,$e,Z)}}).call(this,n(3),n(7)(t))},function(t,e){t.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(n,r){return n>>=0,r=String(r!==void 0?r:" "),this.length>n?String(this):((n-=this.length)>r.length&&(r+=r.repeat(n/r.length)),String(this)+r.slice(0,n))})},function(t,e,n){function r(M,V,N){return V in M?Object.defineProperty(M,V,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[V]=N,M}function i(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}function s(M){return function(V){if(Array.isArray(V)){for(var N=0,q=new Array(V.length);N<V.length;N++)q[N]=V[N];return q}}(M)||i(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(M){if(Array.isArray(M))return M}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(M,V){if(!(M instanceof V))throw new TypeError("Cannot call a class as a function")}function l(M,V){for(var N=0;N<V.length;N++){var q=V[N];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,q.key,q)}}function c(M){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(M)}function d(M){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(V){return c(V)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":c(V)})(M)}function h(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function p(M){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(M)}function m(M,V){return(m=Object.setPrototypeOf||function(N,q){return N.__proto__=q,N})(M,V)}n.r(e);var y=n(0),g=n.n(y),v=n(5),_=n.n(v),b=n(4),w=n.n(b),E=n(6),A=n.n(E),R=n(2),$=n.n(R),Q=n(1),te=n.n(Q);n(8);function ce(M,V){return o(M)||function(N,q){var B=[],S=!0,x=!1,le=void 0;try{for(var X,xe=N[Symbol.iterator]();!(S=(X=xe.next()).done)&&(B.push(X.value),!q||B.length!==q);S=!0);}catch(Re){x=!0,le=Re}finally{try{S||xe.return==null||xe.return()}finally{if(x)throw le}}return B}(M,V)||a()}var de=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],Ee=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function j(M,V,N,q,B){return!N||B?M+"".padEnd(V.length,".")+" "+q:M+"".padEnd(V.length,".")+" "+N}function W(M,V,N,q,B){var S,x,le=[];return x=V===!0,[(S=[]).concat.apply(S,s(M.map(function(X){var xe={name:X[0],regions:X[1],iso2:X[2],countryCode:X[3],dialCode:X[3],format:j(N,X[3],X[4],q,B),priority:X[5]||0},Re=[];return X[6]&&X[6].map(function(Me){var Te=function(We){for(var Be=1;Be<arguments.length;Be++){var L=arguments[Be]!=null?arguments[Be]:{},ne=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(ne=ne.concat(Object.getOwnPropertySymbols(L).filter(function(oe){return Object.getOwnPropertyDescriptor(L,oe).enumerable}))),ne.forEach(function(oe){r(We,oe,L[oe])})}return We}({},xe);Te.dialCode=X[3]+Me,Te.isAreaCode=!0,Te.areaCodeLength=Me.length,Re.push(Te)}),Re.length>0?(xe.mainCode=!0,x||V.constructor.name==="Array"&&V.includes(X[2])?(xe.hasAreaCodes=!0,[xe].concat(Re)):(le=le.concat(Re),[xe])):[xe]}))),le]}function ee(M,V,N,q){if(N!==null){var B=Object.keys(N),S=Object.values(N);B.forEach(function(x,le){if(q)return M.push([x,S[le]]);var X=M.findIndex(function(Re){return Re[0]===x});if(X===-1){var xe=[x];xe[V]=S[le],M.push(xe)}else M[X][V]=S[le]})}}function F(M,V){return V.length===0?M:M.map(function(N){var q=V.findIndex(function(S){return S[0]===N[2]});if(q===-1)return N;var B=V[q];return B[1]&&(N[4]=B[1]),B[3]&&(N[5]=B[3]),B[2]&&(N[6]=B[2]),N})}var U=function M(V,N,q,B,S,x,le,X,xe,Re,Me,Te,We,Be){u(this,M),this.filterRegions=function(J,K){if(typeof J=="string"){var pe=J;return K.filter(function(ve){return ve.regions.some(function(Se){return Se===pe})})}return K.filter(function(ve){return J.map(function(Se){return ve.regions.some(function(Ye){return Ye===Se})}).some(function(Se){return Se})})},this.sortTerritories=function(J,K){var pe=[].concat(s(J),s(K));return pe.sort(function(ve,Se){return ve.name<Se.name?-1:ve.name>Se.name?1:0}),pe},this.getFilteredCountryList=function(J,K,pe){return J.length===0?K:pe?J.map(function(ve){var Se=K.find(function(Ye){return Ye.iso2===ve});if(Se)return Se}).filter(function(ve){return ve}):K.filter(function(ve){return J.some(function(Se){return Se===ve.iso2})})},this.localizeCountries=function(J,K,pe){for(var ve=0;ve<J.length;ve++)K[J[ve].iso2]!==void 0?J[ve].localName=K[J[ve].iso2]:K[J[ve].name]!==void 0&&(J[ve].localName=K[J[ve].name]);return pe||J.sort(function(Se,Ye){return Se.localName<Ye.localName?-1:Se.localName>Ye.localName?1:0}),J},this.getCustomAreas=function(J,K){for(var pe=[],ve=0;ve<K.length;ve++){var Se=JSON.parse(JSON.stringify(J));Se.dialCode+=K[ve],pe.push(Se)}return pe},this.excludeCountries=function(J,K){return K.length===0?J:J.filter(function(pe){return!K.includes(pe.iso2)})};var L=function(J,K,pe){var ve=[];return ee(ve,1,J,!0),ee(ve,3,K),ee(ve,2,pe),ve}(X,xe,Re),ne=F(JSON.parse(JSON.stringify(de)),L),oe=F(JSON.parse(JSON.stringify(Ee)),L),Ie=ce(W(ne,V,Te,We,Be),2),Ae=Ie[0],k=Ie[1];if(N){var ie=ce(W(oe,V,Te,We,Be),2),he=ie[0];ie[1],Ae=this.sortTerritories(he,Ae)}q&&(Ae=this.filterRegions(q,Ae)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(B,Ae,le.includes("onlyCountries")),x),Me,le.includes("onlyCountries")),this.preferredCountries=S.length===0?[]:this.localizeCountries(this.getFilteredCountryList(S,Ae,le.includes("preferredCountries")),Me,le.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(B,k),x)},Y=function(M){function V(B){var S;u(this,V),(S=function(L,ne){return!ne||d(ne)!=="object"&&typeof ne!="function"?h(L):ne}(this,p(V).call(this,B))).getProbableCandidate=w()(function(L){return L&&L.length!==0?S.state.onlyCountries.filter(function(ne){return $()(ne.name.toLowerCase(),L.toLowerCase())},h(h(S)))[0]:null}),S.guessSelectedCountry=w()(function(L,ne,oe,Ie){var Ae;if(S.props.enableAreaCodes===!1&&(Ie.some(function(he){if($()(L,he.dialCode))return oe.some(function(J){if(he.iso2===J.iso2&&J.mainCode)return Ae=J,!0}),!0}),Ae))return Ae;var k=oe.find(function(he){return he.iso2==ne});if(L.trim()==="")return k;var ie=oe.reduce(function(he,J){return $()(L,J.dialCode)&&(J.dialCode.length>he.dialCode.length||J.dialCode.length===he.dialCode.length&&J.priority<he.priority)?J:he},{dialCode:"",priority:10001},h(h(S)));return ie.name?ie:k}),S.updateCountry=function(L){var ne,oe=S.state.onlyCountries;(ne=L.indexOf(0)>="0"&&L.indexOf(0)<="9"?oe.find(function(Ie){return Ie.dialCode==+L}):oe.find(function(Ie){return Ie.iso2==L}))&&ne.dialCode&&S.setState({selectedCountry:ne,formattedNumber:S.props.disableCountryCode?"":S.formatNumber(ne.dialCode,ne)})},S.scrollTo=function(L,ne){if(L){var oe=S.dropdownRef;if(oe&&document.body){var Ie=oe.offsetHeight,Ae=oe.getBoundingClientRect().top+document.body.scrollTop,k=Ae+Ie,ie=L,he=ie.getBoundingClientRect(),J=ie.offsetHeight,K=he.top+document.body.scrollTop,pe=K+J,ve=K-Ae+oe.scrollTop,Se=Ie/2-J/2;if(S.props.enableSearch?K<Ae+32:K<Ae)ne&&(ve-=Se),oe.scrollTop=ve;else if(pe>k){ne&&(ve+=Se);var Ye=Ie-J;oe.scrollTop=ve-Ye}}}},S.scrollToTop=function(){var L=S.dropdownRef;L&&document.body&&(L.scrollTop=0)},S.formatNumber=function(L,ne){if(!ne)return L;var oe,Ie=ne.format,Ae=S.props,k=Ae.disableCountryCode,ie=Ae.enableAreaCodeStretch,he=Ae.enableLongNumbers,J=Ae.autoFormat;if(k?((oe=Ie.split(" ")).shift(),oe=oe.join(" ")):ie&&ne.isAreaCode?((oe=Ie.split(" "))[1]=oe[1].replace(/\.+/,"".padEnd(ne.areaCodeLength,".")),oe=oe.join(" ")):oe=Ie,!L||L.length===0)return k?"":S.props.prefix;if(L&&L.length<2||!oe||!J)return k?L:S.props.prefix+L;var K,pe=A()(oe,function(ve,Se){if(ve.remainingText.length===0)return ve;if(Se!==".")return{formattedText:ve.formattedText+Se,remainingText:ve.remainingText};var Ye,un=o(Ye=ve.remainingText)||i(Ye)||a(),_t=un[0],Xn=un.slice(1);return{formattedText:ve.formattedText+_t,remainingText:Xn}},{formattedText:"",remainingText:L.split("")});return(K=he?pe.formattedText+pe.remainingText.join(""):pe.formattedText).includes("(")&&!K.includes(")")&&(K+=")"),K},S.cursorToEnd=function(){var L=S.numberInputRef;if(document.activeElement===L){L.focus();var ne=L.value.length;L.value.charAt(ne-1)===")"&&(ne-=1),L.setSelectionRange(ne,ne)}},S.getElement=function(L){return S["flag_no_".concat(L)]},S.getCountryData=function(){return S.state.selectedCountry?{name:S.state.selectedCountry.name||"",dialCode:S.state.selectedCountry.dialCode||"",countryCode:S.state.selectedCountry.iso2||"",format:S.state.selectedCountry.format||""}:{}},S.handleFlagDropdownClick=function(L){if(L.preventDefault(),S.state.showDropdown||!S.props.disabled){var ne=S.state,oe=ne.preferredCountries,Ie=ne.onlyCountries,Ae=ne.selectedCountry,k=S.concatPreferredCountries(oe,Ie).findIndex(function(ie){return ie.dialCode===Ae.dialCode&&ie.iso2===Ae.iso2});S.setState({showDropdown:!S.state.showDropdown,highlightCountryIndex:k},function(){S.state.showDropdown&&S.scrollTo(S.getElement(S.state.highlightCountryIndex))})}},S.handleInput=function(L){var ne=L.target.value,oe=S.props,Ie=oe.prefix,Ae=oe.onChange,k=S.props.disableCountryCode?"":Ie,ie=S.state.selectedCountry,he=S.state.freezeSelection;if(!S.props.countryCodeEditable){var J=Ie+(ie.hasAreaCodes?S.state.onlyCountries.find(function(Z){return Z.iso2===ie.iso2&&Z.mainCode}).dialCode:ie.dialCode);if(ne.slice(0,J.length)!==J)return}if(ne===Ie)return Ae&&Ae("",S.getCountryData(),L,""),S.setState({formattedNumber:""});if(!(ne.replace(/\D/g,"").length>15&&(S.props.enableLongNumbers===!1||typeof S.props.enableLongNumbers=="number"&&ne.replace(/\D/g,"").length>S.props.enableLongNumbers))&&ne!==S.state.formattedNumber){L.preventDefault?L.preventDefault():L.returnValue=!1;var K=S.props.country,pe=S.state,ve=pe.onlyCountries,Se=pe.selectedCountry,Ye=pe.hiddenAreaCodes;if(Ae&&L.persist(),ne.length>0){var un=ne.replace(/\D/g,"");(!S.state.freezeSelection||Se&&Se.dialCode.length>un.length)&&(ie=S.props.disableCountryGuess?Se:S.guessSelectedCountry(un.substring(0,6),K,ve,Ye)||Se,he=!1),k=S.formatNumber(un,ie),ie=ie.dialCode?ie:Se}var _t=L.target.selectionStart,Xn=L.target.selectionStart,I=S.state.formattedNumber,D=k.length-I.length;S.setState({formattedNumber:k,freezeSelection:he,selectedCountry:ie},function(){D>0&&(Xn-=D),k.charAt(k.length-1)==")"?S.numberInputRef.setSelectionRange(k.length-1,k.length-1):Xn>0&&I.length>=k.length?S.numberInputRef.setSelectionRange(Xn,Xn):_t<I.length&&S.numberInputRef.setSelectionRange(_t,_t),Ae&&Ae(k.replace(/[^0-9]+/g,""),S.getCountryData(),L,k)})}},S.handleInputClick=function(L){S.setState({showDropdown:!1}),S.props.onClick&&S.props.onClick(L,S.getCountryData())},S.handleDoubleClick=function(L){var ne=L.target.value.length;L.target.setSelectionRange(0,ne)},S.handleFlagItemClick=function(L,ne){var oe=S.state.selectedCountry,Ie=S.state.onlyCountries.find(function(he){return he==L});if(Ie){var Ae=S.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),k=Ae.length>1?Ae.replace(oe.dialCode,Ie.dialCode):Ie.dialCode,ie=S.formatNumber(k.replace(/\D/g,""),Ie);S.setState({showDropdown:!1,selectedCountry:Ie,freezeSelection:!0,formattedNumber:ie,searchValue:""},function(){S.cursorToEnd(),S.props.onChange&&S.props.onChange(ie.replace(/[^0-9]+/g,""),S.getCountryData(),ne,ie)})}},S.handleInputFocus=function(L){S.numberInputRef&&S.numberInputRef.value===S.props.prefix&&S.state.selectedCountry&&!S.props.disableCountryCode&&S.setState({formattedNumber:S.props.prefix+S.state.selectedCountry.dialCode},function(){S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)}),S.setState({placeholder:""}),S.props.onFocus&&S.props.onFocus(L,S.getCountryData()),S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)},S.handleInputBlur=function(L){L.target.value||S.setState({placeholder:S.props.placeholder}),S.props.onBlur&&S.props.onBlur(L,S.getCountryData())},S.handleInputCopy=function(L){if(S.props.copyNumbersOnly){var ne=window.getSelection().toString().replace(/[^0-9]+/g,"");L.clipboardData.setData("text/plain",ne),L.preventDefault()}},S.getHighlightCountryIndex=function(L){var ne=S.state.highlightCountryIndex+L;return ne<0||ne>=S.state.onlyCountries.length+S.state.preferredCountries.length?ne-L:S.props.enableSearch&&ne>S.getSearchFilteredCountries().length?0:ne},S.searchCountry=function(){var L=S.getProbableCandidate(S.state.queryString)||S.state.onlyCountries[0],ne=S.state.onlyCountries.findIndex(function(oe){return oe==L})+S.state.preferredCountries.length;S.scrollTo(S.getElement(ne),!0),S.setState({queryString:"",highlightCountryIndex:ne})},S.handleKeydown=function(L){var ne=S.props.keys,oe=L.target.className;if(oe.includes("selected-flag")&&L.which===ne.ENTER&&!S.state.showDropdown)return S.handleFlagDropdownClick(L);if(oe.includes("form-control")&&(L.which===ne.ENTER||L.which===ne.ESC))return L.target.blur();if(S.state.showDropdown&&!S.props.disabled&&(!oe.includes("search-box")||L.which===ne.UP||L.which===ne.DOWN||L.which===ne.ENTER||L.which===ne.ESC&&L.target.value==="")){L.preventDefault?L.preventDefault():L.returnValue=!1;var Ie=function(Ae){S.setState({highlightCountryIndex:S.getHighlightCountryIndex(Ae)},function(){S.scrollTo(S.getElement(S.state.highlightCountryIndex),!0)})};switch(L.which){case ne.DOWN:Ie(1);break;case ne.UP:Ie(-1);break;case ne.ENTER:S.props.enableSearch?S.handleFlagItemClick(S.getSearchFilteredCountries()[S.state.highlightCountryIndex]||S.getSearchFilteredCountries()[0],L):S.handleFlagItemClick([].concat(s(S.state.preferredCountries),s(S.state.onlyCountries))[S.state.highlightCountryIndex],L);break;case ne.ESC:case ne.TAB:S.setState({showDropdown:!1},S.cursorToEnd);break;default:(L.which>=ne.A&&L.which<=ne.Z||L.which===ne.SPACE)&&S.setState({queryString:S.state.queryString+String.fromCharCode(L.which)},S.state.debouncedQueryStingSearcher)}}},S.handleInputKeyDown=function(L){var ne=S.props,oe=ne.keys,Ie=ne.onEnterKeyPress,Ae=ne.onKeyDown;L.which===oe.ENTER&&Ie&&Ie(L),Ae&&Ae(L)},S.handleClickOutside=function(L){S.dropdownRef&&!S.dropdownContainerRef.contains(L.target)&&S.state.showDropdown&&S.setState({showDropdown:!1})},S.handleSearchChange=function(L){var ne=L.currentTarget.value,oe=S.state,Ie=oe.preferredCountries,Ae=oe.selectedCountry,k=0;if(ne===""&&Ae){var ie=S.state.onlyCountries;k=S.concatPreferredCountries(Ie,ie).findIndex(function(he){return he==Ae}),setTimeout(function(){return S.scrollTo(S.getElement(k))},100)}S.setState({searchValue:ne,highlightCountryIndex:k})},S.concatPreferredCountries=function(L,ne){return L.length>0?s(new Set(L.concat(ne))):ne},S.getDropdownCountryName=function(L){return L.localName||L.name},S.getSearchFilteredCountries=function(){var L=S.state,ne=L.preferredCountries,oe=L.onlyCountries,Ie=L.searchValue,Ae=S.props.enableSearch,k=S.concatPreferredCountries(ne,oe),ie=Ie.trim().toLowerCase().replace("+","");if(Ae&&ie){if(/^\d+$/.test(ie))return k.filter(function(K){var pe=K.dialCode;return["".concat(pe)].some(function(ve){return ve.toLowerCase().includes(ie)})});var he=k.filter(function(K){var pe=K.iso2;return["".concat(pe)].some(function(ve){return ve.toLowerCase().includes(ie)})}),J=k.filter(function(K){var pe=K.name,ve=K.localName;return K.iso2,["".concat(pe),"".concat(ve||"")].some(function(Se){return Se.toLowerCase().includes(ie)})});return S.scrollToTop(),s(new Set([].concat(he,J)))}return k},S.getCountryDropdownList=function(){var L=S.state,ne=L.preferredCountries,oe=L.highlightCountryIndex,Ie=L.showDropdown,Ae=L.searchValue,k=S.props,ie=k.disableDropdown,he=k.prefix,J=S.props,K=J.enableSearch,pe=J.searchNotFound,ve=J.disableSearchIcon,Se=J.searchClass,Ye=J.searchStyle,un=J.searchPlaceholder,_t=J.autocompleteSearch,Xn=S.getSearchFilteredCountries().map(function(Z,re){var ye=oe===re,Oe=te()({country:!0,preferred:Z.iso2==="us"||Z.iso2==="gb",active:Z.iso2==="us",highlight:ye}),Fe="flag ".concat(Z.iso2);return g.a.createElement("li",Object.assign({ref:function(Xe){return S["flag_no_".concat(re)]=Xe},key:"flag_no_".concat(re),"data-flag-key":"flag_no_".concat(re),className:Oe,"data-dial-code":"1",tabIndex:ie?"-1":"0","data-country-code":Z.iso2,onClick:function(Xe){return S.handleFlagItemClick(Z,Xe)},role:"option"},ye?{"aria-selected":!0}:{}),g.a.createElement("div",{className:Fe}),g.a.createElement("span",{className:"country-name"},S.getDropdownCountryName(Z)),g.a.createElement("span",{className:"dial-code"},Z.format?S.formatNumber(Z.dialCode,Z):he+Z.dialCode))}),I=g.a.createElement("li",{key:"dashes",className:"divider"});ne.length>0&&(!K||K&&!Ae.trim())&&Xn.splice(ne.length,0,I);var D=te()(r({"country-list":!0,hide:!Ie},S.props.dropdownClass,!0));return g.a.createElement("ul",{ref:function(Z){return!K&&Z&&Z.focus(),S.dropdownRef=Z},className:D,style:S.props.dropdownStyle,role:"listbox",tabIndex:"0"},K&&g.a.createElement("li",{className:te()(r({search:!0},Se,Se))},!ve&&g.a.createElement("span",{className:te()(r({"search-emoji":!0},"".concat(Se,"-emoji"),Se)),role:"img","aria-label":"Magnifying glass"},""),g.a.createElement("input",{className:te()(r({"search-box":!0},"".concat(Se,"-box"),Se)),style:Ye,type:"search",placeholder:un,autoFocus:!0,autoComplete:_t?"on":"off",value:Ae,onChange:S.handleSearchChange})),Xn.length>0?Xn:g.a.createElement("li",{className:"no-entries-message"},g.a.createElement("span",null,pe)))};var x,le=new U(B.enableAreaCodes,B.enableTerritories,B.regions,B.onlyCountries,B.preferredCountries,B.excludeCountries,B.preserveOrder,B.masks,B.priority,B.areaCodes,B.localization,B.prefix,B.defaultMask,B.alwaysDefaultMask),X=le.onlyCountries,xe=le.preferredCountries,Re=le.hiddenAreaCodes,Me=B.value?B.value.replace(/\D/g,""):"";x=B.disableInitialCountryGuess?0:Me.length>1?S.guessSelectedCountry(Me.substring(0,6),B.country,X,Re)||0:B.country&&X.find(function(L){return L.iso2==B.country})||0;var Te,We=Me.length<2&&x&&!$()(Me,x.dialCode)?x.dialCode:"";Te=Me===""&&x===0?"":S.formatNumber((B.disableCountryCode?"":We)+Me,x.name?x:void 0);var Be=X.findIndex(function(L){return L==x});return S.state={showDropdown:B.showDropdown,formattedNumber:Te,onlyCountries:X,preferredCountries:xe,hiddenAreaCodes:Re,selectedCountry:x,highlightCountryIndex:Be,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:_()(S.searchCountry,250),searchValue:""},S}var N,q;return function(B,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(S&&S.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),S&&m(B,S)}(V,M),N=V,(q=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(B,S,x){B.country!==this.props.country?this.updateCountry(this.props.country):B.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(B){if(B===null)return this.setState({selectedCountry:0,formattedNumber:""});var S=this.state,x=S.onlyCountries,le=S.selectedCountry,X=S.hiddenAreaCodes,xe=this.props,Re=xe.country,Me=xe.prefix;if(B==="")return this.setState({selectedCountry:le,formattedNumber:""});var Te,We,Be=B.replace(/\D/g,"");if(le&&$()(B,Me+le.dialCode))We=this.formatNumber(Be,le),this.setState({formattedNumber:We});else{var L=(Te=this.props.disableCountryGuess?le:this.guessSelectedCountry(Be.substring(0,6),Re,x,X)||le)&&$()(Be,Me+Te.dialCode)?Te.dialCode:"";We=this.formatNumber((this.props.disableCountryCode?"":L)+Be,Te||void 0),this.setState({selectedCountry:Te,formattedNumber:We})}}},{key:"render",value:function(){var B,S,x,le=this,X=this.state,xe=X.onlyCountries,Re=X.selectedCountry,Me=X.showDropdown,Te=X.formattedNumber,We=X.hiddenAreaCodes,Be=this.props,L=Be.disableDropdown,ne=Be.renderStringAsFlag,oe=Be.isValid,Ie=Be.defaultErrorMessage,Ae=Be.specialLabel;if(typeof oe=="boolean")S=oe;else{var k=oe(Te.replace(/\D/g,""),Re,xe,We);typeof k=="boolean"?(S=k)===!1&&(x=Ie):(S=!1,x=k)}var ie=te()((r(B={},this.props.containerClass,!0),r(B,"react-tel-input",!0),B)),he=te()({arrow:!0,up:Me}),J=te()(r({"form-control":!0,"invalid-number":!S,open:Me},this.props.inputClass,!0)),K=te()({"selected-flag":!0,open:Me}),pe=te()(r({"flag-dropdown":!0,"invalid-number":!S,open:Me},this.props.buttonClass,!0)),ve="flag ".concat(Re&&Re.iso2);return g.a.createElement("div",{className:"".concat(ie," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Ae&&g.a.createElement("div",{className:"special-label"},Ae),x&&g.a.createElement("div",{className:"invalid-number-message"},x),g.a.createElement("input",Object.assign({className:J,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Te,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Se){le.numberInputRef=Se,typeof le.props.inputProps.ref=="function"?le.props.inputProps.ref(Se):typeof le.props.inputProps.ref=="object"&&(le.props.inputProps.ref.current=Se)}})),g.a.createElement("div",{className:pe,style:this.props.buttonStyle,ref:function(Se){return le.dropdownContainerRef=Se}},ne?g.a.createElement("div",{className:K},ne):g.a.createElement("div",{onClick:L?void 0:this.handleFlagDropdownClick,className:K,title:Re?"".concat(Re.localName||Re.name,": + ").concat(Re.dialCode):"",tabIndex:L?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Me||void 0},g.a.createElement("div",{className:ve},!L&&g.a.createElement("div",{className:he}))),Me&&this.getCountryDropdownList()))}}])&&l(N.prototype,q),V}(g.a.Component);Y.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=Y}]);const JAe=Pn(XAe),D0=t=>{const[e,n,r]=o9(t),{label:i,placeholder:s,defaultValue:o}=t,{touched:a,error:u}=n,{setValue:l}=r,c=(d,h)=>{const p={dialCode:h.dialCode,countryCode:h.countryCode,country:h.name,value:d};l(p)};return O("div",{className:"input-group",children:[a&&u?f("span",{className:"label-input label-error",children:(u==null?void 0:u.value)||(u==null?void 0:u.dialCode)}):f("label",{className:"label-input",htmlFor:e.name,children:i}),f(JAe,{name:e.name,country:"ph",inputClass:"input-form d-block",style:{border:a&&u?"1px solid red":"1px solid #cacaca"},inputExtraProps:{required:!0},onChange:c,placeholder:s,value:o.value})]})};D0.defaultProps={label:"Mobile Number",placeholder:"09254461351"};D0.propTypes={label:T.string,placeholder:T.string,defaultValue:T.object.isRequired};const oj=({field:t,form:{touched:e,errors:n},label:r,...i})=>O("div",{className:"input-group",children:[e[t.name]&&n[t.name]?f("span",{className:"label-input label-error",children:n[t.name]}):f("label",{className:"label-input",htmlFor:t.name,children:r}),f("textarea",{name:t.name,cols:30,rows:4,id:t.name,className:`input-form ${e[t.name]&&n[t.name]&&"input-error"}`,...t,...i})]});oj.propTypes={label:T.string.isRequired,field:T.object.isRequired,form:T.object.isRequired};const aj=({isLoading:t,authProvider:e})=>{const n=li(),{values:r,submitForm:i}=bo();return O("div",{className:"user-profile-details",children:[f(Er,{disabled:t,name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:cr,style:{textTransform:"capitalize"}}),f(Er,{disabled:e!=="password"||t,name:"email",type:"email",label:"* Email Address",placeholder:"test@example.com",component:cr}),f(Er,{disabled:t,name:"address",type:"text",label:"Address (Will be used for checkout)",placeholder:"#245 Brgy. Maligalig, Arayat Pampanga, Philippines",component:cr,style:{textTransform:"capitalize"}}),f(D0,{defaultValue:r.mobile,name:"mobile",disabled:t,label:"Mobile Number (Will be used for checkout)"}),f("br",{}),O("div",{className:"edit-user-action",children:[O("button",{className:"button button-muted w-100-mobile",disabled:t,onClick:()=>n.push(Ry),type:"button",children:[f(d_,{})," Back to Profile"]}),O("button",{className:"button w-100-mobile",disabled:t,onClick:i,type:"button",children:[t?f(hr,{}):f(fp,{}),"",t?"Updating Profile":"Update Profile"]})]})]})};aj.propTypes={isLoading:T.bool.isRequired,authProvider:T.string.isRequired};const ZAe=lo().shape({fullname:pt().min(4,"Full name should be at least 4 characters.").max(60,"Full name should be only be 4 characters long.").required("Full name is required"),email:pt().email("Email is not valid.").required("Email is required."),address:pt(),mobile:lo().shape({country:pt(),countryCode:pt(),dialCode:pt(),value:pt()})}),ePe=()=>{Yn("Edit Account | Salinaka"),Fn();const t=sA(),e=tn();C.useEffect(()=>()=>{e(Mr(!1))},[]);const{profile:n,auth:r,isLoading:i}=On(h=>({profile:h.profile,auth:h.auth,isLoading:h.app.loading})),s={fullname:n.fullname||"",email:n.email||"",address:n.address||"",mobile:n.mobile||{}},{imageFile:o,isFileLoading:a,onFileChange:u}=v5({avatar:{},banner:{}}),l=(h,p={})=>{e(Pce({updates:{fullname:h.fullname,email:h.email,address:h.address,mobile:h.mobile,avatar:n.avatar,banner:n.banner},files:{bannerFile:o.banner.file,avatarFile:o.avatar.file},credentials:p}))},c=(h,p)=>{p&&l(h,{email:h.email,password:p})};return f(Hu,{children:O("div",{className:"edit-user",children:[f("h3",{className:"text-center",children:"Edit Account Details"}),f(cd,{initialValues:s,validateOnChange:!0,validationSchema:ZAe,onSubmit:h=>{(Object.keys(h).some(m=>n[m]!==h[m])||(o.banner.file||o.avatar.file))&&(h.email!==n.email?t.onOpenModal():l(h))},children:()=>O(Cn,{children:[O("div",{className:"user-profile-banner",children:[O("div",{className:"user-profile-banner-wrapper",children:[f(xi,{alt:"Banner",className:"user-profile-banner-img",src:o.banner.url||n.banner}),a?f("div",{className:"loading-wrapper",children:f(hr,{})}):O("label",{className:"edit-button edit-banner-button",htmlFor:"edit-banner",children:[f("input",{accept:"image/x-png,image/jpeg",disabled:i,hidden:!0,id:"edit-banner",onChange:h=>u(h,{name:"banner",type:"single"}),type:"file"}),f(_O,{})]})]}),O("div",{className:"user-profile-avatar-wrapper",children:[f(xi,{alt:"Avatar",className:"user-profile-img",src:o.avatar.url||n.avatar}),a?f("div",{className:"loading-wrapper",children:f(hr,{})}):O("label",{className:"edit-button edit-avatar-button",htmlFor:"edit-avatar",children:[f("input",{accept:"image/x-png,image/jpeg",disabled:i,hidden:!0,id:"edit-avatar",onChange:h=>u(h,{name:"avatar",type:"single"}),type:"file"}),f(_O,{})]})]})]}),f(aj,{authProvider:r.provider,isLoading:i}),f(d8,{onConfirmUpdate:c,modal:t})]})})]})})},tPe="modulepreload",nPe=function(t){return"/"+t},iD={},rm=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=nPe(s),s in iD)return;iD[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":tPe,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},uj=t=>{const{children:e}=t,[n,r]=C.useState(e[0].props.index||0),i=s=>r(s);return O("div",{className:"user-tab",children:[f("div",{className:"user-tab-nav",children:f("ul",{className:"user-tab-menu",children:e.map(s=>f("li",{className:`user-tab-item ${s.props.index===n?"user-tab-active":""}`,role:"presentation",onClick:()=>i(s.props.index),children:s.props.label},s.props.label))})}),f("div",{className:"user-tab-content",children:e.map(s=>s.props.index!==n?null:s.props.children)})]})};uj.propTypes={children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};const rPe=C.lazy(()=>rm(()=>import("./UserAccountTab-e20e193a.js"),[])),iPe=C.lazy(()=>rm(()=>import("./UserWishListTab-f429a2f6.js"),[])),sPe=C.lazy(()=>rm(()=>import("./UserOrdersTab-3b70c652.js"),[])),kw=()=>O("div",{className:"loader",style:{minHeight:"80vh"},children:[f(hr,{}),f("h6",{children:"Loading ... "})]}),oPe=()=>(Fn(),Yn("My Account | PF HENRY & CO."),O(uj,{children:[f("div",{index:0,label:"Account",children:f(C.Suspense,{fallback:f(kw,{}),children:f(rPe,{})})}),f("div",{index:1,label:"My Wish List",children:f(C.Suspense,{fallback:f(kw,{}),children:f(iPe,{})})}),f("div",{index:2,label:"My Orders",children:f(C.Suspense,{fallback:f(kw,{}),children:f(sPe,{})})})]})),aPe=t=>({type:zT,payload:t}),uPe=t=>({type:R$,payload:t}),lPe=t=>({type:HT,payload:t}),cPe=t=>({type:qT,payload:{searchKey:t}}),dPe=t=>({type:P$,payload:t}),sD=()=>({type:N$}),hPe=t=>({type:O$,payload:t}),fPe=t=>({type:WT,payload:t}),pPe=t=>({type:k$,payload:t}),mPe=(t,e)=>({type:GT,payload:{id:t,updates:e}}),gPe=t=>({type:x$,payload:t}),vPe=C.lazy(()=>rm(()=>Promise.resolve().then(()=>Sj),void 0)),yPe=()=>{Fn(),Yn("Add New Product | PF HENSRY & CO.");const t=On(r=>r.app.loading),e=tn(),n=r=>{e(lPe(r))};return O("div",{className:"product-form-container",children:[f("h2",{children:"Add New Product"}),f(C.Suspense,{fallback:O("div",{className:"loader",style:{minHeight:"80vh"},children:[f("h6",{children:"Loading ... "}),f("br",{}),f(hr,{})]}),children:f(vPe,{isLoading:t,onSubmit:n,product:{name:"",brand:"",price:0,maxQuantity:0,description:"",keywords:[],sizes:[],image:"",isFeatured:!1,isRecommended:!1,availableColors:[],imageCollection:[]}})})]})},_Pe=Sa(yPe),F0=({filteredProductsCount:t})=>{const e=On(l=>l.filter,ch),r=["brand","minPrice","maxPrice","sortBy","keyword"].some(l=>!!e[l]),i=tn(),s=()=>{i(uh({keyword:""}))},o=()=>{i(uh({minPrice:0,maxPrice:0}))},a=()=>{i(uh({brand:""}))},u=()=>{i(uh({sortBy:""}))};return r?O(Cn,{children:[f("div",{className:"product-list-header",children:f("div",{className:"product-list-header-title",children:f("h5",{children:t>0&&`Found ${t} ${t>1?"products":"product"}`})})}),O("div",{className:"product-applied-filters",children:[e.keyword&&O("div",{className:"pill-wrapper",children:[f("span",{className:"d-block",children:"Keyword"}),O("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.keyword}),f("div",{className:"pill-remove",onClick:s,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(Lm,{})})})]})]}),e.brand&&O("div",{className:"pill-wrapper",children:[f("span",{className:"d-block",children:"Brand"}),O("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.brand}),f("div",{className:"pill-remove",onClick:a,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(Lm,{})})})]})]}),(!!e.minPrice||!!e.maxPrice)&&O("div",{className:"pill-wrapper",children:[f("span",{className:"d-block",children:"Price Range"}),O("div",{className:"pill padding-right-l",children:[O("h5",{className:"pill-content margin-0",children:["$",e.minPrice,"- $",e.maxPrice]}),f("div",{className:"pill-remove",onClick:o,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(Lm,{})})})]})]}),e.sortBy&&O("div",{className:"pill-wrapper",children:[f("span",{className:"d-block",children:"Sort By"}),O("div",{className:"pill padding-right-l",children:[f("h5",{className:"pill-content margin-0",children:e.sortBy==="price-desc"?"Price High - Low":e.sortBy==="price-asc"?"Price Low - High":e.sortBy==="name-desc"?"Name Z - A":"Name A - Z"}),f("div",{className:"pill-remove",onClick:u,role:"presentation",children:f("h5",{className:"margin-0 text-subtle",children:f(Lm,{})})})]})]})]})]}):null};F0.defaultProps={filteredProductsCount:0};F0.propTypes={filteredProductsCount:T.number};var yd={},Ti={};function wPe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function bPe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}var lj=function(){function t(n){this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.before=null}var e=t.prototype;return e.insert=function(r){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=bPe(this),s;this.tags.length===0?s=this.before:s=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,s),this.tags.push(i)}var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=wPe(o);try{var u=r.charCodeAt(1)===105&&r.charCodeAt(0)===64;a.insertRule(r,u?0:a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}();function EPe(t){function e(N,q,B,S,x){for(var le=0,X=0,xe=0,Re=0,Me,Te,We=0,Be=0,L,ne=L=Me=0,oe=0,Ie=0,Ae=0,k=0,ie=B.length,he=ie-1,J,K="",pe="",ve="",Se="",Ye;oe<ie;){if(Te=B.charCodeAt(oe),oe===he&&X+Re+xe+le!==0&&(X!==0&&(Te=X===47?10:47),Re=xe=le=0,ie++,he++),X+Re+xe+le===0){if(oe===he&&(0<Ie&&(K=K.replace(h,"")),0<K.trim().length)){switch(Te){case 32:case 9:case 59:case 13:case 10:break;default:K+=B.charAt(oe)}Te=59}switch(Te){case 123:for(K=K.trim(),Me=K.charCodeAt(0),L=1,k=++oe;oe<ie;){switch(Te=B.charCodeAt(oe)){case 123:L++;break;case 125:L--;break;case 47:switch(Te=B.charCodeAt(oe+1)){case 42:case 47:e:{for(ne=oe+1;ne<he;++ne)switch(B.charCodeAt(ne)){case 47:if(Te===42&&B.charCodeAt(ne-1)===42&&oe+2!==ne){oe=ne+1;break e}break;case 10:if(Te===47){oe=ne+1;break e}}oe=ne}}break;case 91:Te++;case 40:Te++;case 34:case 39:for(;oe++<he&&B.charCodeAt(oe)!==Te;);}if(L===0)break;oe++}switch(L=B.substring(k,oe),Me===0&&(Me=(K=K.replace(d,"").trim()).charCodeAt(0)),Me){case 64:switch(0<Ie&&(K=K.replace(h,"")),Te=K.charCodeAt(1),Te){case 100:case 109:case 115:case 45:Ie=q;break;default:Ie=ee}if(L=e(q,Ie,L,Te,x+1),k=L.length,0<U&&(Ie=n(ee,K,Ae),Ye=a(3,L,Ie,q,Ee,de,k,Te,x,S),K=Ie.join(""),Ye!==void 0&&(k=(L=Ye.trim()).length)===0&&(Te=0,L="")),0<k)switch(Te){case 115:K=K.replace(A,o);case 100:case 109:case 45:L=K+"{"+L+"}";break;case 107:K=K.replace(_,"$1 $2"),L=K+"{"+L+"}",L=W===1||W===2&&s("@"+L,3)?"@-webkit-"+L+"@"+L:"@"+L;break;default:L=K+L,S===112&&(L=(pe+=L,""))}else L="";break;default:L=e(q,n(q,K,Ae),L,S,x+1)}ve+=L,L=Ae=Ie=ne=Me=0,K="",Te=B.charCodeAt(++oe);break;case 125:case 59:if(K=(0<Ie?K.replace(h,""):K).trim(),1<(k=K.length))switch(ne===0&&(Me=K.charCodeAt(0),Me===45||96<Me&&123>Me)&&(k=(K=K.replace(" ",":")).length),0<U&&(Ye=a(1,K,q,N,Ee,de,pe.length,S,x,S))!==void 0&&(k=(K=Ye.trim()).length)===0&&(K="\0\0"),Me=K.charCodeAt(0),Te=K.charCodeAt(1),Me){case 0:break;case 64:if(Te===105||Te===99){Se+=K+B.charAt(oe);break}default:K.charCodeAt(k-1)!==58&&(pe+=i(K,Me,Te,K.charCodeAt(2)))}Ae=Ie=ne=Me=0,K="",Te=B.charCodeAt(++oe)}}switch(Te){case 13:case 10:X===47?X=0:1+Me===0&&S!==107&&0<K.length&&(Ie=1,K+="\0"),0<U*M&&a(0,K,q,N,Ee,de,pe.length,S,x,S),de=1,Ee++;break;case 59:case 125:if(X+Re+xe+le===0){de++;break}default:switch(de++,J=B.charAt(oe),Te){case 9:case 32:if(Re+le+X===0)switch(We){case 44:case 58:case 9:case 32:J="";break;default:Te!==32&&(J=" ")}break;case 0:J="\\0";break;case 12:J="\\f";break;case 11:J="\\v";break;case 38:Re+X+le===0&&(Ie=Ae=1,J="\f"+J);break;case 108:if(Re+X+le+j===0&&0<ne)switch(oe-ne){case 2:We===112&&B.charCodeAt(oe-3)===58&&(j=We);case 8:Be===111&&(j=Be)}break;case 58:Re+X+le===0&&(ne=oe);break;case 44:X+xe+Re+le===0&&(Ie=1,J+="\r");break;case 34:case 39:X===0&&(Re=Re===Te?0:Re===0?Te:Re);break;case 91:Re+X+xe===0&&le++;break;case 93:Re+X+xe===0&&le--;break;case 41:Re+X+le===0&&xe--;break;case 40:if(Re+X+le===0){if(Me===0)switch(2*We+3*Be){case 533:break;default:Me=1}xe++}break;case 64:X+xe+Re+le+ne+L===0&&(L=1);break;case 42:case 47:if(!(0<Re+le+xe))switch(X){case 0:switch(2*Te+3*B.charCodeAt(oe+1)){case 235:X=47;break;case 220:k=oe,X=42}break;case 42:Te===47&&We===42&&k+2!==oe&&(B.charCodeAt(k+2)===33&&(pe+=B.substring(k,oe+1)),J="",X=0)}}X===0&&(K+=J)}Be=We,We=Te,oe++}if(k=pe.length,0<k){if(Ie=q,0<U&&(Ye=a(2,pe,Ie,N,Ee,de,k,S,x,S),Ye!==void 0&&(pe=Ye).length===0))return Se+pe+ve;if(pe=Ie.join(",")+"{"+pe+"}",W*j!==0){switch(W!==2||s(pe,2)||(j=0),j){case 111:pe=pe.replace(w,":-moz-$1")+pe;break;case 112:pe=pe.replace(b,"::-webkit-input-$1")+pe.replace(b,"::-moz-$1")+pe.replace(b,":-ms-input-$1")+pe}j=0}}return Se+pe+ve}function n(N,q,B){var S=q.trim().split(g);q=S;var x=S.length,le=N.length;switch(le){case 0:case 1:var X=0;for(N=le===0?"":N[0]+" ";X<x;++X)q[X]=r(N,q[X],B).trim();break;default:var xe=X=0;for(q=[];X<x;++X)for(var Re=0;Re<le;++Re)q[xe++]=r(N[Re]+" ",S[X],B).trim()}return q}function r(N,q,B){var S=q.charCodeAt(0);switch(33>S&&(S=(q=q.trim()).charCodeAt(0)),S){case 38:return q.replace(v,"$1"+N.trim());case 58:return N.trim()+q.replace(v,"$1"+N.trim());default:if(0<1*B&&0<q.indexOf("\f"))return q.replace(v,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+q}function i(N,q,B,S){var x=N+";",le=2*q+3*B+4*S;if(le===944){N=x.indexOf(":",9)+1;var X=x.substring(N,x.length-1).trim();return X=x.substring(0,N).trim()+X+";",W===1||W===2&&s(X,1)?"-webkit-"+X+X:X}if(W===0||W===2&&!s(x,1))return x;switch(le){case 1015:return x.charCodeAt(10)===97?"-webkit-"+x+x:x;case 951:return x.charCodeAt(3)===116?"-webkit-"+x+x:x;case 963:return x.charCodeAt(5)===110?"-webkit-"+x+x:x;case 1009:if(x.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+x+x;case 978:return"-webkit-"+x+"-moz-"+x+x;case 1019:case 983:return"-webkit-"+x+"-moz-"+x+"-ms-"+x+x;case 883:if(x.charCodeAt(8)===45)return"-webkit-"+x+x;if(0<x.indexOf("image-set(",11))return x.replace(ce,"$1-webkit-$2")+x;break;case 932:if(x.charCodeAt(4)===45)switch(x.charCodeAt(5)){case 103:return"-webkit-box-"+x.replace("-grow","")+"-webkit-"+x+"-ms-"+x.replace("grow","positive")+x;case 115:return"-webkit-"+x+"-ms-"+x.replace("shrink","negative")+x;case 98:return"-webkit-"+x+"-ms-"+x.replace("basis","preferred-size")+x}return"-webkit-"+x+"-ms-"+x+x;case 964:return"-webkit-"+x+"-ms-flex-"+x+x;case 1023:if(x.charCodeAt(8)!==99)break;return X=x.substring(x.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+X+"-webkit-"+x+"-ms-flex-pack"+X+x;case 1005:return m.test(x)?x.replace(p,":-webkit-")+x.replace(p,":-moz-")+x:x;case 1e3:switch(X=x.substring(13).trim(),q=X.indexOf("-")+1,X.charCodeAt(0)+X.charCodeAt(q)){case 226:X=x.replace(E,"tb");break;case 232:X=x.replace(E,"tb-rl");break;case 220:X=x.replace(E,"lr");break;default:return x}return"-webkit-"+x+"-ms-"+X+x;case 1017:if(x.indexOf("sticky",9)===-1)break;case 975:switch(q=(x=N).length-10,X=(x.charCodeAt(q)===33?x.substring(0,q):x).substring(N.indexOf(":",7)+1).trim(),le=X.charCodeAt(0)+(X.charCodeAt(7)|0)){case 203:if(111>X.charCodeAt(8))break;case 115:x=x.replace(X,"-webkit-"+X)+";"+x;break;case 207:case 102:x=x.replace(X,"-webkit-"+(102<le?"inline-":"")+"box")+";"+x.replace(X,"-webkit-"+X)+";"+x.replace(X,"-ms-"+X+"box")+";"+x}return x+";";case 938:if(x.charCodeAt(5)===45)switch(x.charCodeAt(6)){case 105:return X=x.replace("-items",""),"-webkit-"+x+"-webkit-box-"+X+"-ms-flex-"+X+x;case 115:return"-webkit-"+x+"-ms-flex-item-"+x.replace($,"")+x;default:return"-webkit-"+x+"-ms-flex-line-pack"+x.replace("align-content","").replace($,"")+x}break;case 973:case 989:if(x.charCodeAt(3)!==45||x.charCodeAt(4)===122)break;case 931:case 953:if(te.test(N)===!0)return(X=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),q,B,S).replace(":fill-available",":stretch"):x.replace(X,"-webkit-"+X)+x.replace(X,"-moz-"+X.replace("fill-",""))+x;break;case 962:if(x="-webkit-"+x+(x.charCodeAt(5)===102?"-ms-"+x:"")+x,B+S===211&&x.charCodeAt(13)===105&&0<x.indexOf("transform",10))return x.substring(0,x.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+x}return x}function s(N,q){var B=N.indexOf(q===1?":":"{"),S=N.substring(0,q!==3?B:10);return B=N.substring(B+1,N.length-1),Y(q!==2?S:S.replace(Q,"$1"),B,q)}function o(N,q){var B=i(q,q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2));return B!==q+";"?B.replace(R," or ($1)").substring(4):"("+q+")"}function a(N,q,B,S,x,le,X,xe,Re,Me){for(var Te=0,We=q,Be;Te<U;++Te)switch(Be=F[Te].call(c,N,We,B,S,x,le,X,xe,Re,Me)){case void 0:case!1:case!0:case null:break;default:We=Be}if(We!==q)return We}function u(N){switch(N){case void 0:case null:U=F.length=0;break;default:if(typeof N=="function")F[U++]=N;else if(typeof N=="object")for(var q=0,B=N.length;q<B;++q)u(N[q]);else M=!!N|0}return u}function l(N){return N=N.prefix,N!==void 0&&(Y=null,N?typeof N!="function"?W=1:(W=2,Y=N):W=0),l}function c(N,q){var B=N;if(33>B.charCodeAt(0)&&(B=B.trim()),V=B,B=[V],0<U){var S=a(-1,q,B,B,Ee,de,0,0,0,0);S!==void 0&&typeof S=="string"&&(q=S)}var x=e(ee,B,q,0,0);return 0<U&&(S=a(-2,x,B,B,Ee,de,x.length,0,0,0),S!==void 0&&(x=S)),V="",j=0,de=Ee=1,x}var d=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,y=/([,: ])(transform)/g,g=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,w=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,A=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,$=/-self|flex-/g,Q=/[^]*?(:[rp][el]a[\w-]+)[^]*/,te=/stretch|:\s*\w+\-(?:conte|avail)/,ce=/([^-])(image-set\()/,de=1,Ee=1,j=0,W=1,ee=[],F=[],U=0,Y=null,M=0,V="";return c.use=u,c.set=l,t!==void 0&&l(t),c}var mS="/*|*/",SPe=mS+"}";function TPe(t){t&&Iy.current.insert(t+"}")}var Iy={current:null},IPe=function(e,n,r,i,s,o,a,u,l,c){switch(e){case 1:{switch(n.charCodeAt(0)){case 64:return Iy.current.insert(n+";"),"";case 108:if(n.charCodeAt(2)===98)return""}break}case 2:{if(u===0)return n+mS;break}case 3:switch(u){case 102:case 112:return Iy.current.insert(r[0]+n),"";default:return n+(c===0?mS:"")}case-2:n.split(SPe).forEach(TPe)}},CPe=function(e){e===void 0&&(e={});var n=e.key||"css",r;e.prefix!==void 0&&(r={prefix:e.prefix});var i=new EPe(r),s={},o;{o=e.container||document.head;var a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,function(c){var d=c.getAttribute("data-emotion-"+n);d.split(" ").forEach(function(h){s[h]=!0}),c.parentNode!==o&&o.appendChild(c)})}var u;i.use(e.stylisPlugins)(IPe),u=function(d,h,p,m){var y=h.name;Iy.current=p,i(d,h.styles),m&&(l.inserted[y]=!0)};var l={key:n,sheet:new lj({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return l},APe=!0;function cj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]):r+=i+" "}),r}var mP=function(e,n,r){var i=e.key+"-"+n.name;if((r===!1||APe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles),e.inserted[n.name]===void 0){var s=n;do e.insert("."+i,s,e.sheet,!0),s=s.next;while(s!==void 0)}};function PPe(t){var e={};return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var RPe=/[A-Z]|^ms/g,OPe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dj=function(e){return e.charCodeAt(1)===45},oD=function(e){return e!=null&&typeof e!="boolean"},xw=PPe(function(t){return dj(t)?t:t.replace(RPe,"-$&").toLowerCase()}),aD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(OPe,function(r,i,s){return us={name:i,styles:s,next:us},i})}return S8[e]!==1&&!dj(e)&&typeof n=="number"&&n!==0?n+"px":n};function Kf(t,e,n,r){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return us={name:n.name,styles:n.styles,next:us},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)us={name:i.name,styles:i.styles,next:us},i=i.next;var s=n.styles+";";return s}return kPe(t,e,n)}case"function":{if(t!==void 0){var o=us,a=n(t);return us=o,Kf(t,e,a,r)}break}}if(e==null)return n;var u=e[n];return u!==void 0&&!r?u:n}function kPe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Kf(t,e,n[i],!1);else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":oD(o)&&(r+=xw(s)+":"+aD(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)oD(o[a])&&(r+=xw(s)+":"+aD(s,o[a])+";");else{var u=Kf(t,e,o,!1);switch(s){case"animation":case"animationName":{r+=xw(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var uD=/label:\s*([^\s;\n{]+)\s*;/g,us,Qf=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";us=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Kf(r,n,o,!1)):s+=o[0];for(var a=1;a<e.length;a++)s+=Kf(r,n,e[a],s.charCodeAt(s.length-1)===46),i&&(s+=o[a]);uD.lastIndex=0;for(var u="",l;(l=uD.exec(s))!==null;)u+="-"+l[1];var c=E8(s)+u;return{name:c,styles:s,next:us}},gP=Object.prototype.hasOwnProperty,hj=C.createContext(typeof HTMLElement<"u"?CPe():null),M0=C.createContext({}),xPe=hj.Provider,$0=function(e){var n=function(i,s){return C.createElement(hj.Consumer,null,function(o){return e(i,o,s)})};return C.forwardRef(n)},gS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",NPe=function(e,n){var r={};for(var i in n)gP.call(n,i)&&(r[i]=n[i]);return r[gS]=e,r},DPe=function(){return null},lD=function(e,n,r,i){var s=r===null?n.css:n.css(r);typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var o=n[gS],a=[s],u="";typeof n.className=="string"?u=cj(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var l=Qf(a);mP(e,l,typeof o=="string"),u+=e.key+"-"+l.name;var c={};for(var d in n)gP.call(n,d)&&d!=="css"&&d!==gS&&(c[d]=n[d]);c.ref=i,c.className=u;var h=C.createElement(o,c),p=C.createElement(DPe,null);return C.createElement(C.Fragment,null,p,h)},FPe=$0(function(t,e,n){return typeof t.css=="function"?C.createElement(M0.Consumer,null,function(r){return lD(e,t,r,n)}):lD(e,t,null,n)});function fj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qf(e)}var cD=function(e,n){var r=arguments;if(n==null||!gP.call(n,"css"))return C.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=FPe,s[1]=NPe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return C.createElement.apply(null,s)},MPe=$0(function(t,e){var n=t.styles;if(typeof n=="function")return C.createElement(M0.Consumer,null,function(i){var s=Qf([n(i)]);return C.createElement(dD,{serialized:s,cache:e})});var r=Qf([n]);return C.createElement(dD,{serialized:r,cache:e})}),dD=function(t){Ki(e,t);function e(r,i,s){return t.call(this,r,i,s)||this}var n=e.prototype;return n.componentDidMount=function(){this.sheet=new lj({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(this.props.serialized.next!==void 0&&mP(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},e}(C.Component),$Pe=function(){var e=fj.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},LPe=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=t(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function VPe(t,e,n){var r=[],i=cj(t,r,n);return r.length<2?n:i+e(r)}var UPe=function(){return null},jPe=$0(function(t,e){return C.createElement(M0.Consumer,null,function(n){var r=!1,i=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=Qf(d,e.registered);return mP(e,p,!1),e.key+"-"+p.name},s=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return VPe(e.registered,i,LPe(d))},o={css:i,cx:s,theme:n},a=t.children(o);r=!0;var u=C.createElement(UPe,null);return C.createElement(C.Fragment,null,u,a)})});const BPe=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider:xPe,ClassNames:jPe,Global:MPe,ThemeContext:M0,createElement:cD,css:fj,jsx:cD,keyframes:$Pe,withEmotionCache:$0},Symbol.toStringTag,{value:"Module"})),pj=bD(BPe);Object.defineProperty(Ti,"__esModule",{value:!0});Ti.default=_j;Ti.skeletonStyles=Ti.skeletonKeyframes=Ti.defaultHighlightColor=Ti.defaultBaseColor=void 0;zPe(C);var ql=pj;function zPe(t){return t&&t.__esModule?t:{default:t}}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(n,!0).forEach(function(r){HPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HPe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mj(){var t=WPe([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return mj=function(){return t},t}function WPe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Xg="#eee";Ti.defaultBaseColor=Xg;var gj="#f5f5f5";Ti.defaultHighlightColor=gj;var vj=function(e,n){return(0,ql.keyframes)(mj(),n>0?"".concat(Math.floor(1/(e+n)*e*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};Ti.skeletonKeyframes=vj;var yj=(0,ql.css)("background-color:",Xg,";background-image:linear-gradient( 90deg,",Xg,",",gj,",",Xg," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");Ti.skeletonStyles=yj;function _j(t){for(var e=t.count,n=t.duration,r=t.width,i=t.wrapper,s=t.height,o=t.circle,a=t.delay,u=t.style,l=t.className,c=[],d=0;d<e;d++){var h={};r!==null&&(h.width=r),s!==null&&(h.height=s),r!==null&&s!==null&&o&&(h.borderRadius="50%");var p="react-loading-skeleton";l&&(p+=" "+l),c.push((0,ql.jsx)("span",{key:d,className:p,css:(0,ql.css)(yj," animation:",vj(n,a)," ",n+a,"s ease-in-out infinite;label:Skeleton;"),style:qPe({},u,{},h)},""))}return(0,ql.jsx)("span",null,i?c.map(function(m,y){return(0,ql.jsx)(i,{key:y},m,"")}):c)}_j.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0};var L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.default=void 0;var GPe=KPe(C),fD=pj,pD=Ti;function wj(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return wj=function(){return t},t}function KPe(t){if(t&&t.__esModule)return t;if(t===null||zh(t)!=="object"&&typeof t!="function")return{default:t};var e=wj();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function zh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zh=function(n){return typeof n}:zh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zh(t)}function QPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YPe(t,e,n){return e&&mD(t.prototype,e),n&&mD(t,n),t}function XPe(t,e){return e&&(zh(e)==="object"||typeof e=="function")?e:JPe(t)}function JPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(t)}function ZPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yS(t,e)}function eRe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bj=function(t){ZPe(e,t);function e(){return QPe(this,e),XPe(this,vS(e).apply(this,arguments))}return YPe(e,[{key:"render",value:function(){var r=this.props,i=r.color,s=r.highlightColor,o=r.children,a=(0,fD.css)(".react-loading-skeleton{background-color:",i,";background-image:linear-gradient( 90deg,",i,",",s,",",i," );};label:SkeletonTheme;");return(0,fD.jsx)("div",{css:a},o)}}]),e}(GPe.Component);L0.default=bj;eRe(bj,"defaultProps",{color:pD.defaultBaseColor,highlightColor:pD.defaultHighlightColor});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"SkeletonTheme",{enumerable:!0,get:function(){return n.default}});var e=r(Ti),n=r(L0);function r(i){return i&&i.__esModule?i:{default:i}}})(yd);const _r=Pn(yd),_S=({product:t})=>{const e=li(),n=()=>{t&&e.push(`/product/${t.id}`)};return f(yd.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:O("div",{className:"product-display",onClick:n,role:"presentation",children:[f("div",{className:"product-display-img",children:t.image?f(xi,{className:"product-card-img",src:t.image}):f(_r,{width:"100%",height:"100%"})}),O("div",{className:"product-display-details",children:[f("h2",{children:t.name||f(_r,{width:80})}),f("p",{className:"text-subtle text-italic",children:t.brand||f(_r,{width:40})})]})]})})};_S.propTypes={product:T.shape({image:T.string,name:T.string,id:T.string,brand:T.string}).isRequired};const Cy=({product:t,isItemOnBasket:e,addToBasket:n})=>{const r=li(),i=()=>{t&&t.id&&r.push(`/product/${t.id}`)},s=e?e(t.id):!1,o=()=>{n&&n({...t,selectedSize:t.sizes[0]})};return f(yd.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:O("div",{className:`product-card ${t.id?"":"product-loading"}`,style:{border:t&&s?"1px solid #a6a5a5":"",boxShadow:t&&s?"0 10px 15px rgba(0, 0, 0, .07)":"none"},children:[s&&f(fp,{className:"fa fa-check product-card-check"}),O("div",{className:"product-card-content",onClick:i,role:"presentation",children:[f("div",{className:"product-card-img-wrapper",children:t.image?f(xi,{alt:t.name,className:"product-card-img",src:t.image}):f(_r,{width:"100%",height:"90%"})}),O("div",{className:"product-details",children:[f("h5",{className:"product-card-name text-overflow-ellipsis margin-auto",children:t.name||f(_r,{width:80})}),f("p",{className:"product-card-brand",children:t.brand||f(_r,{width:60})}),f("h4",{className:"product-card-price",children:t.price?io(t.price):f(_r,{width:40})})]})]}),t.id&&f("button",{className:`product-card-button button-small button button-block ${s?"button-border button-border-gray":""}`,onClick:o,type:"button",children:s?"Remove from basket":"Add to basket"})]})})};Cy.defaultProps={isItemOnBasket:void 0,addToBasket:void 0};Cy.propTypes={product:T.object.isRequired,isItemOnBasket:T.func,addToBasket:T.func};const vP=({products:t})=>{const{addToBasket:e,isItemOnBasket:n}=dL();return f("div",{className:"product-grid",children:t.length===0?new Array(12).fill({}).map((r,i)=>f(Cy,{product:r},`product-skeleton ${i}`)):t.map(r=>f(Cy,{isItemOnBasket:n,addToBasket:e,product:r},r.id))})};vP.propTypes={products:T.array.isRequired};const V0=t=>{const{products:e,filteredProducts:n,isLoading:r,requestStatus:i,children:s}=t,[o,a]=C.useState(!1),u=tn(),l=()=>{a(!0),u(aPe(e.lastRefKey))};return C.useEffect(()=>((e.items.length===0||!e.lastRefKey)&&l(),window.scrollTo(0,0),()=>u(Mr(!1))),[]),C.useEffect(()=>{a(!1)},[e.lastRefKey]),n.length===0&&!r?f(Ji,{message:(i==null?void 0:i.message)||"No products found."}):n.length===0&&i?f(Ji,{message:(i==null?void 0:i.message)||"Something went wrong :(",action:l,buttonLabel:"Try Again"}):O(Hu,{children:[s,e.items.length<e.total&&f("div",{className:"d-flex-center padding-l",children:f("button",{className:"button button-small",disabled:o,onClick:l,type:"button",children:o?"Fetching Items...":"Show More Items"})})]})};V0.defaultProps={requestStatus:null};V0.propTypes={products:T.object.isRequired,filteredProducts:T.array.isRequired,isLoading:T.bool.isRequired,requestStatus:T.string,children:T.oneOfType([T.arrayOf(T.node),T.node]).isRequired};const Bu=({products:t,skeletonCount:e})=>f("div",{className:"product-display-grid",children:t.length===0?new Array(e).fill({}).map((n,r)=>f(_S,{product:n},`product-skeleton ${r}`)):t.map(n=>f(_S,{product:n},n.id))});Bu.defaultProps={skeletonCount:4};Bu.propTypes={products:T.array.isRequired,skeletonCount:T.number};const tRe=[{value:"Salt Maalat",label:"Salt Maalat"},{value:"Betsin Maalat",label:"Betsin Maalat"},{value:"Black Kibal",label:"Black Kibal"}],nRe=lo().shape({name:pt().required("Product name is required.").max(60,"Product name must only be less than 60 characters."),brand:pt().required("Brand name is required."),price:Wg().positive("Price is invalid.").integer("Price should be an integer.").required("Price is required."),description:pt().required("Description is required."),maxQuantity:Wg().positive("Max quantity is invalid.").integer("Max quantity should be an integer.").required("Max quantity is required."),keywords:Gg().of(pt()).min(1,"Please enter at least 1 keyword for this product."),sizes:Gg().of(Wg()).min(1,"Please enter a size for this product."),isFeatured:qf(),isRecommended:qf(),availableColors:Gg().of(pt().required()).min(1,"Please add a default color for this product.")}),Ej=({product:t,onSubmit:e,isLoading:n})=>{const r={name:(t==null?void 0:t.name)||"",brand:(t==null?void 0:t.brand)||"",price:(t==null?void 0:t.price)||0,maxQuantity:(t==null?void 0:t.maxQuantity)||0,description:(t==null?void 0:t.description)||"",keywords:(t==null?void 0:t.keywords)||[],sizes:(t==null?void 0:t.sizes)||[],isFeatured:(t==null?void 0:t.isFeatured)||!1,isRecommended:(t==null?void 0:t.isRecommended)||!1,availableColors:(t==null?void 0:t.availableColors)||[]},{imageFile:i,isFileLoading:s,onFileChange:o,removeImage:a}=v5({image:{},imageCollection:(t==null?void 0:t.imageCollection)||[]});return f("div",{children:f(cd,{initialValues:r,validateOnChange:!0,validationSchema:nRe,onSubmit:l=>{var c;i.image.file||t.imageUrl?e({...l,quantity:1,name_lower:l.name.toLowerCase(),dateAdded:new Date().getTime(),image:((c=i==null?void 0:i.image)==null?void 0:c.file)||t.imageUrl,imageCollection:i.imageCollection}):alert("Product thumbnail image is required.")},children:({values:l,setValues:c})=>O(dd,{className:"product-form",children:[O("div",{className:"product-form-inputs",children:[O("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"name",type:"text",label:"* Product Name",placeholder:"Gago",style:{textTransform:"capitalize"},component:cr})}),"",f("div",{className:"product-form-field",children:f(Bh,{defaultValue:{label:l.brand,value:l.brand},name:"brand",iid:"brand",options:tRe,disabled:n,placeholder:"Select/Create Brand",label:"* Brand"})})]}),f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"description",id:"description",rows:3,label:"* Product Description",component:oj})}),O("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"price",id:"price",type:"number",label:"* Price",component:cr})}),"",f("div",{className:"product-form-field",children:f(Er,{disabled:n,name:"maxQuantity",type:"number",id:"maxQuantity",label:"* Max Quantity",component:cr})})]}),O("div",{className:"d-flex",children:[f("div",{className:"product-form-field",children:f(Bh,{defaultValue:l.keywords.map(d=>({value:d,label:d})),name:"keywords",iid:"keywords",isMulti:!0,disabled:n,placeholder:"Create/Select Keywords",label:"* Keywords"})}),"",f("div",{className:"product-form-field",children:f(Bh,{defaultValue:l.keywords.map(d=>({value:d,label:d})),name:"sizes",iid:"sizes",type:"number",isMulti:!0,disabled:n,placeholder:"Create/Select Sizes",label:"* Sizes (Millimeter)"})})]}),f("div",{className:"product-form-field",children:f(wme,{name:"availableColors",disabled:n,component:h8})}),O("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"Image Collection"}),!s&&O("label",{htmlFor:"product-input-file-collection",children:[f("input",{disabled:n,hidden:!0,id:"product-input-file-collection",multiple:!0,onChange:d=>o(d,{name:"imageCollection",type:"multiple"}),readOnly:n,type:"file"}),"Choose Images"]})]}),f("div",{className:"product-form-collection",children:f(Cn,{children:i.imageCollection.length>=1&&i.imageCollection.map(d=>O("div",{className:"product-form-collection-image",children:[f(xi,{alt:"",src:d.url}),f("button",{className:"product-form-delete-image",onClick:()=>a({id:d.id,name:"imageCollection"}),title:"Delete Image",type:"button",children:f("i",{className:"fa fa-times-circle"})})]},d.id))})}),f("br",{}),O("div",{className:"d-flex",children:[O("div",{className:"product-form-field",children:[f("input",{checked:l.isFeatured,className:"",id:"featured",onChange:d=>c({...l,isFeatured:d.target.checked}),type:"checkbox"}),f("label",{htmlFor:"featured",children:f("h5",{className:"d-flex-grow-1 margin-0",children:" Add to Featured "})})]}),O("div",{className:"product-form-field",children:[f("input",{checked:l.isRecommended,className:"",id:"recommended",onChange:d=>c({...l,isRecommended:d.target.checked}),type:"checkbox"}),f("label",{htmlFor:"recommended",children:f("h5",{className:"d-flex-grow-1 margin-0",children:" Add to Recommended "})})]})]}),f("br",{}),f("br",{}),f("br",{}),f("div",{className:"product-form-field product-form-submit",children:O("button",{className:"button",disabled:n,type:"submit",children:[n?f(hr,{}):f(fp,{}),"",n?"Saving Product":"Save Product"]})})]}),O("div",{className:"product-form-file",children:[O("div",{className:"product-form-field",children:[f("span",{className:"d-block padding-s",children:"* Thumbnail"}),!s&&O("label",{htmlFor:"product-input-file",children:[f("input",{disabled:n,hidden:!0,id:"product-input-file",onChange:d=>o(d,{name:"image",type:"single"}),readOnly:n,type:"file"}),"Choose Image"]})]}),f("div",{className:"product-form-image-wrapper",children:(i.image.url||t.image)&&f(xi,{alt:"",className:"product-form-image-preview",src:i.image.url||t.image})})]})]})})})};Ej.propTypes={product:T.shape({name:T.string,brand:T.string,price:T.number,maxQuantity:T.number,description:T.string,keywords:T.arrayOf(T.string),imageCollection:T.arrayOf(T.object),sizes:T.arrayOf(T.string),image:T.string,imageUrl:T.string,isFeatured:T.bool,isRecommended:T.bool,availableColors:T.arrayOf(T.string)}).isRequired,onSubmit:T.func.isRequired,isLoading:T.bool.isRequired};const Sj=Object.freeze(Object.defineProperty({__proto__:null,default:Ej},Symbol.toStringTag,{value:"Module"})),Tj=({product:t})=>{const e=tn(),n=li(),r=C.useRef(null),i=()=>{n.push(`${_D}/${t.id}`)},s=()=>{r.current.classList.toggle("item-active")},o=()=>{e(fPe(t.id)),bi("Item successfully deleted"),r.current.classList.remove("item-active")},a=()=>{r.current.classList.remove("item-active")};return f(yd.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:O("div",{className:`item item-products ${!t.id&&"item-loading"}`,ref:r,children:[O("div",{className:"grid grid-count-6",children:[f("div",{className:"grid-col item-img-wrapper",children:t.image?f(xi,{alt:t.name,className:"item-img",src:t.image}):f(_r,{width:50,height:30})}),f("div",{className:"grid-col",children:f("span",{className:"text-overflow-ellipsis",children:t.name||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.brand||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.price?io(t.price):f(_r,{width:30})})}),f("div",{className:"grid-col",children:f("span",{children:t.dateAdded?KG(t.dateAdded):f(_r,{width:30})})}),f("div",{className:"grid-col",children:f("span",{children:t.maxQuantity||f(_r,{width:20})})})]}),t.id&&O("div",{className:"item-action",children:[f("button",{className:"button button-border button-small",onClick:i,type:"button",children:"Edit"}),"",f("button",{className:"button button-border button-small button-danger",onClick:s,type:"button",children:"Delete"}),O("div",{className:"item-action-confirm",children:[f("h5",{children:"Are you sure you want to delete this?"}),f("button",{className:"button button-small button-border",onClick:a,type:"button",children:"No"}),"",f("button",{className:"button button-small button-danger",onClick:o,type:"button",children:"Yes"})]})]})]})})};Tj.propTypes={product:T.shape({id:T.string,name:T.string,brand:T.string,price:T.number,maxQuantity:T.number,description:T.string,keywords:T.arrayOf(T.string),imageCollection:T.arrayOf(T.object),sizes:T.arrayOf(T.string),image:T.string,imageUrl:T.string,isFeatured:T.bool,isRecommended:T.bool,dateAdded:T.number,availableColors:T.arrayOf(T.string)}).isRequired};const gD=Sa(Tj),Ij=t=>{const{productsCount:e,totalProductsCount:n}=t,r=li();return O("div",{className:"product-admin-header",children:[O("h3",{className:"product-admin-header-title",children:["Products  (",`${e} / ${n}`,")"]}),f(mA,{}),"",f(p0,{children:O("button",{className:"button-muted button-small",type:"button",children:[f(C$,{}),"More Filters"]})}),O("button",{className:"button button-small",onClick:()=>r.push(SS),type:"button",children:[f(A$,{})," Add New Product"]})]})};Ij.propTypes={productsCount:T.number.isRequired,totalProductsCount:T.number.isRequired};const Cj=({filteredProducts:t})=>O("div",{children:[t.length>0&&O("div",{className:"grid grid-product grid-count-6",children:[f("div",{className:"grid-col"}),f("div",{className:"grid-col",children:f("h5",{children:"Name"})}),f("div",{className:"grid-col",children:f("h5",{children:"Brand"})}),f("div",{className:"grid-col",children:f("h5",{children:"Price"})}),f("div",{className:"grid-col",children:f("h5",{children:"Date Added"})}),f("div",{className:"grid-col",children:f("h5",{children:"Qty"})})]}),t.length===0?new Array(10).fill({}).map((e,n)=>f(gD,{product:e},`product-skeleton ${n}`)):t.map(e=>f(gD,{product:e},e.id))]});Cj.propTypes={filteredProducts:T.array.isRequired};const rRe=t=>async e=>{try{await firestore.collection("users").doc(t).update({role:"ADMIN"}),e({type:nL,payload:{uid:t,newRole:"ADMIN"}})}catch(n){console.error("Error changing user role:",n)}};T.array.isRequired;const iRe=({user:t})=>{const e=tn();li();const n=C.useRef(null),r=()=>{},i=()=>{n.current.classList.toggle("item-active")},s=()=>{e(removeUser(t.id)),bi("User successfully deleted"),n.current.classList.remove("item-active")},o=()=>{n.current.classList.remove("item-active")},a=()=>{e(rRe(t.id)),bi("User role changed to ADMIN")};return f(yd.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:O("div",{className:`item item-users ${!t.id&&"item-loading"}`,ref:n,children:[O("div",{className:"grid grid-count-6",children:[f("div",{className:"grid-col",children:f("span",{className:"text-overflow-ellipsis",children:t.name||f(_r,{width:50})})}),f("div",{className:"grid-col",children:f("span",{children:t.email||f(_r,{width:50})})})]}),t.id&&O("div",{className:"item-action",children:[f("button",{className:"button button-border button-small",onClick:r,type:"button",children:"Edit"}),"",f("button",{className:"button button-border button-small button-danger",onClick:i,type:"button",children:"Delete"}),"",f("button",{className:"button button-border button-small",onClick:a,type:"button",children:"Change to ADMIN"}),O("div",{className:"item-action-confirm",children:[f("h5",{children:"Are you sure you want to delete this user?"}),f("button",{className:"button button-small button-border",onClick:o,type:"button",children:"No"}),"",f("button",{className:"button button-small button-danger",onClick:s,type:"button",children:"Yes"})]})]})]})})};Sa(iRe);T.number.isRequired,T.number.isRequired;const sRe=()=>{Yn("Product List | HENRY & CO. Admin"),Fn();const t=On(e=>({filteredProducts:w5(e.products.items,e.filter),requestStatus:e.app.requestStatus,isLoading:e.app.loading,products:e.products}));return O(Hu,{children:[f(Ij,{productsCount:t.products.items.length,totalProductsCount:t.products.total}),f("div",{className:"product-admin-items",children:O(V0,{...t,children:[f(F0,{filter:t.filter}),f(Cj,{filteredProducts:t.filteredProducts})]})})]})},Aj=Sa(sRe),oRe=({user:t,onEdit:e,onDelete:n,onChangeRole:r})=>{const[i,s]=C.useState(!1),[o,a]=C.useState({...t}),u=()=>{s(!0)},l=()=>{onSave(o),s(!1)},c=()=>{n(t.id)},d=()=>{r(t.id,o.role)},h=p=>{const{name:m,value:y}=p.target;a({...o,[m]:y})};return f("div",{children:i?O("div",{children:[f("input",{type:"text",name:"name",value:o.name,onChange:h}),f("input",{type:"email",name:"email",value:o.email,onChange:h}),f("input",{type:"text",name:"role",value:o.role,onChange:h}),f("button",{onClick:l,children:"Guardar"})]}):O("div",{children:[O("p",{children:[f("strong",{children:"Nombre:"})," ",t.name]}),O("p",{children:[f("strong",{children:"Email:"})," ",t.email]}),O("p",{children:[f("strong",{children:"Rol:"})," ",t.role]}),f("button",{onClick:u,children:"Editar"}),f("button",{onClick:c,children:"Borrar"}),f("button",{onClick:d,children:"Cambiar Rol"})]})})},aRe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const l=await nn.firestore().collection("users").get(),c=[];l.forEach(d=>{c.push({id:d.id,...d.data()})}),e(c),r(!1)}catch(u){console.error("Error al obtener usuarios:",u)}})()},[]);const i=(a,u)=>{},s=a=>{},o=(a,u)=>{};return O("div",{children:[f("h1",{children:"User List"}),n?f("p",{children:"Cargando usuarios..."}):f("ul",{children:t.map(a=>f("li",{children:f(oRe,{user:a,onEdit:u=>i(a.id),onDelete:()=>s(a.id),onChangeRole:u=>o(a.id)})},a.id))})]})},uRe=()=>(Yn("Welcome | Admin Dashboard"),Fn(),O("div",{className:"loader",children:[f("h2",{children:"Administrator"}),f(Aj,{}),f(aRe,{})]})),lRe=C.lazy(()=>rm(()=>Promise.resolve().then(()=>Sj),void 0)),Pj=({match:t})=>{Yn("Edit Product | Salinaka"),Fn();const{product:e,error:n,isLoading:r}=y5(t.params.id),i=tn(),s=o=>{i(mPe(e.id,o))};return O("div",{className:"product-form-container",children:[n&&f(ro,{to:"/dashboard/products"}),f("h2",{children:"Edit Product"}),e&&f(C.Suspense,{fallback:O("div",{className:"loader",style:{minHeight:"80vh"},children:[f("h6",{children:"Loading ... "}),f("br",{}),f(hr,{})]}),children:f(lRe,{isLoading:r,onSubmit:s,product:e})})]})};Pj.propTypes={match:T.shape({params:T.shape({id:T.string})}).isRequired};const cRe=Sa(Pj),dRe=()=>{const{authStatus:t,isAuthenticating:e}=On(h=>({isAuthenticating:h.app.isAuthenticating,authStatus:h.app.authStatus})),n=tn(),r=Wu(),[i,s]=C.useState({}),[o,a]=C.useState(!1),[u,l]=C.useState({});Fn(),Yn("Forgot Password | Salinaka"),C.useEffect(()=>{r&&(s(t),a(e))},[t,e]);const c=(h,p)=>{l({email:h,error:p})},d=()=>{u.email&&!u.error&&n(HG(u.email))};return O("div",{className:"forgot_password",children:[(i==null?void 0:i.message)&&f("h5",{className:`text-center ${t!=null&&t.success?"toast-success":"toast-error"}`,children:t.message}),f("h2",{children:"Forgot Your Password?"}),f("p",{children:"Enter your email address and we will send you a password reset email."}),f("br",{}),f("input",{field:"email",required:!0,className:"input-form",label:"* Email",maxLength:40,onChange:c,placeholder:"Enter your email",readOnly:o||(t==null?void 0:t.success),type:"email",style:{width:"100%"}}),f("br",{}),f("br",{}),O("button",{className:"button w-100-mobile",disabled:o||(t==null?void 0:t.success),onClick:d,type:"button",children:[o?f(hr,{}):f(fp,{}),"",o?"Sending Password Reset Email":"Send Password Reset Email"]})]})},hRe=lo().shape({email:pt().email("Email is not valid.").required("Email is required."),password:pt().required("Password is required.")}),Rj=({history:t})=>{const{authStatus:e,isAuthenticating:n}=On(a=>({authStatus:a.app.authStatus,isAuthenticating:a.app.isAuthenticating})),r=tn();Fn(),Yn("Sign In | PF HENRY & CO."),C.useEffect(()=>()=>{r(Ui(null)),r(Go(!1))},[]);const i=()=>t.push(Hl),s=a=>{r(LG(a.email,a.password))},o=a=>{n&&a.preventDefault()};return O("div",{className:"auth-content",children:[(e==null?void 0:e.success)&&f("div",{className:"loader",children:O("h3",{className:"toast-success auth-success",children:[e.message,f(hr,{})]})}),!(e!=null&&e.success)&&O(Cn,{children:[(e==null?void 0:e.message)&&f("h5",{className:"text-center toast-error",children:e==null?void 0:e.message}),O("div",{className:`auth ${(e==null?void 0:e.message)&&!(e!=null&&e.success)&&"input-error"}`,children:[O("div",{className:"auth-main",children:[f("h3",{children:"Sign in to PF HENRY & CO."}),f("br",{}),f("div",{className:"auth-wrapper",children:f(cd,{initialValues:{email:"",password:""},validateOnChange:!0,validationSchema:hRe,onSubmit:s,children:()=>O(dd,{children:[f("div",{className:"auth-field",children:f(Er,{disabled:n,name:"email",type:"email",label:"Email",placeholder:"test@example.com",component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:n,name:"password",type:"password",label:"Password",placeholder:"Your Password",component:cr})}),f("br",{}),O("div",{className:"auth-field auth-action",children:[f(Tr,{onClick:o,style:{textDecoration:"underline"},to:TS,children:f("span",{children:"Forgot password?"})}),O("button",{className:"button auth-button",disabled:n,type:"submit",children:[n?"Signing In":"Sign In","",n?f(hr,{}):f(hp,{})]})]})]})})})]}),f("div",{className:"auth-divider",children:f("h6",{children:"OR"})}),f(gA,{isLoading:n})]}),O("div",{className:"auth-message",children:[f("span",{className:"auth-info",children:f("strong",{children:"Don't have an account?"})}),f("button",{className:"button button-small button-border button-border-gray button-icon",disabled:n,onClick:i,type:"button",children:"Sign Up"})]})]})]})};Rj.propTypes={history:T.shape({push:T.func}).isRequired};const fRe=lo().shape({email:pt().email("Email is not valid.").required("Email is required."),password:pt().required("Password is required.").min(8,"Password length should be at least 8 characters.").matches(/[A-Z\W]/g,"Password should contain at least 1 uppercase letter."),fullname:pt().required("Full name is required.").min(4,"Name should be at least 4 characters.")}),Oj=({history:t})=>{const{isAuthenticating:e,authStatus:n}=On(o=>({isAuthenticating:o.app.isAuthenticating,authStatus:o.app.authStatus})),r=tn();Fn(),Yn("Sign Up | PF HENRY & CO."),C.useEffect(()=>()=>{r(Ui(null)),r(Go(!1))},[]);const i=()=>t.push(Bi),s=o=>{r(jG({fullname:o.fullname.trim(),email:o.email.trim().toLowerCase(),password:o.password.trim()}))};return O("div",{className:"auth-content",children:[(n==null?void 0:n.success)&&f("div",{className:"loader",children:O("h3",{className:"toast-success auth-success",children:[n==null?void 0:n.message,f(hr,{})]})}),!(n!=null&&n.success)&&O(Cn,{children:[(n==null?void 0:n.message)&&f("h5",{className:"text-center toast-error",children:n==null?void 0:n.message}),O("div",{className:`auth ${(n==null?void 0:n.message)&&!(n!=null&&n.success)&&"input-error"}`,children:[O("div",{className:"auth-main",children:[f("h3",{children:"Sign up to PF HENRY & CO."}),f(cd,{initialValues:{fullname:"",email:"",password:""},validateOnChange:!0,validationSchema:fRe,onSubmit:s,children:()=>O(dd,{children:[f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"fullname",type:"text",label:"* Full Name",placeholder:"John Doe",style:{textTransform:"capitalize"},component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"email",type:"email",label:"* Email",placeholder:"test@example.com",component:cr})}),f("div",{className:"auth-field",children:f(Er,{disabled:e,name:"password",type:"password",label:"* Password",placeholder:"Your Password",component:cr})}),f("br",{}),f("div",{className:"auth-field auth-action auth-action-signup",children:O("button",{className:"button auth-button",disabled:e,type:"submit",children:[e?"Signing Up":"Sign Up","",e?f(hr,{}):f(hp,{})]})})]})})]}),f("div",{className:"auth-divider",children:f("h6",{children:"OR"})}),f(gA,{isLoading:e})]}),O("div",{className:"auth-message",children:[f("span",{className:"auth-info",children:f("strong",{children:"Already have an account?"})}),f("button",{className:"button button-small button-border button-border-gray",disabled:e,onClick:i,type:"button",children:"Sign In"})]})]})]})};Oj.propTypes={history:T.shape({push:T.func}).isRequired};const U0=({current:t})=>{const e=n=>t===n?"is-active-step":n<t?"is-done-step":"";return f("div",{className:"checkout-header",children:O("ul",{className:"checkout-header-menu",children:[f("li",{className:`checkout-header-list ${e(1)}`,children:O("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"1"})}),f("h6",{className:"checkout-header-subtitle",children:"Order Summary"})]})}),f("li",{className:`checkout-header-list ${e(2)}`,children:O("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"2"})}),f("h6",{className:"checkout-header-subtitle",children:"Shipping Details"})]})}),f("li",{className:`checkout-header-list ${e(3)}`,children:O("div",{className:"checkout-header-item",children:[f("div",{className:"checkout-header-icon",children:f("h4",{className:"checkout-header-step",children:"3"})}),f("h6",{className:"checkout-header-subtitle",children:"Payment"})]})})]})})};U0.propTypes={current:T.number.isRequired};const yP=t=>Sa(e=>{const n=On(s=>({isAuth:!!s.auth.id&&!!s.auth.role,basket:s.basket,shipping:s.checkout.shipping,payment:s.checkout.payment,profile:s.profile})),r=n.shipping.isInternational?50:0,i=uL(n.basket.map(s=>s.price*s.quantity));return n.isAuth?n.basket.length===0?f(ro,{to:"/"}):n.isAuth&&n.basket.length!==0?f(t,{...e,basket:n.basket,payment:n.payment,profile:n.profile,shipping:n.shipping,subtotal:Number(i+r)}):null:f(ro,{to:Bi})}),kj=({basket:t,subtotal:e})=>{Yn("Check Out Step 1 | PF HENRY & CO."),Fn();const n=tn(),r=li(),i=()=>r.push("/"),s=()=>r.push(ky);return O("div",{className:"checkout",children:[f(U0,{current:1}),O("div",{className:"checkout-step-1",children:[f("h3",{className:"text-center",children:"Order Summary"}),f("span",{className:"d-block text-center",children:"Review items in your basket."}),f("br",{}),f("div",{className:"checkout-items",children:t.map(o=>f(pA,{basket:t,dispatch:n,product:o},o.id))}),f("br",{}),O("div",{className:"basket-total text-right",children:[f("p",{className:"basket-total-title",children:"Subtotal:"}),f("h2",{className:"basket-total-amount",children:io(e)})]}),f("br",{}),O("div",{className:"checkout-shipping-action",children:[O("button",{className:"button button-muted",onClick:i,type:"button",children:[f(wG,{})," Continue Shopping"]}),O("button",{className:"button",onClick:s,type:"submit",children:["Next Step ",f(hp,{})]})]})]})]})};kj.propTypes={basket:T.arrayOf(T.object).isRequired,subtotal:T.number.isRequired};const pRe=yP(kj),mRe=()=>{const{values:t}=bo();return f("div",{className:"checkout-shipping-wrapper",children:O("div",{className:"checkout-shipping-form",children:[O("div",{className:"checkout-fieldset",children:[f("div",{className:"d-block checkout-field",children:f(Er,{name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:cr,style:{textTransform:"capitalize"}})}),f("div",{className:"d-block checkout-field",children:f(Er,{name:"email",type:"email",label:"* Email Address",placeholder:"Enter your email address",component:cr})})]}),O("div",{className:"checkout-fieldset",children:[f("div",{className:"d-block checkout-field",children:f(Er,{name:"address",type:"text",label:"* Shipping Address",placeholder:"Enter full shipping address",component:cr})}),f("div",{className:"d-block checkout-field",children:f(D0,{name:"mobile",defaultValue:t.mobile})})]}),f("div",{className:"checkout-fieldset"})]})})},xj=({subtotal:t})=>{const{values:e}=bo();return f("div",{className:"checkout-total d-flex-end padding-right-m",children:f("table",{children:O("tbody",{children:[f("tr",{}),f("tr",{children:f("td",{children:f("h4",{className:"basket-total-amount text-subtle text-right margin-0",children:io(t)})})}),O("tr",{children:[f("td",{children:f("span",{className:"d-block margin-0 padding-right-s text-right",children:"Total: "})}),f("td",{children:f("h2",{className:"basket-total-amount text-right",children:io(Number(t)+(e.isInternational?50:0))})})]})]})})})};xj.propTypes={subtotal:T.number.isRequired};const gRe=lo().shape({fullname:pt().required("Full name is required.").min(2,"Full name must be at least 2 characters long.").max(60,"Full name must only be less than 60 characters."),email:pt().email("Email is not valid.").required("Email is required."),address:pt().required("Shipping address is required."),mobile:lo().shape({country:pt(),countryCode:pt(),dialCode:pt().required("Mobile number is required"),value:pt().required("Mobile number is required")}).required("Mobile number is required."),isInternational:qf(),isDone:qf()}),Nj=({profile:t,shipping:e,subtotal:n})=>{Yn("Check Out Step 2 | PF HENRY & CO."),Fn();const r=tn(),i=li(),s={fullname:e.fullname||t.fullname||"",email:e.email||t.email||"",address:e.address||t.address||"",mobile:e.mobile||t.mobile||{},isInternational:e.isInternational||!1,isDone:e.isDone||!1};return f(Hu,{children:O("div",{className:"checkout",children:[f(U0,{current:2}),O("div",{className:"checkout-step-2",children:[f("h3",{className:"text-center",children:"Shipping Details"}),f(cd,{initialValues:s,validateOnChange:!0,validationSchema:gRe,onSubmit:a=>{r(Ice({fullname:a.fullname,email:a.email,address:a.address,mobile:a.mobile,isInternational:a.isInternational,isDone:!0})),i.push(IS)},children:()=>O(dd,{children:[f(mRe,{}),f("br",{}),f(xj,{subtotal:n}),f("br",{}),O("div",{className:"checkout-shipping-action",children:[O("button",{className:"button button-muted",onClick:()=>i.push(dc),type:"button",children:[f(d_,{})," Go Back"]}),O("button",{className:"button button-icon",type:"submit",children:["Next Step ",f(hp,{})]})]})]})})]})]})})};Nj.propTypes={subtotal:T.number.isRequired,profile:T.shape({fullname:T.string,email:T.string,address:T.string,mobile:T.object}).isRequired,shipping:T.shape({fullname:T.string,email:T.string,address:T.string,mobile:T.object,isInternational:T.bool,isDone:T.bool}).isRequired};const vRe=yP(Nj),yRe=window.paypal.Buttons.driver("react",{React:qe,ReactDOM:Lq});function _Re({subtotal:t}){C.useState(5);const e=li(),n=(s,o)=>o.order.create({purchase_units:[{amount:{currency_code:"USD",value:`${t}`}}],description:"Gafas"}),r=(s,o)=>o.order.capture(i());function i(){console.log("el pago ha sido exitoso"),e.push(CS)}return f("center",{children:f("div",{children:f(yRe,{createOrder:(s,o)=>n(s,o),onApprove:(s,o)=>r(s,o),style:{layout:"vertical",color:"black",shape:"rect",size:"small"}})})})}const wRe=({subtotal:t})=>{const{values:e,setValues:n}=bo();return f("div",{className:` ${e.type==="paypal"?"is-selected-payment":""}`,children:f(_Re,{subtotal:t})})},Dj=({isInternational:t,subtotal:e})=>{const{values:n,submitForm:r}=bo(),i=li(),s=tn(),o=()=>{const{cardnumber:a,ccv:u,...l}=n;s(Cce({...l})),i.push(ky)};return O(Cn,{children:[O("div",{className:"basket-total text-right",children:[f("p",{className:"basket-total-title",children:"Total:"}),f("h2",{className:"basket-total-amount",children:io(e+(t?50:0))})]}),f("br",{}),f("div",{className:"checkout-shipping-action",children:O("button",{className:"button button-muted",onClick:()=>o(),type:"button",children:[f(d_,{})," Go Back"]})})]})};Dj.propTypes={isInternational:T.bool.isRequired,subtotal:T.number.isRequired};const bRe=lo().shape({name:pt().min(4,"Name should be at least 4 characters.").required("Name is required"),cardnumber:pt().min(13,"Card number should be 13-19 digits long").max(19,"Card number should only be 13-19 digits long").required("Card number is required."),expiry:tP().required("Credit card expiry is required."),ccv:pt().min(3,"CCV length should be 3-4 digit").max(4,"CCV length should only be 3-4 digit").required("CCV is required."),type:pt().required("Please select paymend mode")}),Fj=({shipping:t,payment:e,subtotal:n})=>{Yn("Check Out Final Step | PF HENRY & CO."),Fn();const r={name:e.name||"",cardnumber:e.cardnumber||"",expiry:e.expiry||"",ccv:e.ccv||"",type:e.type||"paypal"},i=()=>{bi("Feature not ready yet :)","info")};return!t||!t.isDone?f(ro,{to:dc}):O("div",{className:"checkout",children:[f(U0,{current:3}),f(cd,{initialValues:r,validateOnChange:!0,validationSchema:bRe,validate:s=>{s.type==="paypal"&&bi("Feature not ready yet :)","info")},onSubmit:i,children:()=>O(dd,{className:"checkout-step-3",children:[f(wRe,{subtotal:n}),f(Dj,{subtotal:n})]})})]})};Fj.propTypes={shipping:T.shape({isDone:T.bool,isInternational:T.bool}).isRequired,payment:T.shape({name:T.string,cardnumber:T.string,expiry:T.string,ccv:T.string,type:T.string}).isRequired,subtotal:T.number.isRequired};const ERe=yP(Fj),SRe=()=>f("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"80vh",marginLeft:"20px"},children:f("div",{style:{fontSize:"24px",color:"#333",marginBottom:"10px",marginLeft:"500px"},children:f("p",{children:"Your payment has been made!"})})}),Mj=({history:t})=>(Fn(),O("div",{className:"page-not-found",children:[f("h1",{children:":( Page you are looking for doesn't exists."}),f("br",{}),f("button",{className:"button",onClick:t.goBack,type:"button",children:"Go back"})]}));Mj.propTypes={history:T.shape({goBack:T.func}).isRequired};const TRe="/assets/banner-guy-0729a23e.png",IRe=()=>{Yn("Featured Products | PF HENRY & CO."),Fn();const{featuredProducts:t,fetchFeaturedProducts:e,isLoading:n,error:r}=g5();return f("main",{className:"content",children:O("div",{className:"featured",children:[O("div",{className:"banner",children:[f("div",{className:"banner-desc",children:f("h1",{children:"Featured Products"})}),f("div",{className:"banner-img",children:f("img",{src:TRe,alt:""})})]}),f("div",{className:"display",children:f("div",{className:"product-display-grid",children:r&&!n?f(Ji,{message:r,action:e,buttonLabel:"Try Again"}):f(Bu,{products:t,skeletonCount:6})})})]})})},CRe="/assets/banner-girl-cc69a475.png",ARe=()=>{Yn("PF HENRY & CO. | Home"),Fn();const{featuredProducts:t,fetchFeaturedProducts:e,isLoading:n,error:r}=g5(6),{recommendedProducts:i,fetchRecommendedProducts:s,isLoading:o,error:a}=oA(6);return f("main",{className:"content",children:O("div",{className:"home",children:[O("div",{className:"banner",children:[O("div",{className:"banner-desc",children:[O("h1",{className:"text-thin",children:[f("strong",{children:"See"}),"everything with",f("strong",{children:"Clarity"})]}),f("p",{children:"Buying eyewear should leave you happy and good-looking, with money in your pocket. Glasses, sunglasses, and contactsweve got your eyes covered."}),f("br",{}),O(Tr,{to:cc,className:"button",children:["Shop Now ",f(hp,{})]})]}),f("div",{className:"banner-img",children:f("img",{src:CRe,alt:""})})]}),O("div",{className:"display",children:[O("div",{className:"display-header",children:[f("h1",{children:"Featured Products"}),f(Tr,{to:ES,children:"See All"})]}),r&&!n?f(Ji,{message:r,action:e,buttonLabel:"Try Again"}):f(Bu,{products:t,skeletonCount:6})]}),O("div",{className:"display",children:[O("div",{className:"display-header",children:[f("h1",{children:"Recommended Products"}),f(Tr,{to:Py,children:"See All"})]}),a&&!o?f(Ji,{message:a,action:s,buttonLabel:"Try Again"}):f(Bu,{products:i,skeletonCount:6})]})]})})},PRe="/assets/banner-girl-1-23493f87.png",RRe=()=>{Yn("Recommended Products | HP HENRY & CO."),Fn();const{recommendedProducts:t,fetchRecommendedProducts:e,isLoading:n,error:r}=oA();return f("main",{className:"content",children:O("div",{className:"featured",children:[O("div",{className:"banner",children:[f("div",{className:"banner-desc",children:f("h1",{children:"Recommended Products"})}),f("div",{className:"banner-img",children:f("img",{src:PRe,alt:""})})]}),f("div",{className:"display",children:f("div",{className:"product-display-grid",children:r&&!n?f(Ji,{message:r,action:e,buttonLabel:"Try Again"}):f(Bu,{products:t,skeletonCount:6})})})]})})},$j=({match:t})=>{const{searchKey:e}=t.params,n=tn(),r=Wu(!0),i=On(s=>({isLoading:s.app.loading,products:s.products.searchedProducts.items,basket:s.basket,requestStatus:s.app.requestStatus}));return C.useEffect(()=>{r&&!i.isLoading&&n(cPe(e))},[e]),C.useEffect(()=>()=>{n(Uf(""))},[]),i.requestStatus&&!i.isLoading?f("main",{className:"content",children:f(Ji,{message:i.requestStatus,desc:"Try using correct filters or keyword."})}):!i.requestStatus&&!i.isLoading?f(Hu,{children:f("main",{className:"content",children:O("section",{className:"product-list-wrapper product-list-search",children:[!i.requestStatus&&f("div",{className:"product-list-header",children:f("div",{className:"product-list-header-title",children:f("h5",{children:`Found ${i.products.length} ${i.products.length>1?"products":"product"} with keyword ${e}`})})}),f(vP,{products:i.products})]})})}):f("main",{className:"content",children:O("div",{className:"loader",children:[f("h4",{children:"Searching Product..."}),f("br",{}),f(hr,{style:{fontSize:"3rem"}})]})})};$j.propTypes={match:T.shape({params:T.shape({searchKey:T.string})}).isRequired};const ORe=()=>{Yn("Shop | HP HENRY & CO."),Fn();const t=On(e=>({filteredProducts:w5(e.products.items,e.filter),products:e.products,requestStatus:e.app.requestStatus,isLoading:e.app.loading}),ch);return f("main",{className:"content",children:O("section",{className:"product-list-wrapper",children:[f(F0,{filteredProductsCount:t.filteredProducts.length}),f(V0,{...t,children:f(vP,{products:t.filteredProducts})})]})})};var kRe=sj(pP);const xRe=kRe,NRe=()=>{const{id:t}=TH(),{product:e,isLoading:n,error:r}=y5(t),{addToBasket:i,isItemOnBasket:s}=dL();Fn(),Yn(`View ${(e==null?void 0:e.name)||"Item"}`);const[o,a]=C.useState((e==null?void 0:e.image)||""),[u,l]=C.useState(""),[c,d]=C.useState(""),{recommendedProducts:h,fetchRecommendedProducts:p,isLoading:m,error:y}=oA(6),g=C.useRef(null);C.useEffect(()=>{a(e==null?void 0:e.image)},[e]);const v=w=>{l(w.value)},_=w=>{d(w),g.current&&(g.current.value=w)},b=()=>{i({...e,selectedColor:c,selectedSize:u||e.sizes[0]})};return O("main",{className:"content",children:[n&&O("div",{className:"loader",children:[f("h4",{children:"Loading Product..."}),f("br",{}),f(hr,{style:{fontSize:"3rem"}})]}),r&&f(Ji,{message:r}),e&&!n&&O("div",{className:"product-view",children:[f(Tr,{to:cc,children:O("h3",{className:"button-link d-inline-flex",children:[f(d_,{})," Back to shop"]})}),O("div",{className:"product-modal",children:[e.imageCollection.length!==0&&f("div",{className:"product-modal-image-collection",children:e.imageCollection.map(w=>f("div",{className:"product-modal-image-collection-wrapper",onClick:()=>a(w.url),role:"presentation",children:f(xi,{className:"product-modal-image-collection-img",src:w.url})},w.id))}),O("div",{className:"product-modal-image-wrapper",children:[c&&f("input",{type:"color",disabled:!0,ref:g,id:"color-overlay"}),f(xi,{alt:e.name,className:"product-modal-image",src:o})]}),O("div",{className:"product-modal-details",children:[f("br",{}),f("span",{className:"text-subtle",children:e.brand}),f("h1",{className:"margin-top-0",children:e.name}),f("span",{children:e.description}),f("br",{}),f("br",{}),f("div",{className:"divider"}),f("br",{}),O("div",{children:[f("span",{className:"text-subtle",children:"Lens Width and Frame Size"}),f("br",{}),f("br",{}),f(xRe,{placeholder:"--Select Size--",onChange:v,options:e.sizes.sort((w,E)=>w<E?-1:1).map(w=>({label:`${w} mm`,value:w})),styles:{menu:w=>({...w,zIndex:10})}})]}),f("br",{}),e.availableColors.length>=1&&O("div",{children:[f("span",{className:"text-subtle",children:"Choose Color"}),f("br",{}),f("br",{}),f(aL,{availableColors:e.availableColors,onSelectedColorChange:_})]}),f("h1",{children:io(e.price)}),f("div",{className:"product-modal-action",children:f("button",{className:`button button-small ${s(e.id)?"button-border button-border-gray":""}`,onClick:b,type:"button",children:s(e.id)?"Remove From Basket":"Add To Basket"})})]})]}),O("div",{style:{marginTop:"10rem"},children:[O("div",{className:"display-header",children:[f("h1",{children:"Recommended"}),f(Tr,{to:Py,children:"See All"})]}),y&&!m?f(Ji,{message:r,action:p,buttonLabel:"Try Again"}):f(Bu,{products:h,skeletonCount:3})]})]})]})},_P=({isAuth:t,role:e,component:n,...r})=>f(Vs,{...r,component:i=>t&&e==="ADMIN"?O(Cn,{children:[f(WG,{}),O("main",{className:"content-admin",children:[f(GG,{}),f("div",{className:"content-admin-wrapper",children:f(n,{...i})})]})]}):f(ro,{to:"/"})}),DRe=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""});_P.defaultProps={isAuth:!1,role:"USER"};_P.propTypes={isAuth:T.bool,role:T.string,component:T.func.isRequired,rest:T.any};const cg=jS(DRe)(_P),wP=({isAuth:t,role:e,component:n,...r})=>f(Vs,{...r,component:i=>t&&e==="USER"?f("main",{className:"content",children:f(n,{...i})}):t&&e==="ADMIN"?f(ro,{to:Oy}):f(ro,{to:{pathname:Bi,state:{from:i.location}}})});wP.defaultProps={isAuth:!1,role:"USER"};wP.propTypes={isAuth:T.bool,role:T.string,component:T.func.isRequired,rest:T.any};const FRe=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""}),_l=jS(FRe)(wP),bP=({isAuth:t,role:e,component:n,path:r,...i})=>f(Vs,{...i,render:s=>{const{from:o}=s.location.state||{from:{pathname:"/"}};return t&&e==="ADMIN"?f(ro,{to:Oy}):t&&e==="USER"&&(r===Bi||r===Hl)?f(ro,{to:o}):f("main",{className:"content",children:f(n,{...s})})}});bP.defaultProps={isAuth:!1,role:"USER",path:"/"};bP.propTypes={isAuth:T.bool,role:T.string,component:T.func.isRequired,path:T.string,rest:T.any};const MRe=({auth:t})=>({isAuth:!!t,role:(t==null?void 0:t.role)||""}),dg=jS(MRe)(bP),Yf=n$(),$Re=()=>f(dp,{history:Yf,children:O(Cn,{children:[f(vue,{}),f(gue,{}),O(SH,{children:[f(Vs,{component:$j,exact:!0,path:wD}),f(Vs,{component:ARe,exact:!0,path:Ay}),f(Vs,{component:ORe,exact:!0,path:cc}),f(Vs,{component:IRe,exact:!0,path:ES}),f(Vs,{component:RRe,exact:!0,path:Py}),f(dg,{component:Oj,path:Hl}),f(dg,{component:Rj,exact:!0,path:Bi}),f(dg,{component:dRe,path:TS}),f(Vs,{component:NRe,path:Jj}),f(_l,{component:oPe,exact:!0,path:Ry}),f(_l,{component:ePe,exact:!0,path:Yj}),f(_l,{component:pRe,path:dc}),f(_l,{component:SRe,path:CS}),f(_l,{component:vRe,path:ky}),f(_l,{component:ERe,path:IS}),f(cg,{component:uRe,exact:!0,path:Oy}),f(cg,{component:Aj,path:lh}),f(cg,{component:_Pe,path:SS}),f(cg,{component:cRe,path:`${_D}/:id`}),f(dg,{component:Mj})]}),f(mue,{})]})});function*wl(t){const e={success:!1,type:"auth",isError:!0};switch(yield Ve(Go(!1)),t.code){case"auth/network-request-failed":yield Ve(Ui({...e,message:"Network error has occured. Please try again."}));break;case"auth/email-already-in-use":yield Ve(Ui({...e,message:"Email is already in use. Please use another email"}));break;case"auth/wrong-password":yield Ve(Ui({...e,message:"Incorrect email or password"}));break;case"auth/user-not-found":yield Ve(Ui({...e,message:"Incorrect email or password"}));break;case"auth/reset-password-error":yield Ve(Ui({...e,message:"Failed to send password reset email. Did you type your email correctly?"}));break;default:yield Ve(Ui({...e,message:t.message}));break}}function*ja(){yield Ve(Go()),yield Ve(Ui({}))}function*LRe({type:t,payload:e}){switch(t){case KT:try{yield ja(),yield tt(rt.signIn,e.email,e.password)}catch(n){yield wl(n)}break;case XT:try{yield ja(),yield tt(rt.signInWithGoogle)}catch(n){yield wl(n)}break;case JT:try{yield ja(),yield tt(rt.signInWithFacebook)}catch(n){yield wl(n)}break;case W$:try{yield ja(),yield tt(rt.signInWithGithub)}catch(n){yield wl(n)}break;case QT:try{yield ja();const n=yield tt(rt.createAccount,e.email,e.password),i={fullname:e.fullname.split(" ").map(s=>s[0].toUpperCase().concat(s.substring(1))).join(" "),avatar:dx,banner:hx,email:e.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:n.user.metadata.creationTime||new Date().getTime()};yield tt(rt.addUser,n.user.uid,i),yield Ve(pw(i)),yield Ve(Go(!1))}catch(n){yield wl(n)}break;case YT:{try{yield ja(),yield tt(rt.signOut),yield Ve(cL()),yield Ve(fx()),yield Ve(_5()),yield Ve(Ace()),yield Ve(bO()),yield Ve(Go(!1)),yield tt(Yf.push,Bi)}catch(n){console.log(n)}break}case tI:{try{yield ja(),yield tt(rt.passwordReset,e),yield Ve(Ui({success:!0,type:"reset",message:"Password reset email has been sent to your provided email."})),yield Ve(Go(!1))}catch{wl({code:"auth/reset-password-error"})}break}case ZT:{const n=yield tt(rt.getUser,e.uid);if(n.data()){const r=n.data();yield Ve(pw(r)),yield Ve(EO(r.basket)),yield Ve(EO(r.basket)),yield Ve(wO({id:e.uid,role:r.role,provider:e.providerData[0].providerId}))}else if(e.providerData[0].providerId!=="password"&&!n.data()){const r={fullname:e.displayName?e.displayName:"User",avatar:e.photoURL?e.photoURL:dx,banner:hx,email:e.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:e.metadata.creationTime};yield tt(rt.addUser,e.uid,r),yield Ve(pw(r)),yield Ve(wO({id:e.uid,role:r.role,provider:e.providerData[0].providerId}))}yield Ve(Ui({success:!0,type:"auth",isError:!1,message:"Successfully signed in. Redirecting..."})),yield Ve(Go(!1));break}case eI:{yield Ve(fx()),yield Ve(bO());break}case G$:{try{yield tt(rt.setAuthPersistence)}catch(n){console.log(n)}break}default:throw new Error("Unexpected Action Type.")}}function*Qd(){yield Ve(Mr(!0)),yield Ve(Uf(null))}function*Ba(t){yield Ve(Mr(!1)),yield Ve(Uf((t==null?void 0:t.message)||"Failed to fetch products")),console.log("ERROR: ",t)}function*bl(t,e,n){t&&(yield tt(Yf.push,t)),yield tt(bi,e,n)}function*VRe({type:t,payload:e}){switch(t){case zT:try{yield Qd();const n=yield jE(),r=yield tt(rt.getProducts,e);r.products.length===0?Ba("No items found."):(yield Ve(uPe({products:r.products,lastKey:r.lastKey?r.lastKey:n.products.lastRefKey,total:r.total?r.total:n.products.total})),yield Ve(Uf(""))),yield Ve(Mr(!1))}catch(n){console.log(n),yield Ba(n)}break;case HT:{try{yield Qd();const{imageCollection:n}=e,r=yield tt(rt.generateKey),i=yield tt(rt.storeImage,r,"products",e.image),s={id:r,url:i};let o=[];if(n.length!==0){const u=yield ng(n.map(()=>rt.generateKey));o=(yield ng(n.map((c,d)=>rt.storeImage(u[d](),"products",c.file)))).map((c,d)=>({id:u[d](),url:c}))}const a={...e,image:i,imageCollection:[s,...o]};yield tt(rt.addProduct,r,a),yield Ve(hPe({id:r,...a})),yield bl(lh,"Item succesfully added","success"),yield Ve(Mr(!1))}catch(n){yield Ba(n),yield bl(void 0,`Item failed to add: ${n==null?void 0:n.message}`,"error")}break}case GT:{try{yield Qd();const{image:n,imageCollection:r}=e.updates;let i={...e.updates};if(n.constructor===File&&typeof n=="object"){try{yield tt(rt.deleteImage,e.id)}catch(o){console.error("Failed to delete image ",o)}const s=yield tt(rt.storeImage,e.id,"products",n);i={...i,image:s}}if(r.length>1){const s=[],o=[];r.forEach(c=>{c.file?o.push(c):s.push(c)});const a=yield ng(o.map(()=>rt.generateKey)),l=(yield ng(o.map((c,d)=>rt.storeImage(a[d](),"products",c.file)))).map((c,d)=>({id:a[d](),url:c}));i={...i,imageCollection:[...s,...l]}}else i={...i,imageCollection:[{id:new Date().getTime(),url:i.image}]};yield tt(rt.editProduct,e.id,i),yield Ve(gPe({id:e.id,updates:i})),yield bl(lh,"Item succesfully edited","success"),yield Ve(Mr(!1))}catch(n){yield Ba(n),yield bl(void 0,`Item failed to edit: ${n.message}`,"error")}break}case WT:{try{yield Qd(),yield tt(rt.removeProduct,e),yield Ve(pPe(e)),yield Ve(Mr(!1)),yield bl(lh,"Item succesfully removed","success")}catch(n){yield Ba(n),yield bl(void 0,`Item failed to remove: ${n.message}`,"error")}break}case qT:{try{yield Qd(),yield Ve(sD());const n=yield jE(),r=yield tt(rt.searchProducts,e.searchKey);r.products.length===0?(yield Ba({message:"No product found."}),yield Ve(sD())):(yield Ve(dPe({products:r.products,lastKey:r.lastKey?r.lastKey:n.products.searchedProducts.lastRefKey,total:r.total?r.total:n.products.searchedProducts.total})),yield Ve(Uf(""))),yield Ve(Mr(!1))}catch(n){yield Ba(n)}break}default:throw new Error(`Unexpected action type ${t}`)}}function*URe({type:t,payload:e}){switch(t){case K$:{try{yield Ve(Mr(!1)),yield tt(rt.updateEmail,e.password,e.newEmail),yield Ve(Mr(!1)),yield tt(Yf.push,"/profile"),yield tt(bi,"Email Updated Successfully!","success")}catch(n){console.log(n.message)}break}case nI:{try{const n=yield jE(),{email:r,password:i}=e.credentials,{avatarFile:s,bannerFile:o}=e.files;if(yield Ve(Mr(!0)),r&&i&&r!==n.profile.email&&(yield tt(rt.updateEmail,i,r)),s||o){const a=o?yield tt(rt.storeImage,n.auth.id,"banner",o):e.updates.banner,u=s?yield tt(rt.storeImage,n.auth.id,"avatar",s):e.updates.avatar,l={...e.updates,avatar:u,banner:a};yield tt(rt.updateProfile,n.auth.id,l),yield Ve(px(l))}else yield tt(rt.updateProfile,n.auth.id,e.updates),yield Ve(px(e.updates));yield Ve(Mr(!1)),yield tt(Yf.push,Ry),yield tt(bi,"Profile Updated Successfully!","success")}catch(n){console.log(n),yield Ve(Mr(!1)),n.code==="auth/wrong-password"?yield tt(bi,"Wrong password, profile update failed :(","error"):yield tt(bi,`:( Failed to update profile. ${n.message?n.message:""}`,"error")}break}default:throw new Error("Unexpected action type.")}}function*jRe(){yield fw([KT,QT,YT,XT,JT,W$,RG,ZT,eI,G$,tI],LRe),yield fw([HT,qT,WT,GT,zT],VRe),yield fw([K$,nI],URe)}const vD=lce(),BRe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yA,zRe={key:"root",storage:G5,whitelist:["auth","profile","basket","checkout"]},qRe=()=>{const t=vA(jue(zRe,bce),BRe(Eue(vD))),e=Gue(t);return vD.run(jRe),{store:t,persistor:e}};var Lj={exports:{}};(function(t){(function(){function e(I,D,Z){return I.call.apply(I.bind,arguments)}function n(I,D,Z){if(!I)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,re),I.apply(D,ye)}}return function(){return I.apply(D,arguments)}}function r(I,D,Z){return r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:n,r.apply(null,arguments)}var i=Date.now||function(){return+new Date};function s(I,D){this.a=I,this.o=D||I,this.c=this.o.document}var o=!!window.FontFace;function a(I,D,Z,re){if(D=I.c.createElement(D),Z)for(var ye in Z)Z.hasOwnProperty(ye)&&(ye=="style"?D.style.cssText=Z[ye]:D.setAttribute(ye,Z[ye]));return re&&D.appendChild(I.c.createTextNode(re)),D}function u(I,D,Z){I=I.c.getElementsByTagName(D)[0],I||(I=document.documentElement),I.insertBefore(Z,I.lastChild)}function l(I){I.parentNode&&I.parentNode.removeChild(I)}function c(I,D,Z){D=D||[],Z=Z||[];for(var re=I.className.split(/\s+/),ye=0;ye<D.length;ye+=1){for(var Oe=!1,Fe=0;Fe<re.length;Fe+=1)if(D[ye]===re[Fe]){Oe=!0;break}Oe||re.push(D[ye])}for(D=[],ye=0;ye<re.length;ye+=1){for(Oe=!1,Fe=0;Fe<Z.length;Fe+=1)if(re[ye]===Z[Fe]){Oe=!0;break}Oe||D.push(re[ye])}I.className=D.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(I,D){for(var Z=I.className.split(/\s+/),re=0,ye=Z.length;re<ye;re++)if(Z[re]==D)return!0;return!1}function h(I){return I.o.location.hostname||I.a.location.hostname}function p(I,D,Z){function re(){Xe&&ye&&Oe&&(Xe(Fe),Xe=null)}D=a(I,"link",{rel:"stylesheet",href:D,media:"all"});var ye=!1,Oe=!0,Fe=null,Xe=Z||null;o?(D.onload=function(){ye=!0,re()},D.onerror=function(){ye=!0,Fe=Error("Stylesheet failed to load"),re()}):setTimeout(function(){ye=!0,re()},0),u(I,"head",D)}function m(I,D,Z,re){var ye=I.c.getElementsByTagName("head")[0];if(ye){var Oe=a(I,"script",{src:D}),Fe=!1;return Oe.onload=Oe.onreadystatechange=function(){Fe||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Fe=!0,Z&&Z(null),Oe.onload=Oe.onreadystatechange=null,Oe.parentNode.tagName=="HEAD"&&ye.removeChild(Oe))},ye.appendChild(Oe),setTimeout(function(){Fe||(Fe=!0,Z&&Z(Error("Script load timeout")))},re||5e3),Oe}return null}function y(){this.a=0,this.c=null}function g(I){return I.a++,function(){I.a--,_(I)}}function v(I,D){I.c=D,_(I)}function _(I){I.a==0&&I.c&&(I.c(),I.c=null)}function b(I){this.a=I||"-"}b.prototype.c=function(I){for(var D=[],Z=0;Z<arguments.length;Z++)D.push(arguments[Z].replace(/[\W_]+/g,"").toLowerCase());return D.join(this.a)};function w(I,D){this.c=I,this.f=4,this.a="n";var Z=(D||"n4").match(/^([nio])([1-9])$/i);Z&&(this.a=Z[1],this.f=parseInt(Z[2],10))}function E(I){return $(I)+" "+(I.f+"00")+" 300px "+A(I.c)}function A(I){var D=[];I=I.split(/,\s*/);for(var Z=0;Z<I.length;Z++){var re=I[Z].replace(/['"]/g,"");re.indexOf(" ")!=-1||/^\d/.test(re)?D.push("'"+re+"'"):D.push(re)}return D.join(",")}function R(I){return I.a+I.f}function $(I){var D="normal";return I.a==="o"?D="oblique":I.a==="i"&&(D="italic"),D}function Q(I){var D=4,Z="n",re=null;return I&&((re=I.match(/(normal|oblique|italic)/i))&&re[1]&&(Z=re[1].substr(0,1).toLowerCase()),(re=I.match(/([1-9]00|normal|bold)/i))&&re[1]&&(/bold/i.test(re[1])?D=7:/[1-9]00/.test(re[1])&&(D=parseInt(re[1].substr(0,1),10)))),Z+D}function te(I,D){this.c=I,this.f=I.o.document.documentElement,this.h=D,this.a=new b("-"),this.j=D.events!==!1,this.g=D.classes!==!1}function ce(I){I.g&&c(I.f,[I.a.c("wf","loading")]),Ee(I,"loading")}function de(I){if(I.g){var D=d(I.f,I.a.c("wf","active")),Z=[],re=[I.a.c("wf","loading")];D||Z.push(I.a.c("wf","inactive")),c(I.f,Z,re)}Ee(I,"inactive")}function Ee(I,D,Z){I.j&&I.h[D]&&(Z?I.h[D](Z.c,R(Z)):I.h[D]())}function j(){this.c={}}function W(I,D,Z){var re=[],ye;for(ye in D)if(D.hasOwnProperty(ye)){var Oe=I.c[ye];Oe&&re.push(Oe(D[ye],Z))}return re}function ee(I,D){this.c=I,this.f=D,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function F(I){u(I.c,"body",I.a)}function U(I){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+A(I.c)+";"+("font-style:"+$(I)+";font-weight:"+(I.f+"00")+";")}function Y(I,D,Z,re,ye,Oe){this.g=I,this.j=D,this.a=re,this.c=Z,this.f=ye||3e3,this.h=Oe||void 0}Y.prototype.start=function(){var I=this.c.o.document,D=this,Z=i(),re=new Promise(function(Fe,Xe){function ut(){i()-Z>=D.f?Xe():I.fonts.load(E(D.a),D.h).then(function($t){1<=$t.length?Fe():setTimeout(ut,25)},function(){Xe()})}ut()}),ye=null,Oe=new Promise(function(Fe,Xe){ye=setTimeout(Xe,D.f)});Promise.race([Oe,re]).then(function(){ye&&(clearTimeout(ye),ye=null),D.g(D.a)},function(){D.j(D.a)})};function M(I,D,Z,re,ye,Oe,Fe){this.v=I,this.B=D,this.c=Z,this.a=re,this.s=Fe||"BESbswy",this.f={},this.w=ye||3e3,this.u=Oe||null,this.m=this.j=this.h=this.g=null,this.g=new ee(this.c,this.s),this.h=new ee(this.c,this.s),this.j=new ee(this.c,this.s),this.m=new ee(this.c,this.s),I=new w(this.a.c+",serif",R(this.a)),I=U(I),this.g.a.style.cssText=I,I=new w(this.a.c+",sans-serif",R(this.a)),I=U(I),this.h.a.style.cssText=I,I=new w("serif",R(this.a)),I=U(I),this.j.a.style.cssText=I,I=new w("sans-serif",R(this.a)),I=U(I),this.m.a.style.cssText=I,F(this.g),F(this.h),F(this.j),F(this.m)}var V={D:"serif",C:"sans-serif"},N=null;function q(){if(N===null){var I=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!I&&(536>parseInt(I[1],10)||parseInt(I[1],10)===536&&11>=parseInt(I[2],10))}return N}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=i(),S(this)};function B(I,D,Z){for(var re in V)if(V.hasOwnProperty(re)&&D===I.f[V[re]]&&Z===I.f[V[re]])return!0;return!1}function S(I){var D=I.g.a.offsetWidth,Z=I.h.a.offsetWidth,re;(re=D===I.f.serif&&Z===I.f["sans-serif"])||(re=q()&&B(I,D,Z)),re?i()-I.A>=I.w?q()&&B(I,D,Z)&&(I.u===null||I.u.hasOwnProperty(I.a.c))?le(I,I.v):le(I,I.B):x(I):le(I,I.v)}function x(I){setTimeout(r(function(){S(this)},I),50)}function le(I,D){setTimeout(r(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),D(this.a)},I),0)}function X(I,D,Z){this.c=I,this.a=D,this.f=0,this.m=this.j=!1,this.s=Z}var xe=null;X.prototype.g=function(I){var D=this.a;D.g&&c(D.f,[D.a.c("wf",I.c,R(I).toString(),"active")],[D.a.c("wf",I.c,R(I).toString(),"loading"),D.a.c("wf",I.c,R(I).toString(),"inactive")]),Ee(D,"fontactive",I),this.m=!0,Re(this)},X.prototype.h=function(I){var D=this.a;if(D.g){var Z=d(D.f,D.a.c("wf",I.c,R(I).toString(),"active")),re=[],ye=[D.a.c("wf",I.c,R(I).toString(),"loading")];Z||re.push(D.a.c("wf",I.c,R(I).toString(),"inactive")),c(D.f,re,ye)}Ee(D,"fontinactive",I),Re(this)};function Re(I){--I.f==0&&I.j&&(I.m?(I=I.a,I.g&&c(I.f,[I.a.c("wf","active")],[I.a.c("wf","loading"),I.a.c("wf","inactive")]),Ee(I,"active")):de(I.a))}function Me(I){this.j=I,this.a=new j,this.h=0,this.f=this.g=!0}Me.prototype.load=function(I){this.c=new s(this.j,I.context||this.j),this.g=I.events!==!1,this.f=I.classes!==!1,We(this,new te(this.c,I),I)};function Te(I,D,Z,re,ye){var Oe=--I.h==0;(I.f||I.g)&&setTimeout(function(){var Fe=ye||null,Xe=re||null||{};if(Z.length===0&&Oe)de(D.a);else{D.f+=Z.length,Oe&&(D.j=Oe);var ut,$t=[];for(ut=0;ut<Z.length;ut++){var Pt=Z[ut],_n=Xe[Pt.c],Jn=D.a,Gr=Pt;if(Jn.g&&c(Jn.f,[Jn.a.c("wf",Gr.c,R(Gr).toString(),"loading")]),Ee(Jn,"fontloading",Gr),Jn=null,xe===null)if(window.FontFace){var Gr=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),rs=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);xe=Gr?42<parseInt(Gr[1],10):!rs}else xe=!1;xe?Jn=new Y(r(D.g,D),r(D.h,D),D.c,Pt,D.s,_n):Jn=new M(r(D.g,D),r(D.h,D),D.c,Pt,D.s,Fe,_n),$t.push(Jn)}for(ut=0;ut<$t.length;ut++)$t[ut].start()}},0)}function We(I,D,Z){var ye=[],re=Z.timeout;ce(D);var ye=W(I.a,Z,I.c),Oe=new X(I.c,D,re);for(I.h=ye.length,D=0,Z=ye.length;D<Z;D++)ye[D].load(function(Fe,Xe,ut){Te(I,Oe,Fe,Xe,ut)})}function Be(I,D){this.c=I,this.a=D}Be.prototype.load=function(I){function D(){if(Oe["__mti_fntLst"+re]){var Fe=Oe["__mti_fntLst"+re](),Xe=[],ut;if(Fe)for(var $t=0;$t<Fe.length;$t++){var Pt=Fe[$t].fontfamily;Fe[$t].fontStyle!=null&&Fe[$t].fontWeight!=null?(ut=Fe[$t].fontStyle+Fe[$t].fontWeight,Xe.push(new w(Pt,ut))):Xe.push(new w(Pt))}I(Xe)}else setTimeout(function(){D()},50)}var Z=this,re=Z.a.projectId,ye=Z.a.version;if(re){var Oe=Z.c.o;m(this.c,(Z.a.api||"https://fast.fonts.net/jsapi")+"/"+re+".js"+(ye?"?v="+ye:""),function(Fe){Fe?I([]):(Oe["__MonotypeConfiguration__"+re]=function(){return Z.a},D())}).id="__MonotypeAPIScript__"+re}else I([])};function L(I,D){this.c=I,this.a=D}L.prototype.load=function(I){var D,Z,re=this.a.urls||[],ye=this.a.families||[],Oe=this.a.testStrings||{},Fe=new y;for(D=0,Z=re.length;D<Z;D++)p(this.c,re[D],g(Fe));var Xe=[];for(D=0,Z=ye.length;D<Z;D++)if(re=ye[D].split(":"),re[1])for(var ut=re[1].split(","),$t=0;$t<ut.length;$t+=1)Xe.push(new w(re[0],ut[$t]));else Xe.push(new w(re[0]));v(Fe,function(){I(Xe,Oe)})};function ne(I,D){I?this.c=I:this.c=oe,this.a=[],this.f=[],this.g=D||""}var oe="https://fonts.googleapis.com/css";function Ie(I,D){for(var Z=D.length,re=0;re<Z;re++){var ye=D[re].split(":");ye.length==3&&I.f.push(ye.pop());var Oe="";ye.length==2&&ye[1]!=""&&(Oe=":"),I.a.push(ye.join(Oe))}}function Ae(I){if(I.a.length==0)throw Error("No fonts to load!");if(I.c.indexOf("kit=")!=-1)return I.c;for(var D=I.a.length,Z=[],re=0;re<D;re++)Z.push(I.a[re].replace(/ /g,"+"));return D=I.c+"?family="+Z.join("%7C"),0<I.f.length&&(D+="&subset="+I.f.join(",")),0<I.g.length&&(D+="&text="+encodeURIComponent(I.g)),D}function k(I){this.f=I,this.a=[],this.c={}}var ie={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},he={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},K=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function pe(I){for(var D=I.f.length,Z=0;Z<D;Z++){var re=I.f[Z].split(":"),ye=re[0].replace(/\+/g," "),Oe=["n4"];if(2<=re.length){var Fe,Xe=re[1];if(Fe=[],Xe)for(var Xe=Xe.split(","),ut=Xe.length,$t=0;$t<ut;$t++){var Pt;if(Pt=Xe[$t],Pt.match(/^[\w-]+$/)){var _n=K.exec(Pt.toLowerCase());if(_n==null)Pt="";else{if(Pt=_n[2],Pt=Pt==null||Pt==""?"n":J[Pt],_n=_n[1],_n==null||_n=="")_n="4";else var Jn=he[_n],_n=Jn||(isNaN(_n)?"4":_n.substr(0,1));Pt=[Pt,_n].join("")}}else Pt="";Pt&&Fe.push(Pt)}0<Fe.length&&(Oe=Fe),re.length==3&&(re=re[2],Fe=[],re=re?re.split(","):Fe,0<re.length&&(re=ie[re[0]])&&(I.c[ye]=re))}for(I.c[ye]||(re=ie[ye])&&(I.c[ye]=re),re=0;re<Oe.length;re+=1)I.a.push(new w(ye,Oe[re]))}}function ve(I,D){this.c=I,this.a=D}var Se={Arimo:!0,Cousine:!0,Tinos:!0};ve.prototype.load=function(I){var D=new y,Z=this.c,re=new ne(this.a.api,this.a.text),ye=this.a.families;Ie(re,ye);var Oe=new k(ye);pe(Oe),p(Z,Ae(re),g(D)),v(D,function(){I(Oe.a,Oe.c,Se)})};function Ye(I,D){this.c=I,this.a=D}Ye.prototype.load=function(I){var D=this.a.id,Z=this.c.o;D?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+D+".js",function(re){if(re)I([]);else if(Z.Typekit&&Z.Typekit.config&&Z.Typekit.config.fn){re=Z.Typekit.config.fn;for(var ye=[],Oe=0;Oe<re.length;Oe+=2)for(var Fe=re[Oe],Xe=re[Oe+1],ut=0;ut<Xe.length;ut++)ye.push(new w(Fe,Xe[ut]));try{Z.Typekit.load({events:!1,classes:!1,async:!0})}catch{}I(ye)}},2e3):I([])};function un(I,D){this.c=I,this.f=D,this.a=[]}un.prototype.load=function(I){var D=this.f.id,Z=this.c.o,re=this;D?(Z.__webfontfontdeckmodule__||(Z.__webfontfontdeckmodule__={}),Z.__webfontfontdeckmodule__[D]=function(ye,Oe){for(var Fe=0,Xe=Oe.fonts.length;Fe<Xe;++Fe){var ut=Oe.fonts[Fe];re.a.push(new w(ut.name,Q("font-weight:"+ut.weight+";font-style:"+ut.style)))}I(re.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+D+".js",function(ye){ye&&I([])})):I([])};var _t=new Me(window);_t.a.c.custom=function(I,D){return new L(D,I)},_t.a.c.fontdeck=function(I,D){return new un(D,I)},_t.a.c.monotype=function(I,D){return new Be(D,I)},_t.a.c.typekit=function(I,D){return new Ye(D,I)},_t.a.c.google=function(I,D){return new ve(D,I)};var Xn={load:r(_t.load,_t)};t.exports?t.exports=Xn:(window.WebFont=Xn,window.WebFontConfig&&_t.load(window.WebFontConfig))})()})(Lj);var HRe=Lj.exports;const WRe=Pn(HRe);function Jg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jg=function(n){return typeof n}:Jg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jg(t)}function GRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KRe(t,e,n){return e&&yD(t.prototype,e),n&&yD(t,n),t}function QRe(t,e){return e&&(Jg(e)==="object"||typeof e=="function")?e:Zg(t)}function wS(t){return wS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(t)}function Zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bS(t,e)}function ev(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vj=function(t){YRe(e,t);function e(){var n,r;GRe(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=QRe(this,(n=wS(e)).call.apply(n,[this].concat(s))),ev(Zg(r),"state",{bootstrapped:!1}),ev(Zg(r),"_unsubscribe",void 0),ev(Zg(r),"handlePersistorState",function(){var a=r.props.persistor,u=a.getState(),l=u.bootstrapped;l&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return KRe(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(C.PureComponent);ev(Vj,"defaultProps",{children:null,loading:null});const Uj=({store:t,persistor:e})=>f(C.StrictMode,{children:f(RB,{store:t,children:f(Vj,{loading:f(U5,{}),persistor:e,children:f($Re,{})})})});Uj.propTypes={store:T.any.isRequired,persistor:T.any.isRequired};WRe.load({google:{families:["Tajawal"]}});const{store:Nw,persistor:XRe}=qRe(),jj=document.getElementById("app");zc.render(f(U5,{}),jj);rt.auth.onAuthStateChanged(t=>{t?Nw.dispatch(zG(t)):Nw.dispatch(qG("Failed to authenticate")),zc.render(f(Uj,{store:Nw,persistor:XRe}),jj)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Yj as A,xi as I,T as P,O as a,KG as d,f as j,On as u,Sa as w};
